<!DOCTYPE html>
<html><head><title>Zsqrt_compat.v</title><meta charset="utf-8"><meta content="Alectryon v0.2" name="generator"><link href="alectryon.css" rel="stylesheet"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/IBM-type/0.5.4/css/ibm-type.min.css" integrity="sha512-sky5cf9Ts6FY1kstGOBHSybfKqdHR41M0Ldb0BjNiv3ifltoQIsg0zIaQ+wwdwgQ0w9vKFW7Js50lxH9vqNSSw==" crossorigin="anonymous" /><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/firacode/5.2.0/fira_code.min.css" integrity="sha512-MbysAYimH1hH2xYzkkMHB6MqxBqfP0megxsCLknbYqHVwXTCg9IqHbk+ZP/vnhO8UEW6PaXAkKe2vQ+SWACxxA==" crossorigin="anonymous" /><script src="alectryon.js"></script><style type="text/css">.highlight .hll { background-color: #ffffcc }
.highlight .c { color: #555753; font-style: italic } /* Comment */
.highlight .err { color: #a40000; border: 1px solid #cc0000 } /* Error */
.highlight .g { color: #000000 } /* Generic */
.highlight .k { color: #8f5902 } /* Keyword */
.highlight .l { color: #2e3436 } /* Literal */
.highlight .n { color: #000000 } /* Name */
.highlight .o { color: #000000 } /* Operator */
.highlight .x { color: #2e3436 } /* Other */
.highlight .p { color: #000000 } /* Punctuation */
.highlight .ch { color: #555753; font-weight: bold; font-style: italic } /* Comment.Hashbang */
.highlight .cm { color: #555753; font-style: italic } /* Comment.Multiline */
.highlight .cp { color: #3465a4; font-style: italic } /* Comment.Preproc */
.highlight .cpf { color: #555753; font-style: italic } /* Comment.PreprocFile */
.highlight .c1 { color: #555753; font-style: italic } /* Comment.Single */
.highlight .cs { color: #3465a4; font-weight: bold; font-style: italic } /* Comment.Special */
.highlight .gd { color: #a40000 } /* Generic.Deleted */
.highlight .ge { color: #000000; font-style: italic } /* Generic.Emph */
.highlight .gr { color: #a40000 } /* Generic.Error */
.highlight .gh { color: #a40000; font-weight: bold } /* Generic.Heading */
.highlight .gi { color: #4e9a06 } /* Generic.Inserted */
.highlight .go { color: #000000; font-style: italic } /* Generic.Output */
.highlight .gp { color: #8f5902 } /* Generic.Prompt */
.highlight .gs { color: #000000; font-weight: bold } /* Generic.Strong */
.highlight .gu { color: #000000; font-weight: bold } /* Generic.Subheading */
.highlight .gt { color: #000000; font-style: italic } /* Generic.Traceback */
.highlight .kc { color: #204a87; font-weight: bold } /* Keyword.Constant */
.highlight .kd { color: #4e9a06; font-weight: bold } /* Keyword.Declaration */
.highlight .kn { color: #4e9a06; font-weight: bold } /* Keyword.Namespace */
.highlight .kp { color: #204a87 } /* Keyword.Pseudo */
.highlight .kr { color: #8f5902 } /* Keyword.Reserved */
.highlight .kt { color: #204a87 } /* Keyword.Type */
.highlight .ld { color: #2e3436 } /* Literal.Date */
.highlight .m { color: #2e3436 } /* Literal.Number */
.highlight .s { color: #ad7fa8 } /* Literal.String */
.highlight .na { color: #c4a000 } /* Name.Attribute */
.highlight .nb { color: #75507b } /* Name.Builtin */
.highlight .nc { color: #204a87 } /* Name.Class */
.highlight .no { color: #ce5c00 } /* Name.Constant */
.highlight .nd { color: #3465a4; font-weight: bold } /* Name.Decorator */
.highlight .ni { color: #c4a000; text-decoration: underline } /* Name.Entity */
.highlight .ne { color: #cc0000 } /* Name.Exception */
.highlight .nf { color: #a40000 } /* Name.Function */
.highlight .nl { color: #3465a4; font-weight: bold } /* Name.Label */
.highlight .nn { color: #000000 } /* Name.Namespace */
.highlight .nx { color: #000000 } /* Name.Other */
.highlight .py { color: #000000 } /* Name.Property */
.highlight .nt { color: #a40000 } /* Name.Tag */
.highlight .nv { color: #ce5c00 } /* Name.Variable */
.highlight .ow { color: #8f5902 } /* Operator.Word */
.highlight .w { color: #d3d7cf; text-decoration: underline } /* Text.Whitespace */
.highlight .mb { color: #2e3436 } /* Literal.Number.Bin */
.highlight .mf { color: #2e3436 } /* Literal.Number.Float */
.highlight .mh { color: #2e3436 } /* Literal.Number.Hex */
.highlight .mi { color: #2e3436 } /* Literal.Number.Integer */
.highlight .mo { color: #2e3436 } /* Literal.Number.Oct */
.highlight .sa { color: #ad7fa8 } /* Literal.String.Affix */
.highlight .sb { color: #ad7fa8 } /* Literal.String.Backtick */
.highlight .sc { color: #ad7fa8; font-weight: bold } /* Literal.String.Char */
.highlight .dl { color: #ad7fa8 } /* Literal.String.Delimiter */
.highlight .sd { color: #ad7fa8 } /* Literal.String.Doc */
.highlight .s2 { color: #ad7fa8 } /* Literal.String.Double */
.highlight .se { color: #ad7fa8; font-weight: bold } /* Literal.String.Escape */
.highlight .sh { color: #ad7fa8; text-decoration: underline } /* Literal.String.Heredoc */
.highlight .si { color: #ce5c00 } /* Literal.String.Interpol */
.highlight .sx { color: #ad7fa8 } /* Literal.String.Other */
.highlight .sr { color: #ad7fa8 } /* Literal.String.Regex */
.highlight .s1 { color: #ad7fa8 } /* Literal.String.Single */
.highlight .ss { color: #8f5902 } /* Literal.String.Symbol */
.highlight .bp { color: #5c35cc } /* Name.Builtin.Pseudo */
.highlight .fm { color: #a40000 } /* Name.Function.Magic */
.highlight .vc { color: #ce5c00 } /* Name.Variable.Class */
.highlight .vg { color: #ce5c00; text-decoration: underline } /* Name.Variable.Global */
.highlight .vi { color: #ce5c00 } /* Name.Variable.Instance */
.highlight .vm { color: #ce5c00 } /* Name.Variable.Magic */
.highlight .il { color: #2e3436 } /* Literal.Number.Integer.Long */</style></head><body><article class="alectryon-root alectryon-standalone alectryon-centered alectryon-coqdoc"><div class="alectryon-header">Built with <a href="https://github.com/cpitclaudel/alectryon/">Alectryon</a>, running <a href="https://coq.inria.fr/">Coq</a>+<a href="https://github.com/ejgallego/coq-serapi">SerAPI</a> v8.10.0+0.7.0. Coq sources are in this panel; goals and messages will appear in the other. Bubbles (<span class="alectryon-bubble"></span>) indicate interactive fragments: hover for details, tap to reveal contents. Use <kbd>Ctrl+‚Üë</kbd> <kbd>Ctrl+‚Üì</kbd> to navigate, <kbd>Ctrl+üñ±Ô∏è</kbd> to focus.</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-wsp"><span class="highlight"><span class="sd">(************************************************************************)</span>
<span class="c">(*         *   The Coq Proof Assistant / The Coq Development Team       *)</span>
<span class="c">(*  v      *   INRIA, CNRS and contributors - Copyright 1999-2018       *)</span>
<span class="c">(* &lt;O___,, *       (see CREDITS file for the list of authors)           *)</span>
<span class="c">(*   \VV/  **************************************************************)</span>
<span class="c">(*    //   *    This file is distributed under the terms of the         *)</span>
<span class="c">(*         *     GNU Lesser General Public License Version 2.1          *)</span>
<span class="c">(*         *     (see LICENSE file for the text of the license)         *)</span>
<span class="sd">(************************************************************************)</span>

</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Require Import</span> ZArithRing.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Require Import</span> Omega.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Require Export</span> ZArith_base.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Local Open Scope</span> Z_scope.</span></span></span></pre><div class="doc">
 THIS FILE IS DEPRECATED

<div class="paragraph"> </div>

    Instead of the various <span class="inlinecode"><span class="id" title="var">Zsqrt</span></span> defined here, please use rather
    <span class="inlinecode"><span class="id" title="var">Z.sqrt</span></span> (or <span class="inlinecode"><span class="id" title="var">Z.sqrtrem</span></span>). The latter are pure functions without
    proof parts, and more results are available about them.
    Some equivalence proofs between the old and the new versions
    can be found below. Importing ZArith will provides by default
    the new versions.

<div class="paragraph"> </div>
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-wsp"><span class="highlight"><span class="sd">(**********************************************************************)</span></span></span></pre><div class="doc">
Definition and properties of square root on Z 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --></pre><div class="doc">
The following tactic replaces all instances of (POS (xI ...)) by
    `2*(POS ...)+1`, but only when ... is not made only with xO, XI, or xH. 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Ltac</span> <span class="nf">compute_POS</span> :=
  <span class="kr">match goal with</span>
    |  |- <span class="kp">context</span> [(Zpos (xI <span class="nl">?X1</span>))] =&gt;
      <span class="kr">match</span> <span class="kp">constr</span>:(X1) <span class="kr">with</span>
	| <span class="kp">context</span> [<span class="mi">1</span>%positive] =&gt; <span class="kp">fail</span> <span class="mi">1</span>
	| _ =&gt; <span class="nb">rewrite</span> (Pos2Z.inj_xI X1)
      <span class="kr">end</span>
    |  |- <span class="kp">context</span> [(Zpos (xO <span class="nl">?X1</span>))] =&gt;
      <span class="kr">match</span> <span class="kp">constr</span>:(X1) <span class="kr">with</span>
	| <span class="kp">context</span> [<span class="mi">1</span>%positive] =&gt; <span class="kp">fail</span> <span class="mi">1</span>
	| _ =&gt; <span class="nb">rewrite</span> (Pos2Z.inj_xO X1)
      <span class="kr">end</span>
  <span class="kr">end</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Inductive</span> <span class="nf">sqrt_data</span> (<span class="nv">n</span>:Z) : <span class="kt">Set</span> :=
  c_sqrt : <span class="kr">forall</span> <span class="nv">s</span> <span class="nv">r</span>:Z, n = s * s + r -&gt; <span class="mi">0</span> &lt;= r &lt;= <span class="mi">2</span> * s -&gt; sqrt_data n.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="Zsqrt-compat-v-chk0" style="display: none" type="checkbox"><label class="coq-input" for="Zsqrt-compat-v-chk0"><span class="highlight"><span class="kn">Definition</span> <span class="nf">sqrtrempos</span> : <span class="kr">forall</span> <span class="nv">p</span>:positive, sqrt_data (Zpos p).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">p</span> : positive, sqrt_data (Z.pos p)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">refine</span>
    (<span class="kr">fix</span> sqrtrempos (p:positive) : sqrt_data (Zpos p) :=
      <span class="kr">match</span> p <span class="kr">return</span> sqrt_data (Zpos p) <span class="kr">with</span>
	| xH =&gt; c_sqrt <span class="mi">1</span> <span class="mi">1</span> <span class="mi">0</span> _ _
	| xO xH =&gt; c_sqrt <span class="mi">2</span> <span class="mi">1</span> <span class="mi">1</span> _ _
	| xI xH =&gt; c_sqrt <span class="mi">3</span> <span class="mi">1</span> <span class="mi">2</span> _ _
	| xO (xO p&#39;) =&gt;
          <span class="kr">match</span> sqrtrempos p&#39; <span class="kr">with</span>
            | c_sqrt _ s&#39; r&#39; Heq <span class="kn">Hint</span> =&gt;
              <span class="kr">match</span> Z_le_gt_dec (<span class="mi">4</span> * s&#39; + <span class="mi">1</span>) (<span class="mi">4</span> * r&#39;) <span class="kr">with</span>
		| <span class="nb">left</span> Hle =&gt;
                  c_sqrt (Zpos (xO (xO p&#39;))) (<span class="mi">2</span> * s&#39; + <span class="mi">1</span>)
                  (<span class="mi">4</span> * r&#39; - (<span class="mi">4</span> * s&#39; + <span class="mi">1</span>)) _ _
		| <span class="nb">right</span> Hgt =&gt; c_sqrt (Zpos (xO (xO p&#39;))) (<span class="mi">2</span> * s&#39;) (<span class="mi">4</span> * r&#39;) _ _
              <span class="kr">end</span>
          <span class="kr">end</span>
	| xO (xI p&#39;) =&gt;
          <span class="kr">match</span> sqrtrempos p&#39; <span class="kr">with</span>
            | c_sqrt _ s&#39; r&#39; Heq <span class="kn">Hint</span> =&gt;
              <span class="kr">match</span> Z_le_gt_dec (<span class="mi">4</span> * s&#39; + <span class="mi">1</span>) (<span class="mi">4</span> * r&#39; + <span class="mi">2</span>) <span class="kr">with</span>
		| <span class="nb">left</span> Hle =&gt;
                  c_sqrt (Zpos (xO (xI p&#39;))) (<span class="mi">2</span> * s&#39; + <span class="mi">1</span>)
                  (<span class="mi">4</span> * r&#39; + <span class="mi">2</span> - (<span class="mi">4</span> * s&#39; + <span class="mi">1</span>)) _ _
		| <span class="nb">right</span> Hgt =&gt;
                  c_sqrt (Zpos (xO (xI p&#39;))) (<span class="mi">2</span> * s&#39;) (<span class="mi">4</span> * r&#39; + <span class="mi">2</span>) _ _
              <span class="kr">end</span>
          <span class="kr">end</span>
	| xI (xO p&#39;) =&gt;
          <span class="kr">match</span> sqrtrempos p&#39; <span class="kr">with</span>
            | c_sqrt _ s&#39; r&#39; Heq <span class="kn">Hint</span> =&gt;
              <span class="kr">match</span> Z_le_gt_dec (<span class="mi">4</span> * s&#39; + <span class="mi">1</span>) (<span class="mi">4</span> * r&#39; + <span class="mi">1</span>) <span class="kr">with</span>
		| <span class="nb">left</span> Hle =&gt;
                  c_sqrt (Zpos (xI (xO p&#39;))) (<span class="mi">2</span> * s&#39; + <span class="mi">1</span>)
                  (<span class="mi">4</span> * r&#39; + <span class="mi">1</span> - (<span class="mi">4</span> * s&#39; + <span class="mi">1</span>)) _ _
		| <span class="nb">right</span> Hgt =&gt;
                  c_sqrt (Zpos (xI (xO p&#39;))) (<span class="mi">2</span> * s&#39;) (<span class="mi">4</span> * r&#39; + <span class="mi">1</span>) _ _
              <span class="kr">end</span>
          <span class="kr">end</span>
	| xI (xI p&#39;) =&gt;
          <span class="kr">match</span> sqrtrempos p&#39; <span class="kr">with</span>
            | c_sqrt _ s&#39; r&#39; Heq <span class="kn">Hint</span> =&gt;
              <span class="kr">match</span> Z_le_gt_dec (<span class="mi">4</span> * s&#39; + <span class="mi">1</span>) (<span class="mi">4</span> * r&#39; + <span class="mi">3</span>) <span class="kr">with</span>
		| <span class="nb">left</span> Hle =&gt;
                  c_sqrt (Zpos (xI (xI p&#39;))) (<span class="mi">2</span> * s&#39; + <span class="mi">1</span>)
                  (<span class="mi">4</span> * r&#39; + <span class="mi">3</span> - (<span class="mi">4</span> * s&#39; + <span class="mi">1</span>)) _ _
            | <span class="nb">right</span> Hgt =&gt;
                c_sqrt (Zpos (xI (xI p&#39;))) (<span class="mi">2</span> * s&#39;) (<span class="mi">4</span> * r&#39; + <span class="mi">3</span>) _ _
            <span class="kr">end</span>
        <span class="kr">end</span>
    <span class="kr">end</span>); <span class="nb">clear</span> sqrtrempos; <span class="kp">repeat</span> compute_POS;
 <span class="kp">try</span> (<span class="kp">try</span> <span class="nb">rewrite</span> Heq; <span class="bp">ring</span>); <span class="kp">try</span> <span class="bp">omega</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Defined</span>.</span></span></span></pre><div class="doc">
Define with integer input, but with a strong (readable) specification. 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><input class="coq-toggle" id="Zsqrt-compat-v-chk1" style="display: none" type="checkbox"><label class="coq-input" for="Zsqrt-compat-v-chk1"><span class="highlight"><span class="kn">Definition</span> <span class="nf">Zsqrt</span> :
  <span class="kr">forall</span> <span class="nv">x</span>:Z,
    <span class="mi">0</span> &lt;= x -&gt;
    {s : Z &amp;  {r : Z | x = s * s + r /\ s * s &lt;= x &lt; (s + <span class="mi">1</span>) * (s + <span class="mi">1</span>)}}.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : Z,
<span class="mi">0</span> &lt;= x -&gt;
{s : Z &amp;
{r : Z |
x = s * s + r /\ s * s &lt;= x &lt; (s + <span class="mi">1</span>) * (s + <span class="mi">1</span>)}}</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="Zsqrt-compat-v-chk2" style="display: none" type="checkbox"><label class="coq-input" for="Zsqrt-compat-v-chk2"><span class="highlight"><span class="nb">refine</span>
    (<span class="kr">fun</span> <span class="nv">x</span> =&gt;
      <span class="kr">match</span>
	x
	<span class="kr">return</span>
        <span class="mi">0</span> &lt;= x -&gt;
        {s : Z &amp;  {r : Z | x = s * s + r /\ s * s &lt;= x &lt; (s + <span class="mi">1</span>) * (s + <span class="mi">1</span>)}}
	<span class="kr">with</span>
	| Zpos p =&gt;
          <span class="kr">fun</span> <span class="nv">h</span> =&gt;
            <span class="kr">match</span> sqrtrempos p <span class="kr">with</span>
              | c_sqrt _ s r Heq <span class="kn">Hint</span> =&gt;
		existT
                (<span class="kr">fun</span> <span class="nv">s</span>:Z =&gt;
                  {r : Z |
                    Zpos p = s * s + r /\ s * s &lt;= Zpos p &lt; (s + <span class="mi">1</span>) * (s + <span class="mi">1</span>)})
                s
                (exist
                  (<span class="kr">fun</span> <span class="nv">r</span>:Z =&gt;
                    Zpos p = s * s + r /\
                    s * s &lt;= Zpos p &lt; (s + <span class="mi">1</span>) * (s + <span class="mi">1</span>)) r _)
            <span class="kr">end</span>
	| Zneg p =&gt;
          <span class="kr">fun</span> <span class="nv">h</span> =&gt;
            False_rec
            {s : Z &amp;
              {r : Z |
		Zneg p = s * s + r /\ s * s &lt;= Zneg p &lt; (s + <span class="mi">1</span>) * (s + <span class="mi">1</span>)}}
            (h (eq_refl Datatypes.Gt))
	| Z0 =&gt;
          <span class="kr">fun</span> <span class="nv">h</span> =&gt;
            existT
            (<span class="kr">fun</span> <span class="nv">s</span>:Z =&gt;
              {r : Z | <span class="mi">0</span> = s * s + r /\ s * s &lt;= <span class="mi">0</span> &lt; (s + <span class="mi">1</span>) * (s + <span class="mi">1</span>)}) <span class="mi">0</span>
            (exist
               (<span class="kr">fun</span> <span class="nv">r</span>:Z =&gt; <span class="mi">0</span> = <span class="mi">0</span> * <span class="mi">0</span> + r /\ <span class="mi">0</span> * <span class="mi">0</span> &lt;= <span class="mi">0</span> &lt; (<span class="mi">0</span> + <span class="mi">1</span>) * (<span class="mi">0</span> + <span class="mi">1</span>)) <span class="mi">0</span>
               _)
    <span class="kr">end</span>); <span class="kp">try</span> <span class="bp">omega</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Z</span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">positive</span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= Z.pos p</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s, r</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Z</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Z.pos p = s * s + r</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hint</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= r &lt;= <span class="mi">2</span> * s</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Z.pos p = s * s + r /\
s * s &lt;= Z.pos p &lt; (s + <span class="mi">1</span>) * (s + <span class="mi">1</span>)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">split</span>; [ <span class="bp">omega</span> | <span class="nb">rewrite</span> Heq; <span class="nb">ring_simplify</span> (s*s) ((s + <span class="mi">1</span>) * (s + <span class="mi">1</span>)); <span class="bp">omega</span> ].</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Defined</span>.</span></span></span></pre><div class="doc">
Define a function of type Z-&gt;Z that computes the integer square root,
    but only for positive numbers, and 0 for others. 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">Zsqrt_plain</span> (<span class="nv">x</span>:Z) : Z :=
  <span class="kr">match</span> x <span class="kr">with</span>
    | Zpos p =&gt;
      <span class="kr">match</span> Zsqrt (Zpos p) (Pos2Z.is_nonneg p) <span class="kr">with</span>
	| existT _ s _ =&gt; s
      <span class="kr">end</span>
    | Zneg p =&gt; <span class="mi">0</span>
    | Z0 =&gt; <span class="mi">0</span>
  <span class="kr">end</span>.</span></span></span></pre><div class="doc">
A basic theorem about Zsqrt_plain 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><input class="coq-toggle" id="Zsqrt-compat-v-chk3" style="display: none" type="checkbox"><label class="coq-input" for="Zsqrt-compat-v-chk3"><span class="highlight"><span class="kn">Theorem</span> <span class="nf">Zsqrt_interval</span> :
  <span class="kr">forall</span> <span class="nv">n</span>:Z,
    <span class="mi">0</span> &lt;= n -&gt;
    Zsqrt_plain n * Zsqrt_plain n &lt;= n &lt;
    (Zsqrt_plain n + <span class="mi">1</span>) * (Zsqrt_plain n + <span class="mi">1</span>).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">n</span> : Z,
<span class="mi">0</span> &lt;= n -&gt;
Zsqrt_plain n * Zsqrt_plain n &lt;= n &lt;
(Zsqrt_plain n + <span class="mi">1</span>) * (Zsqrt_plain n + <span class="mi">1</span>)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="Zsqrt-compat-v-chk4" style="display: none" type="checkbox"><label class="coq-input" for="Zsqrt-compat-v-chk4"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">n</span> : Z,
<span class="mi">0</span> &lt;= n -&gt;
Zsqrt_plain n * Zsqrt_plain n &lt;= n &lt;
(Zsqrt_plain n + <span class="mi">1</span>) * (Zsqrt_plain n + <span class="mi">1</span>)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="Zsqrt-compat-v-chk5" style="display: none" type="checkbox"><label class="coq-input" for="Zsqrt-compat-v-chk5"><span class="highlight"><span class="nb">intros</span> [|p|p] Hp.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Hp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= <span class="mi">0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Zsqrt_plain <span class="mi">0</span> * Zsqrt_plain <span class="mi">0</span> &lt;= <span class="mi">0</span> &lt;
(Zsqrt_plain <span class="mi">0</span> + <span class="mi">1</span>) * (Zsqrt_plain <span class="mi">0</span> + <span class="mi">1</span>)</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="Zsqrt-compat-v-chk6" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">positive</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= Z.pos p</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="Zsqrt-compat-v-chk6"><hr></label><div class="goal-conclusion"><span class="highlight">Zsqrt_plain (Z.pos p) * Zsqrt_plain (Z.pos p) &lt;=
Z.pos p &lt;
(Zsqrt_plain (Z.pos p) + <span class="mi">1</span>) *
(Zsqrt_plain (Z.pos p) + <span class="mi">1</span>)</span></div></blockquote><input class="coq-extra-goal-toggle" id="Zsqrt-compat-v-chk7" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">positive</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= Z.neg p</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="Zsqrt-compat-v-chk7"><hr></label><div class="goal-conclusion"><span class="highlight">Zsqrt_plain (Z.neg p) * Zsqrt_plain (Z.neg p) &lt;=
Z.neg p &lt;
(Zsqrt_plain (Z.neg p) + <span class="mi">1</span>) *
(Zsqrt_plain (Z.neg p) + <span class="mi">1</span>)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="Zsqrt-compat-v-chk8" style="display: none" type="checkbox"><label class="coq-input" for="Zsqrt-compat-v-chk8"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Hp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= <span class="mi">0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Zsqrt_plain <span class="mi">0</span> * Zsqrt_plain <span class="mi">0</span> &lt;= <span class="mi">0</span> &lt;
(Zsqrt_plain <span class="mi">0</span> + <span class="mi">1</span>) * (Zsqrt_plain <span class="mi">0</span> + <span class="mi">1</span>)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">now</span> <span class="nb">compute</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="Zsqrt-compat-v-chk9" style="display: none" type="checkbox"><label class="coq-input" for="Zsqrt-compat-v-chk9"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">positive</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= Z.pos p</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Zsqrt_plain (Z.pos p) * Zsqrt_plain (Z.pos p) &lt;=
Z.pos p &lt;
(Zsqrt_plain (Z.pos p) + <span class="mi">1</span>) *
(Zsqrt_plain (Z.pos p) + <span class="mi">1</span>)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="Zsqrt-compat-v-chka" style="display: none" type="checkbox"><label class="coq-input" for="Zsqrt-compat-v-chka"><span class="highlight"><span class="nb">unfold</span> Zsqrt_plain.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">positive</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= Z.pos p</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="kr">let</span> (<span class="nv">s</span>, _) := Zsqrt (Z.pos p) (Pos2Z.is_nonneg p) <span class="kr">in</span>
 s) *
(<span class="kr">let</span> (<span class="nv">s</span>, _) := Zsqrt (Z.pos p) (Pos2Z.is_nonneg p) <span class="kr">in</span>
 s) &lt;= Z.pos p &lt;
((<span class="kr">let</span> (<span class="nv">s</span>, _) := Zsqrt (Z.pos p) (Pos2Z.is_nonneg p) <span class="kr">in</span>
  s) + <span class="mi">1</span>) *
((<span class="kr">let</span> (<span class="nv">s</span>, _) := Zsqrt (Z.pos p) (Pos2Z.is_nonneg p) <span class="kr">in</span>
  s) + <span class="mi">1</span>)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">now</span> <span class="nb">destruct</span> Zsqrt <span class="kr">as</span> (s &amp; r &amp; Heq &amp; <span class="kn">Hint</span>).</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="Zsqrt-compat-v-chkb" style="display: none" type="checkbox"><label class="coq-input" for="Zsqrt-compat-v-chkb"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">positive</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= Z.neg p</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Zsqrt_plain (Z.neg p) * Zsqrt_plain (Z.neg p) &lt;=
Z.neg p &lt;
(Zsqrt_plain (Z.neg p) + <span class="mi">1</span>) *
(Zsqrt_plain (Z.neg p) + <span class="mi">1</span>)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">now</span> <span class="nb">elim</span> Hp.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span></span></pre><div class="doc">
Positivity 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><input class="coq-toggle" id="Zsqrt-compat-v-chkc" style="display: none" type="checkbox"><label class="coq-input" for="Zsqrt-compat-v-chkc"><span class="highlight"><span class="kn">Theorem</span> <span class="nf">Zsqrt_plain_is_pos</span>: <span class="kr">forall</span> <span class="nv">n</span>, <span class="mi">0</span> &lt;= n -&gt;  <span class="mi">0</span> &lt;= Zsqrt_plain n.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">n</span> : Z, <span class="mi">0</span> &lt;= n -&gt; <span class="mi">0</span> &lt;= Zsqrt_plain n</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="Zsqrt-compat-v-chkd" style="display: none" type="checkbox"><label class="coq-input" for="Zsqrt-compat-v-chkd"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">n</span> : Z, <span class="mi">0</span> &lt;= n -&gt; <span class="mi">0</span> &lt;= Zsqrt_plain n</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="Zsqrt-compat-v-chke" style="display: none" type="checkbox"><label class="coq-input" for="Zsqrt-compat-v-chke"><span class="highlight"><span class="nb">intros</span> n m; <span class="nb">case</span> (Zsqrt_interval n); <span class="nb">auto with</span> zarith.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Z</span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= n</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Zsqrt_plain n * Zsqrt_plain n &lt;= n -&gt;
n &lt; (Zsqrt_plain n + <span class="mi">1</span>) * (Zsqrt_plain n + <span class="mi">1</span>) -&gt;
<span class="mi">0</span> &lt;= Zsqrt_plain n</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="Zsqrt-compat-v-chkf" style="display: none" type="checkbox"><label class="coq-input" for="Zsqrt-compat-v-chkf"><span class="highlight"><span class="nb">intros</span> H1 H2; <span class="nb">case</span> (Z.le_gt_cases <span class="mi">0</span> (Zsqrt_plain n)); <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Z</span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= n</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Zsqrt_plain n * Zsqrt_plain n &lt;= n</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">n &lt; (Zsqrt_plain n + <span class="mi">1</span>) * (Zsqrt_plain n + <span class="mi">1</span>)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Zsqrt_plain n &lt; <span class="mi">0</span> -&gt; <span class="mi">0</span> &lt;= Zsqrt_plain n</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="Zsqrt-compat-v-chk10" style="display: none" type="checkbox"><label class="coq-input" for="Zsqrt-compat-v-chk10"><span class="highlight"><span class="nb">intros</span> H3; <span class="bp">contradict</span> H2; <span class="nb">auto</span>; <span class="nb">apply</span> Z.le_ngt.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Z</span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= n</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Zsqrt_plain n * Zsqrt_plain n &lt;= n</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Zsqrt_plain n &lt; <span class="mi">0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(Zsqrt_plain n + <span class="mi">1</span>) * (Zsqrt_plain n + <span class="mi">1</span>) &lt;= n</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="Zsqrt-compat-v-chk11" style="display: none" type="checkbox"><label class="coq-input" for="Zsqrt-compat-v-chk11"><span class="highlight"><span class="nb">apply</span> Z.le_trans <span class="kr">with</span> ( <span class="mi">2</span> := H1 ).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Z</span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= n</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Zsqrt_plain n * Zsqrt_plain n &lt;= n</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Zsqrt_plain n &lt; <span class="mi">0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(Zsqrt_plain n + <span class="mi">1</span>) * (Zsqrt_plain n + <span class="mi">1</span>) &lt;=
Zsqrt_plain n * Zsqrt_plain n</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="Zsqrt-compat-v-chk12" style="display: none" type="checkbox"><label class="coq-input" for="Zsqrt-compat-v-chk12"><span class="highlight"><span class="nb">replace</span> ((Zsqrt_plain n + <span class="mi">1</span>) * (Zsqrt_plain n + <span class="mi">1</span>))
     <span class="kr">with</span> (Zsqrt_plain n * Zsqrt_plain n + (<span class="mi">2</span> * Zsqrt_plain n + <span class="mi">1</span>));
  <span class="nb">auto with</span> zarith.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Z</span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= n</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Zsqrt_plain n * Zsqrt_plain n &lt;= n</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Zsqrt_plain n &lt; <span class="mi">0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Zsqrt_plain n * Zsqrt_plain n +
(<span class="mi">2</span> * Zsqrt_plain n + <span class="mi">1</span>) =
(Zsqrt_plain n + <span class="mi">1</span>) * (Zsqrt_plain n + <span class="mi">1</span>)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">ring</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span></span></pre><div class="doc">
Direct correctness on squares. 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><input class="coq-toggle" id="Zsqrt-compat-v-chk13" style="display: none" type="checkbox"><label class="coq-input" for="Zsqrt-compat-v-chk13"><span class="highlight"><span class="kn">Theorem</span> <span class="nf">Zsqrt_square_id</span>: <span class="kr">forall</span> <span class="nv">a</span>, <span class="mi">0</span> &lt;= a -&gt;  Zsqrt_plain (a * a) = a.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : Z, <span class="mi">0</span> &lt;= a -&gt; Zsqrt_plain (a * a) = a</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="Zsqrt-compat-v-chk14" style="display: none" type="checkbox"><label class="coq-input" for="Zsqrt-compat-v-chk14"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : Z, <span class="mi">0</span> &lt;= a -&gt; Zsqrt_plain (a * a) = a</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="Zsqrt-compat-v-chk15" style="display: none" type="checkbox"><label class="coq-input" for="Zsqrt-compat-v-chk15"><span class="highlight"><span class="nb">intros</span> a H.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Z</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Zsqrt_plain (a * a) = a</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="Zsqrt-compat-v-chk16" style="display: none" type="checkbox"><label class="coq-input" for="Zsqrt-compat-v-chk16"><span class="highlight"><span class="nb">generalize</span> (Zsqrt_plain_is_pos (a * a)); <span class="nb">auto with</span> zarith; <span class="nb">intros</span> Haa.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Z</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Haa</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= a * a -&gt; <span class="mi">0</span> &lt;= Zsqrt_plain (a * a)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Zsqrt_plain (a * a) = a</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="Zsqrt-compat-v-chk17" style="display: none" type="checkbox"><label class="coq-input" for="Zsqrt-compat-v-chk17"><span class="highlight"><span class="nb">case</span> (Zsqrt_interval (a * a)); <span class="nb">auto with</span> zarith.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Z</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Haa</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= a * a -&gt; <span class="mi">0</span> &lt;= Zsqrt_plain (a * a)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Zsqrt_plain (a * a) * Zsqrt_plain (a * a) &lt;= a * a -&gt;
a * a &lt;
(Zsqrt_plain (a * a) + <span class="mi">1</span>) * (Zsqrt_plain (a * a) + <span class="mi">1</span>) -&gt;
Zsqrt_plain (a * a) = a</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="Zsqrt-compat-v-chk18" style="display: none" type="checkbox"><label class="coq-input" for="Zsqrt-compat-v-chk18"><span class="highlight"><span class="nb">intros</span> H1 H2.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Z</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Haa</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= a * a -&gt; <span class="mi">0</span> &lt;= Zsqrt_plain (a * a)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Zsqrt_plain (a * a) * Zsqrt_plain (a * a) &lt;=
a * a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a * a &lt;
(Zsqrt_plain (a * a) + <span class="mi">1</span>) *
(Zsqrt_plain (a * a) + <span class="mi">1</span>)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Zsqrt_plain (a * a) = a</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="Zsqrt-compat-v-chk19" style="display: none" type="checkbox"><label class="coq-input" for="Zsqrt-compat-v-chk19"><span class="highlight"><span class="nb">case</span> (Z.le_gt_cases a (Zsqrt_plain (a * a))); <span class="nb">intros</span> H3.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Z</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Haa</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= a * a -&gt; <span class="mi">0</span> &lt;= Zsqrt_plain (a * a)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Zsqrt_plain (a * a) * Zsqrt_plain (a * a) &lt;=
a * a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a * a &lt;
(Zsqrt_plain (a * a) + <span class="mi">1</span>) *
(Zsqrt_plain (a * a) + <span class="mi">1</span>)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= Zsqrt_plain (a * a)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Zsqrt_plain (a * a) = a</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="Zsqrt-compat-v-chk1a" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Z</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Haa</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= a * a -&gt; <span class="mi">0</span> &lt;= Zsqrt_plain (a * a)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Zsqrt_plain (a * a) * Zsqrt_plain (a * a) &lt;=
a * a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a * a &lt;
(Zsqrt_plain (a * a) + <span class="mi">1</span>) *
(Zsqrt_plain (a * a) + <span class="mi">1</span>)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Zsqrt_plain (a * a) &lt; a</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="Zsqrt-compat-v-chk1a"><hr></label><div class="goal-conclusion"><span class="highlight">Zsqrt_plain (a * a) = a</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="Zsqrt-compat-v-chk1b" style="display: none" type="checkbox"><label class="coq-input" for="Zsqrt-compat-v-chk1b"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Z</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Haa</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= a * a -&gt; <span class="mi">0</span> &lt;= Zsqrt_plain (a * a)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Zsqrt_plain (a * a) * Zsqrt_plain (a * a) &lt;=
a * a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a * a &lt;
(Zsqrt_plain (a * a) + <span class="mi">1</span>) *
(Zsqrt_plain (a * a) + <span class="mi">1</span>)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= Zsqrt_plain (a * a)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Zsqrt_plain (a * a) = a</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="Zsqrt-compat-v-chk1c" style="display: none" type="checkbox"><label class="coq-input" for="Zsqrt-compat-v-chk1c"><span class="highlight">Z.le_elim H3; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Z</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Haa</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= a * a -&gt; <span class="mi">0</span> &lt;= Zsqrt_plain (a * a)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Zsqrt_plain (a * a) * Zsqrt_plain (a * a) &lt;=
a * a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a * a &lt;
(Zsqrt_plain (a * a) + <span class="mi">1</span>) *
(Zsqrt_plain (a * a) + <span class="mi">1</span>)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt; Zsqrt_plain (a * a)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Zsqrt_plain (a * a) = a</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="Zsqrt-compat-v-chk1d" style="display: none" type="checkbox"><label class="coq-input" for="Zsqrt-compat-v-chk1d"><span class="highlight"><span class="bp">contradict</span> H1; <span class="nb">auto</span>; <span class="nb">apply</span> Z.lt_nge; <span class="nb">auto with</span> zarith.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Z</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Haa</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= a * a -&gt; <span class="mi">0</span> &lt;= Zsqrt_plain (a * a)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a * a &lt;
(Zsqrt_plain (a * a) + <span class="mi">1</span>) *
(Zsqrt_plain (a * a) + <span class="mi">1</span>)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt; Zsqrt_plain (a * a)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a * a &lt; Zsqrt_plain (a * a) * Zsqrt_plain (a * a)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="Zsqrt-compat-v-chk1e" style="display: none" type="checkbox"><label class="coq-input" for="Zsqrt-compat-v-chk1e"><span class="highlight"><span class="nb">apply</span> Z.le_lt_trans <span class="kr">with</span> (a * Zsqrt_plain (a * a)); <span class="nb">auto with</span> zarith.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Z</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Haa</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= a * a -&gt; <span class="mi">0</span> &lt;= Zsqrt_plain (a * a)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a * a &lt;
(Zsqrt_plain (a * a) + <span class="mi">1</span>) *
(Zsqrt_plain (a * a) + <span class="mi">1</span>)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt; Zsqrt_plain (a * a)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a * Zsqrt_plain (a * a) &lt;
Zsqrt_plain (a * a) * Zsqrt_plain (a * a)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">apply</span> Z.mul_lt_mono_pos_r; <span class="nb">auto with</span> zarith.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="Zsqrt-compat-v-chk1f" style="display: none" type="checkbox"><label class="coq-input" for="Zsqrt-compat-v-chk1f"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Z</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Haa</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= a * a -&gt; <span class="mi">0</span> &lt;= Zsqrt_plain (a * a)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Zsqrt_plain (a * a) * Zsqrt_plain (a * a) &lt;=
a * a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a * a &lt;
(Zsqrt_plain (a * a) + <span class="mi">1</span>) *
(Zsqrt_plain (a * a) + <span class="mi">1</span>)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Zsqrt_plain (a * a) &lt; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Zsqrt_plain (a * a) = a</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="Zsqrt-compat-v-chk20" style="display: none" type="checkbox"><label class="coq-input" for="Zsqrt-compat-v-chk20"><span class="highlight"><span class="bp">contradict</span> H2; <span class="nb">auto</span>; <span class="nb">apply</span> Z.le_ngt; <span class="nb">auto with</span> zarith.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Z</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Haa</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= a * a -&gt; <span class="mi">0</span> &lt;= Zsqrt_plain (a * a)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Zsqrt_plain (a * a) * Zsqrt_plain (a * a) &lt;=
a * a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Zsqrt_plain (a * a) &lt; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(Zsqrt_plain (a * a) + <span class="mi">1</span>) * (Zsqrt_plain (a * a) + <span class="mi">1</span>) &lt;=
a * a</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">apply</span> Z.mul_le_mono_nonneg; <span class="nb">auto with</span> zarith.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span></span></pre><div class="doc">
<span class="inlinecode"><span class="id" title="var">Zsqrt_plain</span></span> is increasing 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><input class="coq-toggle" id="Zsqrt-compat-v-chk21" style="display: none" type="checkbox"><label class="coq-input" for="Zsqrt-compat-v-chk21"><span class="highlight"><span class="kn">Theorem</span> <span class="nf">Zsqrt_le</span>:
 <span class="kr">forall</span> <span class="nv">p</span> <span class="nv">q</span>, <span class="mi">0</span> &lt;= p &lt;= q  -&gt;  Zsqrt_plain p &lt;= Zsqrt_plain q.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">p</span> <span class="nv">q</span> : Z,
<span class="mi">0</span> &lt;= p &lt;= q -&gt; Zsqrt_plain p &lt;= Zsqrt_plain q</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="Zsqrt-compat-v-chk22" style="display: none" type="checkbox"><label class="coq-input" for="Zsqrt-compat-v-chk22"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">p</span> <span class="nv">q</span> : Z,
<span class="mi">0</span> &lt;= p &lt;= q -&gt; Zsqrt_plain p &lt;= Zsqrt_plain q</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="Zsqrt-compat-v-chk23" style="display: none" type="checkbox"><label class="coq-input" for="Zsqrt-compat-v-chk23"><span class="highlight"><span class="nb">intros</span> p q [H1 H2].</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">p, q</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Z</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= p</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">p &lt;= q</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Zsqrt_plain p &lt;= Zsqrt_plain q</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="Zsqrt-compat-v-chk24" style="display: none" type="checkbox"><label class="coq-input" for="Zsqrt-compat-v-chk24"><span class="highlight">Z.le_elim H2; [ | <span class="nb">subst</span> q; <span class="nb">auto with</span> zarith].</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">p, q</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Z</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= p</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">p &lt; q</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Zsqrt_plain p &lt;= Zsqrt_plain q</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="Zsqrt-compat-v-chk25" style="display: none" type="checkbox"><label class="coq-input" for="Zsqrt-compat-v-chk25"><span class="highlight"><span class="nb">case</span> (Z.le_gt_cases (Zsqrt_plain p) (Zsqrt_plain q)); <span class="nb">auto</span>; <span class="nb">intros</span> H3.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">p, q</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Z</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= p</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">p &lt; q</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Zsqrt_plain q &lt; Zsqrt_plain p</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Zsqrt_plain p &lt;= Zsqrt_plain q</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="Zsqrt-compat-v-chk26" style="display: none" type="checkbox"><label class="coq-input" for="Zsqrt-compat-v-chk26"><span class="highlight"><span class="nb">assert</span> (Hp: (<span class="mi">0</span> &lt;= Zsqrt_plain q)).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">p, q</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Z</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= p</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">p &lt; q</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Zsqrt_plain q &lt; Zsqrt_plain p</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">0</span> &lt;= Zsqrt_plain q</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="Zsqrt-compat-v-chk27" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">p, q</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Z</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= p</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">p &lt; q</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Zsqrt_plain q &lt; Zsqrt_plain p</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= Zsqrt_plain q</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="Zsqrt-compat-v-chk27"><hr></label><div class="goal-conclusion"><span class="highlight">Zsqrt_plain p &lt;= Zsqrt_plain q</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="Zsqrt-compat-v-chk28" style="display: none" type="checkbox"><label class="coq-input" for="Zsqrt-compat-v-chk28"><span class="highlight">{</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">p, q</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Z</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= p</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">p &lt; q</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Zsqrt_plain q &lt; Zsqrt_plain p</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">0</span> &lt;= Zsqrt_plain q</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">apply</span> Zsqrt_plain_is_pos; <span class="nb">auto with</span> zarith.</span></span><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="Zsqrt-compat-v-chk29" style="display: none" type="checkbox"><label class="coq-input" for="Zsqrt-compat-v-chk29"><span class="highlight">}</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">p, q</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Z</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= p</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">p &lt; q</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Zsqrt_plain q &lt; Zsqrt_plain p</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= Zsqrt_plain q</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Zsqrt_plain p &lt;= Zsqrt_plain q</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="Zsqrt-compat-v-chk2a" style="display: none" type="checkbox"><label class="coq-input" for="Zsqrt-compat-v-chk2a"><span class="highlight"><span class="nb">absurd</span> (q &lt;= p); <span class="nb">auto with</span> zarith.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">p, q</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Z</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= p</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">p &lt; q</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Zsqrt_plain q &lt; Zsqrt_plain p</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= Zsqrt_plain q</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">q &lt;= p</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="Zsqrt-compat-v-chk2b" style="display: none" type="checkbox"><label class="coq-input" for="Zsqrt-compat-v-chk2b"><span class="highlight"><span class="nb">apply</span> Z.le_trans <span class="kr">with</span> ((Zsqrt_plain q + <span class="mi">1</span>) * (Zsqrt_plain q + <span class="mi">1</span>)).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">p, q</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Z</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= p</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">p &lt; q</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Zsqrt_plain q &lt; Zsqrt_plain p</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= Zsqrt_plain q</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">q &lt;= (Zsqrt_plain q + <span class="mi">1</span>) * (Zsqrt_plain q + <span class="mi">1</span>)</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="Zsqrt-compat-v-chk2c" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">p, q</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Z</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= p</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">p &lt; q</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Zsqrt_plain q &lt; Zsqrt_plain p</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= Zsqrt_plain q</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="Zsqrt-compat-v-chk2c"><hr></label><div class="goal-conclusion"><span class="highlight">(Zsqrt_plain q + <span class="mi">1</span>) * (Zsqrt_plain q + <span class="mi">1</span>) &lt;= p</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="Zsqrt-compat-v-chk2d" style="display: none" type="checkbox"><label class="coq-input" for="Zsqrt-compat-v-chk2d"><span class="highlight"><span class="nb">case</span> (Zsqrt_interval q); <span class="nb">auto with</span> zarith.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">p, q</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Z</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= p</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">p &lt; q</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Zsqrt_plain q &lt; Zsqrt_plain p</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= Zsqrt_plain q</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(Zsqrt_plain q + <span class="mi">1</span>) * (Zsqrt_plain q + <span class="mi">1</span>) &lt;= p</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="Zsqrt-compat-v-chk2e" style="display: none" type="checkbox"><label class="coq-input" for="Zsqrt-compat-v-chk2e"><span class="highlight"><span class="nb">apply</span> Z.le_trans <span class="kr">with</span> (Zsqrt_plain p * Zsqrt_plain p); <span class="nb">auto with</span> zarith.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">p, q</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Z</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= p</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">p &lt; q</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Zsqrt_plain q &lt; Zsqrt_plain p</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= Zsqrt_plain q</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(Zsqrt_plain q + <span class="mi">1</span>) * (Zsqrt_plain q + <span class="mi">1</span>) &lt;=
Zsqrt_plain p * Zsqrt_plain p</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="Zsqrt-compat-v-chk2f" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">p, q</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Z</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= p</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">p &lt; q</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Zsqrt_plain q &lt; Zsqrt_plain p</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= Zsqrt_plain q</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="Zsqrt-compat-v-chk2f"><hr></label><div class="goal-conclusion"><span class="highlight">Zsqrt_plain p * Zsqrt_plain p &lt;= p</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="Zsqrt-compat-v-chk30" style="display: none" type="checkbox"><label class="coq-input" for="Zsqrt-compat-v-chk30"><span class="highlight"><span class="nb">apply</span> Z.mul_le_mono_nonneg; <span class="nb">auto with</span> zarith.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">p, q</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Z</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= p</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">p &lt; q</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Zsqrt_plain q &lt; Zsqrt_plain p</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= Zsqrt_plain q</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Zsqrt_plain p * Zsqrt_plain p &lt;= p</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">case</span> (Zsqrt_interval p); <span class="nb">auto with</span> zarith.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span></span></pre><div class="doc">
Equivalence between Zsqrt_plain and <span class="inlinecode"><span class="id" title="var">Z.sqrt</span></span>
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><input class="coq-toggle" id="Zsqrt-compat-v-chk31" style="display: none" type="checkbox"><label class="coq-input" for="Zsqrt-compat-v-chk31"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">Zsqrt_equiv</span> : <span class="kr">forall</span> <span class="nv">n</span>, Zsqrt_plain n = Z.sqrt n.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">n</span> : Z, Zsqrt_plain n = Z.sqrt n</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="Zsqrt-compat-v-chk32" style="display: none" type="checkbox"><label class="coq-input" for="Zsqrt-compat-v-chk32"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">n</span> : Z, Zsqrt_plain n = Z.sqrt n</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="Zsqrt-compat-v-chk33" style="display: none" type="checkbox"><label class="coq-input" for="Zsqrt-compat-v-chk33"><span class="highlight"><span class="nb">intros</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Z</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Zsqrt_plain n = Z.sqrt n</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="Zsqrt-compat-v-chk34" style="display: none" type="checkbox"><label class="coq-input" for="Zsqrt-compat-v-chk34"><span class="highlight"><span class="nb">destruct</span> (Z_le_gt_dec <span class="mi">0</span> n).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Z</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= n</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Zsqrt_plain n = Z.sqrt n</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="Zsqrt-compat-v-chk35" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Z</span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &gt; n</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="Zsqrt-compat-v-chk35"><hr></label><div class="goal-conclusion"><span class="highlight">Zsqrt_plain n = Z.sqrt n</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="Zsqrt-compat-v-chk36" style="display: none" type="checkbox"><label class="coq-input" for="Zsqrt-compat-v-chk36"><span class="highlight"><span class="nb">symmetry</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Z</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= n</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Z.sqrt n = Zsqrt_plain n</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="Zsqrt-compat-v-chk37" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Z</span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &gt; n</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="Zsqrt-compat-v-chk37"><hr></label><div class="goal-conclusion"><span class="highlight">Zsqrt_plain n = Z.sqrt n</span></div></blockquote></div></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="Zsqrt-compat-v-chk38" style="display: none" type="checkbox"><label class="coq-input" for="Zsqrt-compat-v-chk38"><span class="highlight"><span class="nb">apply</span> Z.sqrt_unique; <span class="nb">trivial</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Z</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= n</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Zsqrt_plain n * Zsqrt_plain n &lt;= n &lt;
Z.succ (Zsqrt_plain n) * Z.succ (Zsqrt_plain n)</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="Zsqrt-compat-v-chk39" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Z</span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &gt; n</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="Zsqrt-compat-v-chk39"><hr></label><div class="goal-conclusion"><span class="highlight">Zsqrt_plain n = Z.sqrt n</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="Zsqrt-compat-v-chk3a" style="display: none" type="checkbox"><label class="coq-input" for="Zsqrt-compat-v-chk3a"><span class="highlight"><span class="bp">now</span> <span class="nb">apply</span> Zsqrt_interval.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Z</span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &gt; n</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Zsqrt_plain n = Z.sqrt n</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">now</span> <span class="nb">destruct</span> n.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span></span></pre></article></body></html>