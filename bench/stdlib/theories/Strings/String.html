<!DOCTYPE html>
<html><head><title>String.v</title><meta charset="utf-8"><meta content="Alectryon v0.2" name="generator"><link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Serif:ital,wght@0,400;0,700;1,400;1,700&amp;display=swap" rel="stylesheet"><link href="https://unpkg.com/firacode/distr/fira_code.css" rel="stylesheet"><link href="alectryon.css" rel="stylesheet"><script src="alectryon.js"></script><style type="text/css">.highlight .hll { background-color: #ffffcc }
.highlight .c { color: #555753; font-style: italic } /* Comment */
.highlight .err { color: #a40000; border: 1px solid #cc0000 } /* Error */
.highlight .g { color: #000000 } /* Generic */
.highlight .k { color: #8f5902 } /* Keyword */
.highlight .l { color: #2e3436 } /* Literal */
.highlight .n { color: #000000 } /* Name */
.highlight .o { color: #000000 } /* Operator */
.highlight .x { color: #2e3436 } /* Other */
.highlight .p { color: #000000 } /* Punctuation */
.highlight .ch { color: #555753; font-weight: bold; font-style: italic } /* Comment.Hashbang */
.highlight .cm { color: #555753; font-style: italic } /* Comment.Multiline */
.highlight .cp { color: #3465a4; font-style: italic } /* Comment.Preproc */
.highlight .cpf { color: #555753; font-style: italic } /* Comment.PreprocFile */
.highlight .c1 { color: #555753; font-style: italic } /* Comment.Single */
.highlight .cs { color: #3465a4; font-weight: bold; font-style: italic } /* Comment.Special */
.highlight .gd { color: #a40000 } /* Generic.Deleted */
.highlight .ge { color: #000000; font-style: italic } /* Generic.Emph */
.highlight .gr { color: #a40000 } /* Generic.Error */
.highlight .gh { color: #a40000; font-weight: bold } /* Generic.Heading */
.highlight .gi { color: #4e9a06 } /* Generic.Inserted */
.highlight .go { color: #000000; font-style: italic } /* Generic.Output */
.highlight .gp { color: #8f5902 } /* Generic.Prompt */
.highlight .gs { color: #000000; font-weight: bold } /* Generic.Strong */
.highlight .gu { color: #000000; font-weight: bold } /* Generic.Subheading */
.highlight .gt { color: #000000; font-style: italic } /* Generic.Traceback */
.highlight .kc { color: #204a87; font-weight: bold } /* Keyword.Constant */
.highlight .kd { color: #4e9a06; font-weight: bold } /* Keyword.Declaration */
.highlight .kn { color: #4e9a06; font-weight: bold } /* Keyword.Namespace */
.highlight .kp { color: #204a87 } /* Keyword.Pseudo */
.highlight .kr { color: #8f5902 } /* Keyword.Reserved */
.highlight .kt { color: #204a87 } /* Keyword.Type */
.highlight .ld { color: #2e3436 } /* Literal.Date */
.highlight .m { color: #2e3436 } /* Literal.Number */
.highlight .s { color: #ad7fa8 } /* Literal.String */
.highlight .na { color: #c4a000 } /* Name.Attribute */
.highlight .nb { color: #75507b } /* Name.Builtin */
.highlight .nc { color: #204a87 } /* Name.Class */
.highlight .no { color: #ce5c00 } /* Name.Constant */
.highlight .nd { color: #3465a4; font-weight: bold } /* Name.Decorator */
.highlight .ni { color: #c4a000; text-decoration: underline } /* Name.Entity */
.highlight .ne { color: #cc0000 } /* Name.Exception */
.highlight .nf { color: #a40000 } /* Name.Function */
.highlight .nl { color: #3465a4; font-weight: bold } /* Name.Label */
.highlight .nn { color: #000000 } /* Name.Namespace */
.highlight .nx { color: #000000 } /* Name.Other */
.highlight .py { color: #000000 } /* Name.Property */
.highlight .nt { color: #a40000 } /* Name.Tag */
.highlight .nv { color: #ce5c00 } /* Name.Variable */
.highlight .ow { color: #8f5902 } /* Operator.Word */
.highlight .w { color: #d3d7cf; text-decoration: underline } /* Text.Whitespace */
.highlight .mb { color: #2e3436 } /* Literal.Number.Bin */
.highlight .mf { color: #2e3436 } /* Literal.Number.Float */
.highlight .mh { color: #2e3436 } /* Literal.Number.Hex */
.highlight .mi { color: #2e3436 } /* Literal.Number.Integer */
.highlight .mo { color: #2e3436 } /* Literal.Number.Oct */
.highlight .sa { color: #ad7fa8 } /* Literal.String.Affix */
.highlight .sb { color: #ad7fa8 } /* Literal.String.Backtick */
.highlight .sc { color: #ad7fa8; font-weight: bold } /* Literal.String.Char */
.highlight .dl { color: #ad7fa8 } /* Literal.String.Delimiter */
.highlight .sd { color: #ad7fa8 } /* Literal.String.Doc */
.highlight .s2 { color: #ad7fa8 } /* Literal.String.Double */
.highlight .se { color: #ad7fa8; font-weight: bold } /* Literal.String.Escape */
.highlight .sh { color: #ad7fa8; text-decoration: underline } /* Literal.String.Heredoc */
.highlight .si { color: #ce5c00 } /* Literal.String.Interpol */
.highlight .sx { color: #ad7fa8 } /* Literal.String.Other */
.highlight .sr { color: #ad7fa8 } /* Literal.String.Regex */
.highlight .s1 { color: #ad7fa8 } /* Literal.String.Single */
.highlight .ss { color: #8f5902 } /* Literal.String.Symbol */
.highlight .bp { color: #5c35cc } /* Name.Builtin.Pseudo */
.highlight .fm { color: #a40000 } /* Name.Function.Magic */
.highlight .vc { color: #ce5c00 } /* Name.Variable.Class */
.highlight .vg { color: #ce5c00; text-decoration: underline } /* Name.Variable.Global */
.highlight .vi { color: #ce5c00 } /* Name.Variable.Instance */
.highlight .vm { color: #ce5c00 } /* Name.Variable.Magic */
.highlight .il { color: #2e3436 } /* Literal.Number.Integer.Long */</style></head><body><article class="alectryon-root alectryon-standalone alectryon-centered alectryon-coqdoc"><div class="alectryon-header">Built with <a href="https://github.com/cpitclaudel/alectryon/">Alectryon</a>, running <a href="https://coq.inria.fr/">Coq</a>+<a href="https://github.com/ejgallego/coq-serapi">SerAPI</a> v8.10.0+0.7.0. Coq sources are in this panel; goals and messages will appear in the other. Bubbles (<span class="alectryon-bubble"></span>) indicate interactive fragments: hover for details, tap to reveal contents. Use <kbd>Ctrl+‚Üë</kbd> <kbd>Ctrl+‚Üì</kbd> to navigate, <kbd>Ctrl+üñ±Ô∏è</kbd> to focus.</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-wsp"><span class="highlight"><span class="c">(* -*- coding: utf-8 -*- *)</span>
<span class="sd">(************************************************************************)</span>
<span class="c">(*         *   The Coq Proof Assistant / The Coq Development Team       *)</span>
<span class="c">(*  v      *   INRIA, CNRS and contributors - Copyright 1999-2018       *)</span>
<span class="c">(* &lt;O___,, *       (see CREDITS file for the list of authors)           *)</span>
<span class="c">(*   \VV/  **************************************************************)</span>
<span class="c">(*    //   *    This file is distributed under the terms of the         *)</span>
<span class="c">(*         *     GNU Lesser General Public License Version 2.1          *)</span>
<span class="c">(*         *     (see LICENSE file for the text of the license)         *)</span>
<span class="sd">(************************************************************************)</span></span></span></pre><div class="doc">
Contributed by Laurent Th√©ry (INRIA);
    Adapted to Coq V8 by the Coq Development Team 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Require Import</span> Arith.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Require Import</span> Ascii.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Require Import</span> Bool.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Require Import</span> Coq.Strings.Byte.</span></span></span></pre><div class="doc">
<a name="lab1"></a><h3 class="section">Definition of strings</h3>
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --></pre><div class="doc">
Implementation of string as list of ascii characters 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Inductive</span> <span class="nf">string</span> : <span class="kt">Set</span> :=
  | EmptyString : string
  | String : ascii -&gt; string -&gt; string.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Declare Scope</span> string_scope.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Delimit Scope</span> string_scope <span class="kr">with</span> string.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Bind Scope</span> string_scope <span class="kr">with</span> string.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Local Open Scope</span> string_scope.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Register</span> EmptyString <span class="kr">as</span> plugins.syntax.EmptyString.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Register</span> String <span class="kr">as</span> plugins.syntax.String.</span></span></span></pre><div class="doc">
Equality is decidable 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk0" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk0"><span class="highlight"><span class="kn">Definition</span> <span class="nf">string_dec</span> : <span class="kr">forall</span> <span class="nv">s1</span> <span class="nv">s2</span> : string, {s1 = s2} + {s1 &lt;&gt; s2}.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">s1</span> <span class="nv">s2</span> : string, {s1 = s2} + {s1 &lt;&gt; s2}</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk1" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk1"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">s1</span> <span class="nv">s2</span> : string, {s1 = s2} + {s1 &lt;&gt; s2}</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">decide equality</span>; <span class="nb">apply</span> ascii_dec.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Defined</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Local Open Scope</span> lazy_bool_scope.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Fixpoint</span> <span class="nf">eqb</span> <span class="nv">s1</span> <span class="nv">s2</span> : bool :=
 <span class="kr">match</span> s1, s2 <span class="kr">with</span>
 | EmptyString, EmptyString =&gt; true
 | String c1 s1&#39;, String c2 s2&#39; =&gt; Ascii.eqb c1 c2 &amp;&amp;&amp; eqb s1&#39; s2&#39;
 | _,_ =&gt; false
 <span class="kr">end</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Infix</span> <span class="s2">&quot;=?&quot;</span> := eqb : string_scope.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk2" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk2"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">eqb_spec</span> <span class="nv">s1</span> <span class="nv">s2</span> : Bool.reflect (s1 = s2) (s1 =? s2)%string.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s1, s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">reflect (s1 = s2) (s1 =? s2)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk3" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk3"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s1, s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">reflect (s1 = s2) (s1 =? s2)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk4" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk4"><span class="highlight"><span class="nb">revert</span> s2.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">s2</span> : string, reflect (s1 = s2) (s1 =? s2)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk5" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk5"><span class="highlight"><span class="nb">induction</span> s1; <span class="nb">destruct</span> s2; <span class="kp">try</span> (<span class="nb">constructor</span>; <span class="bp">easy</span>); <span class="nb">simpl</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHs1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : string,
reflect (s1 = s0) (s1 =? s0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">reflect (String a s1 = String a0 s2)
  ((a =? a0)%char &amp;&amp;&amp; (s1 =? s2))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk6" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk6"><span class="highlight"><span class="nb">case</span> Ascii.eqb_spec; <span class="nb">simpl</span>; [<span class="nb">intros</span> -&gt; | <span class="nb">constructor</span>; <span class="bp">now</span> <span class="nb">intros</span> [= ]].</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHs1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : string,
reflect (s1 = s0) (s1 =? s0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">reflect (String a0 s1 = String a0 s2) (s1 =? s2)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">case</span> IHs1; [<span class="nb">intros</span> -&gt;; <span class="bp">now</span> <span class="nb">constructor</span> | <span class="nb">constructor</span>; <span class="bp">now</span> <span class="nb">intros</span> [= ]].</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Ltac</span> <span class="nf">t_eqb</span> :=
  <span class="kp">repeat</span> <span class="kp">first</span> [ <span class="bp">congruence</span>
               | <span class="kp">progress</span> <span class="nb">subst</span>
               | <span class="nb">apply</span> conj
               | <span class="kr">match goal with</span>
                 | [ |- <span class="kp">context</span>[eqb ?x ?y] ] =&gt; <span class="nb">destruct</span> (eqb_spec x y)
                 <span class="kr">end</span>
               | <span class="nb">intro</span> ].</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk7" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk7"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">eqb_refl</span> <span class="nv">x</span> : (x =? x)%string = true.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(x =? x) = true</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk8" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk8"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(x =? x) = true</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight">t_eqb.</span></span><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk9" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk9"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">eqb_sym</span> <span class="nv">x</span> <span class="nv">y</span> : (x =? y)%string = (y =? x)%string.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x, y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(x =? y) = (y =? x)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chka" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chka"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x, y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(x =? y) = (y =? x)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight">t_eqb.</span></span><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chkb" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chkb"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">eqb_eq</span> <span class="nv">n</span> <span class="nv">m</span> : (n =? m)%string = true &lt;-&gt; n = m.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(n =? m) = true &lt;-&gt; n = m</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chkc" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chkc"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(n =? m) = true &lt;-&gt; n = m</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight">t_eqb.</span></span><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chkd" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chkd"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">eqb_neq</span> <span class="nv">x</span> <span class="nv">y</span> : (x =? y)%string = false &lt;-&gt; x &lt;&gt; y.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x, y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(x =? y) = false &lt;-&gt; x &lt;&gt; y</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chke" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chke"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x, y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(x =? y) = false &lt;-&gt; x &lt;&gt; y</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight">t_eqb.</span></span><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chkf" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chkf"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">eqb_compat</span>: Morphisms.Proper (Morphisms.respectful eq (Morphisms.respectful eq eq)) eqb.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Morphisms.Proper
  (Morphisms.respectful eq
     (Morphisms.respectful eq eq)) eqb</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk10" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk10"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Morphisms.Proper
  (Morphisms.respectful eq
     (Morphisms.respectful eq eq)) eqb</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight">t_eqb.</span></span><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span></span></pre><div class="doc">
<a name="lab2"></a><h3 class="section">Concatenation of strings</h3>
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Reserved Notation</span> <span class="s2">&quot;x ++ y&quot;</span> (<span class="kn">right associativity</span>, <span class="kn">at level</span> <span class="mi">60</span>).</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Fixpoint</span> <span class="nf">append</span> (<span class="nv">s1</span> <span class="nv">s2</span> : string) : string :=
  <span class="kr">match</span> s1 <span class="kr">with</span>
  | EmptyString =&gt; s2
  | String c s1&#39; =&gt; String c (s1&#39; ++ s2)
  <span class="kr">end</span>
<span class="kn">where</span> <span class="s2">&quot;s1 ++ s2&quot;</span> := (append s1 s2) : string_scope.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
<span class="sd">(******************************)</span></span></span></pre><div class="doc">
Length                    
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-wsp"><span class="highlight"><span class="sd">(******************************)</span>

</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Fixpoint</span> <span class="nf">length</span> (<span class="nv">s</span> : string) : nat :=
  <span class="kr">match</span> s <span class="kr">with</span>
  | EmptyString =&gt; <span class="mi">0</span>
  | String c s&#39; =&gt; S (length s&#39;)
  <span class="kr">end</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
<span class="sd">(******************************)</span></span></span></pre><div class="doc">
Nth character of a string 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-wsp"><span class="highlight"><span class="sd">(******************************)</span>

</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Fixpoint</span> <span class="nf">get</span> (<span class="nv">n</span> : nat) (<span class="nv">s</span> : string) {<span class="nv">struct</span> <span class="nv">s</span>} : option ascii :=
  <span class="kr">match</span> s <span class="kr">with</span>
  | EmptyString =&gt; None
  | String c s&#39; =&gt; <span class="kr">match</span> n <span class="kr">with</span>
                   | O =&gt; Some c
                   | S n&#39; =&gt; get n&#39; s&#39;
                   <span class="kr">end</span>
  <span class="kr">end</span>.</span></span></span></pre><div class="doc">
Two lists that are identical through get are syntactically equal 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk11" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk11"><span class="highlight"><span class="kn">Theorem</span> <span class="nf">get_correct</span> :
  <span class="kr">forall</span> <span class="nv">s1</span> <span class="nv">s2</span> : string, (<span class="kr">forall</span> <span class="nv">n</span> : nat, get n s1 = get n s2) &lt;-&gt; s1 = s2.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">s1</span> <span class="nv">s2</span> : string,
(<span class="kr">forall</span> <span class="nv">n</span> : nat, get n s1 = get n s2) &lt;-&gt; s1 = s2</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk12" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk12"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">s1</span> <span class="nv">s2</span> : string,
(<span class="kr">forall</span> <span class="nv">n</span> : nat, get n s1 = get n s2) &lt;-&gt; s1 = s2</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk13" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk13"><span class="highlight"><span class="nb">intros</span> s1; <span class="nb">elim</span> s1; <span class="nb">simpl</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">s2</span> : string,
(<span class="kr">forall</span> <span class="nv">n</span> : nat, None = get n s2) &lt;-&gt; EmptyString = s2</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="String-v-chk14" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chk14"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">a</span> : ascii) (<span class="nv">s</span> : string),
(<span class="kr">forall</span> <span class="nv">s2</span> : string,
 (<span class="kr">forall</span> <span class="nv">n</span> : nat, get n s = get n s2) &lt;-&gt; s = s2) -&gt;
<span class="kr">forall</span> <span class="nv">s2</span> : string,
(<span class="kr">forall</span> <span class="nv">n</span> : nat,
 <span class="kr">match</span> n <span class="kr">with</span>
 | <span class="mi">0</span> =&gt; Some a
 | S n&#39; =&gt; get n&#39; s
 <span class="kr">end</span> = get n s2) &lt;-&gt; String a s = s2</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk15" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk15"><span class="highlight"><span class="nb">intros</span> s2; <span class="nb">case</span> s2; <span class="nb">simpl</span>; <span class="nb">split</span>; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s1, s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="kr">forall</span> <span class="nv">n</span> : nat,
 None =
 <span class="kr">match</span> n <span class="kr">with</span>
 | <span class="mi">0</span> =&gt; Some a
 | S n&#39; =&gt; get n&#39; s
 <span class="kr">end</span>) -&gt; EmptyString = String a s</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="String-v-chk16" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s1, s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chk16"><hr></label><div class="goal-conclusion"><span class="highlight">EmptyString = String a s -&gt;
<span class="kr">forall</span> <span class="nv">n</span> : nat,
None =
<span class="kr">match</span> n <span class="kr">with</span>
| <span class="mi">0</span> =&gt; Some a
| S n&#39; =&gt; get n&#39; s
<span class="kr">end</span></span></div></blockquote><input class="coq-extra-goal-toggle" id="String-v-chk17" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chk17"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">a</span> : ascii) (<span class="nv">s</span> : string),
(<span class="kr">forall</span> <span class="nv">s2</span> : string,
 (<span class="kr">forall</span> <span class="nv">n</span> : nat, get n s = get n s2) &lt;-&gt; s = s2) -&gt;
<span class="kr">forall</span> <span class="nv">s2</span> : string,
(<span class="kr">forall</span> <span class="nv">n</span> : nat,
 <span class="kr">match</span> n <span class="kr">with</span>
 | <span class="mi">0</span> =&gt; Some a
 | S n&#39; =&gt; get n&#39; s
 <span class="kr">end</span> = get n s2) &lt;-&gt; String a s = s2</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk18" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk18"><span class="highlight"><span class="nb">intros</span> H; <span class="nb">generalize</span> (H O); <span class="nb">intros</span> H1; <span class="nb">inversion</span> H1.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s1, s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">EmptyString = String a s -&gt;
<span class="kr">forall</span> <span class="nv">n</span> : nat,
None =
<span class="kr">match</span> n <span class="kr">with</span>
| <span class="mi">0</span> =&gt; Some a
| S n&#39; =&gt; get n&#39; s
<span class="kr">end</span></span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="String-v-chk19" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chk19"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">a</span> : ascii) (<span class="nv">s</span> : string),
(<span class="kr">forall</span> <span class="nv">s2</span> : string,
 (<span class="kr">forall</span> <span class="nv">n</span> : nat, get n s = get n s2) &lt;-&gt; s = s2) -&gt;
<span class="kr">forall</span> <span class="nv">s2</span> : string,
(<span class="kr">forall</span> <span class="nv">n</span> : nat,
 <span class="kr">match</span> n <span class="kr">with</span>
 | <span class="mi">0</span> =&gt; Some a
 | S n&#39; =&gt; get n&#39; s
 <span class="kr">end</span> = get n s2) &lt;-&gt; String a s = s2</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk1a" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk1a"><span class="highlight"><span class="nb">intros</span>; <span class="bp">discriminate</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">a</span> : ascii) (<span class="nv">s</span> : string),
(<span class="kr">forall</span> <span class="nv">s2</span> : string,
 (<span class="kr">forall</span> <span class="nv">n</span> : nat, get n s = get n s2) &lt;-&gt; s = s2) -&gt;
<span class="kr">forall</span> <span class="nv">s2</span> : string,
(<span class="kr">forall</span> <span class="nv">n</span> : nat,
 <span class="kr">match</span> n <span class="kr">with</span>
 | <span class="mi">0</span> =&gt; Some a
 | S n&#39; =&gt; get n&#39; s
 <span class="kr">end</span> = get n s2) &lt;-&gt; String a s = s2</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk1b" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk1b"><span class="highlight"><span class="nb">intros</span> a s1&#39; Rec s2; <span class="nb">case</span> s2; <span class="nb">simpl</span>; <span class="nb">split</span>; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : string, (<span class="kr">forall</span> <span class="nv">n</span> : nat, get n s1&#39; = get n s0) &lt;-&gt; s1&#39; = s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="kr">forall</span> <span class="nv">n</span> : nat,
 <span class="kr">match</span> n <span class="kr">with</span>
 | <span class="mi">0</span> =&gt; Some a
 | S n&#39; =&gt; get n&#39; s1&#39;
 <span class="kr">end</span> = None) -&gt; String a s1&#39; = EmptyString</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="String-v-chk1c" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : string, (<span class="kr">forall</span> <span class="nv">n</span> : nat, get n s1&#39; = get n s0) &lt;-&gt; s1&#39; = s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chk1c"><hr></label><div class="goal-conclusion"><span class="highlight">String a s1&#39; = EmptyString -&gt;
<span class="kr">forall</span> <span class="nv">n</span> : nat,
<span class="kr">match</span> n <span class="kr">with</span>
| <span class="mi">0</span> =&gt; Some a
| S n&#39; =&gt; get n&#39; s1&#39;
<span class="kr">end</span> = None</span></div></blockquote><input class="coq-extra-goal-toggle" id="String-v-chk1d" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : string, (<span class="kr">forall</span> <span class="nv">n</span> : nat, get n s1&#39; = get n s0) &lt;-&gt; s1&#39; = s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chk1d"><hr></label><div class="goal-conclusion"><span class="highlight">(<span class="kr">forall</span> <span class="nv">n</span> : nat,
 <span class="kr">match</span> n <span class="kr">with</span>
 | <span class="mi">0</span> =&gt; Some a
 | S n&#39; =&gt; get n&#39; s1&#39;
 <span class="kr">end</span> =
 <span class="kr">match</span> n <span class="kr">with</span>
 | <span class="mi">0</span> =&gt; Some a0
 | S n&#39; =&gt; get n&#39; s
 <span class="kr">end</span>) -&gt; String a s1&#39; = String a0 s</span></div></blockquote><input class="coq-extra-goal-toggle" id="String-v-chk1e" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : string, (<span class="kr">forall</span> <span class="nv">n</span> : nat, get n s1&#39; = get n s0) &lt;-&gt; s1&#39; = s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chk1e"><hr></label><div class="goal-conclusion"><span class="highlight">String a s1&#39; = String a0 s -&gt;
<span class="kr">forall</span> <span class="nv">n</span> : nat,
<span class="kr">match</span> n <span class="kr">with</span>
| <span class="mi">0</span> =&gt; Some a
| S n&#39; =&gt; get n&#39; s1&#39;
<span class="kr">end</span> =
<span class="kr">match</span> n <span class="kr">with</span>
| <span class="mi">0</span> =&gt; Some a0
| S n&#39; =&gt; get n&#39; s
<span class="kr">end</span></span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk1f" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk1f"><span class="highlight"><span class="nb">intros</span> H; <span class="nb">generalize</span> (H O); <span class="nb">intros</span> H1; <span class="nb">inversion</span> H1.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : string, (<span class="kr">forall</span> <span class="nv">n</span> : nat, get n s1&#39; = get n s0) &lt;-&gt; s1&#39; = s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">String a s1&#39; = EmptyString -&gt;
<span class="kr">forall</span> <span class="nv">n</span> : nat,
<span class="kr">match</span> n <span class="kr">with</span>
| <span class="mi">0</span> =&gt; Some a
| S n&#39; =&gt; get n&#39; s1&#39;
<span class="kr">end</span> = None</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="String-v-chk20" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : string, (<span class="kr">forall</span> <span class="nv">n</span> : nat, get n s1&#39; = get n s0) &lt;-&gt; s1&#39; = s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chk20"><hr></label><div class="goal-conclusion"><span class="highlight">(<span class="kr">forall</span> <span class="nv">n</span> : nat,
 <span class="kr">match</span> n <span class="kr">with</span>
 | <span class="mi">0</span> =&gt; Some a
 | S n&#39; =&gt; get n&#39; s1&#39;
 <span class="kr">end</span> =
 <span class="kr">match</span> n <span class="kr">with</span>
 | <span class="mi">0</span> =&gt; Some a0
 | S n&#39; =&gt; get n&#39; s
 <span class="kr">end</span>) -&gt; String a s1&#39; = String a0 s</span></div></blockquote><input class="coq-extra-goal-toggle" id="String-v-chk21" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : string, (<span class="kr">forall</span> <span class="nv">n</span> : nat, get n s1&#39; = get n s0) &lt;-&gt; s1&#39; = s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chk21"><hr></label><div class="goal-conclusion"><span class="highlight">String a s1&#39; = String a0 s -&gt;
<span class="kr">forall</span> <span class="nv">n</span> : nat,
<span class="kr">match</span> n <span class="kr">with</span>
| <span class="mi">0</span> =&gt; Some a
| S n&#39; =&gt; get n&#39; s1&#39;
<span class="kr">end</span> =
<span class="kr">match</span> n <span class="kr">with</span>
| <span class="mi">0</span> =&gt; Some a0
| S n&#39; =&gt; get n&#39; s
<span class="kr">end</span></span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk22" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk22"><span class="highlight"><span class="nb">intros</span>; <span class="bp">discriminate</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : string, (<span class="kr">forall</span> <span class="nv">n</span> : nat, get n s1&#39; = get n s0) &lt;-&gt; s1&#39; = s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="kr">forall</span> <span class="nv">n</span> : nat,
 <span class="kr">match</span> n <span class="kr">with</span>
 | <span class="mi">0</span> =&gt; Some a
 | S n&#39; =&gt; get n&#39; s1&#39;
 <span class="kr">end</span> =
 <span class="kr">match</span> n <span class="kr">with</span>
 | <span class="mi">0</span> =&gt; Some a0
 | S n&#39; =&gt; get n&#39; s
 <span class="kr">end</span>) -&gt; String a s1&#39; = String a0 s</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="String-v-chk23" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : string, (<span class="kr">forall</span> <span class="nv">n</span> : nat, get n s1&#39; = get n s0) &lt;-&gt; s1&#39; = s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chk23"><hr></label><div class="goal-conclusion"><span class="highlight">String a s1&#39; = String a0 s -&gt;
<span class="kr">forall</span> <span class="nv">n</span> : nat,
<span class="kr">match</span> n <span class="kr">with</span>
| <span class="mi">0</span> =&gt; Some a
| S n&#39; =&gt; get n&#39; s1&#39;
<span class="kr">end</span> =
<span class="kr">match</span> n <span class="kr">with</span>
| <span class="mi">0</span> =&gt; Some a0
| S n&#39; =&gt; get n&#39; s
<span class="kr">end</span></span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk24" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk24"><span class="highlight"><span class="nb">intros</span> H; <span class="nb">generalize</span> (H O); <span class="nb">simpl</span>; <span class="nb">intros</span> H1; <span class="nb">inversion</span> H1.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : string, (<span class="kr">forall</span> <span class="nv">n</span> : nat, get n s1&#39; = get n s0) &lt;-&gt; s1&#39; = s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">n</span> : nat,
<span class="kr">match</span> n <span class="kr">with</span>
| <span class="mi">0</span> =&gt; Some a
| S n&#39; =&gt; get n&#39; s1&#39;
<span class="kr">end</span> =
<span class="kr">match</span> n <span class="kr">with</span>
| <span class="mi">0</span> =&gt; Some a0
| S n&#39; =&gt; get n&#39; s
<span class="kr">end</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Some a = Some a0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a = a0</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">String a0 s1&#39; = String a0 s</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="String-v-chk25" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : string, (<span class="kr">forall</span> <span class="nv">n</span> : nat, get n s1&#39; = get n s0) &lt;-&gt; s1&#39; = s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chk25"><hr></label><div class="goal-conclusion"><span class="highlight">String a s1&#39; = String a0 s -&gt;
<span class="kr">forall</span> <span class="nv">n</span> : nat,
<span class="kr">match</span> n <span class="kr">with</span>
| <span class="mi">0</span> =&gt; Some a
| S n&#39; =&gt; get n&#39; s1&#39;
<span class="kr">end</span> =
<span class="kr">match</span> n <span class="kr">with</span>
| <span class="mi">0</span> =&gt; Some a0
| S n&#39; =&gt; get n&#39; s
<span class="kr">end</span></span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk26" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk26"><span class="highlight"><span class="nb">case</span> (Rec s).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : string, (<span class="kr">forall</span> <span class="nv">n</span> : nat, get n s1&#39; = get n s0) &lt;-&gt; s1&#39; = s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">n</span> : nat,
<span class="kr">match</span> n <span class="kr">with</span>
| <span class="mi">0</span> =&gt; Some a
| S n&#39; =&gt; get n&#39; s1&#39;
<span class="kr">end</span> =
<span class="kr">match</span> n <span class="kr">with</span>
| <span class="mi">0</span> =&gt; Some a0
| S n&#39; =&gt; get n&#39; s
<span class="kr">end</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Some a = Some a0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a = a0</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">((<span class="kr">forall</span> <span class="nv">n</span> : nat, get n s1&#39; = get n s) -&gt; s1&#39; = s) -&gt;
(s1&#39; = s -&gt; <span class="kr">forall</span> <span class="nv">n</span> : nat, get n s1&#39; = get n s) -&gt;
String a0 s1&#39; = String a0 s</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="String-v-chk27" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : string, (<span class="kr">forall</span> <span class="nv">n</span> : nat, get n s1&#39; = get n s0) &lt;-&gt; s1&#39; = s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chk27"><hr></label><div class="goal-conclusion"><span class="highlight">String a s1&#39; = String a0 s -&gt;
<span class="kr">forall</span> <span class="nv">n</span> : nat,
<span class="kr">match</span> n <span class="kr">with</span>
| <span class="mi">0</span> =&gt; Some a
| S n&#39; =&gt; get n&#39; s1&#39;
<span class="kr">end</span> =
<span class="kr">match</span> n <span class="kr">with</span>
| <span class="mi">0</span> =&gt; Some a0
| S n&#39; =&gt; get n&#39; s
<span class="kr">end</span></span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk28" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk28"><span class="highlight"><span class="nb">intros</span> H0; <span class="nb">rewrite</span> H0; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : string, (<span class="kr">forall</span> <span class="nv">n</span> : nat, get n s1&#39; = get n s0) &lt;-&gt; s1&#39; = s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">n</span> : nat,
<span class="kr">match</span> n <span class="kr">with</span>
| <span class="mi">0</span> =&gt; Some a
| S n&#39; =&gt; get n&#39; s1&#39;
<span class="kr">end</span> =
<span class="kr">match</span> n <span class="kr">with</span>
| <span class="mi">0</span> =&gt; Some a0
| S n&#39; =&gt; get n&#39; s
<span class="kr">end</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Some a = Some a0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a = a0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(<span class="kr">forall</span> <span class="nv">n</span> : nat, get n s1&#39; = get n s) -&gt; s1&#39; = s</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">n</span> : nat, get n s1&#39; = get n s</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="String-v-chk29" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : string, (<span class="kr">forall</span> <span class="nv">n</span> : nat, get n s1&#39; = get n s0) &lt;-&gt; s1&#39; = s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chk29"><hr></label><div class="goal-conclusion"><span class="highlight">String a s1&#39; = String a0 s -&gt;
<span class="kr">forall</span> <span class="nv">n</span> : nat,
<span class="kr">match</span> n <span class="kr">with</span>
| <span class="mi">0</span> =&gt; Some a
| S n&#39; =&gt; get n&#39; s1&#39;
<span class="kr">end</span> =
<span class="kr">match</span> n <span class="kr">with</span>
| <span class="mi">0</span> =&gt; Some a0
| S n&#39; =&gt; get n&#39; s
<span class="kr">end</span></span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk2a" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk2a"><span class="highlight"><span class="nb">intros</span> n; <span class="bp">exact</span> (H (S n)).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : string, (<span class="kr">forall</span> <span class="nv">n</span> : nat, get n s1&#39; = get n s0) &lt;-&gt; s1&#39; = s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">String a s1&#39; = String a0 s -&gt;
<span class="kr">forall</span> <span class="nv">n</span> : nat,
<span class="kr">match</span> n <span class="kr">with</span>
| <span class="mi">0</span> =&gt; Some a
| S n&#39; =&gt; get n&#39; s1&#39;
<span class="kr">end</span> =
<span class="kr">match</span> n <span class="kr">with</span>
| <span class="mi">0</span> =&gt; Some a0
| S n&#39; =&gt; get n&#39; s
<span class="kr">end</span></span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk2b" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk2b"><span class="highlight"><span class="nb">intros</span> H; <span class="nb">injection</span> H <span class="kr">as</span> H1 H2.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : string, (<span class="kr">forall</span> <span class="nv">n</span> : nat, get n s1&#39; = get n s0) &lt;-&gt; s1&#39; = s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a = a0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">s1&#39; = s</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">n</span> : nat,
<span class="kr">match</span> n <span class="kr">with</span>
| <span class="mi">0</span> =&gt; Some a
| S n&#39; =&gt; get n&#39; s1&#39;
<span class="kr">end</span> =
<span class="kr">match</span> n <span class="kr">with</span>
| <span class="mi">0</span> =&gt; Some a0
| S n&#39; =&gt; get n&#39; s
<span class="kr">end</span></span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk2c" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk2c"><span class="highlight"><span class="nb">rewrite</span> H2; <span class="nb">trivial</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : string, (<span class="kr">forall</span> <span class="nv">n</span> : nat, get n s1&#39; = get n s0) &lt;-&gt; s1&#39; = s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a = a0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">s1&#39; = s</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">n</span> : nat,
<span class="kr">match</span> n <span class="kr">with</span>
| <span class="mi">0</span> =&gt; Some a
| S n&#39; =&gt; get n&#39; s
<span class="kr">end</span> =
<span class="kr">match</span> n <span class="kr">with</span>
| <span class="mi">0</span> =&gt; Some a0
| S n&#39; =&gt; get n&#39; s
<span class="kr">end</span></span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">rewrite</span> H1; <span class="nb">auto</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span></span></pre><div class="doc">
The first elements of <span class="inlinecode"><span class="id" title="var">s1</span></span> <span class="inlinecode">++</span> <span class="inlinecode"><span class="id" title="var">s2</span></span> are the ones of <span class="inlinecode"><span class="id" title="var">s1</span></span>
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk2d" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk2d"><span class="highlight"><span class="kn">Theorem</span> <span class="nf">append_correct1</span> :
 <span class="kr">forall</span> (<span class="nv">s1</span> <span class="nv">s2</span> : string) (<span class="nv">n</span> : nat),
 n &lt; length s1 -&gt; get n s1 = get n (s1 ++ s2).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">s1</span> <span class="nv">s2</span> : string) (<span class="nv">n</span> : nat),
n &lt; length s1 -&gt; get n s1 = get n (s1 ++ s2)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk2e" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk2e"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">s1</span> <span class="nv">s2</span> : string) (<span class="nv">n</span> : nat),
n &lt; length s1 -&gt; get n s1 = get n (s1 ++ s2)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk2f" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk2f"><span class="highlight"><span class="nb">intros</span> s1; <span class="nb">elim</span> s1; <span class="nb">simpl</span>; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">s2</span> : string) (<span class="nv">n</span> : nat),
n &lt; <span class="mi">0</span> -&gt; None = get n s2</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="String-v-chk30" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chk30"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">a</span> : ascii) (<span class="nv">s</span> : string),
(<span class="kr">forall</span> (<span class="nv">s2</span> : string) (<span class="nv">n</span> : nat),
 n &lt; length s -&gt; get n s = get n (s ++ s2)) -&gt;
<span class="kr">forall</span> (<span class="nv">s2</span> : string) (<span class="nv">n</span> : nat),
n &lt; S (length s) -&gt;
<span class="kr">match</span> n <span class="kr">with</span>
| <span class="mi">0</span> =&gt; Some a
| S n&#39; =&gt; get n&#39; s
<span class="kr">end</span> =
<span class="kr">match</span> n <span class="kr">with</span>
| <span class="mi">0</span> =&gt; Some a
| S n&#39; =&gt; get n&#39; (s ++ s2)
<span class="kr">end</span></span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk31" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk31"><span class="highlight"><span class="nb">intros</span> s2 n H; <span class="nb">inversion</span> H.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">a</span> : ascii) (<span class="nv">s</span> : string),
(<span class="kr">forall</span> (<span class="nv">s2</span> : string) (<span class="nv">n</span> : nat),
 n &lt; length s -&gt; get n s = get n (s ++ s2)) -&gt;
<span class="kr">forall</span> (<span class="nv">s2</span> : string) (<span class="nv">n</span> : nat),
n &lt; S (length s) -&gt;
<span class="kr">match</span> n <span class="kr">with</span>
| <span class="mi">0</span> =&gt; Some a
| S n&#39; =&gt; get n&#39; s
<span class="kr">end</span> =
<span class="kr">match</span> n <span class="kr">with</span>
| <span class="mi">0</span> =&gt; Some a
| S n&#39; =&gt; get n&#39; (s ++ s2)
<span class="kr">end</span></span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk32" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk32"><span class="highlight"><span class="nb">intros</span> a s1&#39; Rec s2 n; <span class="nb">case</span> n; <span class="nb">simpl</span>; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">s0</span> : string) (<span class="nv">n0</span> : nat),
n0 &lt; length s1&#39; -&gt; get n0 s1&#39; = get n0 (s1&#39; ++ s0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">n0</span> : nat,
S n0 &lt; S (length s1&#39;) -&gt;
get n0 s1&#39; = get n0 (s1&#39; ++ s2)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk33" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk33"><span class="highlight"><span class="nb">intros</span> n0 H; <span class="nb">apply</span> Rec; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">s0</span> : string) (<span class="nv">n1</span> : nat),
n1 &lt; length s1&#39; -&gt; get n1 s1&#39; = get n1 (s1&#39; ++ s0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, n0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S n0 &lt; S (length s1&#39;)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">n0 &lt; length s1&#39;</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">apply</span> lt_S_n; <span class="nb">auto</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span></span></pre><div class="doc">
The last elements of <span class="inlinecode"><span class="id" title="var">s1</span></span> <span class="inlinecode">++</span> <span class="inlinecode"><span class="id" title="var">s2</span></span> are the ones of <span class="inlinecode"><span class="id" title="var">s2</span></span>
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk34" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk34"><span class="highlight"><span class="kn">Theorem</span> <span class="nf">append_correct2</span> :
 <span class="kr">forall</span> (<span class="nv">s1</span> <span class="nv">s2</span> : string) (<span class="nv">n</span> : nat),
 get n s2 = get (n + length s1) (s1 ++ s2).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">s1</span> <span class="nv">s2</span> : string) (<span class="nv">n</span> : nat),
get n s2 = get (n + length s1) (s1 ++ s2)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk35" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk35"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">s1</span> <span class="nv">s2</span> : string) (<span class="nv">n</span> : nat),
get n s2 = get (n + length s1) (s1 ++ s2)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk36" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk36"><span class="highlight"><span class="nb">intros</span> s1; <span class="nb">elim</span> s1; <span class="nb">simpl</span>; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">s2</span> : string) (<span class="nv">n</span> : nat),
get n s2 = get (n + <span class="mi">0</span>) s2</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="String-v-chk37" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chk37"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">a</span> : ascii) (<span class="nv">s</span> : string),
(<span class="kr">forall</span> (<span class="nv">s2</span> : string) (<span class="nv">n</span> : nat),
 get n s2 = get (n + length s) (s ++ s2)) -&gt;
<span class="kr">forall</span> (<span class="nv">s2</span> : string) (<span class="nv">n</span> : nat),
get n s2 =
<span class="kr">match</span> n + S (length s) <span class="kr">with</span>
| <span class="mi">0</span> =&gt; Some a
| S n&#39; =&gt; get n&#39; (s ++ s2)
<span class="kr">end</span></span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk38" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk38"><span class="highlight"><span class="nb">intros</span> s2 n; <span class="nb">rewrite</span> plus_comm; <span class="nb">simpl</span>; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">a</span> : ascii) (<span class="nv">s</span> : string),
(<span class="kr">forall</span> (<span class="nv">s2</span> : string) (<span class="nv">n</span> : nat),
 get n s2 = get (n + length s) (s ++ s2)) -&gt;
<span class="kr">forall</span> (<span class="nv">s2</span> : string) (<span class="nv">n</span> : nat),
get n s2 =
<span class="kr">match</span> n + S (length s) <span class="kr">with</span>
| <span class="mi">0</span> =&gt; Some a
| S n&#39; =&gt; get n&#39; (s ++ s2)
<span class="kr">end</span></span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk39" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk39"><span class="highlight"><span class="nb">intros</span> a s1&#39; Rec s2 n; <span class="nb">case</span> n; <span class="nb">simpl</span>; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">s0</span> : string) (<span class="nv">n0</span> : nat),
get n0 s0 = get (n0 + length s1&#39;) (s1&#39; ++ s0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">get <span class="mi">0</span> s2 = get (length s1&#39;) (s1&#39; ++ s2)</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="String-v-chk3a" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">s0</span> : string) (<span class="nv">n0</span> : nat),
get n0 s0 = get (n0 + length s1&#39;) (s1&#39; ++ s0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chk3a"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">n0</span> : nat,
get (S n0) s2 = get (n0 + S (length s1&#39;)) (s1&#39; ++ s2)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk3b" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk3b"><span class="highlight"><span class="nb">generalize</span> (Rec s2 O); <span class="nb">simpl</span>; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">s0</span> : string) (<span class="nv">n0</span> : nat),
get n0 s0 = get (n0 + length s1&#39;) (s1&#39; ++ s0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">n0</span> : nat,
get (S n0) s2 = get (n0 + S (length s1&#39;)) (s1&#39; ++ s2)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk3c" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk3c"><span class="highlight"><span class="nb">intros</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">s0</span> : string) (<span class="nv">n1</span> : nat),
get n1 s0 = get (n1 + length s1&#39;) (s1&#39; ++ s0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, n0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">get (S n0) s2 = get (n0 + S (length s1&#39;)) (s1&#39; ++ s2)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">rewrite</span> &lt;- Plus.plus_Snm_nSm; <span class="nb">auto</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span></span></pre><div class="doc">
<a name="lab3"></a><h3 class="section">Substrings</h3>
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --></pre><div class="doc">
<span class="inlinecode"><span class="id" title="var">substring</span></span> <span class="inlinecode"><span class="id" title="var">n</span></span> <span class="inlinecode"><span class="id" title="var">m</span></span> <span class="inlinecode"><span class="id" title="var">s</span></span> returns the substring of <span class="inlinecode"><span class="id" title="var">s</span></span> that starts
    at position <span class="inlinecode"><span class="id" title="var">n</span></span> and of length <span class="inlinecode"><span class="id" title="var">m</span></span>;
    if this does not make sense it returns <span class="inlinecode">""</span>
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Fixpoint</span> <span class="nf">substring</span> (<span class="nv">n</span> <span class="nv">m</span> : nat) (<span class="nv">s</span> : string) : string :=
  <span class="kr">match</span> n, m, s <span class="kr">with</span>
  | O, O, _ =&gt; EmptyString
  | O, S m&#39;, EmptyString =&gt; s
  | O, S m&#39;, String c s&#39; =&gt; String c (substring <span class="mi">0</span> m&#39; s&#39;)
  | S n&#39;, _, EmptyString =&gt; s
  | S n&#39;, _, String c s&#39; =&gt; substring n&#39; m s&#39;
  <span class="kr">end</span>.</span></span></span></pre><div class="doc">
The substring is included in the initial string 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk3d" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk3d"><span class="highlight"><span class="kn">Theorem</span> <span class="nf">substring_correct1</span> :
 <span class="kr">forall</span> (<span class="nv">s</span> : string) (<span class="nv">n</span> <span class="nv">m</span> <span class="nv">p</span> : nat),
 p &lt; m -&gt; get p (substring n m s) = get (p + n) s.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">s</span> : string) (<span class="nv">n</span> <span class="nv">m</span> <span class="nv">p</span> : nat),
p &lt; m -&gt; get p (substring n m s) = get (p + n) s</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk3e" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk3e"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">s</span> : string) (<span class="nv">n</span> <span class="nv">m</span> <span class="nv">p</span> : nat),
p &lt; m -&gt; get p (substring n m s) = get (p + n) s</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk3f" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk3f"><span class="highlight"><span class="nb">intros</span> s; <span class="nb">elim</span> s; <span class="nb">simpl</span>; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">n</span> <span class="nv">m</span> <span class="nv">p</span> : nat,
p &lt; m -&gt;
get p
  <span class="kr">match</span> n <span class="kr">with</span>
  | <span class="mi">0</span> =&gt; <span class="kr">match</span> m <span class="kr">with</span>
         | <span class="mi">0</span> | _ =&gt; EmptyString
         <span class="kr">end</span>
  | S _ =&gt; EmptyString
  <span class="kr">end</span> = None</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="String-v-chk40" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chk40"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">a</span> : ascii) (<span class="nv">s0</span> : string),
(<span class="kr">forall</span> <span class="nv">n</span> <span class="nv">m</span> <span class="nv">p</span> : nat,
 p &lt; m -&gt; get p (substring n m s0) = get (p + n) s0) -&gt;
<span class="kr">forall</span> <span class="nv">n</span> <span class="nv">m</span> <span class="nv">p</span> : nat,
p &lt; m -&gt;
get p
  <span class="kr">match</span> n <span class="kr">with</span>
  | <span class="mi">0</span> =&gt;
      <span class="kr">match</span> m <span class="kr">with</span>
      | <span class="mi">0</span> =&gt; EmptyString
      | S m&#39; =&gt; String a (substring <span class="mi">0</span> m&#39; s0)
      <span class="kr">end</span>
  | S n&#39; =&gt; substring n&#39; m s0
  <span class="kr">end</span> =
<span class="kr">match</span> p + n <span class="kr">with</span>
| <span class="mi">0</span> =&gt; Some a
| S n&#39; =&gt; get n&#39; s0
<span class="kr">end</span></span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk41" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk41"><span class="highlight"><span class="nb">intros</span> n; <span class="nb">case</span> n; <span class="nb">simpl</span>; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">m</span> <span class="nv">p</span> : nat,
p &lt; m -&gt;
get p <span class="kr">match</span> m <span class="kr">with</span>
      | <span class="mi">0</span> | _ =&gt; EmptyString
      <span class="kr">end</span> = None</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="String-v-chk42" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chk42"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">a</span> : ascii) (<span class="nv">s0</span> : string),
(<span class="kr">forall</span> <span class="nv">n</span> <span class="nv">m</span> <span class="nv">p</span> : nat,
 p &lt; m -&gt; get p (substring n m s0) = get (p + n) s0) -&gt;
<span class="kr">forall</span> <span class="nv">n</span> <span class="nv">m</span> <span class="nv">p</span> : nat,
p &lt; m -&gt;
get p
  <span class="kr">match</span> n <span class="kr">with</span>
  | <span class="mi">0</span> =&gt;
      <span class="kr">match</span> m <span class="kr">with</span>
      | <span class="mi">0</span> =&gt; EmptyString
      | S m&#39; =&gt; String a (substring <span class="mi">0</span> m&#39; s0)
      <span class="kr">end</span>
  | S n&#39; =&gt; substring n&#39; m s0
  <span class="kr">end</span> =
<span class="kr">match</span> p + n <span class="kr">with</span>
| <span class="mi">0</span> =&gt; Some a
| S n&#39; =&gt; get n&#39; s0
<span class="kr">end</span></span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk43" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk43"><span class="highlight"><span class="nb">intros</span> m; <span class="nb">case</span> m; <span class="nb">simpl</span>; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">a</span> : ascii) (<span class="nv">s0</span> : string),
(<span class="kr">forall</span> <span class="nv">n</span> <span class="nv">m</span> <span class="nv">p</span> : nat,
 p &lt; m -&gt; get p (substring n m s0) = get (p + n) s0) -&gt;
<span class="kr">forall</span> <span class="nv">n</span> <span class="nv">m</span> <span class="nv">p</span> : nat,
p &lt; m -&gt;
get p
  <span class="kr">match</span> n <span class="kr">with</span>
  | <span class="mi">0</span> =&gt;
      <span class="kr">match</span> m <span class="kr">with</span>
      | <span class="mi">0</span> =&gt; EmptyString
      | S m&#39; =&gt; String a (substring <span class="mi">0</span> m&#39; s0)
      <span class="kr">end</span>
  | S n&#39; =&gt; substring n&#39; m s0
  <span class="kr">end</span> =
<span class="kr">match</span> p + n <span class="kr">with</span>
| <span class="mi">0</span> =&gt; Some a
| S n&#39; =&gt; get n&#39; s0
<span class="kr">end</span></span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk44" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk44"><span class="highlight"><span class="nb">intros</span> a s&#39; Rec; <span class="nb">intros</span> n; <span class="nb">case</span> n; <span class="nb">simpl</span>; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">n0</span> <span class="nv">m</span> <span class="nv">p</span> : nat, p &lt; m -&gt; get p (substring n0 m s&#39;) = get (p + n0) s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">m</span> <span class="nv">p</span> : nat,
p &lt; m -&gt;
get p
  <span class="kr">match</span> m <span class="kr">with</span>
  | <span class="mi">0</span> =&gt; EmptyString
  | S m&#39; =&gt; String a (substring <span class="mi">0</span> m&#39; s&#39;)
  <span class="kr">end</span> =
<span class="kr">match</span> p + <span class="mi">0</span> <span class="kr">with</span>
| <span class="mi">0</span> =&gt; Some a
| S n&#39; =&gt; get n&#39; s&#39;
<span class="kr">end</span></span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="String-v-chk45" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">n0</span> <span class="nv">m</span> <span class="nv">p</span> : nat, p &lt; m -&gt; get p (substring n0 m s&#39;) = get (p + n0) s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chk45"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">n0</span> <span class="nv">m</span> <span class="nv">p</span> : nat,
p &lt; m -&gt;
get p (substring n0 m s&#39;) =
<span class="kr">match</span> p + S n0 <span class="kr">with</span>
| <span class="mi">0</span> =&gt; Some a
| S n&#39; =&gt; get n&#39; s&#39;
<span class="kr">end</span></span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk46" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk46"><span class="highlight"><span class="nb">intros</span> m; <span class="nb">case</span> m; <span class="nb">simpl</span>; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">n0</span> <span class="nv">m0</span> <span class="nv">p</span> : nat, p &lt; m0 -&gt; get p (substring n0 m0 s&#39;) = get (p + n0) s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">p</span> : nat,
p &lt; <span class="mi">0</span> -&gt;
None =
<span class="kr">match</span> p + <span class="mi">0</span> <span class="kr">with</span>
| <span class="mi">0</span> =&gt; Some a
| S n&#39; =&gt; get n&#39; s&#39;
<span class="kr">end</span></span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="String-v-chk47" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">n0</span> <span class="nv">m0</span> <span class="nv">p</span> : nat, p &lt; m0 -&gt; get p (substring n0 m0 s&#39;) = get (p + n0) s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chk47"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">n0</span> <span class="nv">p</span> : nat,
p &lt; S n0 -&gt;
<span class="kr">match</span> p <span class="kr">with</span>
| <span class="mi">0</span> =&gt; Some a
| S n&#39; =&gt; get n&#39; (substring <span class="mi">0</span> n0 s&#39;)
<span class="kr">end</span> =
<span class="kr">match</span> p + <span class="mi">0</span> <span class="kr">with</span>
| <span class="mi">0</span> =&gt; Some a
| S n&#39; =&gt; get n&#39; s&#39;
<span class="kr">end</span></span></div></blockquote><input class="coq-extra-goal-toggle" id="String-v-chk48" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">n0</span> <span class="nv">m</span> <span class="nv">p</span> : nat, p &lt; m -&gt; get p (substring n0 m s&#39;) = get (p + n0) s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chk48"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">n0</span> <span class="nv">m</span> <span class="nv">p</span> : nat,
p &lt; m -&gt;
get p (substring n0 m s&#39;) =
<span class="kr">match</span> p + S n0 <span class="kr">with</span>
| <span class="mi">0</span> =&gt; Some a
| S n&#39; =&gt; get n&#39; s&#39;
<span class="kr">end</span></span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk49" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk49"><span class="highlight"><span class="nb">intros</span> p H; <span class="nb">inversion</span> H.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">n0</span> <span class="nv">m0</span> <span class="nv">p</span> : nat, p &lt; m0 -&gt; get p (substring n0 m0 s&#39;) = get (p + n0) s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">n0</span> <span class="nv">p</span> : nat,
p &lt; S n0 -&gt;
<span class="kr">match</span> p <span class="kr">with</span>
| <span class="mi">0</span> =&gt; Some a
| S n&#39; =&gt; get n&#39; (substring <span class="mi">0</span> n0 s&#39;)
<span class="kr">end</span> =
<span class="kr">match</span> p + <span class="mi">0</span> <span class="kr">with</span>
| <span class="mi">0</span> =&gt; Some a
| S n&#39; =&gt; get n&#39; s&#39;
<span class="kr">end</span></span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="String-v-chk4a" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">n0</span> <span class="nv">m</span> <span class="nv">p</span> : nat, p &lt; m -&gt; get p (substring n0 m s&#39;) = get (p + n0) s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chk4a"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">n0</span> <span class="nv">m</span> <span class="nv">p</span> : nat,
p &lt; m -&gt;
get p (substring n0 m s&#39;) =
<span class="kr">match</span> p + S n0 <span class="kr">with</span>
| <span class="mi">0</span> =&gt; Some a
| S n&#39; =&gt; get n&#39; s&#39;
<span class="kr">end</span></span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk4b" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk4b"><span class="highlight"><span class="nb">intros</span> m&#39; p; <span class="nb">case</span> p; <span class="nb">simpl</span>; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">n0</span> <span class="nv">m0</span> <span class="nv">p0</span> : nat,
p0 &lt; m0 -&gt; get p0 (substring n0 m0 s&#39;) = get (p0 + n0) s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m, m', p</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">n0</span> : nat,
S n0 &lt; S m&#39; -&gt;
get n0 (substring <span class="mi">0</span> m&#39; s&#39;) = get (n0 + <span class="mi">0</span>) s&#39;</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="String-v-chk4c" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">n0</span> <span class="nv">m</span> <span class="nv">p</span> : nat, p &lt; m -&gt; get p (substring n0 m s&#39;) = get (p + n0) s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chk4c"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">n0</span> <span class="nv">m</span> <span class="nv">p</span> : nat,
p &lt; m -&gt;
get p (substring n0 m s&#39;) =
<span class="kr">match</span> p + S n0 <span class="kr">with</span>
| <span class="mi">0</span> =&gt; Some a
| S n&#39; =&gt; get n&#39; s&#39;
<span class="kr">end</span></span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk4d" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk4d"><span class="highlight"><span class="nb">intros</span> n0 H; <span class="nb">apply</span> Rec; <span class="nb">simpl</span>; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">n1</span> <span class="nv">m0</span> <span class="nv">p0</span> : nat,
p0 &lt; m0 -&gt; get p0 (substring n1 m0 s&#39;) = get (p0 + n1) s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m, m', p, n0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S n0 &lt; S m&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">n0 &lt; m&#39;</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="String-v-chk4e" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">n0</span> <span class="nv">m</span> <span class="nv">p</span> : nat, p &lt; m -&gt; get p (substring n0 m s&#39;) = get (p + n0) s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chk4e"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">n0</span> <span class="nv">m</span> <span class="nv">p</span> : nat,
p &lt; m -&gt;
get p (substring n0 m s&#39;) =
<span class="kr">match</span> p + S n0 <span class="kr">with</span>
| <span class="mi">0</span> =&gt; Some a
| S n&#39; =&gt; get n&#39; s&#39;
<span class="kr">end</span></span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk4f" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk4f"><span class="highlight"><span class="nb">apply</span> Lt.lt_S_n; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">n0</span> <span class="nv">m</span> <span class="nv">p</span> : nat, p &lt; m -&gt; get p (substring n0 m s&#39;) = get (p + n0) s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">n0</span> <span class="nv">m</span> <span class="nv">p</span> : nat,
p &lt; m -&gt;
get p (substring n0 m s&#39;) =
<span class="kr">match</span> p + S n0 <span class="kr">with</span>
| <span class="mi">0</span> =&gt; Some a
| S n&#39; =&gt; get n&#39; s&#39;
<span class="kr">end</span></span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">intros</span> n&#39; m p H; <span class="nb">rewrite</span> &lt;- Plus.plus_Snm_nSm; <span class="nb">simpl</span>; <span class="nb">auto</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span></span></pre><div class="doc">
The substring has at most <span class="inlinecode"><span class="id" title="var">m</span></span> elements 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk50" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk50"><span class="highlight"><span class="kn">Theorem</span> <span class="nf">substring_correct2</span> :
 <span class="kr">forall</span> (<span class="nv">s</span> : string) (<span class="nv">n</span> <span class="nv">m</span> <span class="nv">p</span> : nat), m &lt;= p -&gt; get p (substring n m s) = None.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">s</span> : string) (<span class="nv">n</span> <span class="nv">m</span> <span class="nv">p</span> : nat),
m &lt;= p -&gt; get p (substring n m s) = None</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk51" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk51"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">s</span> : string) (<span class="nv">n</span> <span class="nv">m</span> <span class="nv">p</span> : nat),
m &lt;= p -&gt; get p (substring n m s) = None</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk52" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk52"><span class="highlight"><span class="nb">intros</span> s; <span class="nb">elim</span> s; <span class="nb">simpl</span>; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">n</span> <span class="nv">m</span> <span class="nv">p</span> : nat,
m &lt;= p -&gt;
get p
  <span class="kr">match</span> n <span class="kr">with</span>
  | <span class="mi">0</span> =&gt; <span class="kr">match</span> m <span class="kr">with</span>
         | <span class="mi">0</span> | _ =&gt; EmptyString
         <span class="kr">end</span>
  | S _ =&gt; EmptyString
  <span class="kr">end</span> = None</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="String-v-chk53" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chk53"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">a</span> : ascii) (<span class="nv">s0</span> : string),
(<span class="kr">forall</span> <span class="nv">n</span> <span class="nv">m</span> <span class="nv">p</span> : nat,
 m &lt;= p -&gt; get p (substring n m s0) = None) -&gt;
<span class="kr">forall</span> <span class="nv">n</span> <span class="nv">m</span> <span class="nv">p</span> : nat,
m &lt;= p -&gt;
get p
  <span class="kr">match</span> n <span class="kr">with</span>
  | <span class="mi">0</span> =&gt;
      <span class="kr">match</span> m <span class="kr">with</span>
      | <span class="mi">0</span> =&gt; EmptyString
      | S m&#39; =&gt; String a (substring <span class="mi">0</span> m&#39; s0)
      <span class="kr">end</span>
  | S n&#39; =&gt; substring n&#39; m s0
  <span class="kr">end</span> = None</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk54" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk54"><span class="highlight"><span class="nb">intros</span> n; <span class="nb">case</span> n; <span class="nb">simpl</span>; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">m</span> <span class="nv">p</span> : nat,
m &lt;= p -&gt;
get p <span class="kr">match</span> m <span class="kr">with</span>
      | <span class="mi">0</span> | _ =&gt; EmptyString
      <span class="kr">end</span> = None</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="String-v-chk55" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chk55"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">a</span> : ascii) (<span class="nv">s0</span> : string),
(<span class="kr">forall</span> <span class="nv">n</span> <span class="nv">m</span> <span class="nv">p</span> : nat,
 m &lt;= p -&gt; get p (substring n m s0) = None) -&gt;
<span class="kr">forall</span> <span class="nv">n</span> <span class="nv">m</span> <span class="nv">p</span> : nat,
m &lt;= p -&gt;
get p
  <span class="kr">match</span> n <span class="kr">with</span>
  | <span class="mi">0</span> =&gt;
      <span class="kr">match</span> m <span class="kr">with</span>
      | <span class="mi">0</span> =&gt; EmptyString
      | S m&#39; =&gt; String a (substring <span class="mi">0</span> m&#39; s0)
      <span class="kr">end</span>
  | S n&#39; =&gt; substring n&#39; m s0
  <span class="kr">end</span> = None</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk56" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk56"><span class="highlight"><span class="nb">intros</span> m; <span class="nb">case</span> m; <span class="nb">simpl</span>; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">a</span> : ascii) (<span class="nv">s0</span> : string),
(<span class="kr">forall</span> <span class="nv">n</span> <span class="nv">m</span> <span class="nv">p</span> : nat,
 m &lt;= p -&gt; get p (substring n m s0) = None) -&gt;
<span class="kr">forall</span> <span class="nv">n</span> <span class="nv">m</span> <span class="nv">p</span> : nat,
m &lt;= p -&gt;
get p
  <span class="kr">match</span> n <span class="kr">with</span>
  | <span class="mi">0</span> =&gt;
      <span class="kr">match</span> m <span class="kr">with</span>
      | <span class="mi">0</span> =&gt; EmptyString
      | S m&#39; =&gt; String a (substring <span class="mi">0</span> m&#39; s0)
      <span class="kr">end</span>
  | S n&#39; =&gt; substring n&#39; m s0
  <span class="kr">end</span> = None</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk57" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk57"><span class="highlight"><span class="nb">intros</span> a s&#39; Rec; <span class="nb">intros</span> n; <span class="nb">case</span> n; <span class="nb">simpl</span>; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">n0</span> <span class="nv">m</span> <span class="nv">p</span> : nat, m &lt;= p -&gt; get p (substring n0 m s&#39;) = None</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">m</span> <span class="nv">p</span> : nat,
m &lt;= p -&gt;
get p
  <span class="kr">match</span> m <span class="kr">with</span>
  | <span class="mi">0</span> =&gt; EmptyString
  | S m&#39; =&gt; String a (substring <span class="mi">0</span> m&#39; s&#39;)
  <span class="kr">end</span> = None</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk58" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk58"><span class="highlight"><span class="nb">intros</span> m; <span class="nb">case</span> m; <span class="nb">simpl</span>; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">n0</span> <span class="nv">m0</span> <span class="nv">p</span> : nat, m0 &lt;= p -&gt; get p (substring n0 m0 s&#39;) = None</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">n0</span> <span class="nv">p</span> : nat,
S n0 &lt;= p -&gt;
<span class="kr">match</span> p <span class="kr">with</span>
| <span class="mi">0</span> =&gt; Some a
| S n&#39; =&gt; get n&#39; (substring <span class="mi">0</span> n0 s&#39;)
<span class="kr">end</span> = None</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk59" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk59"><span class="highlight"><span class="nb">intros</span> m&#39; p; <span class="nb">case</span> p; <span class="nb">simpl</span>; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">n0</span> <span class="nv">m0</span> <span class="nv">p0</span> : nat, m0 &lt;= p0 -&gt; get p0 (substring n0 m0 s&#39;) = None</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m, m', p</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">S m&#39; &lt;= <span class="mi">0</span> -&gt; Some a = None</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="String-v-chk5a" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">n0</span> <span class="nv">m0</span> <span class="nv">p0</span> : nat, m0 &lt;= p0 -&gt; get p0 (substring n0 m0 s&#39;) = None</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m, m', p</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chk5a"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">n0</span> : nat,
S m&#39; &lt;= S n0 -&gt; get n0 (substring <span class="mi">0</span> m&#39; s&#39;) = None</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk5b" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk5b"><span class="highlight"><span class="nb">intros</span> H; <span class="nb">inversion</span> H.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">n0</span> <span class="nv">m0</span> <span class="nv">p0</span> : nat, m0 &lt;= p0 -&gt; get p0 (substring n0 m0 s&#39;) = None</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m, m', p</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">n0</span> : nat,
S m&#39; &lt;= S n0 -&gt; get n0 (substring <span class="mi">0</span> m&#39; s&#39;) = None</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk5c" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk5c"><span class="highlight"><span class="nb">intros</span> n0 H; <span class="nb">apply</span> Rec; <span class="nb">simpl</span>; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">n1</span> <span class="nv">m0</span> <span class="nv">p0</span> : nat, m0 &lt;= p0 -&gt; get p0 (substring n1 m0 s&#39;) = None</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m, m', p, n0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S m&#39; &lt;= S n0</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">m&#39; &lt;= n0</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">apply</span> Le.le_S_n; <span class="nb">auto</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span></span></pre><div class="doc">
<a name="lab4"></a><h3 class="section">Concatenating lists of strings</h3>
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --></pre><div class="doc">
<span class="inlinecode"><span class="id" title="var">concat</span></span> <span class="inlinecode"><span class="id" title="var">sep</span></span> <span class="inlinecode"><span class="id" title="var">sl</span></span> concatenates the list of strings <span class="inlinecode"><span class="id" title="var">sl</span></span>, inserting
    the separator string <span class="inlinecode"><span class="id" title="var">sep</span></span> between each. 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Fixpoint</span> <span class="nf">concat</span> (<span class="nv">sep</span> : string) (<span class="nv">ls</span> : list string) :=
  <span class="kr">match</span> ls <span class="kr">with</span>
  | nil =&gt; EmptyString
  | cons x nil =&gt; x
  | cons x xs =&gt; x ++ sep ++ concat sep xs
  <span class="kr">end</span>.</span></span></span></pre><div class="doc">
<a name="lab5"></a><h3 class="section">Test functions</h3>
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --></pre><div class="doc">
Test if <span class="inlinecode"><span class="id" title="var">s1</span></span> is a prefix of <span class="inlinecode"><span class="id" title="var">s2</span></span>
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Fixpoint</span> <span class="nf">prefix</span> (<span class="nv">s1</span> <span class="nv">s2</span> : string) {<span class="nv">struct</span> <span class="nv">s2</span>} : bool :=
  <span class="kr">match</span> s1 <span class="kr">with</span>
  | EmptyString =&gt; true
  | String a s1&#39; =&gt;
      <span class="kr">match</span> s2 <span class="kr">with</span>
      | EmptyString =&gt; false
      | String b s2&#39; =&gt;
          <span class="kr">match</span> ascii_dec a b <span class="kr">with</span>
          | <span class="nb">left</span> _ =&gt; prefix s1&#39; s2&#39;
          | <span class="nb">right</span> _ =&gt; false
          <span class="kr">end</span>
      <span class="kr">end</span>
  <span class="kr">end</span>.</span></span></span></pre><div class="doc">
If <span class="inlinecode"><span class="id" title="var">s1</span></span> is a prefix of <span class="inlinecode"><span class="id" title="var">s2</span></span>, it is the <span class="inlinecode"><span class="id" title="var">substring</span></span> of length
    <span class="inlinecode"><span class="id" title="var">length</span></span> <span class="inlinecode"><span class="id" title="var">s1</span></span> starting at position <span class="inlinecode"><span class="id" title="var">O</span></span> of <span class="inlinecode"><span class="id" title="var">s2</span></span>
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk5d" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk5d"><span class="highlight"><span class="kn">Theorem</span> <span class="nf">prefix_correct</span> :
 <span class="kr">forall</span> <span class="nv">s1</span> <span class="nv">s2</span> : string,
 prefix s1 s2 = true &lt;-&gt; substring <span class="mi">0</span> (length s1) s2 = s1.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">s1</span> <span class="nv">s2</span> : string,
prefix s1 s2 = true &lt;-&gt;
substring <span class="mi">0</span> (length s1) s2 = s1</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk5e" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk5e"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">s1</span> <span class="nv">s2</span> : string,
prefix s1 s2 = true &lt;-&gt;
substring <span class="mi">0</span> (length s1) s2 = s1</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk5f" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk5f"><span class="highlight"><span class="nb">intros</span> s1; <span class="nb">elim</span> s1; <span class="nb">simpl</span>; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">s2</span> : string,
prefix EmptyString s2 = true &lt;-&gt;
substring <span class="mi">0</span> <span class="mi">0</span> s2 = EmptyString</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="String-v-chk60" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chk60"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">a</span> : ascii) (<span class="nv">s</span> : string),
(<span class="kr">forall</span> <span class="nv">s2</span> : string,
 prefix s s2 = true &lt;-&gt; substring <span class="mi">0</span> (length s) s2 = s) -&gt;
<span class="kr">forall</span> <span class="nv">s2</span> : string,
prefix (String a s) s2 = true &lt;-&gt;
substring <span class="mi">0</span> (S (length s)) s2 = String a s</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk61" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk61"><span class="highlight"><span class="nb">intros</span> s2; <span class="nb">case</span> s2; <span class="nb">simpl</span>; <span class="nb">split</span>; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">a</span> : ascii) (<span class="nv">s</span> : string),
(<span class="kr">forall</span> <span class="nv">s2</span> : string,
 prefix s s2 = true &lt;-&gt; substring <span class="mi">0</span> (length s) s2 = s) -&gt;
<span class="kr">forall</span> <span class="nv">s2</span> : string,
prefix (String a s) s2 = true &lt;-&gt;
substring <span class="mi">0</span> (S (length s)) s2 = String a s</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk62" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk62"><span class="highlight"><span class="nb">intros</span> a s1&#39; Rec s2; <span class="nb">case</span> s2; <span class="nb">simpl</span>; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : string,
prefix s1&#39; s0 = true &lt;-&gt; substring <span class="mi">0</span> (length s1&#39;) s0 = s1&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">false = true &lt;-&gt; EmptyString = String a s1&#39;</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="String-v-chk63" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : string,
prefix s1&#39; s0 = true &lt;-&gt; substring <span class="mi">0</span> (length s1&#39;) s0 = s1&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chk63"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">a0</span> : ascii) (<span class="nv">s</span> : string),
ascii_dec a a0 &amp;&amp;&amp; prefix s1&#39; s = true &lt;-&gt;
String a0 (substring <span class="mi">0</span> (length s1&#39;) s) = String a s1&#39;</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk64" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk64"><span class="highlight"><span class="nb">split</span>; <span class="nb">intros</span>; <span class="bp">discriminate</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : string,
prefix s1&#39; s0 = true &lt;-&gt; substring <span class="mi">0</span> (length s1&#39;) s0 = s1&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">a0</span> : ascii) (<span class="nv">s</span> : string),
ascii_dec a a0 &amp;&amp;&amp; prefix s1&#39; s = true &lt;-&gt;
String a0 (substring <span class="mi">0</span> (length s1&#39;) s) = String a s1&#39;</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk65" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk65"><span class="highlight"><span class="nb">intros</span> b s2&#39;; <span class="nb">case</span> (ascii_dec a b); <span class="nb">simpl</span>; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : string,
prefix s1&#39; s0 = true &lt;-&gt; substring <span class="mi">0</span> (length s1&#39;) s0 = s1&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a = b -&gt;
prefix s1&#39; s2&#39; = true &lt;-&gt;
String b (substring <span class="mi">0</span> (length s1&#39;) s2&#39;) = String a s1&#39;</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="String-v-chk66" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : string,
prefix s1&#39; s0 = true &lt;-&gt; substring <span class="mi">0</span> (length s1&#39;) s0 = s1&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chk66"><hr></label><div class="goal-conclusion"><span class="highlight">a &lt;&gt; b -&gt;
false = true &lt;-&gt;
String b (substring <span class="mi">0</span> (length s1&#39;) s2&#39;) = String a s1&#39;</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk67" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk67"><span class="highlight"><span class="nb">intros</span> e; <span class="nb">case</span> (Rec s2&#39;); <span class="nb">intros</span> H1 H2; <span class="nb">split</span>; <span class="nb">intros</span> H3; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : string,
prefix s1&#39; s0 = true &lt;-&gt; substring <span class="mi">0</span> (length s1&#39;) s0 = s1&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a = b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">prefix s1&#39; s2&#39; = true -&gt;
substring <span class="mi">0</span> (length s1&#39;) s2&#39; = s1&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">substring <span class="mi">0</span> (length s1&#39;) s2&#39; = s1&#39; -&gt;
prefix s1&#39; s2&#39; = true</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">prefix s1&#39; s2&#39; = true</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">String b (substring <span class="mi">0</span> (length s1&#39;) s2&#39;) = String a s1&#39;</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="String-v-chk68" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : string,
prefix s1&#39; s0 = true &lt;-&gt; substring <span class="mi">0</span> (length s1&#39;) s0 = s1&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a = b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">prefix s1&#39; s2&#39; = true -&gt;
substring <span class="mi">0</span> (length s1&#39;) s2&#39; = s1&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">substring <span class="mi">0</span> (length s1&#39;) s2&#39; = s1&#39; -&gt;
prefix s1&#39; s2&#39; = true</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">String b (substring <span class="mi">0</span> (length s1&#39;) s2&#39;) =
String a s1&#39;</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chk68"><hr></label><div class="goal-conclusion"><span class="highlight">prefix s1&#39; s2&#39; = true</span></div></blockquote><input class="coq-extra-goal-toggle" id="String-v-chk69" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : string,
prefix s1&#39; s0 = true &lt;-&gt; substring <span class="mi">0</span> (length s1&#39;) s0 = s1&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chk69"><hr></label><div class="goal-conclusion"><span class="highlight">a &lt;&gt; b -&gt;
false = true &lt;-&gt;
String b (substring <span class="mi">0</span> (length s1&#39;) s2&#39;) = String a s1&#39;</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk6a" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk6a"><span class="highlight"><span class="nb">rewrite</span> e; <span class="nb">rewrite</span> H1; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : string,
prefix s1&#39; s0 = true &lt;-&gt; substring <span class="mi">0</span> (length s1&#39;) s0 = s1&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a = b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">prefix s1&#39; s2&#39; = true -&gt;
substring <span class="mi">0</span> (length s1&#39;) s2&#39; = s1&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">substring <span class="mi">0</span> (length s1&#39;) s2&#39; = s1&#39; -&gt;
prefix s1&#39; s2&#39; = true</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">String b (substring <span class="mi">0</span> (length s1&#39;) s2&#39;) =
String a s1&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">prefix s1&#39; s2&#39; = true</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="String-v-chk6b" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : string,
prefix s1&#39; s0 = true &lt;-&gt; substring <span class="mi">0</span> (length s1&#39;) s0 = s1&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chk6b"><hr></label><div class="goal-conclusion"><span class="highlight">a &lt;&gt; b -&gt;
false = true &lt;-&gt;
String b (substring <span class="mi">0</span> (length s1&#39;) s2&#39;) = String a s1&#39;</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk6c" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk6c"><span class="highlight"><span class="nb">apply</span> H2; <span class="nb">injection</span> H3; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : string,
prefix s1&#39; s0 = true &lt;-&gt; substring <span class="mi">0</span> (length s1&#39;) s0 = s1&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a &lt;&gt; b -&gt;
false = true &lt;-&gt;
String b (substring <span class="mi">0</span> (length s1&#39;) s2&#39;) = String a s1&#39;</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk6d" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk6d"><span class="highlight"><span class="nb">intros</span> n; <span class="nb">split</span>; <span class="nb">intros</span>; <span class="kp">try</span> <span class="bp">discriminate</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : string,
prefix s1&#39; s0 = true &lt;-&gt; substring <span class="mi">0</span> (length s1&#39;) s0 = s1&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;&gt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">String b (substring <span class="mi">0</span> (length s1&#39;) s2&#39;) =
String a s1&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">false = true</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">case</span> n; <span class="nb">injection</span> H; <span class="nb">auto</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span></span></pre><div class="doc">
Test if, starting at position <span class="inlinecode"><span class="id" title="var">n</span></span>, <span class="inlinecode"><span class="id" title="var">s1</span></span> occurs in <span class="inlinecode"><span class="id" title="var">s2</span></span>; if
    so it returns the position 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Fixpoint</span> <span class="nf">index</span> (<span class="nv">n</span> : nat) (<span class="nv">s1</span> <span class="nv">s2</span> : string) : option nat :=
  <span class="kr">match</span> s2, n <span class="kr">with</span>
  | EmptyString, O =&gt;
      <span class="kr">match</span> s1 <span class="kr">with</span>
      | EmptyString =&gt; Some O
      | String a s1&#39; =&gt; None
      <span class="kr">end</span>
  | EmptyString, S n&#39; =&gt; None
  | String b s2&#39;, O =&gt;
      <span class="kr">if</span> prefix s1 s2 <span class="kr">then</span> Some O
      <span class="kr">else</span>
        <span class="kr">match</span> index O s1 s2&#39; <span class="kr">with</span>
        | Some n =&gt; Some (S n)
        | None =&gt; None
        <span class="kr">end</span>
   | String b s2&#39;, S n&#39; =&gt;
      <span class="kr">match</span> index n&#39; s1 s2&#39; <span class="kr">with</span>
      | Some n =&gt; Some (S n)
      | None =&gt; None
      <span class="kr">end</span>
  <span class="kr">end</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
<span class="c">(* Dirty trick to avoid locally that prefix reduces itself *)</span>
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Opaque</span> prefix.</span></span></span></pre><div class="doc">
If the result of <span class="inlinecode"><span class="id" title="var">index</span></span> is <span class="inlinecode"><span class="id" title="var">Some</span></span> <span class="inlinecode"><span class="id" title="var">m</span></span>, <span class="inlinecode"><span class="id" title="var">s1</span></span> in <span class="inlinecode"><span class="id" title="var">s2</span></span> at position <span class="inlinecode"><span class="id" title="var">m</span></span>
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk6e" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk6e"><span class="highlight"><span class="kn">Theorem</span> <span class="nf">index_correct1</span> :
 <span class="kr">forall</span> (<span class="nv">n</span> <span class="nv">m</span> : nat) (<span class="nv">s1</span> <span class="nv">s2</span> : string),
 index n s1 s2 = Some m -&gt; substring m (length s1) s2 = s1.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">n</span> <span class="nv">m</span> : nat) (<span class="nv">s1</span> <span class="nv">s2</span> : string),
index n s1 s2 = Some m -&gt;
substring m (length s1) s2 = s1</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk6f" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk6f"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">n</span> <span class="nv">m</span> : nat) (<span class="nv">s1</span> <span class="nv">s2</span> : string),
index n s1 s2 = Some m -&gt;
substring m (length s1) s2 = s1</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk70" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk70"><span class="highlight"><span class="nb">intros</span> n m s1 s2; <span class="nb">generalize</span> n m s1; <span class="nb">clear</span> n m s1; <span class="nb">elim</span> s2; <span class="nb">simpl</span>;
 <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">n</span> <span class="nv">m</span> : nat) (<span class="nv">s1</span> : string),
<span class="kr">match</span> n <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">match</span> s1 <span class="kr">with</span>
    | EmptyString =&gt; Some <span class="mi">0</span>
    | String _ _ =&gt; None
    <span class="kr">end</span>
| S _ =&gt; None
<span class="kr">end</span> = Some m -&gt;
<span class="kr">match</span> m <span class="kr">with</span>
| <span class="mi">0</span> =&gt; <span class="kr">match</span> length s1 <span class="kr">with</span>
       | <span class="mi">0</span> | _ =&gt; EmptyString
       <span class="kr">end</span>
| S _ =&gt; EmptyString
<span class="kr">end</span> = s1</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="String-v-chk71" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chk71"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">a</span> : ascii) (<span class="nv">s</span> : string),
(<span class="kr">forall</span> (<span class="nv">n</span> <span class="nv">m</span> : nat) (<span class="nv">s1</span> : string),
 index n s1 s = Some m -&gt;
 substring m (length s1) s = s1) -&gt;
<span class="kr">forall</span> (<span class="nv">n</span> <span class="nv">m</span> : nat) (<span class="nv">s1</span> : string),
<span class="kr">match</span> n <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">if</span> prefix s1 (String a s)
    <span class="kr">then</span> Some <span class="mi">0</span>
    <span class="kr">else</span>
     <span class="kr">match</span> index <span class="mi">0</span> s1 s <span class="kr">with</span>
     | Some n0 =&gt; Some (S n0)
     | None =&gt; None
     <span class="kr">end</span>
| S n&#39; =&gt;
    <span class="kr">match</span> index n&#39; s1 s <span class="kr">with</span>
    | Some n0 =&gt; Some (S n0)
    | None =&gt; None
    <span class="kr">end</span>
<span class="kr">end</span> = Some m -&gt;
<span class="kr">match</span> m <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">match</span> length s1 <span class="kr">with</span>
    | <span class="mi">0</span> =&gt; EmptyString
    | S m&#39; =&gt; String a (substring <span class="mi">0</span> m&#39; s)
    <span class="kr">end</span>
| S n&#39; =&gt; substring n&#39; (length s1) s
<span class="kr">end</span> = s1</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk72" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk72"><span class="highlight"><span class="nb">intros</span> n; <span class="nb">case</span> n; <span class="nb">simpl</span>; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">m</span> : nat) (<span class="nv">s1</span> : string),
<span class="kr">match</span> s1 <span class="kr">with</span>
| EmptyString =&gt; Some <span class="mi">0</span>
| String _ _ =&gt; None
<span class="kr">end</span> = Some m -&gt;
<span class="kr">match</span> m <span class="kr">with</span>
| <span class="mi">0</span> =&gt; <span class="kr">match</span> length s1 <span class="kr">with</span>
       | <span class="mi">0</span> | _ =&gt; EmptyString
       <span class="kr">end</span>
| S _ =&gt; EmptyString
<span class="kr">end</span> = s1</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="String-v-chk73" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chk73"><hr></label><div class="goal-conclusion"><span class="highlight">nat -&gt;
<span class="kr">forall</span> (<span class="nv">m</span> : nat) (<span class="nv">s1</span> : string),
None = Some m -&gt;
<span class="kr">match</span> m <span class="kr">with</span>
| <span class="mi">0</span> =&gt; <span class="kr">match</span> length s1 <span class="kr">with</span>
       | <span class="mi">0</span> | _ =&gt; EmptyString
       <span class="kr">end</span>
| S _ =&gt; EmptyString
<span class="kr">end</span> = s1</span></div></blockquote><input class="coq-extra-goal-toggle" id="String-v-chk74" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chk74"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">a</span> : ascii) (<span class="nv">s</span> : string),
(<span class="kr">forall</span> (<span class="nv">n</span> <span class="nv">m</span> : nat) (<span class="nv">s1</span> : string),
 index n s1 s = Some m -&gt;
 substring m (length s1) s = s1) -&gt;
<span class="kr">forall</span> (<span class="nv">n</span> <span class="nv">m</span> : nat) (<span class="nv">s1</span> : string),
<span class="kr">match</span> n <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">if</span> prefix s1 (String a s)
    <span class="kr">then</span> Some <span class="mi">0</span>
    <span class="kr">else</span>
     <span class="kr">match</span> index <span class="mi">0</span> s1 s <span class="kr">with</span>
     | Some n0 =&gt; Some (S n0)
     | None =&gt; None
     <span class="kr">end</span>
| S n&#39; =&gt;
    <span class="kr">match</span> index n&#39; s1 s <span class="kr">with</span>
    | Some n0 =&gt; Some (S n0)
    | None =&gt; None
    <span class="kr">end</span>
<span class="kr">end</span> = Some m -&gt;
<span class="kr">match</span> m <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">match</span> length s1 <span class="kr">with</span>
    | <span class="mi">0</span> =&gt; EmptyString
    | S m&#39; =&gt; String a (substring <span class="mi">0</span> m&#39; s)
    <span class="kr">end</span>
| S n&#39; =&gt; substring n&#39; (length s1) s
<span class="kr">end</span> = s1</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk75" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk75"><span class="highlight"><span class="nb">intros</span> m s1; <span class="nb">case</span> s1; <span class="nb">simpl</span>; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Some <span class="mi">0</span> = Some m -&gt;
<span class="kr">match</span> m <span class="kr">with</span>
| <span class="mi">0</span> | _ =&gt; EmptyString
<span class="kr">end</span> = EmptyString</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="String-v-chk76" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chk76"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">a</span> : ascii) (<span class="nv">s</span> : string),
None = Some m -&gt;
<span class="kr">match</span> m <span class="kr">with</span>
| <span class="mi">0</span> | _ =&gt; EmptyString
<span class="kr">end</span> = String a s</span></div></blockquote><input class="coq-extra-goal-toggle" id="String-v-chk77" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chk77"><hr></label><div class="goal-conclusion"><span class="highlight">nat -&gt;
<span class="kr">forall</span> (<span class="nv">m</span> : nat) (<span class="nv">s1</span> : string),
None = Some m -&gt;
<span class="kr">match</span> m <span class="kr">with</span>
| <span class="mi">0</span> =&gt; <span class="kr">match</span> length s1 <span class="kr">with</span>
       | <span class="mi">0</span> | _ =&gt; EmptyString
       <span class="kr">end</span>
| S _ =&gt; EmptyString
<span class="kr">end</span> = s1</span></div></blockquote><input class="coq-extra-goal-toggle" id="String-v-chk78" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chk78"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">a</span> : ascii) (<span class="nv">s</span> : string),
(<span class="kr">forall</span> (<span class="nv">n</span> <span class="nv">m</span> : nat) (<span class="nv">s1</span> : string),
 index n s1 s = Some m -&gt;
 substring m (length s1) s = s1) -&gt;
<span class="kr">forall</span> (<span class="nv">n</span> <span class="nv">m</span> : nat) (<span class="nv">s1</span> : string),
<span class="kr">match</span> n <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">if</span> prefix s1 (String a s)
    <span class="kr">then</span> Some <span class="mi">0</span>
    <span class="kr">else</span>
     <span class="kr">match</span> index <span class="mi">0</span> s1 s <span class="kr">with</span>
     | Some n0 =&gt; Some (S n0)
     | None =&gt; None
     <span class="kr">end</span>
| S n&#39; =&gt;
    <span class="kr">match</span> index n&#39; s1 s <span class="kr">with</span>
    | Some n0 =&gt; Some (S n0)
    | None =&gt; None
    <span class="kr">end</span>
<span class="kr">end</span> = Some m -&gt;
<span class="kr">match</span> m <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">match</span> length s1 <span class="kr">with</span>
    | <span class="mi">0</span> =&gt; EmptyString
    | S m&#39; =&gt; String a (substring <span class="mi">0</span> m&#39; s)
    <span class="kr">end</span>
| S n&#39; =&gt; substring n&#39; (length s1) s
<span class="kr">end</span> = s1</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk79" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk79"><span class="highlight"><span class="nb">intros</span> H; <span class="nb">injection</span> H <span class="kr">as</span> &lt;-; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">a</span> : ascii) (<span class="nv">s</span> : string),
None = Some m -&gt;
<span class="kr">match</span> m <span class="kr">with</span>
| <span class="mi">0</span> | _ =&gt; EmptyString
<span class="kr">end</span> = String a s</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="String-v-chk7a" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chk7a"><hr></label><div class="goal-conclusion"><span class="highlight">nat -&gt;
<span class="kr">forall</span> (<span class="nv">m</span> : nat) (<span class="nv">s1</span> : string),
None = Some m -&gt;
<span class="kr">match</span> m <span class="kr">with</span>
| <span class="mi">0</span> =&gt; <span class="kr">match</span> length s1 <span class="kr">with</span>
       | <span class="mi">0</span> | _ =&gt; EmptyString
       <span class="kr">end</span>
| S _ =&gt; EmptyString
<span class="kr">end</span> = s1</span></div></blockquote><input class="coq-extra-goal-toggle" id="String-v-chk7b" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chk7b"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">a</span> : ascii) (<span class="nv">s</span> : string),
(<span class="kr">forall</span> (<span class="nv">n</span> <span class="nv">m</span> : nat) (<span class="nv">s1</span> : string),
 index n s1 s = Some m -&gt;
 substring m (length s1) s = s1) -&gt;
<span class="kr">forall</span> (<span class="nv">n</span> <span class="nv">m</span> : nat) (<span class="nv">s1</span> : string),
<span class="kr">match</span> n <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">if</span> prefix s1 (String a s)
    <span class="kr">then</span> Some <span class="mi">0</span>
    <span class="kr">else</span>
     <span class="kr">match</span> index <span class="mi">0</span> s1 s <span class="kr">with</span>
     | Some n0 =&gt; Some (S n0)
     | None =&gt; None
     <span class="kr">end</span>
| S n&#39; =&gt;
    <span class="kr">match</span> index n&#39; s1 s <span class="kr">with</span>
    | Some n0 =&gt; Some (S n0)
    | None =&gt; None
    <span class="kr">end</span>
<span class="kr">end</span> = Some m -&gt;
<span class="kr">match</span> m <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">match</span> length s1 <span class="kr">with</span>
    | <span class="mi">0</span> =&gt; EmptyString
    | S m&#39; =&gt; String a (substring <span class="mi">0</span> m&#39; s)
    <span class="kr">end</span>
| S n&#39; =&gt; substring n&#39; (length s1) s
<span class="kr">end</span> = s1</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk7c" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk7c"><span class="highlight"><span class="nb">intros</span>; <span class="bp">discriminate</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">nat -&gt;
<span class="kr">forall</span> (<span class="nv">m</span> : nat) (<span class="nv">s1</span> : string),
None = Some m -&gt;
<span class="kr">match</span> m <span class="kr">with</span>
| <span class="mi">0</span> =&gt; <span class="kr">match</span> length s1 <span class="kr">with</span>
       | <span class="mi">0</span> | _ =&gt; EmptyString
       <span class="kr">end</span>
| S _ =&gt; EmptyString
<span class="kr">end</span> = s1</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="String-v-chk7d" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chk7d"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">a</span> : ascii) (<span class="nv">s</span> : string),
(<span class="kr">forall</span> (<span class="nv">n</span> <span class="nv">m</span> : nat) (<span class="nv">s1</span> : string),
 index n s1 s = Some m -&gt;
 substring m (length s1) s = s1) -&gt;
<span class="kr">forall</span> (<span class="nv">n</span> <span class="nv">m</span> : nat) (<span class="nv">s1</span> : string),
<span class="kr">match</span> n <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">if</span> prefix s1 (String a s)
    <span class="kr">then</span> Some <span class="mi">0</span>
    <span class="kr">else</span>
     <span class="kr">match</span> index <span class="mi">0</span> s1 s <span class="kr">with</span>
     | Some n0 =&gt; Some (S n0)
     | None =&gt; None
     <span class="kr">end</span>
| S n&#39; =&gt;
    <span class="kr">match</span> index n&#39; s1 s <span class="kr">with</span>
    | Some n0 =&gt; Some (S n0)
    | None =&gt; None
    <span class="kr">end</span>
<span class="kr">end</span> = Some m -&gt;
<span class="kr">match</span> m <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">match</span> length s1 <span class="kr">with</span>
    | <span class="mi">0</span> =&gt; EmptyString
    | S m&#39; =&gt; String a (substring <span class="mi">0</span> m&#39; s)
    <span class="kr">end</span>
| S n&#39; =&gt; substring n&#39; (length s1) s
<span class="kr">end</span> = s1</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk7e" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk7e"><span class="highlight"><span class="nb">intros</span>; <span class="bp">discriminate</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">a</span> : ascii) (<span class="nv">s</span> : string),
(<span class="kr">forall</span> (<span class="nv">n</span> <span class="nv">m</span> : nat) (<span class="nv">s1</span> : string),
 index n s1 s = Some m -&gt;
 substring m (length s1) s = s1) -&gt;
<span class="kr">forall</span> (<span class="nv">n</span> <span class="nv">m</span> : nat) (<span class="nv">s1</span> : string),
<span class="kr">match</span> n <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">if</span> prefix s1 (String a s)
    <span class="kr">then</span> Some <span class="mi">0</span>
    <span class="kr">else</span>
     <span class="kr">match</span> index <span class="mi">0</span> s1 s <span class="kr">with</span>
     | Some n0 =&gt; Some (S n0)
     | None =&gt; None
     <span class="kr">end</span>
| S n&#39; =&gt;
    <span class="kr">match</span> index n&#39; s1 s <span class="kr">with</span>
    | Some n0 =&gt; Some (S n0)
    | None =&gt; None
    <span class="kr">end</span>
<span class="kr">end</span> = Some m -&gt;
<span class="kr">match</span> m <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">match</span> length s1 <span class="kr">with</span>
    | <span class="mi">0</span> =&gt; EmptyString
    | S m&#39; =&gt; String a (substring <span class="mi">0</span> m&#39; s)
    <span class="kr">end</span>
| S n&#39; =&gt; substring n&#39; (length s1) s
<span class="kr">end</span> = s1</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk7f" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk7f"><span class="highlight"><span class="nb">intros</span> b s2&#39; Rec n m s1.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n0 s0 s2&#39; = Some m0 -&gt; substring m0 (length s0) s2&#39; = s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">match</span> n <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">if</span> prefix s1 (String b s2&#39;)
    <span class="kr">then</span> Some <span class="mi">0</span>
    <span class="kr">else</span>
     <span class="kr">match</span> index <span class="mi">0</span> s1 s2&#39; <span class="kr">with</span>
     | Some n0 =&gt; Some (S n0)
     | None =&gt; None
     <span class="kr">end</span>
| S n&#39; =&gt;
    <span class="kr">match</span> index n&#39; s1 s2&#39; <span class="kr">with</span>
    | Some n0 =&gt; Some (S n0)
    | None =&gt; None
    <span class="kr">end</span>
<span class="kr">end</span> = Some m -&gt;
<span class="kr">match</span> m <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">match</span> length s1 <span class="kr">with</span>
    | <span class="mi">0</span> =&gt; EmptyString
    | S m&#39; =&gt; String b (substring <span class="mi">0</span> m&#39; s2&#39;)
    <span class="kr">end</span>
| S n&#39; =&gt; substring n&#39; (length s1) s2&#39;
<span class="kr">end</span> = s1</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk80" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk80"><span class="highlight"><span class="nb">case</span> n; <span class="nb">simpl</span>; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n0 s0 s2&#39; = Some m0 -&gt; substring m0 (length s0) s2&#39; = s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="kr">if</span> prefix s1 (String b s2&#39;)
 <span class="kr">then</span> Some <span class="mi">0</span>
 <span class="kr">else</span>
  <span class="kr">match</span> index <span class="mi">0</span> s1 s2&#39; <span class="kr">with</span>
  | Some n0 =&gt; Some (S n0)
  | None =&gt; None
  <span class="kr">end</span>) = Some m -&gt;
<span class="kr">match</span> m <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">match</span> length s1 <span class="kr">with</span>
    | <span class="mi">0</span> =&gt; EmptyString
    | S m&#39; =&gt; String b (substring <span class="mi">0</span> m&#39; s2&#39;)
    <span class="kr">end</span>
| S n&#39; =&gt; substring n&#39; (length s1) s2&#39;
<span class="kr">end</span> = s1</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="String-v-chk81" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n0 s0 s2&#39; = Some m0 -&gt; substring m0 (length s0) s2&#39; = s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chk81"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">n0</span> : nat,
<span class="kr">match</span> index n0 s1 s2&#39; <span class="kr">with</span>
| Some n1 =&gt; Some (S n1)
| None =&gt; None
<span class="kr">end</span> = Some m -&gt;
<span class="kr">match</span> m <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">match</span> length s1 <span class="kr">with</span>
    | <span class="mi">0</span> =&gt; EmptyString
    | S m&#39; =&gt; String b (substring <span class="mi">0</span> m&#39; s2&#39;)
    <span class="kr">end</span>
| S n&#39; =&gt; substring n&#39; (length s1) s2&#39;
<span class="kr">end</span> = s1</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk82" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk82"><span class="highlight"><span class="nb">generalize</span> (prefix_correct s1 (String b s2&#39;));
 <span class="nb">case</span> (prefix s1 (String b s2&#39;)).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n0 s0 s2&#39; = Some m0 -&gt; substring m0 (length s0) s2&#39; = s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">true = true &lt;-&gt;
substring <span class="mi">0</span> (length s1) (String b s2&#39;) = s1 -&gt;
Some <span class="mi">0</span> = Some m -&gt;
<span class="kr">match</span> m <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">match</span> length s1 <span class="kr">with</span>
    | <span class="mi">0</span> =&gt; EmptyString
    | S m&#39; =&gt; String b (substring <span class="mi">0</span> m&#39; s2&#39;)
    <span class="kr">end</span>
| S n&#39; =&gt; substring n&#39; (length s1) s2&#39;
<span class="kr">end</span> = s1</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="String-v-chk83" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n0 s0 s2&#39; = Some m0 -&gt; substring m0 (length s0) s2&#39; = s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chk83"><hr></label><div class="goal-conclusion"><span class="highlight">false = true &lt;-&gt;
substring <span class="mi">0</span> (length s1) (String b s2&#39;) = s1 -&gt;
<span class="kr">match</span> index <span class="mi">0</span> s1 s2&#39; <span class="kr">with</span>
| Some n0 =&gt; Some (S n0)
| None =&gt; None
<span class="kr">end</span> = Some m -&gt;
<span class="kr">match</span> m <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">match</span> length s1 <span class="kr">with</span>
    | <span class="mi">0</span> =&gt; EmptyString
    | S m&#39; =&gt; String b (substring <span class="mi">0</span> m&#39; s2&#39;)
    <span class="kr">end</span>
| S n&#39; =&gt; substring n&#39; (length s1) s2&#39;
<span class="kr">end</span> = s1</span></div></blockquote><input class="coq-extra-goal-toggle" id="String-v-chk84" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n0 s0 s2&#39; = Some m0 -&gt; substring m0 (length s0) s2&#39; = s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chk84"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">n0</span> : nat,
<span class="kr">match</span> index n0 s1 s2&#39; <span class="kr">with</span>
| Some n1 =&gt; Some (S n1)
| None =&gt; None
<span class="kr">end</span> = Some m -&gt;
<span class="kr">match</span> m <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">match</span> length s1 <span class="kr">with</span>
    | <span class="mi">0</span> =&gt; EmptyString
    | S m&#39; =&gt; String b (substring <span class="mi">0</span> m&#39; s2&#39;)
    <span class="kr">end</span>
| S n&#39; =&gt; substring n&#39; (length s1) s2&#39;
<span class="kr">end</span> = s1</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk85" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk85"><span class="highlight"><span class="nb">intros</span> H0 H; <span class="nb">injection</span> H <span class="kr">as</span> &lt;-; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m</span> : nat) (<span class="nv">s0</span> : string),
index n0 s0 s2&#39; = Some m -&gt; substring m (length s0) s2&#39; = s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">true = true &lt;-&gt;
substring <span class="mi">0</span> (length s1) (String b s2&#39;) = s1</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">match</span> length s1 <span class="kr">with</span>
| <span class="mi">0</span> =&gt; EmptyString
| S m&#39; =&gt; String b (substring <span class="mi">0</span> m&#39; s2&#39;)
<span class="kr">end</span> = s1</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="String-v-chk86" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n0 s0 s2&#39; = Some m0 -&gt; substring m0 (length s0) s2&#39; = s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chk86"><hr></label><div class="goal-conclusion"><span class="highlight">false = true &lt;-&gt;
substring <span class="mi">0</span> (length s1) (String b s2&#39;) = s1 -&gt;
<span class="kr">match</span> index <span class="mi">0</span> s1 s2&#39; <span class="kr">with</span>
| Some n0 =&gt; Some (S n0)
| None =&gt; None
<span class="kr">end</span> = Some m -&gt;
<span class="kr">match</span> m <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">match</span> length s1 <span class="kr">with</span>
    | <span class="mi">0</span> =&gt; EmptyString
    | S m&#39; =&gt; String b (substring <span class="mi">0</span> m&#39; s2&#39;)
    <span class="kr">end</span>
| S n&#39; =&gt; substring n&#39; (length s1) s2&#39;
<span class="kr">end</span> = s1</span></div></blockquote><input class="coq-extra-goal-toggle" id="String-v-chk87" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n0 s0 s2&#39; = Some m0 -&gt; substring m0 (length s0) s2&#39; = s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chk87"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">n0</span> : nat,
<span class="kr">match</span> index n0 s1 s2&#39; <span class="kr">with</span>
| Some n1 =&gt; Some (S n1)
| None =&gt; None
<span class="kr">end</span> = Some m -&gt;
<span class="kr">match</span> m <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">match</span> length s1 <span class="kr">with</span>
    | <span class="mi">0</span> =&gt; EmptyString
    | S m&#39; =&gt; String b (substring <span class="mi">0</span> m&#39; s2&#39;)
    <span class="kr">end</span>
| S n&#39; =&gt; substring n&#39; (length s1) s2&#39;
<span class="kr">end</span> = s1</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk88" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk88"><span class="highlight"><span class="nb">case</span> H0; <span class="nb">simpl</span>; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n0 s0 s2&#39; = Some m0 -&gt; substring m0 (length s0) s2&#39; = s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">false = true &lt;-&gt;
substring <span class="mi">0</span> (length s1) (String b s2&#39;) = s1 -&gt;
<span class="kr">match</span> index <span class="mi">0</span> s1 s2&#39; <span class="kr">with</span>
| Some n0 =&gt; Some (S n0)
| None =&gt; None
<span class="kr">end</span> = Some m -&gt;
<span class="kr">match</span> m <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">match</span> length s1 <span class="kr">with</span>
    | <span class="mi">0</span> =&gt; EmptyString
    | S m&#39; =&gt; String b (substring <span class="mi">0</span> m&#39; s2&#39;)
    <span class="kr">end</span>
| S n&#39; =&gt; substring n&#39; (length s1) s2&#39;
<span class="kr">end</span> = s1</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="String-v-chk89" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n0 s0 s2&#39; = Some m0 -&gt; substring m0 (length s0) s2&#39; = s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chk89"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">n0</span> : nat,
<span class="kr">match</span> index n0 s1 s2&#39; <span class="kr">with</span>
| Some n1 =&gt; Some (S n1)
| None =&gt; None
<span class="kr">end</span> = Some m -&gt;
<span class="kr">match</span> m <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">match</span> length s1 <span class="kr">with</span>
    | <span class="mi">0</span> =&gt; EmptyString
    | S m&#39; =&gt; String b (substring <span class="mi">0</span> m&#39; s2&#39;)
    <span class="kr">end</span>
| S n&#39; =&gt; substring n&#39; (length s1) s2&#39;
<span class="kr">end</span> = s1</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk8a" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk8a"><span class="highlight"><span class="nb">case</span> m; <span class="nb">simpl</span>; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n0 s0 s2&#39; = Some m0 -&gt; substring m0 (length s0) s2&#39; = s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">false = true &lt;-&gt;
<span class="kr">match</span> length s1 <span class="kr">with</span>
| <span class="mi">0</span> =&gt; EmptyString
| S m&#39; =&gt; String b (substring <span class="mi">0</span> m&#39; s2&#39;)
<span class="kr">end</span> = s1 -&gt;
<span class="kr">match</span> index <span class="mi">0</span> s1 s2&#39; <span class="kr">with</span>
| Some n0 =&gt; Some (S n0)
| None =&gt; None
<span class="kr">end</span> = Some <span class="mi">0</span> -&gt;
<span class="kr">match</span> length s1 <span class="kr">with</span>
| <span class="mi">0</span> =&gt; EmptyString
| S m&#39; =&gt; String b (substring <span class="mi">0</span> m&#39; s2&#39;)
<span class="kr">end</span> = s1</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="String-v-chk8b" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n0 s0 s2&#39; = Some m0 -&gt; substring m0 (length s0) s2&#39; = s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chk8b"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">n0</span> : nat,
false = true &lt;-&gt;
<span class="kr">match</span> length s1 <span class="kr">with</span>
| <span class="mi">0</span> =&gt; EmptyString
| S m&#39; =&gt; String b (substring <span class="mi">0</span> m&#39; s2&#39;)
<span class="kr">end</span> = s1 -&gt;
<span class="kr">match</span> index <span class="mi">0</span> s1 s2&#39; <span class="kr">with</span>
| Some n1 =&gt; Some (S n1)
| None =&gt; None
<span class="kr">end</span> = Some (S n0) -&gt; substring n0 (length s1) s2&#39; = s1</span></div></blockquote><input class="coq-extra-goal-toggle" id="String-v-chk8c" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n0 s0 s2&#39; = Some m0 -&gt; substring m0 (length s0) s2&#39; = s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chk8c"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">n0</span> : nat,
<span class="kr">match</span> index n0 s1 s2&#39; <span class="kr">with</span>
| Some n1 =&gt; Some (S n1)
| None =&gt; None
<span class="kr">end</span> = Some m -&gt;
<span class="kr">match</span> m <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">match</span> length s1 <span class="kr">with</span>
    | <span class="mi">0</span> =&gt; EmptyString
    | S m&#39; =&gt; String b (substring <span class="mi">0</span> m&#39; s2&#39;)
    <span class="kr">end</span>
| S n&#39; =&gt; substring n&#39; (length s1) s2&#39;
<span class="kr">end</span> = s1</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk8d" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk8d"><span class="highlight"><span class="nb">case</span> (index O s1 s2&#39;); <span class="nb">intros</span>; <span class="bp">discriminate</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n0 s0 s2&#39; = Some m0 -&gt; substring m0 (length s0) s2&#39; = s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">n0</span> : nat,
false = true &lt;-&gt;
<span class="kr">match</span> length s1 <span class="kr">with</span>
| <span class="mi">0</span> =&gt; EmptyString
| S m&#39; =&gt; String b (substring <span class="mi">0</span> m&#39; s2&#39;)
<span class="kr">end</span> = s1 -&gt;
<span class="kr">match</span> index <span class="mi">0</span> s1 s2&#39; <span class="kr">with</span>
| Some n1 =&gt; Some (S n1)
| None =&gt; None
<span class="kr">end</span> = Some (S n0) -&gt; substring n0 (length s1) s2&#39; = s1</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="String-v-chk8e" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n0 s0 s2&#39; = Some m0 -&gt; substring m0 (length s0) s2&#39; = s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chk8e"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">n0</span> : nat,
<span class="kr">match</span> index n0 s1 s2&#39; <span class="kr">with</span>
| Some n1 =&gt; Some (S n1)
| None =&gt; None
<span class="kr">end</span> = Some m -&gt;
<span class="kr">match</span> m <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">match</span> length s1 <span class="kr">with</span>
    | <span class="mi">0</span> =&gt; EmptyString
    | S m&#39; =&gt; String b (substring <span class="mi">0</span> m&#39; s2&#39;)
    <span class="kr">end</span>
| S n&#39; =&gt; substring n&#39; (length s1) s2&#39;
<span class="kr">end</span> = s1</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk8f" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk8f"><span class="highlight"><span class="nb">intros</span> m&#39;; <span class="nb">generalize</span> (Rec O m&#39; s1); <span class="nb">case</span> (index O s1 s2&#39;); <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n0 s0 s2&#39; = Some m0 -&gt; substring m0 (length s0) s2&#39; = s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">m'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">n0</span> : nat,
(Some n0 = Some m&#39; -&gt;
 substring m&#39; (length s1) s2&#39; = s1) -&gt;
false = true &lt;-&gt;
<span class="kr">match</span> length s1 <span class="kr">with</span>
| <span class="mi">0</span> =&gt; EmptyString
| S m&#39;0 =&gt; String b (substring <span class="mi">0</span> m&#39;0 s2&#39;)
<span class="kr">end</span> = s1 -&gt;
Some (S n0) = Some (S m&#39;) -&gt;
substring m&#39; (length s1) s2&#39; = s1</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="String-v-chk90" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n0 s0 s2&#39; = Some m0 -&gt; substring m0 (length s0) s2&#39; = s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">m'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chk90"><hr></label><div class="goal-conclusion"><span class="highlight">(None = Some m&#39; -&gt; substring m&#39; (length s1) s2&#39; = s1) -&gt;
false = true &lt;-&gt;
<span class="kr">match</span> length s1 <span class="kr">with</span>
| <span class="mi">0</span> =&gt; EmptyString
| S m&#39;0 =&gt; String b (substring <span class="mi">0</span> m&#39;0 s2&#39;)
<span class="kr">end</span> = s1 -&gt;
None = Some (S m&#39;) -&gt;
substring m&#39; (length s1) s2&#39; = s1</span></div></blockquote><input class="coq-extra-goal-toggle" id="String-v-chk91" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n0 s0 s2&#39; = Some m0 -&gt; substring m0 (length s0) s2&#39; = s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chk91"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">n0</span> : nat,
<span class="kr">match</span> index n0 s1 s2&#39; <span class="kr">with</span>
| Some n1 =&gt; Some (S n1)
| None =&gt; None
<span class="kr">end</span> = Some m -&gt;
<span class="kr">match</span> m <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">match</span> length s1 <span class="kr">with</span>
    | <span class="mi">0</span> =&gt; EmptyString
    | S m&#39; =&gt; String b (substring <span class="mi">0</span> m&#39; s2&#39;)
    <span class="kr">end</span>
| S n&#39; =&gt; substring n&#39; (length s1) s2&#39;
<span class="kr">end</span> = s1</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk92" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk92"><span class="highlight"><span class="nb">intros</span> x H H0 H1; <span class="nb">apply</span> H; <span class="nb">injection</span> H1; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n0 s0 s2&#39; = Some m0 -&gt; substring m0 (length s0) s2&#39; = s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">m'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(None = Some m&#39; -&gt; substring m&#39; (length s1) s2&#39; = s1) -&gt;
false = true &lt;-&gt;
<span class="kr">match</span> length s1 <span class="kr">with</span>
| <span class="mi">0</span> =&gt; EmptyString
| S m&#39;0 =&gt; String b (substring <span class="mi">0</span> m&#39;0 s2&#39;)
<span class="kr">end</span> = s1 -&gt;
None = Some (S m&#39;) -&gt;
substring m&#39; (length s1) s2&#39; = s1</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="String-v-chk93" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n0 s0 s2&#39; = Some m0 -&gt; substring m0 (length s0) s2&#39; = s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chk93"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">n0</span> : nat,
<span class="kr">match</span> index n0 s1 s2&#39; <span class="kr">with</span>
| Some n1 =&gt; Some (S n1)
| None =&gt; None
<span class="kr">end</span> = Some m -&gt;
<span class="kr">match</span> m <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">match</span> length s1 <span class="kr">with</span>
    | <span class="mi">0</span> =&gt; EmptyString
    | S m&#39; =&gt; String b (substring <span class="mi">0</span> m&#39; s2&#39;)
    <span class="kr">end</span>
| S n&#39; =&gt; substring n&#39; (length s1) s2&#39;
<span class="kr">end</span> = s1</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk94" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk94"><span class="highlight"><span class="nb">intros</span>; <span class="bp">discriminate</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n0 s0 s2&#39; = Some m0 -&gt; substring m0 (length s0) s2&#39; = s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">n0</span> : nat,
<span class="kr">match</span> index n0 s1 s2&#39; <span class="kr">with</span>
| Some n1 =&gt; Some (S n1)
| None =&gt; None
<span class="kr">end</span> = Some m -&gt;
<span class="kr">match</span> m <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">match</span> length s1 <span class="kr">with</span>
    | <span class="mi">0</span> =&gt; EmptyString
    | S m&#39; =&gt; String b (substring <span class="mi">0</span> m&#39; s2&#39;)
    <span class="kr">end</span>
| S n&#39; =&gt; substring n&#39; (length s1) s2&#39;
<span class="kr">end</span> = s1</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk95" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk95"><span class="highlight"><span class="nb">intros</span> n&#39;; <span class="nb">case</span> m; <span class="nb">simpl</span>; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n0 s0 s2&#39; = Some m0 -&gt; substring m0 (length s0) s2&#39; = s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">match</span> index n&#39; s1 s2&#39; <span class="kr">with</span>
| Some n0 =&gt; Some (S n0)
| None =&gt; None
<span class="kr">end</span> = Some <span class="mi">0</span> -&gt;
<span class="kr">match</span> length s1 <span class="kr">with</span>
| <span class="mi">0</span> =&gt; EmptyString
| S m&#39; =&gt; String b (substring <span class="mi">0</span> m&#39; s2&#39;)
<span class="kr">end</span> = s1</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="String-v-chk96" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n0 s0 s2&#39; = Some m0 -&gt; substring m0 (length s0) s2&#39; = s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chk96"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">n0</span> : nat,
<span class="kr">match</span> index n&#39; s1 s2&#39; <span class="kr">with</span>
| Some n1 =&gt; Some (S n1)
| None =&gt; None
<span class="kr">end</span> = Some (S n0) -&gt; substring n0 (length s1) s2&#39; = s1</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk97" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk97"><span class="highlight"><span class="nb">case</span> (index n&#39; s1 s2&#39;); <span class="nb">intros</span>; <span class="bp">discriminate</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n0 s0 s2&#39; = Some m0 -&gt; substring m0 (length s0) s2&#39; = s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">n0</span> : nat,
<span class="kr">match</span> index n&#39; s1 s2&#39; <span class="kr">with</span>
| Some n1 =&gt; Some (S n1)
| None =&gt; None
<span class="kr">end</span> = Some (S n0) -&gt; substring n0 (length s1) s2&#39; = s1</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk98" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk98"><span class="highlight"><span class="nb">intros</span> m&#39;; <span class="nb">generalize</span> (Rec n&#39; m&#39; s1); <span class="nb">case</span> (index n&#39; s1 s2&#39;); <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n0 s0 s2&#39; = Some m0 -&gt; substring m0 (length s0) s2&#39; = s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n', m'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">n0</span> : nat,
(Some n0 = Some m&#39; -&gt;
 substring m&#39; (length s1) s2&#39; = s1) -&gt;
Some (S n0) = Some (S m&#39;) -&gt;
substring m&#39; (length s1) s2&#39; = s1</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="String-v-chk99" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n0 s0 s2&#39; = Some m0 -&gt; substring m0 (length s0) s2&#39; = s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n', m'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chk99"><hr></label><div class="goal-conclusion"><span class="highlight">(None = Some m&#39; -&gt; substring m&#39; (length s1) s2&#39; = s1) -&gt;
None = Some (S m&#39;) -&gt;
substring m&#39; (length s1) s2&#39; = s1</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk9a" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk9a"><span class="highlight"><span class="nb">intros</span> x H H1; <span class="nb">apply</span> H; <span class="nb">injection</span> H1; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n0 s0 s2&#39; = Some m0 -&gt; substring m0 (length s0) s2&#39; = s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n', m'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(None = Some m&#39; -&gt; substring m&#39; (length s1) s2&#39; = s1) -&gt;
None = Some (S m&#39;) -&gt;
substring m&#39; (length s1) s2&#39; = s1</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">intros</span>; <span class="bp">discriminate</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span></span></pre><div class="doc">
If the result of <span class="inlinecode"><span class="id" title="var">index</span></span> is <span class="inlinecode"><span class="id" title="var">Some</span></span> <span class="inlinecode"><span class="id" title="var">m</span></span>,
    <span class="inlinecode"><span class="id" title="var">s1</span></span> does not occur in <span class="inlinecode"><span class="id" title="var">s2</span></span> before <span class="inlinecode"><span class="id" title="var">m</span></span>
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk9b" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk9b"><span class="highlight"><span class="kn">Theorem</span> <span class="nf">index_correct2</span> :
 <span class="kr">forall</span> (<span class="nv">n</span> <span class="nv">m</span> : nat) (<span class="nv">s1</span> <span class="nv">s2</span> : string),
 index n s1 s2 = Some m -&gt;
 <span class="kr">forall</span> <span class="nv">p</span> : nat, n &lt;= p -&gt; p &lt; m -&gt; substring p (length s1) s2 &lt;&gt; s1.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">n</span> <span class="nv">m</span> : nat) (<span class="nv">s1</span> <span class="nv">s2</span> : string),
index n s1 s2 = Some m -&gt;
<span class="kr">forall</span> <span class="nv">p</span> : nat,
n &lt;= p -&gt; p &lt; m -&gt; substring p (length s1) s2 &lt;&gt; s1</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk9c" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk9c"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">n</span> <span class="nv">m</span> : nat) (<span class="nv">s1</span> <span class="nv">s2</span> : string),
index n s1 s2 = Some m -&gt;
<span class="kr">forall</span> <span class="nv">p</span> : nat,
n &lt;= p -&gt; p &lt; m -&gt; substring p (length s1) s2 &lt;&gt; s1</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk9d" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk9d"><span class="highlight"><span class="nb">intros</span> n m s1 s2; <span class="nb">generalize</span> n m s1; <span class="nb">clear</span> n m s1; <span class="nb">elim</span> s2; <span class="nb">simpl</span>;
 <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">n</span> <span class="nv">m</span> : nat) (<span class="nv">s1</span> : string),
<span class="kr">match</span> n <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">match</span> s1 <span class="kr">with</span>
    | EmptyString =&gt; Some <span class="mi">0</span>
    | String _ _ =&gt; None
    <span class="kr">end</span>
| S _ =&gt; None
<span class="kr">end</span> = Some m -&gt;
<span class="kr">forall</span> <span class="nv">p</span> : nat,
n &lt;= p -&gt;
p &lt; m -&gt;
<span class="kr">match</span> p <span class="kr">with</span>
| <span class="mi">0</span> =&gt; <span class="kr">match</span> length s1 <span class="kr">with</span>
       | <span class="mi">0</span> | _ =&gt; EmptyString
       <span class="kr">end</span>
| S _ =&gt; EmptyString
<span class="kr">end</span> &lt;&gt; s1</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="String-v-chk9e" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chk9e"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">a</span> : ascii) (<span class="nv">s</span> : string),
(<span class="kr">forall</span> (<span class="nv">n</span> <span class="nv">m</span> : nat) (<span class="nv">s1</span> : string),
 index n s1 s = Some m -&gt;
 <span class="kr">forall</span> <span class="nv">p</span> : nat,
 n &lt;= p -&gt; p &lt; m -&gt; substring p (length s1) s &lt;&gt; s1) -&gt;
<span class="kr">forall</span> (<span class="nv">n</span> <span class="nv">m</span> : nat) (<span class="nv">s1</span> : string),
<span class="kr">match</span> n <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">if</span> prefix s1 (String a s)
    <span class="kr">then</span> Some <span class="mi">0</span>
    <span class="kr">else</span>
     <span class="kr">match</span> index <span class="mi">0</span> s1 s <span class="kr">with</span>
     | Some n0 =&gt; Some (S n0)
     | None =&gt; None
     <span class="kr">end</span>
| S n&#39; =&gt;
    <span class="kr">match</span> index n&#39; s1 s <span class="kr">with</span>
    | Some n0 =&gt; Some (S n0)
    | None =&gt; None
    <span class="kr">end</span>
<span class="kr">end</span> = Some m -&gt;
<span class="kr">forall</span> <span class="nv">p</span> : nat,
n &lt;= p -&gt;
p &lt; m -&gt;
<span class="kr">match</span> p <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">match</span> length s1 <span class="kr">with</span>
    | <span class="mi">0</span> =&gt; EmptyString
    | S m&#39; =&gt; String a (substring <span class="mi">0</span> m&#39; s)
    <span class="kr">end</span>
| S n&#39; =&gt; substring n&#39; (length s1) s
<span class="kr">end</span> &lt;&gt; s1</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk9f" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk9f"><span class="highlight"><span class="nb">intros</span> n; <span class="nb">case</span> n; <span class="nb">simpl</span>; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">m</span> : nat) (<span class="nv">s1</span> : string),
<span class="kr">match</span> s1 <span class="kr">with</span>
| EmptyString =&gt; Some <span class="mi">0</span>
| String _ _ =&gt; None
<span class="kr">end</span> = Some m -&gt;
<span class="kr">forall</span> <span class="nv">p</span> : nat,
<span class="mi">0</span> &lt;= p -&gt;
p &lt; m -&gt;
<span class="kr">match</span> p <span class="kr">with</span>
| <span class="mi">0</span> =&gt; <span class="kr">match</span> length s1 <span class="kr">with</span>
       | <span class="mi">0</span> | _ =&gt; EmptyString
       <span class="kr">end</span>
| S _ =&gt; EmptyString
<span class="kr">end</span> &lt;&gt; s1</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="String-v-chka0" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chka0"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m</span> : nat) (<span class="nv">s1</span> : string),
None = Some m -&gt;
<span class="kr">forall</span> <span class="nv">p</span> : nat,
S n0 &lt;= p -&gt;
p &lt; m -&gt;
<span class="kr">match</span> p <span class="kr">with</span>
| <span class="mi">0</span> =&gt; <span class="kr">match</span> length s1 <span class="kr">with</span>
       | <span class="mi">0</span> | _ =&gt; EmptyString
       <span class="kr">end</span>
| S _ =&gt; EmptyString
<span class="kr">end</span> &lt;&gt; s1</span></div></blockquote><input class="coq-extra-goal-toggle" id="String-v-chka1" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chka1"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">a</span> : ascii) (<span class="nv">s</span> : string),
(<span class="kr">forall</span> (<span class="nv">n</span> <span class="nv">m</span> : nat) (<span class="nv">s1</span> : string),
 index n s1 s = Some m -&gt;
 <span class="kr">forall</span> <span class="nv">p</span> : nat,
 n &lt;= p -&gt; p &lt; m -&gt; substring p (length s1) s &lt;&gt; s1) -&gt;
<span class="kr">forall</span> (<span class="nv">n</span> <span class="nv">m</span> : nat) (<span class="nv">s1</span> : string),
<span class="kr">match</span> n <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">if</span> prefix s1 (String a s)
    <span class="kr">then</span> Some <span class="mi">0</span>
    <span class="kr">else</span>
     <span class="kr">match</span> index <span class="mi">0</span> s1 s <span class="kr">with</span>
     | Some n0 =&gt; Some (S n0)
     | None =&gt; None
     <span class="kr">end</span>
| S n&#39; =&gt;
    <span class="kr">match</span> index n&#39; s1 s <span class="kr">with</span>
    | Some n0 =&gt; Some (S n0)
    | None =&gt; None
    <span class="kr">end</span>
<span class="kr">end</span> = Some m -&gt;
<span class="kr">forall</span> <span class="nv">p</span> : nat,
n &lt;= p -&gt;
p &lt; m -&gt;
<span class="kr">match</span> p <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">match</span> length s1 <span class="kr">with</span>
    | <span class="mi">0</span> =&gt; EmptyString
    | S m&#39; =&gt; String a (substring <span class="mi">0</span> m&#39; s)
    <span class="kr">end</span>
| S n&#39; =&gt; substring n&#39; (length s1) s
<span class="kr">end</span> &lt;&gt; s1</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chka2" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chka2"><span class="highlight"><span class="nb">intros</span> m s1; <span class="nb">case</span> s1; <span class="nb">simpl</span>; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Some <span class="mi">0</span> = Some m -&gt;
<span class="kr">forall</span> <span class="nv">p</span> : nat,
<span class="mi">0</span> &lt;= p -&gt;
p &lt; m -&gt;
<span class="kr">match</span> p <span class="kr">with</span>
| <span class="mi">0</span> | _ =&gt; EmptyString
<span class="kr">end</span> &lt;&gt; EmptyString</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="String-v-chka3" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chka3"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">a</span> : ascii) (<span class="nv">s</span> : string),
None = Some m -&gt;
<span class="kr">forall</span> <span class="nv">p</span> : nat,
<span class="mi">0</span> &lt;= p -&gt;
p &lt; m -&gt;
<span class="kr">match</span> p <span class="kr">with</span>
| <span class="mi">0</span> | _ =&gt; EmptyString
<span class="kr">end</span> &lt;&gt; String a s</span></div></blockquote><input class="coq-extra-goal-toggle" id="String-v-chka4" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chka4"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m</span> : nat) (<span class="nv">s1</span> : string),
None = Some m -&gt;
<span class="kr">forall</span> <span class="nv">p</span> : nat,
S n0 &lt;= p -&gt;
p &lt; m -&gt;
<span class="kr">match</span> p <span class="kr">with</span>
| <span class="mi">0</span> =&gt; <span class="kr">match</span> length s1 <span class="kr">with</span>
       | <span class="mi">0</span> | _ =&gt; EmptyString
       <span class="kr">end</span>
| S _ =&gt; EmptyString
<span class="kr">end</span> &lt;&gt; s1</span></div></blockquote><input class="coq-extra-goal-toggle" id="String-v-chka5" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chka5"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">a</span> : ascii) (<span class="nv">s</span> : string),
(<span class="kr">forall</span> (<span class="nv">n</span> <span class="nv">m</span> : nat) (<span class="nv">s1</span> : string),
 index n s1 s = Some m -&gt;
 <span class="kr">forall</span> <span class="nv">p</span> : nat,
 n &lt;= p -&gt; p &lt; m -&gt; substring p (length s1) s &lt;&gt; s1) -&gt;
<span class="kr">forall</span> (<span class="nv">n</span> <span class="nv">m</span> : nat) (<span class="nv">s1</span> : string),
<span class="kr">match</span> n <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">if</span> prefix s1 (String a s)
    <span class="kr">then</span> Some <span class="mi">0</span>
    <span class="kr">else</span>
     <span class="kr">match</span> index <span class="mi">0</span> s1 s <span class="kr">with</span>
     | Some n0 =&gt; Some (S n0)
     | None =&gt; None
     <span class="kr">end</span>
| S n&#39; =&gt;
    <span class="kr">match</span> index n&#39; s1 s <span class="kr">with</span>
    | Some n0 =&gt; Some (S n0)
    | None =&gt; None
    <span class="kr">end</span>
<span class="kr">end</span> = Some m -&gt;
<span class="kr">forall</span> <span class="nv">p</span> : nat,
n &lt;= p -&gt;
p &lt; m -&gt;
<span class="kr">match</span> p <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">match</span> length s1 <span class="kr">with</span>
    | <span class="mi">0</span> =&gt; EmptyString
    | S m&#39; =&gt; String a (substring <span class="mi">0</span> m&#39; s)
    <span class="kr">end</span>
| S n&#39; =&gt; substring n&#39; (length s1) s
<span class="kr">end</span> &lt;&gt; s1</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chka6" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chka6"><span class="highlight"><span class="nb">intros</span> H; <span class="nb">injection</span> H <span class="kr">as</span> &lt;-.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">p</span> : nat,
<span class="mi">0</span> &lt;= p -&gt;
p &lt; <span class="mi">0</span> -&gt;
<span class="kr">match</span> p <span class="kr">with</span>
| <span class="mi">0</span> | _ =&gt; EmptyString
<span class="kr">end</span> &lt;&gt; EmptyString</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="String-v-chka7" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chka7"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">a</span> : ascii) (<span class="nv">s</span> : string),
None = Some m -&gt;
<span class="kr">forall</span> <span class="nv">p</span> : nat,
<span class="mi">0</span> &lt;= p -&gt;
p &lt; m -&gt;
<span class="kr">match</span> p <span class="kr">with</span>
| <span class="mi">0</span> | _ =&gt; EmptyString
<span class="kr">end</span> &lt;&gt; String a s</span></div></blockquote><input class="coq-extra-goal-toggle" id="String-v-chka8" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chka8"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m</span> : nat) (<span class="nv">s1</span> : string),
None = Some m -&gt;
<span class="kr">forall</span> <span class="nv">p</span> : nat,
S n0 &lt;= p -&gt;
p &lt; m -&gt;
<span class="kr">match</span> p <span class="kr">with</span>
| <span class="mi">0</span> =&gt; <span class="kr">match</span> length s1 <span class="kr">with</span>
       | <span class="mi">0</span> | _ =&gt; EmptyString
       <span class="kr">end</span>
| S _ =&gt; EmptyString
<span class="kr">end</span> &lt;&gt; s1</span></div></blockquote><input class="coq-extra-goal-toggle" id="String-v-chka9" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chka9"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">a</span> : ascii) (<span class="nv">s</span> : string),
(<span class="kr">forall</span> (<span class="nv">n</span> <span class="nv">m</span> : nat) (<span class="nv">s1</span> : string),
 index n s1 s = Some m -&gt;
 <span class="kr">forall</span> <span class="nv">p</span> : nat,
 n &lt;= p -&gt; p &lt; m -&gt; substring p (length s1) s &lt;&gt; s1) -&gt;
<span class="kr">forall</span> (<span class="nv">n</span> <span class="nv">m</span> : nat) (<span class="nv">s1</span> : string),
<span class="kr">match</span> n <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">if</span> prefix s1 (String a s)
    <span class="kr">then</span> Some <span class="mi">0</span>
    <span class="kr">else</span>
     <span class="kr">match</span> index <span class="mi">0</span> s1 s <span class="kr">with</span>
     | Some n0 =&gt; Some (S n0)
     | None =&gt; None
     <span class="kr">end</span>
| S n&#39; =&gt;
    <span class="kr">match</span> index n&#39; s1 s <span class="kr">with</span>
    | Some n0 =&gt; Some (S n0)
    | None =&gt; None
    <span class="kr">end</span>
<span class="kr">end</span> = Some m -&gt;
<span class="kr">forall</span> <span class="nv">p</span> : nat,
n &lt;= p -&gt;
p &lt; m -&gt;
<span class="kr">match</span> p <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">match</span> length s1 <span class="kr">with</span>
    | <span class="mi">0</span> =&gt; EmptyString
    | S m&#39; =&gt; String a (substring <span class="mi">0</span> m&#39; s)
    <span class="kr">end</span>
| S n&#39; =&gt; substring n&#39; (length s1) s
<span class="kr">end</span> &lt;&gt; s1</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chkaa" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chkaa"><span class="highlight"><span class="nb">intros</span> p H0 H2; <span class="nb">inversion</span> H2.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">a</span> : ascii) (<span class="nv">s</span> : string),
None = Some m -&gt;
<span class="kr">forall</span> <span class="nv">p</span> : nat,
<span class="mi">0</span> &lt;= p -&gt;
p &lt; m -&gt;
<span class="kr">match</span> p <span class="kr">with</span>
| <span class="mi">0</span> | _ =&gt; EmptyString
<span class="kr">end</span> &lt;&gt; String a s</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="String-v-chkab" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chkab"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m</span> : nat) (<span class="nv">s1</span> : string),
None = Some m -&gt;
<span class="kr">forall</span> <span class="nv">p</span> : nat,
S n0 &lt;= p -&gt;
p &lt; m -&gt;
<span class="kr">match</span> p <span class="kr">with</span>
| <span class="mi">0</span> =&gt; <span class="kr">match</span> length s1 <span class="kr">with</span>
       | <span class="mi">0</span> | _ =&gt; EmptyString
       <span class="kr">end</span>
| S _ =&gt; EmptyString
<span class="kr">end</span> &lt;&gt; s1</span></div></blockquote><input class="coq-extra-goal-toggle" id="String-v-chkac" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chkac"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">a</span> : ascii) (<span class="nv">s</span> : string),
(<span class="kr">forall</span> (<span class="nv">n</span> <span class="nv">m</span> : nat) (<span class="nv">s1</span> : string),
 index n s1 s = Some m -&gt;
 <span class="kr">forall</span> <span class="nv">p</span> : nat,
 n &lt;= p -&gt; p &lt; m -&gt; substring p (length s1) s &lt;&gt; s1) -&gt;
<span class="kr">forall</span> (<span class="nv">n</span> <span class="nv">m</span> : nat) (<span class="nv">s1</span> : string),
<span class="kr">match</span> n <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">if</span> prefix s1 (String a s)
    <span class="kr">then</span> Some <span class="mi">0</span>
    <span class="kr">else</span>
     <span class="kr">match</span> index <span class="mi">0</span> s1 s <span class="kr">with</span>
     | Some n0 =&gt; Some (S n0)
     | None =&gt; None
     <span class="kr">end</span>
| S n&#39; =&gt;
    <span class="kr">match</span> index n&#39; s1 s <span class="kr">with</span>
    | Some n0 =&gt; Some (S n0)
    | None =&gt; None
    <span class="kr">end</span>
<span class="kr">end</span> = Some m -&gt;
<span class="kr">forall</span> <span class="nv">p</span> : nat,
n &lt;= p -&gt;
p &lt; m -&gt;
<span class="kr">match</span> p <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">match</span> length s1 <span class="kr">with</span>
    | <span class="mi">0</span> =&gt; EmptyString
    | S m&#39; =&gt; String a (substring <span class="mi">0</span> m&#39; s)
    <span class="kr">end</span>
| S n&#39; =&gt; substring n&#39; (length s1) s
<span class="kr">end</span> &lt;&gt; s1</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chkad" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chkad"><span class="highlight"><span class="nb">intros</span>; <span class="bp">discriminate</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m</span> : nat) (<span class="nv">s1</span> : string),
None = Some m -&gt;
<span class="kr">forall</span> <span class="nv">p</span> : nat,
S n0 &lt;= p -&gt;
p &lt; m -&gt;
<span class="kr">match</span> p <span class="kr">with</span>
| <span class="mi">0</span> =&gt; <span class="kr">match</span> length s1 <span class="kr">with</span>
       | <span class="mi">0</span> | _ =&gt; EmptyString
       <span class="kr">end</span>
| S _ =&gt; EmptyString
<span class="kr">end</span> &lt;&gt; s1</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="String-v-chkae" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chkae"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">a</span> : ascii) (<span class="nv">s</span> : string),
(<span class="kr">forall</span> (<span class="nv">n</span> <span class="nv">m</span> : nat) (<span class="nv">s1</span> : string),
 index n s1 s = Some m -&gt;
 <span class="kr">forall</span> <span class="nv">p</span> : nat,
 n &lt;= p -&gt; p &lt; m -&gt; substring p (length s1) s &lt;&gt; s1) -&gt;
<span class="kr">forall</span> (<span class="nv">n</span> <span class="nv">m</span> : nat) (<span class="nv">s1</span> : string),
<span class="kr">match</span> n <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">if</span> prefix s1 (String a s)
    <span class="kr">then</span> Some <span class="mi">0</span>
    <span class="kr">else</span>
     <span class="kr">match</span> index <span class="mi">0</span> s1 s <span class="kr">with</span>
     | Some n0 =&gt; Some (S n0)
     | None =&gt; None
     <span class="kr">end</span>
| S n&#39; =&gt;
    <span class="kr">match</span> index n&#39; s1 s <span class="kr">with</span>
    | Some n0 =&gt; Some (S n0)
    | None =&gt; None
    <span class="kr">end</span>
<span class="kr">end</span> = Some m -&gt;
<span class="kr">forall</span> <span class="nv">p</span> : nat,
n &lt;= p -&gt;
p &lt; m -&gt;
<span class="kr">match</span> p <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">match</span> length s1 <span class="kr">with</span>
    | <span class="mi">0</span> =&gt; EmptyString
    | S m&#39; =&gt; String a (substring <span class="mi">0</span> m&#39; s)
    <span class="kr">end</span>
| S n&#39; =&gt; substring n&#39; (length s1) s
<span class="kr">end</span> &lt;&gt; s1</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chkaf" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chkaf"><span class="highlight"><span class="nb">intros</span>; <span class="bp">discriminate</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">a</span> : ascii) (<span class="nv">s</span> : string),
(<span class="kr">forall</span> (<span class="nv">n</span> <span class="nv">m</span> : nat) (<span class="nv">s1</span> : string),
 index n s1 s = Some m -&gt;
 <span class="kr">forall</span> <span class="nv">p</span> : nat,
 n &lt;= p -&gt; p &lt; m -&gt; substring p (length s1) s &lt;&gt; s1) -&gt;
<span class="kr">forall</span> (<span class="nv">n</span> <span class="nv">m</span> : nat) (<span class="nv">s1</span> : string),
<span class="kr">match</span> n <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">if</span> prefix s1 (String a s)
    <span class="kr">then</span> Some <span class="mi">0</span>
    <span class="kr">else</span>
     <span class="kr">match</span> index <span class="mi">0</span> s1 s <span class="kr">with</span>
     | Some n0 =&gt; Some (S n0)
     | None =&gt; None
     <span class="kr">end</span>
| S n&#39; =&gt;
    <span class="kr">match</span> index n&#39; s1 s <span class="kr">with</span>
    | Some n0 =&gt; Some (S n0)
    | None =&gt; None
    <span class="kr">end</span>
<span class="kr">end</span> = Some m -&gt;
<span class="kr">forall</span> <span class="nv">p</span> : nat,
n &lt;= p -&gt;
p &lt; m -&gt;
<span class="kr">match</span> p <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">match</span> length s1 <span class="kr">with</span>
    | <span class="mi">0</span> =&gt; EmptyString
    | S m&#39; =&gt; String a (substring <span class="mi">0</span> m&#39; s)
    <span class="kr">end</span>
| S n&#39; =&gt; substring n&#39; (length s1) s
<span class="kr">end</span> &lt;&gt; s1</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chkb0" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chkb0"><span class="highlight"><span class="nb">intros</span> b s2&#39; Rec n m s1.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n0 s0 s2&#39; = Some m0 -&gt;
<span class="kr">forall</span> <span class="nv">p</span> : nat, n0 &lt;= p -&gt; p &lt; m0 -&gt; substring p (length s0) s2&#39; &lt;&gt; s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">match</span> n <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">if</span> prefix s1 (String b s2&#39;)
    <span class="kr">then</span> Some <span class="mi">0</span>
    <span class="kr">else</span>
     <span class="kr">match</span> index <span class="mi">0</span> s1 s2&#39; <span class="kr">with</span>
     | Some n0 =&gt; Some (S n0)
     | None =&gt; None
     <span class="kr">end</span>
| S n&#39; =&gt;
    <span class="kr">match</span> index n&#39; s1 s2&#39; <span class="kr">with</span>
    | Some n0 =&gt; Some (S n0)
    | None =&gt; None
    <span class="kr">end</span>
<span class="kr">end</span> = Some m -&gt;
<span class="kr">forall</span> <span class="nv">p</span> : nat,
n &lt;= p -&gt;
p &lt; m -&gt;
<span class="kr">match</span> p <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">match</span> length s1 <span class="kr">with</span>
    | <span class="mi">0</span> =&gt; EmptyString
    | S m&#39; =&gt; String b (substring <span class="mi">0</span> m&#39; s2&#39;)
    <span class="kr">end</span>
| S n&#39; =&gt; substring n&#39; (length s1) s2&#39;
<span class="kr">end</span> &lt;&gt; s1</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chkb1" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chkb1"><span class="highlight"><span class="nb">case</span> n; <span class="nb">simpl</span>; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n0 s0 s2&#39; = Some m0 -&gt;
<span class="kr">forall</span> <span class="nv">p</span> : nat, n0 &lt;= p -&gt; p &lt; m0 -&gt; substring p (length s0) s2&#39; &lt;&gt; s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="kr">if</span> prefix s1 (String b s2&#39;)
 <span class="kr">then</span> Some <span class="mi">0</span>
 <span class="kr">else</span>
  <span class="kr">match</span> index <span class="mi">0</span> s1 s2&#39; <span class="kr">with</span>
  | Some n0 =&gt; Some (S n0)
  | None =&gt; None
  <span class="kr">end</span>) = Some m -&gt;
<span class="kr">forall</span> <span class="nv">p</span> : nat,
<span class="mi">0</span> &lt;= p -&gt;
p &lt; m -&gt;
<span class="kr">match</span> p <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">match</span> length s1 <span class="kr">with</span>
    | <span class="mi">0</span> =&gt; EmptyString
    | S m&#39; =&gt; String b (substring <span class="mi">0</span> m&#39; s2&#39;)
    <span class="kr">end</span>
| S n&#39; =&gt; substring n&#39; (length s1) s2&#39;
<span class="kr">end</span> &lt;&gt; s1</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="String-v-chkb2" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n0 s0 s2&#39; = Some m0 -&gt;
<span class="kr">forall</span> <span class="nv">p</span> : nat, n0 &lt;= p -&gt; p &lt; m0 -&gt; substring p (length s0) s2&#39; &lt;&gt; s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chkb2"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">n0</span> : nat,
<span class="kr">match</span> index n0 s1 s2&#39; <span class="kr">with</span>
| Some n1 =&gt; Some (S n1)
| None =&gt; None
<span class="kr">end</span> = Some m -&gt;
<span class="kr">forall</span> <span class="nv">p</span> : nat,
S n0 &lt;= p -&gt;
p &lt; m -&gt;
<span class="kr">match</span> p <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">match</span> length s1 <span class="kr">with</span>
    | <span class="mi">0</span> =&gt; EmptyString
    | S m&#39; =&gt; String b (substring <span class="mi">0</span> m&#39; s2&#39;)
    <span class="kr">end</span>
| S n&#39; =&gt; substring n&#39; (length s1) s2&#39;
<span class="kr">end</span> &lt;&gt; s1</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chkb3" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chkb3"><span class="highlight"><span class="nb">generalize</span> (prefix_correct s1 (String b s2&#39;));
 <span class="nb">case</span> (prefix s1 (String b s2&#39;)).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n0 s0 s2&#39; = Some m0 -&gt;
<span class="kr">forall</span> <span class="nv">p</span> : nat, n0 &lt;= p -&gt; p &lt; m0 -&gt; substring p (length s0) s2&#39; &lt;&gt; s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">true = true &lt;-&gt;
substring <span class="mi">0</span> (length s1) (String b s2&#39;) = s1 -&gt;
Some <span class="mi">0</span> = Some m -&gt;
<span class="kr">forall</span> <span class="nv">p</span> : nat,
<span class="mi">0</span> &lt;= p -&gt;
p &lt; m -&gt;
<span class="kr">match</span> p <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">match</span> length s1 <span class="kr">with</span>
    | <span class="mi">0</span> =&gt; EmptyString
    | S m&#39; =&gt; String b (substring <span class="mi">0</span> m&#39; s2&#39;)
    <span class="kr">end</span>
| S n&#39; =&gt; substring n&#39; (length s1) s2&#39;
<span class="kr">end</span> &lt;&gt; s1</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="String-v-chkb4" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n0 s0 s2&#39; = Some m0 -&gt;
<span class="kr">forall</span> <span class="nv">p</span> : nat, n0 &lt;= p -&gt; p &lt; m0 -&gt; substring p (length s0) s2&#39; &lt;&gt; s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chkb4"><hr></label><div class="goal-conclusion"><span class="highlight">false = true &lt;-&gt;
substring <span class="mi">0</span> (length s1) (String b s2&#39;) = s1 -&gt;
<span class="kr">match</span> index <span class="mi">0</span> s1 s2&#39; <span class="kr">with</span>
| Some n0 =&gt; Some (S n0)
| None =&gt; None
<span class="kr">end</span> = Some m -&gt;
<span class="kr">forall</span> <span class="nv">p</span> : nat,
<span class="mi">0</span> &lt;= p -&gt;
p &lt; m -&gt;
<span class="kr">match</span> p <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">match</span> length s1 <span class="kr">with</span>
    | <span class="mi">0</span> =&gt; EmptyString
    | S m&#39; =&gt; String b (substring <span class="mi">0</span> m&#39; s2&#39;)
    <span class="kr">end</span>
| S n&#39; =&gt; substring n&#39; (length s1) s2&#39;
<span class="kr">end</span> &lt;&gt; s1</span></div></blockquote><input class="coq-extra-goal-toggle" id="String-v-chkb5" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n0 s0 s2&#39; = Some m0 -&gt;
<span class="kr">forall</span> <span class="nv">p</span> : nat, n0 &lt;= p -&gt; p &lt; m0 -&gt; substring p (length s0) s2&#39; &lt;&gt; s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chkb5"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">n0</span> : nat,
<span class="kr">match</span> index n0 s1 s2&#39; <span class="kr">with</span>
| Some n1 =&gt; Some (S n1)
| None =&gt; None
<span class="kr">end</span> = Some m -&gt;
<span class="kr">forall</span> <span class="nv">p</span> : nat,
S n0 &lt;= p -&gt;
p &lt; m -&gt;
<span class="kr">match</span> p <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">match</span> length s1 <span class="kr">with</span>
    | <span class="mi">0</span> =&gt; EmptyString
    | S m&#39; =&gt; String b (substring <span class="mi">0</span> m&#39; s2&#39;)
    <span class="kr">end</span>
| S n&#39; =&gt; substring n&#39; (length s1) s2&#39;
<span class="kr">end</span> &lt;&gt; s1</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chkb6" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chkb6"><span class="highlight"><span class="nb">intros</span> H0 H; <span class="nb">injection</span> H <span class="kr">as</span> &lt;-; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m</span> : nat) (<span class="nv">s0</span> : string),
index n0 s0 s2&#39; = Some m -&gt;
<span class="kr">forall</span> <span class="nv">p</span> : nat, n0 &lt;= p -&gt; p &lt; m -&gt; substring p (length s0) s2&#39; &lt;&gt; s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">true = true &lt;-&gt;
substring <span class="mi">0</span> (length s1) (String b s2&#39;) = s1</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">p</span> : nat,
<span class="mi">0</span> &lt;= p -&gt;
p &lt; <span class="mi">0</span> -&gt;
<span class="kr">match</span> p <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">match</span> length s1 <span class="kr">with</span>
    | <span class="mi">0</span> =&gt; EmptyString
    | S m&#39; =&gt; String b (substring <span class="mi">0</span> m&#39; s2&#39;)
    <span class="kr">end</span>
| S n&#39; =&gt; substring n&#39; (length s1) s2&#39;
<span class="kr">end</span> &lt;&gt; s1</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="String-v-chkb7" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n0 s0 s2&#39; = Some m0 -&gt;
<span class="kr">forall</span> <span class="nv">p</span> : nat, n0 &lt;= p -&gt; p &lt; m0 -&gt; substring p (length s0) s2&#39; &lt;&gt; s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chkb7"><hr></label><div class="goal-conclusion"><span class="highlight">false = true &lt;-&gt;
substring <span class="mi">0</span> (length s1) (String b s2&#39;) = s1 -&gt;
<span class="kr">match</span> index <span class="mi">0</span> s1 s2&#39; <span class="kr">with</span>
| Some n0 =&gt; Some (S n0)
| None =&gt; None
<span class="kr">end</span> = Some m -&gt;
<span class="kr">forall</span> <span class="nv">p</span> : nat,
<span class="mi">0</span> &lt;= p -&gt;
p &lt; m -&gt;
<span class="kr">match</span> p <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">match</span> length s1 <span class="kr">with</span>
    | <span class="mi">0</span> =&gt; EmptyString
    | S m&#39; =&gt; String b (substring <span class="mi">0</span> m&#39; s2&#39;)
    <span class="kr">end</span>
| S n&#39; =&gt; substring n&#39; (length s1) s2&#39;
<span class="kr">end</span> &lt;&gt; s1</span></div></blockquote><input class="coq-extra-goal-toggle" id="String-v-chkb8" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n0 s0 s2&#39; = Some m0 -&gt;
<span class="kr">forall</span> <span class="nv">p</span> : nat, n0 &lt;= p -&gt; p &lt; m0 -&gt; substring p (length s0) s2&#39; &lt;&gt; s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chkb8"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">n0</span> : nat,
<span class="kr">match</span> index n0 s1 s2&#39; <span class="kr">with</span>
| Some n1 =&gt; Some (S n1)
| None =&gt; None
<span class="kr">end</span> = Some m -&gt;
<span class="kr">forall</span> <span class="nv">p</span> : nat,
S n0 &lt;= p -&gt;
p &lt; m -&gt;
<span class="kr">match</span> p <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">match</span> length s1 <span class="kr">with</span>
    | <span class="mi">0</span> =&gt; EmptyString
    | S m&#39; =&gt; String b (substring <span class="mi">0</span> m&#39; s2&#39;)
    <span class="kr">end</span>
| S n&#39; =&gt; substring n&#39; (length s1) s2&#39;
<span class="kr">end</span> &lt;&gt; s1</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chkb9" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chkb9"><span class="highlight"><span class="nb">intros</span> p H2 H3; <span class="nb">inversion</span> H3.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n0 s0 s2&#39; = Some m0 -&gt;
<span class="kr">forall</span> <span class="nv">p</span> : nat, n0 &lt;= p -&gt; p &lt; m0 -&gt; substring p (length s0) s2&#39; &lt;&gt; s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">false = true &lt;-&gt;
substring <span class="mi">0</span> (length s1) (String b s2&#39;) = s1 -&gt;
<span class="kr">match</span> index <span class="mi">0</span> s1 s2&#39; <span class="kr">with</span>
| Some n0 =&gt; Some (S n0)
| None =&gt; None
<span class="kr">end</span> = Some m -&gt;
<span class="kr">forall</span> <span class="nv">p</span> : nat,
<span class="mi">0</span> &lt;= p -&gt;
p &lt; m -&gt;
<span class="kr">match</span> p <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">match</span> length s1 <span class="kr">with</span>
    | <span class="mi">0</span> =&gt; EmptyString
    | S m&#39; =&gt; String b (substring <span class="mi">0</span> m&#39; s2&#39;)
    <span class="kr">end</span>
| S n&#39; =&gt; substring n&#39; (length s1) s2&#39;
<span class="kr">end</span> &lt;&gt; s1</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="String-v-chkba" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n0 s0 s2&#39; = Some m0 -&gt;
<span class="kr">forall</span> <span class="nv">p</span> : nat, n0 &lt;= p -&gt; p &lt; m0 -&gt; substring p (length s0) s2&#39; &lt;&gt; s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chkba"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">n0</span> : nat,
<span class="kr">match</span> index n0 s1 s2&#39; <span class="kr">with</span>
| Some n1 =&gt; Some (S n1)
| None =&gt; None
<span class="kr">end</span> = Some m -&gt;
<span class="kr">forall</span> <span class="nv">p</span> : nat,
S n0 &lt;= p -&gt;
p &lt; m -&gt;
<span class="kr">match</span> p <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">match</span> length s1 <span class="kr">with</span>
    | <span class="mi">0</span> =&gt; EmptyString
    | S m&#39; =&gt; String b (substring <span class="mi">0</span> m&#39; s2&#39;)
    <span class="kr">end</span>
| S n&#39; =&gt; substring n&#39; (length s1) s2&#39;
<span class="kr">end</span> &lt;&gt; s1</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chkbb" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chkbb"><span class="highlight"><span class="nb">case</span> m; <span class="nb">simpl</span>; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n0 s0 s2&#39; = Some m0 -&gt;
<span class="kr">forall</span> <span class="nv">p</span> : nat, n0 &lt;= p -&gt; p &lt; m0 -&gt; substring p (length s0) s2&#39; &lt;&gt; s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">false = true &lt;-&gt;
<span class="kr">match</span> length s1 <span class="kr">with</span>
| <span class="mi">0</span> =&gt; EmptyString
| S m&#39; =&gt; String b (substring <span class="mi">0</span> m&#39; s2&#39;)
<span class="kr">end</span> = s1 -&gt;
<span class="kr">match</span> index <span class="mi">0</span> s1 s2&#39; <span class="kr">with</span>
| Some n0 =&gt; Some (S n0)
| None =&gt; None
<span class="kr">end</span> = Some <span class="mi">0</span> -&gt;
<span class="kr">forall</span> <span class="nv">p</span> : nat,
<span class="mi">0</span> &lt;= p -&gt;
p &lt; <span class="mi">0</span> -&gt;
<span class="kr">match</span> p <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">match</span> length s1 <span class="kr">with</span>
    | <span class="mi">0</span> =&gt; EmptyString
    | S m&#39; =&gt; String b (substring <span class="mi">0</span> m&#39; s2&#39;)
    <span class="kr">end</span>
| S n&#39; =&gt; substring n&#39; (length s1) s2&#39;
<span class="kr">end</span> &lt;&gt; s1</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="String-v-chkbc" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n0 s0 s2&#39; = Some m0 -&gt;
<span class="kr">forall</span> <span class="nv">p</span> : nat, n0 &lt;= p -&gt; p &lt; m0 -&gt; substring p (length s0) s2&#39; &lt;&gt; s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chkbc"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">n0</span> : nat,
false = true &lt;-&gt;
<span class="kr">match</span> length s1 <span class="kr">with</span>
| <span class="mi">0</span> =&gt; EmptyString
| S m&#39; =&gt; String b (substring <span class="mi">0</span> m&#39; s2&#39;)
<span class="kr">end</span> = s1 -&gt;
<span class="kr">match</span> index <span class="mi">0</span> s1 s2&#39; <span class="kr">with</span>
| Some n1 =&gt; Some (S n1)
| None =&gt; None
<span class="kr">end</span> = Some (S n0) -&gt;
<span class="kr">forall</span> <span class="nv">p</span> : nat,
<span class="mi">0</span> &lt;= p -&gt;
p &lt; S n0 -&gt;
<span class="kr">match</span> p <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">match</span> length s1 <span class="kr">with</span>
    | <span class="mi">0</span> =&gt; EmptyString
    | S m&#39; =&gt; String b (substring <span class="mi">0</span> m&#39; s2&#39;)
    <span class="kr">end</span>
| S n&#39; =&gt; substring n&#39; (length s1) s2&#39;
<span class="kr">end</span> &lt;&gt; s1</span></div></blockquote><input class="coq-extra-goal-toggle" id="String-v-chkbd" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n0 s0 s2&#39; = Some m0 -&gt;
<span class="kr">forall</span> <span class="nv">p</span> : nat, n0 &lt;= p -&gt; p &lt; m0 -&gt; substring p (length s0) s2&#39; &lt;&gt; s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chkbd"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">n0</span> : nat,
<span class="kr">match</span> index n0 s1 s2&#39; <span class="kr">with</span>
| Some n1 =&gt; Some (S n1)
| None =&gt; None
<span class="kr">end</span> = Some m -&gt;
<span class="kr">forall</span> <span class="nv">p</span> : nat,
S n0 &lt;= p -&gt;
p &lt; m -&gt;
<span class="kr">match</span> p <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">match</span> length s1 <span class="kr">with</span>
    | <span class="mi">0</span> =&gt; EmptyString
    | S m&#39; =&gt; String b (substring <span class="mi">0</span> m&#39; s2&#39;)
    <span class="kr">end</span>
| S n&#39; =&gt; substring n&#39; (length s1) s2&#39;
<span class="kr">end</span> &lt;&gt; s1</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chkbe" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chkbe"><span class="highlight"><span class="nb">case</span> (index <span class="mi">0</span> s1 s2&#39;); <span class="nb">intros</span>; <span class="bp">discriminate</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n0 s0 s2&#39; = Some m0 -&gt;
<span class="kr">forall</span> <span class="nv">p</span> : nat, n0 &lt;= p -&gt; p &lt; m0 -&gt; substring p (length s0) s2&#39; &lt;&gt; s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">n0</span> : nat,
false = true &lt;-&gt;
<span class="kr">match</span> length s1 <span class="kr">with</span>
| <span class="mi">0</span> =&gt; EmptyString
| S m&#39; =&gt; String b (substring <span class="mi">0</span> m&#39; s2&#39;)
<span class="kr">end</span> = s1 -&gt;
<span class="kr">match</span> index <span class="mi">0</span> s1 s2&#39; <span class="kr">with</span>
| Some n1 =&gt; Some (S n1)
| None =&gt; None
<span class="kr">end</span> = Some (S n0) -&gt;
<span class="kr">forall</span> <span class="nv">p</span> : nat,
<span class="mi">0</span> &lt;= p -&gt;
p &lt; S n0 -&gt;
<span class="kr">match</span> p <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">match</span> length s1 <span class="kr">with</span>
    | <span class="mi">0</span> =&gt; EmptyString
    | S m&#39; =&gt; String b (substring <span class="mi">0</span> m&#39; s2&#39;)
    <span class="kr">end</span>
| S n&#39; =&gt; substring n&#39; (length s1) s2&#39;
<span class="kr">end</span> &lt;&gt; s1</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="String-v-chkbf" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n0 s0 s2&#39; = Some m0 -&gt;
<span class="kr">forall</span> <span class="nv">p</span> : nat, n0 &lt;= p -&gt; p &lt; m0 -&gt; substring p (length s0) s2&#39; &lt;&gt; s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chkbf"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">n0</span> : nat,
<span class="kr">match</span> index n0 s1 s2&#39; <span class="kr">with</span>
| Some n1 =&gt; Some (S n1)
| None =&gt; None
<span class="kr">end</span> = Some m -&gt;
<span class="kr">forall</span> <span class="nv">p</span> : nat,
S n0 &lt;= p -&gt;
p &lt; m -&gt;
<span class="kr">match</span> p <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">match</span> length s1 <span class="kr">with</span>
    | <span class="mi">0</span> =&gt; EmptyString
    | S m&#39; =&gt; String b (substring <span class="mi">0</span> m&#39; s2&#39;)
    <span class="kr">end</span>
| S n&#39; =&gt; substring n&#39; (length s1) s2&#39;
<span class="kr">end</span> &lt;&gt; s1</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chkc0" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chkc0"><span class="highlight"><span class="nb">intros</span> m&#39;; <span class="nb">generalize</span> (Rec O m&#39; s1); <span class="nb">case</span> (index <span class="mi">0</span> s1 s2&#39;); <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n0 s0 s2&#39; = Some m0 -&gt;
<span class="kr">forall</span> <span class="nv">p</span> : nat, n0 &lt;= p -&gt; p &lt; m0 -&gt; substring p (length s0) s2&#39; &lt;&gt; s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">m'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">n0</span> : nat,
(Some n0 = Some m&#39; -&gt;
 <span class="kr">forall</span> <span class="nv">p</span> : nat,
 <span class="mi">0</span> &lt;= p -&gt; p &lt; m&#39; -&gt; substring p (length s1) s2&#39; &lt;&gt; s1) -&gt;
false = true &lt;-&gt;
<span class="kr">match</span> length s1 <span class="kr">with</span>
| <span class="mi">0</span> =&gt; EmptyString
| S m&#39;0 =&gt; String b (substring <span class="mi">0</span> m&#39;0 s2&#39;)
<span class="kr">end</span> = s1 -&gt;
Some (S n0) = Some (S m&#39;) -&gt;
<span class="kr">forall</span> <span class="nv">p</span> : nat,
<span class="mi">0</span> &lt;= p -&gt;
p &lt; S m&#39; -&gt;
<span class="kr">match</span> p <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">match</span> length s1 <span class="kr">with</span>
    | <span class="mi">0</span> =&gt; EmptyString
    | S m&#39;0 =&gt; String b (substring <span class="mi">0</span> m&#39;0 s2&#39;)
    <span class="kr">end</span>
| S n&#39; =&gt; substring n&#39; (length s1) s2&#39;
<span class="kr">end</span> &lt;&gt; s1</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="String-v-chkc1" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n0 s0 s2&#39; = Some m0 -&gt;
<span class="kr">forall</span> <span class="nv">p</span> : nat, n0 &lt;= p -&gt; p &lt; m0 -&gt; substring p (length s0) s2&#39; &lt;&gt; s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">m'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chkc1"><hr></label><div class="goal-conclusion"><span class="highlight">(None = Some m&#39; -&gt;
 <span class="kr">forall</span> <span class="nv">p</span> : nat,
 <span class="mi">0</span> &lt;= p -&gt; p &lt; m&#39; -&gt; substring p (length s1) s2&#39; &lt;&gt; s1) -&gt;
false = true &lt;-&gt;
<span class="kr">match</span> length s1 <span class="kr">with</span>
| <span class="mi">0</span> =&gt; EmptyString
| S m&#39;0 =&gt; String b (substring <span class="mi">0</span> m&#39;0 s2&#39;)
<span class="kr">end</span> = s1 -&gt;
None = Some (S m&#39;) -&gt;
<span class="kr">forall</span> <span class="nv">p</span> : nat,
<span class="mi">0</span> &lt;= p -&gt;
p &lt; S m&#39; -&gt;
<span class="kr">match</span> p <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">match</span> length s1 <span class="kr">with</span>
    | <span class="mi">0</span> =&gt; EmptyString
    | S m&#39;0 =&gt; String b (substring <span class="mi">0</span> m&#39;0 s2&#39;)
    <span class="kr">end</span>
| S n&#39; =&gt; substring n&#39; (length s1) s2&#39;
<span class="kr">end</span> &lt;&gt; s1</span></div></blockquote><input class="coq-extra-goal-toggle" id="String-v-chkc2" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n0 s0 s2&#39; = Some m0 -&gt;
<span class="kr">forall</span> <span class="nv">p</span> : nat, n0 &lt;= p -&gt; p &lt; m0 -&gt; substring p (length s0) s2&#39; &lt;&gt; s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chkc2"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">n0</span> : nat,
<span class="kr">match</span> index n0 s1 s2&#39; <span class="kr">with</span>
| Some n1 =&gt; Some (S n1)
| None =&gt; None
<span class="kr">end</span> = Some m -&gt;
<span class="kr">forall</span> <span class="nv">p</span> : nat,
S n0 &lt;= p -&gt;
p &lt; m -&gt;
<span class="kr">match</span> p <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">match</span> length s1 <span class="kr">with</span>
    | <span class="mi">0</span> =&gt; EmptyString
    | S m&#39; =&gt; String b (substring <span class="mi">0</span> m&#39; s2&#39;)
    <span class="kr">end</span>
| S n&#39; =&gt; substring n&#39; (length s1) s2&#39;
<span class="kr">end</span> &lt;&gt; s1</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chkc3" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chkc3"><span class="highlight"><span class="nb">intros</span> x H H0 H1 p; <span class="kp">try</span> <span class="nb">case</span> p; <span class="nb">simpl</span>; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n0 s0 s2&#39; = Some m0 -&gt;
<span class="kr">forall</span> <span class="nv">p0</span> : nat, n0 &lt;= p0 -&gt; p0 &lt; m0 -&gt; substring p0 (length s0) s2&#39; &lt;&gt; s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">m', x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Some x = Some m&#39; -&gt;
<span class="kr">forall</span> <span class="nv">p0</span> : nat,
<span class="mi">0</span> &lt;= p0 -&gt;
p0 &lt; m&#39; -&gt; substring p0 (length s1) s2&#39; &lt;&gt; s1</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">false = true &lt;-&gt;
<span class="kr">match</span> length s1 <span class="kr">with</span>
| <span class="mi">0</span> =&gt; EmptyString
| S m&#39;0 =&gt; String b (substring <span class="mi">0</span> m&#39;0 s2&#39;)
<span class="kr">end</span> = s1</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Some (S x) = Some (S m&#39;)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">0</span> &lt;= <span class="mi">0</span> -&gt;
<span class="mi">0</span> &lt; S m&#39; -&gt;
<span class="kr">match</span> length s1 <span class="kr">with</span>
| <span class="mi">0</span> =&gt; EmptyString
| S m&#39;0 =&gt; String b (substring <span class="mi">0</span> m&#39;0 s2&#39;)
<span class="kr">end</span> &lt;&gt; s1</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="String-v-chkc4" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n0 s0 s2&#39; = Some m0 -&gt;
<span class="kr">forall</span> <span class="nv">p0</span> : nat, n0 &lt;= p0 -&gt; p0 &lt; m0 -&gt; substring p0 (length s0) s2&#39; &lt;&gt; s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">m', x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Some x = Some m&#39; -&gt;
<span class="kr">forall</span> <span class="nv">p0</span> : nat,
<span class="mi">0</span> &lt;= p0 -&gt;
p0 &lt; m&#39; -&gt; substring p0 (length s1) s2&#39; &lt;&gt; s1</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">false = true &lt;-&gt;
<span class="kr">match</span> length s1 <span class="kr">with</span>
| <span class="mi">0</span> =&gt; EmptyString
| S m&#39;0 =&gt; String b (substring <span class="mi">0</span> m&#39;0 s2&#39;)
<span class="kr">end</span> = s1</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Some (S x) = Some (S m&#39;)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chkc4"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">n0</span> : nat,
<span class="mi">0</span> &lt;= S n0 -&gt;
S n0 &lt; S m&#39; -&gt; substring n0 (length s1) s2&#39; &lt;&gt; s1</span></div></blockquote><input class="coq-extra-goal-toggle" id="String-v-chkc5" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n0 s0 s2&#39; = Some m0 -&gt;
<span class="kr">forall</span> <span class="nv">p</span> : nat, n0 &lt;= p -&gt; p &lt; m0 -&gt; substring p (length s0) s2&#39; &lt;&gt; s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">m'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chkc5"><hr></label><div class="goal-conclusion"><span class="highlight">(None = Some m&#39; -&gt;
 <span class="kr">forall</span> <span class="nv">p</span> : nat,
 <span class="mi">0</span> &lt;= p -&gt; p &lt; m&#39; -&gt; substring p (length s1) s2&#39; &lt;&gt; s1) -&gt;
false = true &lt;-&gt;
<span class="kr">match</span> length s1 <span class="kr">with</span>
| <span class="mi">0</span> =&gt; EmptyString
| S m&#39;0 =&gt; String b (substring <span class="mi">0</span> m&#39;0 s2&#39;)
<span class="kr">end</span> = s1 -&gt;
None = Some (S m&#39;) -&gt;
<span class="kr">forall</span> <span class="nv">p</span> : nat,
<span class="mi">0</span> &lt;= p -&gt;
p &lt; S m&#39; -&gt;
<span class="kr">match</span> p <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">match</span> length s1 <span class="kr">with</span>
    | <span class="mi">0</span> =&gt; EmptyString
    | S m&#39;0 =&gt; String b (substring <span class="mi">0</span> m&#39;0 s2&#39;)
    <span class="kr">end</span>
| S n&#39; =&gt; substring n&#39; (length s1) s2&#39;
<span class="kr">end</span> &lt;&gt; s1</span></div></blockquote><input class="coq-extra-goal-toggle" id="String-v-chkc6" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n0 s0 s2&#39; = Some m0 -&gt;
<span class="kr">forall</span> <span class="nv">p</span> : nat, n0 &lt;= p -&gt; p &lt; m0 -&gt; substring p (length s0) s2&#39; &lt;&gt; s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chkc6"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">n0</span> : nat,
<span class="kr">match</span> index n0 s1 s2&#39; <span class="kr">with</span>
| Some n1 =&gt; Some (S n1)
| None =&gt; None
<span class="kr">end</span> = Some m -&gt;
<span class="kr">forall</span> <span class="nv">p</span> : nat,
S n0 &lt;= p -&gt;
p &lt; m -&gt;
<span class="kr">match</span> p <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">match</span> length s1 <span class="kr">with</span>
    | <span class="mi">0</span> =&gt; EmptyString
    | S m&#39; =&gt; String b (substring <span class="mi">0</span> m&#39; s2&#39;)
    <span class="kr">end</span>
| S n&#39; =&gt; substring n&#39; (length s1) s2&#39;
<span class="kr">end</span> &lt;&gt; s1</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chkc7" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chkc7"><span class="highlight"><span class="nb">intros</span> H2 H3; <span class="nb">red</span>; <span class="nb">intros</span> H4; <span class="nb">case</span> H0.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n0 s0 s2&#39; = Some m0 -&gt;
<span class="kr">forall</span> <span class="nv">p0</span> : nat, n0 &lt;= p0 -&gt; p0 &lt; m0 -&gt; substring p0 (length s0) s2&#39; &lt;&gt; s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">m', x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Some x = Some m&#39; -&gt;
<span class="kr">forall</span> <span class="nv">p0</span> : nat,
<span class="mi">0</span> &lt;= p0 -&gt;
p0 &lt; m&#39; -&gt; substring p0 (length s1) s2&#39; &lt;&gt; s1</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">false = true &lt;-&gt;
<span class="kr">match</span> length s1 <span class="kr">with</span>
| <span class="mi">0</span> =&gt; EmptyString
| S m&#39;0 =&gt; String b (substring <span class="mi">0</span> m&#39;0 s2&#39;)
<span class="kr">end</span> = s1</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Some (S x) = Some (S m&#39;)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= <span class="mi">0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; S m&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H4</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">match</span> length s1 <span class="kr">with</span>
| <span class="mi">0</span> =&gt; EmptyString
| S m&#39;0 =&gt; String b (substring <span class="mi">0</span> m&#39;0 s2&#39;)
<span class="kr">end</span> = s1</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(false = true -&gt;
 <span class="kr">match</span> length s1 <span class="kr">with</span>
 | <span class="mi">0</span> =&gt; EmptyString
 | S m&#39;0 =&gt; String b (substring <span class="mi">0</span> m&#39;0 s2&#39;)
 <span class="kr">end</span> = s1) -&gt;
(<span class="kr">match</span> length s1 <span class="kr">with</span>
 | <span class="mi">0</span> =&gt; EmptyString
 | S m&#39;0 =&gt; String b (substring <span class="mi">0</span> m&#39;0 s2&#39;)
 <span class="kr">end</span> = s1 -&gt; false = true) -&gt; <span class="kt">False</span></span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="String-v-chkc8" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n0 s0 s2&#39; = Some m0 -&gt;
<span class="kr">forall</span> <span class="nv">p0</span> : nat, n0 &lt;= p0 -&gt; p0 &lt; m0 -&gt; substring p0 (length s0) s2&#39; &lt;&gt; s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">m', x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Some x = Some m&#39; -&gt;
<span class="kr">forall</span> <span class="nv">p0</span> : nat,
<span class="mi">0</span> &lt;= p0 -&gt;
p0 &lt; m&#39; -&gt; substring p0 (length s1) s2&#39; &lt;&gt; s1</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">false = true &lt;-&gt;
<span class="kr">match</span> length s1 <span class="kr">with</span>
| <span class="mi">0</span> =&gt; EmptyString
| S m&#39;0 =&gt; String b (substring <span class="mi">0</span> m&#39;0 s2&#39;)
<span class="kr">end</span> = s1</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Some (S x) = Some (S m&#39;)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chkc8"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">n0</span> : nat,
<span class="mi">0</span> &lt;= S n0 -&gt;
S n0 &lt; S m&#39; -&gt; substring n0 (length s1) s2&#39; &lt;&gt; s1</span></div></blockquote><input class="coq-extra-goal-toggle" id="String-v-chkc9" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n0 s0 s2&#39; = Some m0 -&gt;
<span class="kr">forall</span> <span class="nv">p</span> : nat, n0 &lt;= p -&gt; p &lt; m0 -&gt; substring p (length s0) s2&#39; &lt;&gt; s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">m'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chkc9"><hr></label><div class="goal-conclusion"><span class="highlight">(None = Some m&#39; -&gt;
 <span class="kr">forall</span> <span class="nv">p</span> : nat,
 <span class="mi">0</span> &lt;= p -&gt; p &lt; m&#39; -&gt; substring p (length s1) s2&#39; &lt;&gt; s1) -&gt;
false = true &lt;-&gt;
<span class="kr">match</span> length s1 <span class="kr">with</span>
| <span class="mi">0</span> =&gt; EmptyString
| S m&#39;0 =&gt; String b (substring <span class="mi">0</span> m&#39;0 s2&#39;)
<span class="kr">end</span> = s1 -&gt;
None = Some (S m&#39;) -&gt;
<span class="kr">forall</span> <span class="nv">p</span> : nat,
<span class="mi">0</span> &lt;= p -&gt;
p &lt; S m&#39; -&gt;
<span class="kr">match</span> p <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">match</span> length s1 <span class="kr">with</span>
    | <span class="mi">0</span> =&gt; EmptyString
    | S m&#39;0 =&gt; String b (substring <span class="mi">0</span> m&#39;0 s2&#39;)
    <span class="kr">end</span>
| S n&#39; =&gt; substring n&#39; (length s1) s2&#39;
<span class="kr">end</span> &lt;&gt; s1</span></div></blockquote><input class="coq-extra-goal-toggle" id="String-v-chkca" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n0 s0 s2&#39; = Some m0 -&gt;
<span class="kr">forall</span> <span class="nv">p</span> : nat, n0 &lt;= p -&gt; p &lt; m0 -&gt; substring p (length s0) s2&#39; &lt;&gt; s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chkca"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">n0</span> : nat,
<span class="kr">match</span> index n0 s1 s2&#39; <span class="kr">with</span>
| Some n1 =&gt; Some (S n1)
| None =&gt; None
<span class="kr">end</span> = Some m -&gt;
<span class="kr">forall</span> <span class="nv">p</span> : nat,
S n0 &lt;= p -&gt;
p &lt; m -&gt;
<span class="kr">match</span> p <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">match</span> length s1 <span class="kr">with</span>
    | <span class="mi">0</span> =&gt; EmptyString
    | S m&#39; =&gt; String b (substring <span class="mi">0</span> m&#39; s2&#39;)
    <span class="kr">end</span>
| S n&#39; =&gt; substring n&#39; (length s1) s2&#39;
<span class="kr">end</span> &lt;&gt; s1</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chkcb" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chkcb"><span class="highlight"><span class="nb">intros</span> H5 H6; <span class="nb">absurd</span> (false = true); <span class="nb">auto with</span> bool.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n0 s0 s2&#39; = Some m0 -&gt;
<span class="kr">forall</span> <span class="nv">p0</span> : nat, n0 &lt;= p0 -&gt; p0 &lt; m0 -&gt; substring p0 (length s0) s2&#39; &lt;&gt; s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">m', x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Some x = Some m&#39; -&gt;
<span class="kr">forall</span> <span class="nv">p0</span> : nat,
<span class="mi">0</span> &lt;= p0 -&gt;
p0 &lt; m&#39; -&gt; substring p0 (length s1) s2&#39; &lt;&gt; s1</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">false = true &lt;-&gt;
<span class="kr">match</span> length s1 <span class="kr">with</span>
| <span class="mi">0</span> =&gt; EmptyString
| S m&#39;0 =&gt; String b (substring <span class="mi">0</span> m&#39;0 s2&#39;)
<span class="kr">end</span> = s1</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Some (S x) = Some (S m&#39;)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">n0</span> : nat,
<span class="mi">0</span> &lt;= S n0 -&gt;
S n0 &lt; S m&#39; -&gt; substring n0 (length s1) s2&#39; &lt;&gt; s1</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="String-v-chkcc" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n0 s0 s2&#39; = Some m0 -&gt;
<span class="kr">forall</span> <span class="nv">p</span> : nat, n0 &lt;= p -&gt; p &lt; m0 -&gt; substring p (length s0) s2&#39; &lt;&gt; s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">m'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chkcc"><hr></label><div class="goal-conclusion"><span class="highlight">(None = Some m&#39; -&gt;
 <span class="kr">forall</span> <span class="nv">p</span> : nat,
 <span class="mi">0</span> &lt;= p -&gt; p &lt; m&#39; -&gt; substring p (length s1) s2&#39; &lt;&gt; s1) -&gt;
false = true &lt;-&gt;
<span class="kr">match</span> length s1 <span class="kr">with</span>
| <span class="mi">0</span> =&gt; EmptyString
| S m&#39;0 =&gt; String b (substring <span class="mi">0</span> m&#39;0 s2&#39;)
<span class="kr">end</span> = s1 -&gt;
None = Some (S m&#39;) -&gt;
<span class="kr">forall</span> <span class="nv">p</span> : nat,
<span class="mi">0</span> &lt;= p -&gt;
p &lt; S m&#39; -&gt;
<span class="kr">match</span> p <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">match</span> length s1 <span class="kr">with</span>
    | <span class="mi">0</span> =&gt; EmptyString
    | S m&#39;0 =&gt; String b (substring <span class="mi">0</span> m&#39;0 s2&#39;)
    <span class="kr">end</span>
| S n&#39; =&gt; substring n&#39; (length s1) s2&#39;
<span class="kr">end</span> &lt;&gt; s1</span></div></blockquote><input class="coq-extra-goal-toggle" id="String-v-chkcd" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n0 s0 s2&#39; = Some m0 -&gt;
<span class="kr">forall</span> <span class="nv">p</span> : nat, n0 &lt;= p -&gt; p &lt; m0 -&gt; substring p (length s0) s2&#39; &lt;&gt; s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chkcd"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">n0</span> : nat,
<span class="kr">match</span> index n0 s1 s2&#39; <span class="kr">with</span>
| Some n1 =&gt; Some (S n1)
| None =&gt; None
<span class="kr">end</span> = Some m -&gt;
<span class="kr">forall</span> <span class="nv">p</span> : nat,
S n0 &lt;= p -&gt;
p &lt; m -&gt;
<span class="kr">match</span> p <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">match</span> length s1 <span class="kr">with</span>
    | <span class="mi">0</span> =&gt; EmptyString
    | S m&#39; =&gt; String b (substring <span class="mi">0</span> m&#39; s2&#39;)
    <span class="kr">end</span>
| S n&#39; =&gt; substring n&#39; (length s1) s2&#39;
<span class="kr">end</span> &lt;&gt; s1</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chkce" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chkce"><span class="highlight"><span class="nb">intros</span> n0 H2 H3; <span class="nb">apply</span> H; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n1</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n1 s0 s2&#39; = Some m0 -&gt;
<span class="kr">forall</span> <span class="nv">p0</span> : nat, n1 &lt;= p0 -&gt; p0 &lt; m0 -&gt; substring p0 (length s0) s2&#39; &lt;&gt; s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">m', x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Some x = Some m&#39; -&gt;
<span class="kr">forall</span> <span class="nv">p0</span> : nat,
<span class="mi">0</span> &lt;= p0 -&gt;
p0 &lt; m&#39; -&gt; substring p0 (length s1) s2&#39; &lt;&gt; s1</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">false = true &lt;-&gt;
<span class="kr">match</span> length s1 <span class="kr">with</span>
| <span class="mi">0</span> =&gt; EmptyString
| S m&#39;0 =&gt; String b (substring <span class="mi">0</span> m&#39;0 s2&#39;)
<span class="kr">end</span> = s1</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Some (S x) = Some (S m&#39;)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">p, n0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= S n0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S n0 &lt; S m&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Some x = Some m&#39;</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="String-v-chkcf" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n1</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n1 s0 s2&#39; = Some m0 -&gt;
<span class="kr">forall</span> <span class="nv">p0</span> : nat, n1 &lt;= p0 -&gt; p0 &lt; m0 -&gt; substring p0 (length s0) s2&#39; &lt;&gt; s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">m', x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Some x = Some m&#39; -&gt;
<span class="kr">forall</span> <span class="nv">p0</span> : nat,
<span class="mi">0</span> &lt;= p0 -&gt;
p0 &lt; m&#39; -&gt; substring p0 (length s1) s2&#39; &lt;&gt; s1</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">false = true &lt;-&gt;
<span class="kr">match</span> length s1 <span class="kr">with</span>
| <span class="mi">0</span> =&gt; EmptyString
| S m&#39;0 =&gt; String b (substring <span class="mi">0</span> m&#39;0 s2&#39;)
<span class="kr">end</span> = s1</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Some (S x) = Some (S m&#39;)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">p, n0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= S n0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S n0 &lt; S m&#39;</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chkcf"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="mi">0</span> &lt;= n0</span></div></blockquote><input class="coq-extra-goal-toggle" id="String-v-chkd0" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n1</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n1 s0 s2&#39; = Some m0 -&gt;
<span class="kr">forall</span> <span class="nv">p0</span> : nat, n1 &lt;= p0 -&gt; p0 &lt; m0 -&gt; substring p0 (length s0) s2&#39; &lt;&gt; s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">m', x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Some x = Some m&#39; -&gt;
<span class="kr">forall</span> <span class="nv">p0</span> : nat,
<span class="mi">0</span> &lt;= p0 -&gt;
p0 &lt; m&#39; -&gt; substring p0 (length s1) s2&#39; &lt;&gt; s1</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">false = true &lt;-&gt;
<span class="kr">match</span> length s1 <span class="kr">with</span>
| <span class="mi">0</span> =&gt; EmptyString
| S m&#39;0 =&gt; String b (substring <span class="mi">0</span> m&#39;0 s2&#39;)
<span class="kr">end</span> = s1</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Some (S x) = Some (S m&#39;)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">p, n0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= S n0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S n0 &lt; S m&#39;</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chkd0"><hr></label><div class="goal-conclusion"><span class="highlight">n0 &lt; m&#39;</span></div></blockquote><input class="coq-extra-goal-toggle" id="String-v-chkd1" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n0 s0 s2&#39; = Some m0 -&gt;
<span class="kr">forall</span> <span class="nv">p</span> : nat, n0 &lt;= p -&gt; p &lt; m0 -&gt; substring p (length s0) s2&#39; &lt;&gt; s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">m'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chkd1"><hr></label><div class="goal-conclusion"><span class="highlight">(None = Some m&#39; -&gt;
 <span class="kr">forall</span> <span class="nv">p</span> : nat,
 <span class="mi">0</span> &lt;= p -&gt; p &lt; m&#39; -&gt; substring p (length s1) s2&#39; &lt;&gt; s1) -&gt;
false = true &lt;-&gt;
<span class="kr">match</span> length s1 <span class="kr">with</span>
| <span class="mi">0</span> =&gt; EmptyString
| S m&#39;0 =&gt; String b (substring <span class="mi">0</span> m&#39;0 s2&#39;)
<span class="kr">end</span> = s1 -&gt;
None = Some (S m&#39;) -&gt;
<span class="kr">forall</span> <span class="nv">p</span> : nat,
<span class="mi">0</span> &lt;= p -&gt;
p &lt; S m&#39; -&gt;
<span class="kr">match</span> p <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">match</span> length s1 <span class="kr">with</span>
    | <span class="mi">0</span> =&gt; EmptyString
    | S m&#39;0 =&gt; String b (substring <span class="mi">0</span> m&#39;0 s2&#39;)
    <span class="kr">end</span>
| S n&#39; =&gt; substring n&#39; (length s1) s2&#39;
<span class="kr">end</span> &lt;&gt; s1</span></div></blockquote><input class="coq-extra-goal-toggle" id="String-v-chkd2" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n0 s0 s2&#39; = Some m0 -&gt;
<span class="kr">forall</span> <span class="nv">p</span> : nat, n0 &lt;= p -&gt; p &lt; m0 -&gt; substring p (length s0) s2&#39; &lt;&gt; s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chkd2"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">n0</span> : nat,
<span class="kr">match</span> index n0 s1 s2&#39; <span class="kr">with</span>
| Some n1 =&gt; Some (S n1)
| None =&gt; None
<span class="kr">end</span> = Some m -&gt;
<span class="kr">forall</span> <span class="nv">p</span> : nat,
S n0 &lt;= p -&gt;
p &lt; m -&gt;
<span class="kr">match</span> p <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">match</span> length s1 <span class="kr">with</span>
    | <span class="mi">0</span> =&gt; EmptyString
    | S m&#39; =&gt; String b (substring <span class="mi">0</span> m&#39; s2&#39;)
    <span class="kr">end</span>
| S n&#39; =&gt; substring n&#39; (length s1) s2&#39;
<span class="kr">end</span> &lt;&gt; s1</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chkd3" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chkd3"><span class="highlight"><span class="nb">injection</span> H1; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n1</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n1 s0 s2&#39; = Some m0 -&gt;
<span class="kr">forall</span> <span class="nv">p0</span> : nat, n1 &lt;= p0 -&gt; p0 &lt; m0 -&gt; substring p0 (length s0) s2&#39; &lt;&gt; s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">m', x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Some x = Some m&#39; -&gt;
<span class="kr">forall</span> <span class="nv">p0</span> : nat,
<span class="mi">0</span> &lt;= p0 -&gt;
p0 &lt; m&#39; -&gt; substring p0 (length s1) s2&#39; &lt;&gt; s1</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">false = true &lt;-&gt;
<span class="kr">match</span> length s1 <span class="kr">with</span>
| <span class="mi">0</span> =&gt; EmptyString
| S m&#39;0 =&gt; String b (substring <span class="mi">0</span> m&#39;0 s2&#39;)
<span class="kr">end</span> = s1</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Some (S x) = Some (S m&#39;)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">p, n0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= S n0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S n0 &lt; S m&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">0</span> &lt;= n0</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="String-v-chkd4" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n1</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n1 s0 s2&#39; = Some m0 -&gt;
<span class="kr">forall</span> <span class="nv">p0</span> : nat, n1 &lt;= p0 -&gt; p0 &lt; m0 -&gt; substring p0 (length s0) s2&#39; &lt;&gt; s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">m', x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Some x = Some m&#39; -&gt;
<span class="kr">forall</span> <span class="nv">p0</span> : nat,
<span class="mi">0</span> &lt;= p0 -&gt;
p0 &lt; m&#39; -&gt; substring p0 (length s1) s2&#39; &lt;&gt; s1</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">false = true &lt;-&gt;
<span class="kr">match</span> length s1 <span class="kr">with</span>
| <span class="mi">0</span> =&gt; EmptyString
| S m&#39;0 =&gt; String b (substring <span class="mi">0</span> m&#39;0 s2&#39;)
<span class="kr">end</span> = s1</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Some (S x) = Some (S m&#39;)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">p, n0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= S n0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S n0 &lt; S m&#39;</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chkd4"><hr></label><div class="goal-conclusion"><span class="highlight">n0 &lt; m&#39;</span></div></blockquote><input class="coq-extra-goal-toggle" id="String-v-chkd5" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n0 s0 s2&#39; = Some m0 -&gt;
<span class="kr">forall</span> <span class="nv">p</span> : nat, n0 &lt;= p -&gt; p &lt; m0 -&gt; substring p (length s0) s2&#39; &lt;&gt; s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">m'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chkd5"><hr></label><div class="goal-conclusion"><span class="highlight">(None = Some m&#39; -&gt;
 <span class="kr">forall</span> <span class="nv">p</span> : nat,
 <span class="mi">0</span> &lt;= p -&gt; p &lt; m&#39; -&gt; substring p (length s1) s2&#39; &lt;&gt; s1) -&gt;
false = true &lt;-&gt;
<span class="kr">match</span> length s1 <span class="kr">with</span>
| <span class="mi">0</span> =&gt; EmptyString
| S m&#39;0 =&gt; String b (substring <span class="mi">0</span> m&#39;0 s2&#39;)
<span class="kr">end</span> = s1 -&gt;
None = Some (S m&#39;) -&gt;
<span class="kr">forall</span> <span class="nv">p</span> : nat,
<span class="mi">0</span> &lt;= p -&gt;
p &lt; S m&#39; -&gt;
<span class="kr">match</span> p <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">match</span> length s1 <span class="kr">with</span>
    | <span class="mi">0</span> =&gt; EmptyString
    | S m&#39;0 =&gt; String b (substring <span class="mi">0</span> m&#39;0 s2&#39;)
    <span class="kr">end</span>
| S n&#39; =&gt; substring n&#39; (length s1) s2&#39;
<span class="kr">end</span> &lt;&gt; s1</span></div></blockquote><input class="coq-extra-goal-toggle" id="String-v-chkd6" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n0 s0 s2&#39; = Some m0 -&gt;
<span class="kr">forall</span> <span class="nv">p</span> : nat, n0 &lt;= p -&gt; p &lt; m0 -&gt; substring p (length s0) s2&#39; &lt;&gt; s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chkd6"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">n0</span> : nat,
<span class="kr">match</span> index n0 s1 s2&#39; <span class="kr">with</span>
| Some n1 =&gt; Some (S n1)
| None =&gt; None
<span class="kr">end</span> = Some m -&gt;
<span class="kr">forall</span> <span class="nv">p</span> : nat,
S n0 &lt;= p -&gt;
p &lt; m -&gt;
<span class="kr">match</span> p <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">match</span> length s1 <span class="kr">with</span>
    | <span class="mi">0</span> =&gt; EmptyString
    | S m&#39; =&gt; String b (substring <span class="mi">0</span> m&#39; s2&#39;)
    <span class="kr">end</span>
| S n&#39; =&gt; substring n&#39; (length s1) s2&#39;
<span class="kr">end</span> &lt;&gt; s1</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chkd7" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chkd7"><span class="highlight"><span class="nb">apply</span> Le.le_O_n.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n1</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n1 s0 s2&#39; = Some m0 -&gt;
<span class="kr">forall</span> <span class="nv">p0</span> : nat, n1 &lt;= p0 -&gt; p0 &lt; m0 -&gt; substring p0 (length s0) s2&#39; &lt;&gt; s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">m', x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Some x = Some m&#39; -&gt;
<span class="kr">forall</span> <span class="nv">p0</span> : nat,
<span class="mi">0</span> &lt;= p0 -&gt;
p0 &lt; m&#39; -&gt; substring p0 (length s1) s2&#39; &lt;&gt; s1</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">false = true &lt;-&gt;
<span class="kr">match</span> length s1 <span class="kr">with</span>
| <span class="mi">0</span> =&gt; EmptyString
| S m&#39;0 =&gt; String b (substring <span class="mi">0</span> m&#39;0 s2&#39;)
<span class="kr">end</span> = s1</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Some (S x) = Some (S m&#39;)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">p, n0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= S n0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S n0 &lt; S m&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">n0 &lt; m&#39;</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="String-v-chkd8" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n0 s0 s2&#39; = Some m0 -&gt;
<span class="kr">forall</span> <span class="nv">p</span> : nat, n0 &lt;= p -&gt; p &lt; m0 -&gt; substring p (length s0) s2&#39; &lt;&gt; s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">m'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chkd8"><hr></label><div class="goal-conclusion"><span class="highlight">(None = Some m&#39; -&gt;
 <span class="kr">forall</span> <span class="nv">p</span> : nat,
 <span class="mi">0</span> &lt;= p -&gt; p &lt; m&#39; -&gt; substring p (length s1) s2&#39; &lt;&gt; s1) -&gt;
false = true &lt;-&gt;
<span class="kr">match</span> length s1 <span class="kr">with</span>
| <span class="mi">0</span> =&gt; EmptyString
| S m&#39;0 =&gt; String b (substring <span class="mi">0</span> m&#39;0 s2&#39;)
<span class="kr">end</span> = s1 -&gt;
None = Some (S m&#39;) -&gt;
<span class="kr">forall</span> <span class="nv">p</span> : nat,
<span class="mi">0</span> &lt;= p -&gt;
p &lt; S m&#39; -&gt;
<span class="kr">match</span> p <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">match</span> length s1 <span class="kr">with</span>
    | <span class="mi">0</span> =&gt; EmptyString
    | S m&#39;0 =&gt; String b (substring <span class="mi">0</span> m&#39;0 s2&#39;)
    <span class="kr">end</span>
| S n&#39; =&gt; substring n&#39; (length s1) s2&#39;
<span class="kr">end</span> &lt;&gt; s1</span></div></blockquote><input class="coq-extra-goal-toggle" id="String-v-chkd9" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n0 s0 s2&#39; = Some m0 -&gt;
<span class="kr">forall</span> <span class="nv">p</span> : nat, n0 &lt;= p -&gt; p &lt; m0 -&gt; substring p (length s0) s2&#39; &lt;&gt; s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chkd9"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">n0</span> : nat,
<span class="kr">match</span> index n0 s1 s2&#39; <span class="kr">with</span>
| Some n1 =&gt; Some (S n1)
| None =&gt; None
<span class="kr">end</span> = Some m -&gt;
<span class="kr">forall</span> <span class="nv">p</span> : nat,
S n0 &lt;= p -&gt;
p &lt; m -&gt;
<span class="kr">match</span> p <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">match</span> length s1 <span class="kr">with</span>
    | <span class="mi">0</span> =&gt; EmptyString
    | S m&#39; =&gt; String b (substring <span class="mi">0</span> m&#39; s2&#39;)
    <span class="kr">end</span>
| S n&#39; =&gt; substring n&#39; (length s1) s2&#39;
<span class="kr">end</span> &lt;&gt; s1</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chkda" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chkda"><span class="highlight"><span class="nb">apply</span> Lt.lt_S_n; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n0 s0 s2&#39; = Some m0 -&gt;
<span class="kr">forall</span> <span class="nv">p</span> : nat, n0 &lt;= p -&gt; p &lt; m0 -&gt; substring p (length s0) s2&#39; &lt;&gt; s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">m'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(None = Some m&#39; -&gt;
 <span class="kr">forall</span> <span class="nv">p</span> : nat,
 <span class="mi">0</span> &lt;= p -&gt; p &lt; m&#39; -&gt; substring p (length s1) s2&#39; &lt;&gt; s1) -&gt;
false = true &lt;-&gt;
<span class="kr">match</span> length s1 <span class="kr">with</span>
| <span class="mi">0</span> =&gt; EmptyString
| S m&#39;0 =&gt; String b (substring <span class="mi">0</span> m&#39;0 s2&#39;)
<span class="kr">end</span> = s1 -&gt;
None = Some (S m&#39;) -&gt;
<span class="kr">forall</span> <span class="nv">p</span> : nat,
<span class="mi">0</span> &lt;= p -&gt;
p &lt; S m&#39; -&gt;
<span class="kr">match</span> p <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">match</span> length s1 <span class="kr">with</span>
    | <span class="mi">0</span> =&gt; EmptyString
    | S m&#39;0 =&gt; String b (substring <span class="mi">0</span> m&#39;0 s2&#39;)
    <span class="kr">end</span>
| S n&#39; =&gt; substring n&#39; (length s1) s2&#39;
<span class="kr">end</span> &lt;&gt; s1</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="String-v-chkdb" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n0 s0 s2&#39; = Some m0 -&gt;
<span class="kr">forall</span> <span class="nv">p</span> : nat, n0 &lt;= p -&gt; p &lt; m0 -&gt; substring p (length s0) s2&#39; &lt;&gt; s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chkdb"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">n0</span> : nat,
<span class="kr">match</span> index n0 s1 s2&#39; <span class="kr">with</span>
| Some n1 =&gt; Some (S n1)
| None =&gt; None
<span class="kr">end</span> = Some m -&gt;
<span class="kr">forall</span> <span class="nv">p</span> : nat,
S n0 &lt;= p -&gt;
p &lt; m -&gt;
<span class="kr">match</span> p <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">match</span> length s1 <span class="kr">with</span>
    | <span class="mi">0</span> =&gt; EmptyString
    | S m&#39; =&gt; String b (substring <span class="mi">0</span> m&#39; s2&#39;)
    <span class="kr">end</span>
| S n&#39; =&gt; substring n&#39; (length s1) s2&#39;
<span class="kr">end</span> &lt;&gt; s1</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chkdc" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chkdc"><span class="highlight"><span class="nb">intros</span>; <span class="bp">discriminate</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n0 s0 s2&#39; = Some m0 -&gt;
<span class="kr">forall</span> <span class="nv">p</span> : nat, n0 &lt;= p -&gt; p &lt; m0 -&gt; substring p (length s0) s2&#39; &lt;&gt; s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">n0</span> : nat,
<span class="kr">match</span> index n0 s1 s2&#39; <span class="kr">with</span>
| Some n1 =&gt; Some (S n1)
| None =&gt; None
<span class="kr">end</span> = Some m -&gt;
<span class="kr">forall</span> <span class="nv">p</span> : nat,
S n0 &lt;= p -&gt;
p &lt; m -&gt;
<span class="kr">match</span> p <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">match</span> length s1 <span class="kr">with</span>
    | <span class="mi">0</span> =&gt; EmptyString
    | S m&#39; =&gt; String b (substring <span class="mi">0</span> m&#39; s2&#39;)
    <span class="kr">end</span>
| S n&#39; =&gt; substring n&#39; (length s1) s2&#39;
<span class="kr">end</span> &lt;&gt; s1</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chkdd" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chkdd"><span class="highlight"><span class="nb">intros</span> n&#39;; <span class="nb">case</span> m; <span class="nb">simpl</span>; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n0 s0 s2&#39; = Some m0 -&gt;
<span class="kr">forall</span> <span class="nv">p</span> : nat, n0 &lt;= p -&gt; p &lt; m0 -&gt; substring p (length s0) s2&#39; &lt;&gt; s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">match</span> index n&#39; s1 s2&#39; <span class="kr">with</span>
| Some n0 =&gt; Some (S n0)
| None =&gt; None
<span class="kr">end</span> = Some <span class="mi">0</span> -&gt;
<span class="kr">forall</span> <span class="nv">p</span> : nat,
S n&#39; &lt;= p -&gt;
p &lt; <span class="mi">0</span> -&gt;
<span class="kr">match</span> p <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">match</span> length s1 <span class="kr">with</span>
    | <span class="mi">0</span> =&gt; EmptyString
    | S m&#39; =&gt; String b (substring <span class="mi">0</span> m&#39; s2&#39;)
    <span class="kr">end</span>
| S n&#39;0 =&gt; substring n&#39;0 (length s1) s2&#39;
<span class="kr">end</span> &lt;&gt; s1</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="String-v-chkde" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n0 s0 s2&#39; = Some m0 -&gt;
<span class="kr">forall</span> <span class="nv">p</span> : nat, n0 &lt;= p -&gt; p &lt; m0 -&gt; substring p (length s0) s2&#39; &lt;&gt; s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chkde"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">n0</span> : nat,
<span class="kr">match</span> index n&#39; s1 s2&#39; <span class="kr">with</span>
| Some n1 =&gt; Some (S n1)
| None =&gt; None
<span class="kr">end</span> = Some (S n0) -&gt;
<span class="kr">forall</span> <span class="nv">p</span> : nat,
S n&#39; &lt;= p -&gt;
p &lt; S n0 -&gt;
<span class="kr">match</span> p <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">match</span> length s1 <span class="kr">with</span>
    | <span class="mi">0</span> =&gt; EmptyString
    | S m&#39; =&gt; String b (substring <span class="mi">0</span> m&#39; s2&#39;)
    <span class="kr">end</span>
| S n&#39;0 =&gt; substring n&#39;0 (length s1) s2&#39;
<span class="kr">end</span> &lt;&gt; s1</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chkdf" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chkdf"><span class="highlight"><span class="nb">case</span> (index n&#39; s1 s2&#39;); <span class="nb">intros</span>; <span class="bp">discriminate</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n0 s0 s2&#39; = Some m0 -&gt;
<span class="kr">forall</span> <span class="nv">p</span> : nat, n0 &lt;= p -&gt; p &lt; m0 -&gt; substring p (length s0) s2&#39; &lt;&gt; s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">n0</span> : nat,
<span class="kr">match</span> index n&#39; s1 s2&#39; <span class="kr">with</span>
| Some n1 =&gt; Some (S n1)
| None =&gt; None
<span class="kr">end</span> = Some (S n0) -&gt;
<span class="kr">forall</span> <span class="nv">p</span> : nat,
S n&#39; &lt;= p -&gt;
p &lt; S n0 -&gt;
<span class="kr">match</span> p <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">match</span> length s1 <span class="kr">with</span>
    | <span class="mi">0</span> =&gt; EmptyString
    | S m&#39; =&gt; String b (substring <span class="mi">0</span> m&#39; s2&#39;)
    <span class="kr">end</span>
| S n&#39;0 =&gt; substring n&#39;0 (length s1) s2&#39;
<span class="kr">end</span> &lt;&gt; s1</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chke0" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chke0"><span class="highlight"><span class="nb">intros</span> m&#39;; <span class="nb">generalize</span> (Rec n&#39; m&#39; s1); <span class="nb">case</span> (index n&#39; s1 s2&#39;); <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n0 s0 s2&#39; = Some m0 -&gt;
<span class="kr">forall</span> <span class="nv">p</span> : nat, n0 &lt;= p -&gt; p &lt; m0 -&gt; substring p (length s0) s2&#39; &lt;&gt; s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n', m'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">n0</span> : nat,
(Some n0 = Some m&#39; -&gt;
 <span class="kr">forall</span> <span class="nv">p</span> : nat,
 n&#39; &lt;= p -&gt;
 p &lt; m&#39; -&gt; substring p (length s1) s2&#39; &lt;&gt; s1) -&gt;
Some (S n0) = Some (S m&#39;) -&gt;
<span class="kr">forall</span> <span class="nv">p</span> : nat,
S n&#39; &lt;= p -&gt;
p &lt; S m&#39; -&gt;
<span class="kr">match</span> p <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">match</span> length s1 <span class="kr">with</span>
    | <span class="mi">0</span> =&gt; EmptyString
    | S m&#39;0 =&gt; String b (substring <span class="mi">0</span> m&#39;0 s2&#39;)
    <span class="kr">end</span>
| S n&#39;0 =&gt; substring n&#39;0 (length s1) s2&#39;
<span class="kr">end</span> &lt;&gt; s1</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="String-v-chke1" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n0 s0 s2&#39; = Some m0 -&gt;
<span class="kr">forall</span> <span class="nv">p</span> : nat, n0 &lt;= p -&gt; p &lt; m0 -&gt; substring p (length s0) s2&#39; &lt;&gt; s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n', m'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chke1"><hr></label><div class="goal-conclusion"><span class="highlight">(None = Some m&#39; -&gt;
 <span class="kr">forall</span> <span class="nv">p</span> : nat,
 n&#39; &lt;= p -&gt;
 p &lt; m&#39; -&gt; substring p (length s1) s2&#39; &lt;&gt; s1) -&gt;
None = Some (S m&#39;) -&gt;
<span class="kr">forall</span> <span class="nv">p</span> : nat,
S n&#39; &lt;= p -&gt;
p &lt; S m&#39; -&gt;
<span class="kr">match</span> p <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">match</span> length s1 <span class="kr">with</span>
    | <span class="mi">0</span> =&gt; EmptyString
    | S m&#39;0 =&gt; String b (substring <span class="mi">0</span> m&#39;0 s2&#39;)
    <span class="kr">end</span>
| S n&#39;0 =&gt; substring n&#39;0 (length s1) s2&#39;
<span class="kr">end</span> &lt;&gt; s1</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chke2" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chke2"><span class="highlight"><span class="nb">intros</span> x H H0 p; <span class="nb">case</span> p; <span class="nb">simpl</span>; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n0 s0 s2&#39; = Some m0 -&gt;
<span class="kr">forall</span> <span class="nv">p0</span> : nat, n0 &lt;= p0 -&gt; p0 &lt; m0 -&gt; substring p0 (length s0) s2&#39; &lt;&gt; s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n', m', x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Some x = Some m&#39; -&gt;
<span class="kr">forall</span> <span class="nv">p0</span> : nat,
n&#39; &lt;= p0 -&gt;
p0 &lt; m&#39; -&gt; substring p0 (length s1) s2&#39; &lt;&gt; s1</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Some (S x) = Some (S m&#39;)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">S n&#39; &lt;= <span class="mi">0</span> -&gt;
<span class="mi">0</span> &lt; S m&#39; -&gt;
<span class="kr">match</span> length s1 <span class="kr">with</span>
| <span class="mi">0</span> =&gt; EmptyString
| S m&#39;0 =&gt; String b (substring <span class="mi">0</span> m&#39;0 s2&#39;)
<span class="kr">end</span> &lt;&gt; s1</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="String-v-chke3" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n0 s0 s2&#39; = Some m0 -&gt;
<span class="kr">forall</span> <span class="nv">p0</span> : nat, n0 &lt;= p0 -&gt; p0 &lt; m0 -&gt; substring p0 (length s0) s2&#39; &lt;&gt; s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n', m', x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Some x = Some m&#39; -&gt;
<span class="kr">forall</span> <span class="nv">p0</span> : nat,
n&#39; &lt;= p0 -&gt;
p0 &lt; m&#39; -&gt; substring p0 (length s1) s2&#39; &lt;&gt; s1</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Some (S x) = Some (S m&#39;)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chke3"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">n0</span> : nat,
S n&#39; &lt;= S n0 -&gt;
S n0 &lt; S m&#39; -&gt; substring n0 (length s1) s2&#39; &lt;&gt; s1</span></div></blockquote><input class="coq-extra-goal-toggle" id="String-v-chke4" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n0 s0 s2&#39; = Some m0 -&gt;
<span class="kr">forall</span> <span class="nv">p</span> : nat, n0 &lt;= p -&gt; p &lt; m0 -&gt; substring p (length s0) s2&#39; &lt;&gt; s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n', m'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chke4"><hr></label><div class="goal-conclusion"><span class="highlight">(None = Some m&#39; -&gt;
 <span class="kr">forall</span> <span class="nv">p</span> : nat,
 n&#39; &lt;= p -&gt;
 p &lt; m&#39; -&gt; substring p (length s1) s2&#39; &lt;&gt; s1) -&gt;
None = Some (S m&#39;) -&gt;
<span class="kr">forall</span> <span class="nv">p</span> : nat,
S n&#39; &lt;= p -&gt;
p &lt; S m&#39; -&gt;
<span class="kr">match</span> p <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">match</span> length s1 <span class="kr">with</span>
    | <span class="mi">0</span> =&gt; EmptyString
    | S m&#39;0 =&gt; String b (substring <span class="mi">0</span> m&#39;0 s2&#39;)
    <span class="kr">end</span>
| S n&#39;0 =&gt; substring n&#39;0 (length s1) s2&#39;
<span class="kr">end</span> &lt;&gt; s1</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chke5" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chke5"><span class="highlight"><span class="nb">intros</span> H1; <span class="nb">inversion</span> H1; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n0 s0 s2&#39; = Some m0 -&gt;
<span class="kr">forall</span> <span class="nv">p0</span> : nat, n0 &lt;= p0 -&gt; p0 &lt; m0 -&gt; substring p0 (length s0) s2&#39; &lt;&gt; s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n', m', x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Some x = Some m&#39; -&gt;
<span class="kr">forall</span> <span class="nv">p0</span> : nat,
n&#39; &lt;= p0 -&gt;
p0 &lt; m&#39; -&gt; substring p0 (length s1) s2&#39; &lt;&gt; s1</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Some (S x) = Some (S m&#39;)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">n0</span> : nat,
S n&#39; &lt;= S n0 -&gt;
S n0 &lt; S m&#39; -&gt; substring n0 (length s1) s2&#39; &lt;&gt; s1</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="String-v-chke6" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n0 s0 s2&#39; = Some m0 -&gt;
<span class="kr">forall</span> <span class="nv">p</span> : nat, n0 &lt;= p -&gt; p &lt; m0 -&gt; substring p (length s0) s2&#39; &lt;&gt; s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n', m'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chke6"><hr></label><div class="goal-conclusion"><span class="highlight">(None = Some m&#39; -&gt;
 <span class="kr">forall</span> <span class="nv">p</span> : nat,
 n&#39; &lt;= p -&gt;
 p &lt; m&#39; -&gt; substring p (length s1) s2&#39; &lt;&gt; s1) -&gt;
None = Some (S m&#39;) -&gt;
<span class="kr">forall</span> <span class="nv">p</span> : nat,
S n&#39; &lt;= p -&gt;
p &lt; S m&#39; -&gt;
<span class="kr">match</span> p <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">match</span> length s1 <span class="kr">with</span>
    | <span class="mi">0</span> =&gt; EmptyString
    | S m&#39;0 =&gt; String b (substring <span class="mi">0</span> m&#39;0 s2&#39;)
    <span class="kr">end</span>
| S n&#39;0 =&gt; substring n&#39;0 (length s1) s2&#39;
<span class="kr">end</span> &lt;&gt; s1</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chke7" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chke7"><span class="highlight"><span class="nb">intros</span> n0 H1 H2; <span class="nb">apply</span> H; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n1</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n1 s0 s2&#39; = Some m0 -&gt;
<span class="kr">forall</span> <span class="nv">p0</span> : nat, n1 &lt;= p0 -&gt; p0 &lt; m0 -&gt; substring p0 (length s0) s2&#39; &lt;&gt; s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n', m', x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Some x = Some m&#39; -&gt;
<span class="kr">forall</span> <span class="nv">p0</span> : nat,
n&#39; &lt;= p0 -&gt;
p0 &lt; m&#39; -&gt; substring p0 (length s1) s2&#39; &lt;&gt; s1</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Some (S x) = Some (S m&#39;)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">p, n0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S n&#39; &lt;= S n0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S n0 &lt; S m&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Some x = Some m&#39;</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="String-v-chke8" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n1</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n1 s0 s2&#39; = Some m0 -&gt;
<span class="kr">forall</span> <span class="nv">p0</span> : nat, n1 &lt;= p0 -&gt; p0 &lt; m0 -&gt; substring p0 (length s0) s2&#39; &lt;&gt; s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n', m', x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Some x = Some m&#39; -&gt;
<span class="kr">forall</span> <span class="nv">p0</span> : nat,
n&#39; &lt;= p0 -&gt;
p0 &lt; m&#39; -&gt; substring p0 (length s1) s2&#39; &lt;&gt; s1</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Some (S x) = Some (S m&#39;)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">p, n0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S n&#39; &lt;= S n0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S n0 &lt; S m&#39;</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chke8"><hr></label><div class="goal-conclusion"><span class="highlight">n&#39; &lt;= n0</span></div></blockquote><input class="coq-extra-goal-toggle" id="String-v-chke9" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n1</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n1 s0 s2&#39; = Some m0 -&gt;
<span class="kr">forall</span> <span class="nv">p0</span> : nat, n1 &lt;= p0 -&gt; p0 &lt; m0 -&gt; substring p0 (length s0) s2&#39; &lt;&gt; s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n', m', x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Some x = Some m&#39; -&gt;
<span class="kr">forall</span> <span class="nv">p0</span> : nat,
n&#39; &lt;= p0 -&gt;
p0 &lt; m&#39; -&gt; substring p0 (length s1) s2&#39; &lt;&gt; s1</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Some (S x) = Some (S m&#39;)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">p, n0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S n&#39; &lt;= S n0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S n0 &lt; S m&#39;</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chke9"><hr></label><div class="goal-conclusion"><span class="highlight">n0 &lt; m&#39;</span></div></blockquote><input class="coq-extra-goal-toggle" id="String-v-chkea" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n0 s0 s2&#39; = Some m0 -&gt;
<span class="kr">forall</span> <span class="nv">p</span> : nat, n0 &lt;= p -&gt; p &lt; m0 -&gt; substring p (length s0) s2&#39; &lt;&gt; s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n', m'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chkea"><hr></label><div class="goal-conclusion"><span class="highlight">(None = Some m&#39; -&gt;
 <span class="kr">forall</span> <span class="nv">p</span> : nat,
 n&#39; &lt;= p -&gt;
 p &lt; m&#39; -&gt; substring p (length s1) s2&#39; &lt;&gt; s1) -&gt;
None = Some (S m&#39;) -&gt;
<span class="kr">forall</span> <span class="nv">p</span> : nat,
S n&#39; &lt;= p -&gt;
p &lt; S m&#39; -&gt;
<span class="kr">match</span> p <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">match</span> length s1 <span class="kr">with</span>
    | <span class="mi">0</span> =&gt; EmptyString
    | S m&#39;0 =&gt; String b (substring <span class="mi">0</span> m&#39;0 s2&#39;)
    <span class="kr">end</span>
| S n&#39;0 =&gt; substring n&#39;0 (length s1) s2&#39;
<span class="kr">end</span> &lt;&gt; s1</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chkeb" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chkeb"><span class="highlight"><span class="nb">injection</span> H0; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n1</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n1 s0 s2&#39; = Some m0 -&gt;
<span class="kr">forall</span> <span class="nv">p0</span> : nat, n1 &lt;= p0 -&gt; p0 &lt; m0 -&gt; substring p0 (length s0) s2&#39; &lt;&gt; s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n', m', x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Some x = Some m&#39; -&gt;
<span class="kr">forall</span> <span class="nv">p0</span> : nat,
n&#39; &lt;= p0 -&gt;
p0 &lt; m&#39; -&gt; substring p0 (length s1) s2&#39; &lt;&gt; s1</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Some (S x) = Some (S m&#39;)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">p, n0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S n&#39; &lt;= S n0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S n0 &lt; S m&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">n&#39; &lt;= n0</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="String-v-chkec" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n1</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n1 s0 s2&#39; = Some m0 -&gt;
<span class="kr">forall</span> <span class="nv">p0</span> : nat, n1 &lt;= p0 -&gt; p0 &lt; m0 -&gt; substring p0 (length s0) s2&#39; &lt;&gt; s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n', m', x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Some x = Some m&#39; -&gt;
<span class="kr">forall</span> <span class="nv">p0</span> : nat,
n&#39; &lt;= p0 -&gt;
p0 &lt; m&#39; -&gt; substring p0 (length s1) s2&#39; &lt;&gt; s1</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Some (S x) = Some (S m&#39;)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">p, n0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S n&#39; &lt;= S n0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S n0 &lt; S m&#39;</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chkec"><hr></label><div class="goal-conclusion"><span class="highlight">n0 &lt; m&#39;</span></div></blockquote><input class="coq-extra-goal-toggle" id="String-v-chked" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n0 s0 s2&#39; = Some m0 -&gt;
<span class="kr">forall</span> <span class="nv">p</span> : nat, n0 &lt;= p -&gt; p &lt; m0 -&gt; substring p (length s0) s2&#39; &lt;&gt; s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n', m'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chked"><hr></label><div class="goal-conclusion"><span class="highlight">(None = Some m&#39; -&gt;
 <span class="kr">forall</span> <span class="nv">p</span> : nat,
 n&#39; &lt;= p -&gt;
 p &lt; m&#39; -&gt; substring p (length s1) s2&#39; &lt;&gt; s1) -&gt;
None = Some (S m&#39;) -&gt;
<span class="kr">forall</span> <span class="nv">p</span> : nat,
S n&#39; &lt;= p -&gt;
p &lt; S m&#39; -&gt;
<span class="kr">match</span> p <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">match</span> length s1 <span class="kr">with</span>
    | <span class="mi">0</span> =&gt; EmptyString
    | S m&#39;0 =&gt; String b (substring <span class="mi">0</span> m&#39;0 s2&#39;)
    <span class="kr">end</span>
| S n&#39;0 =&gt; substring n&#39;0 (length s1) s2&#39;
<span class="kr">end</span> &lt;&gt; s1</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chkee" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chkee"><span class="highlight"><span class="nb">apply</span> Le.le_S_n; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n1</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n1 s0 s2&#39; = Some m0 -&gt;
<span class="kr">forall</span> <span class="nv">p0</span> : nat, n1 &lt;= p0 -&gt; p0 &lt; m0 -&gt; substring p0 (length s0) s2&#39; &lt;&gt; s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n', m', x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Some x = Some m&#39; -&gt;
<span class="kr">forall</span> <span class="nv">p0</span> : nat,
n&#39; &lt;= p0 -&gt;
p0 &lt; m&#39; -&gt; substring p0 (length s1) s2&#39; &lt;&gt; s1</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Some (S x) = Some (S m&#39;)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">p, n0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S n&#39; &lt;= S n0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S n0 &lt; S m&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">n0 &lt; m&#39;</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="String-v-chkef" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n0 s0 s2&#39; = Some m0 -&gt;
<span class="kr">forall</span> <span class="nv">p</span> : nat, n0 &lt;= p -&gt; p &lt; m0 -&gt; substring p (length s0) s2&#39; &lt;&gt; s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n', m'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chkef"><hr></label><div class="goal-conclusion"><span class="highlight">(None = Some m&#39; -&gt;
 <span class="kr">forall</span> <span class="nv">p</span> : nat,
 n&#39; &lt;= p -&gt;
 p &lt; m&#39; -&gt; substring p (length s1) s2&#39; &lt;&gt; s1) -&gt;
None = Some (S m&#39;) -&gt;
<span class="kr">forall</span> <span class="nv">p</span> : nat,
S n&#39; &lt;= p -&gt;
p &lt; S m&#39; -&gt;
<span class="kr">match</span> p <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">match</span> length s1 <span class="kr">with</span>
    | <span class="mi">0</span> =&gt; EmptyString
    | S m&#39;0 =&gt; String b (substring <span class="mi">0</span> m&#39;0 s2&#39;)
    <span class="kr">end</span>
| S n&#39;0 =&gt; substring n&#39;0 (length s1) s2&#39;
<span class="kr">end</span> &lt;&gt; s1</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chkf0" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chkf0"><span class="highlight"><span class="nb">apply</span> Lt.lt_S_n; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n0 s0 s2&#39; = Some m0 -&gt;
<span class="kr">forall</span> <span class="nv">p</span> : nat, n0 &lt;= p -&gt; p &lt; m0 -&gt; substring p (length s0) s2&#39; &lt;&gt; s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n', m'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(None = Some m&#39; -&gt;
 <span class="kr">forall</span> <span class="nv">p</span> : nat,
 n&#39; &lt;= p -&gt;
 p &lt; m&#39; -&gt; substring p (length s1) s2&#39; &lt;&gt; s1) -&gt;
None = Some (S m&#39;) -&gt;
<span class="kr">forall</span> <span class="nv">p</span> : nat,
S n&#39; &lt;= p -&gt;
p &lt; S m&#39; -&gt;
<span class="kr">match</span> p <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">match</span> length s1 <span class="kr">with</span>
    | <span class="mi">0</span> =&gt; EmptyString
    | S m&#39;0 =&gt; String b (substring <span class="mi">0</span> m&#39;0 s2&#39;)
    <span class="kr">end</span>
| S n&#39;0 =&gt; substring n&#39;0 (length s1) s2&#39;
<span class="kr">end</span> &lt;&gt; s1</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">intros</span>; <span class="bp">discriminate</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span></span></pre><div class="doc">
If the result of <span class="inlinecode"><span class="id" title="var">index</span></span> is <span class="inlinecode"><span class="id" title="var">None</span></span>, <span class="inlinecode"><span class="id" title="var">s1</span></span> does not occur in <span class="inlinecode"><span class="id" title="var">s2</span></span>
    after <span class="inlinecode"><span class="id" title="var">n</span></span>
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><input class="coq-toggle" id="String-v-chkf1" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chkf1"><span class="highlight"><span class="kn">Theorem</span> <span class="nf">index_correct3</span> :
 <span class="kr">forall</span> (<span class="nv">n</span> <span class="nv">m</span> : nat) (<span class="nv">s1</span> <span class="nv">s2</span> : string),
 index n s1 s2 = None -&gt;
 s1 &lt;&gt; EmptyString -&gt; n &lt;= m -&gt; substring m (length s1) s2 &lt;&gt; s1.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">n</span> <span class="nv">m</span> : nat) (<span class="nv">s1</span> <span class="nv">s2</span> : string),
index n s1 s2 = None -&gt;
s1 &lt;&gt; EmptyString -&gt;
n &lt;= m -&gt; substring m (length s1) s2 &lt;&gt; s1</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chkf2" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chkf2"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">n</span> <span class="nv">m</span> : nat) (<span class="nv">s1</span> <span class="nv">s2</span> : string),
index n s1 s2 = None -&gt;
s1 &lt;&gt; EmptyString -&gt;
n &lt;= m -&gt; substring m (length s1) s2 &lt;&gt; s1</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chkf3" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chkf3"><span class="highlight"><span class="nb">intros</span> n m s1 s2; <span class="nb">generalize</span> n m s1; <span class="nb">clear</span> n m s1; <span class="nb">elim</span> s2; <span class="nb">simpl</span>;
 <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">n</span> <span class="nv">m</span> : nat) (<span class="nv">s1</span> : string),
<span class="kr">match</span> n <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">match</span> s1 <span class="kr">with</span>
    | EmptyString =&gt; Some <span class="mi">0</span>
    | String _ _ =&gt; None
    <span class="kr">end</span>
| S _ =&gt; None
<span class="kr">end</span> = None -&gt;
s1 &lt;&gt; EmptyString -&gt;
n &lt;= m -&gt;
<span class="kr">match</span> m <span class="kr">with</span>
| <span class="mi">0</span> =&gt; <span class="kr">match</span> length s1 <span class="kr">with</span>
       | <span class="mi">0</span> | _ =&gt; EmptyString
       <span class="kr">end</span>
| S _ =&gt; EmptyString
<span class="kr">end</span> &lt;&gt; s1</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="String-v-chkf4" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chkf4"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">a</span> : ascii) (<span class="nv">s</span> : string),
(<span class="kr">forall</span> (<span class="nv">n</span> <span class="nv">m</span> : nat) (<span class="nv">s1</span> : string),
 index n s1 s = None -&gt;
 s1 &lt;&gt; EmptyString -&gt;
 n &lt;= m -&gt; substring m (length s1) s &lt;&gt; s1) -&gt;
<span class="kr">forall</span> (<span class="nv">n</span> <span class="nv">m</span> : nat) (<span class="nv">s1</span> : string),
<span class="kr">match</span> n <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">if</span> prefix s1 (String a s)
    <span class="kr">then</span> Some <span class="mi">0</span>
    <span class="kr">else</span>
     <span class="kr">match</span> index <span class="mi">0</span> s1 s <span class="kr">with</span>
     | Some n0 =&gt; Some (S n0)
     | None =&gt; None
     <span class="kr">end</span>
| S n&#39; =&gt;
    <span class="kr">match</span> index n&#39; s1 s <span class="kr">with</span>
    | Some n0 =&gt; Some (S n0)
    | None =&gt; None
    <span class="kr">end</span>
<span class="kr">end</span> = None -&gt;
s1 &lt;&gt; EmptyString -&gt;
n &lt;= m -&gt;
<span class="kr">match</span> m <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">match</span> length s1 <span class="kr">with</span>
    | <span class="mi">0</span> =&gt; EmptyString
    | S m&#39; =&gt; String a (substring <span class="mi">0</span> m&#39; s)
    <span class="kr">end</span>
| S n&#39; =&gt; substring n&#39; (length s1) s
<span class="kr">end</span> &lt;&gt; s1</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chkf5" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chkf5"><span class="highlight"><span class="nb">intros</span> n; <span class="nb">case</span> n; <span class="nb">simpl</span>; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">m</span> : nat) (<span class="nv">s1</span> : string),
<span class="kr">match</span> s1 <span class="kr">with</span>
| EmptyString =&gt; Some <span class="mi">0</span>
| String _ _ =&gt; None
<span class="kr">end</span> = None -&gt;
s1 &lt;&gt; EmptyString -&gt;
<span class="mi">0</span> &lt;= m -&gt;
<span class="kr">match</span> m <span class="kr">with</span>
| <span class="mi">0</span> =&gt; <span class="kr">match</span> length s1 <span class="kr">with</span>
       | <span class="mi">0</span> | _ =&gt; EmptyString
       <span class="kr">end</span>
| S _ =&gt; EmptyString
<span class="kr">end</span> &lt;&gt; s1</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="String-v-chkf6" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chkf6"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m</span> : nat) (<span class="nv">s1</span> : string),
None = None -&gt;
s1 &lt;&gt; EmptyString -&gt;
S n0 &lt;= m -&gt;
<span class="kr">match</span> m <span class="kr">with</span>
| <span class="mi">0</span> =&gt; <span class="kr">match</span> length s1 <span class="kr">with</span>
       | <span class="mi">0</span> | _ =&gt; EmptyString
       <span class="kr">end</span>
| S _ =&gt; EmptyString
<span class="kr">end</span> &lt;&gt; s1</span></div></blockquote><input class="coq-extra-goal-toggle" id="String-v-chkf7" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chkf7"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">a</span> : ascii) (<span class="nv">s</span> : string),
(<span class="kr">forall</span> (<span class="nv">n</span> <span class="nv">m</span> : nat) (<span class="nv">s1</span> : string),
 index n s1 s = None -&gt;
 s1 &lt;&gt; EmptyString -&gt;
 n &lt;= m -&gt; substring m (length s1) s &lt;&gt; s1) -&gt;
<span class="kr">forall</span> (<span class="nv">n</span> <span class="nv">m</span> : nat) (<span class="nv">s1</span> : string),
<span class="kr">match</span> n <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">if</span> prefix s1 (String a s)
    <span class="kr">then</span> Some <span class="mi">0</span>
    <span class="kr">else</span>
     <span class="kr">match</span> index <span class="mi">0</span> s1 s <span class="kr">with</span>
     | Some n0 =&gt; Some (S n0)
     | None =&gt; None
     <span class="kr">end</span>
| S n&#39; =&gt;
    <span class="kr">match</span> index n&#39; s1 s <span class="kr">with</span>
    | Some n0 =&gt; Some (S n0)
    | None =&gt; None
    <span class="kr">end</span>
<span class="kr">end</span> = None -&gt;
s1 &lt;&gt; EmptyString -&gt;
n &lt;= m -&gt;
<span class="kr">match</span> m <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">match</span> length s1 <span class="kr">with</span>
    | <span class="mi">0</span> =&gt; EmptyString
    | S m&#39; =&gt; String a (substring <span class="mi">0</span> m&#39; s)
    <span class="kr">end</span>
| S n&#39; =&gt; substring n&#39; (length s1) s
<span class="kr">end</span> &lt;&gt; s1</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chkf8" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chkf8"><span class="highlight"><span class="nb">intros</span> m s1; <span class="nb">case</span> s1; <span class="nb">simpl</span>; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">a</span> : ascii) (<span class="nv">s</span> : string),
None = None -&gt;
String a s &lt;&gt; EmptyString -&gt;
<span class="mi">0</span> &lt;= m -&gt;
<span class="kr">match</span> m <span class="kr">with</span>
| <span class="mi">0</span> | _ =&gt; EmptyString
<span class="kr">end</span> &lt;&gt; String a s</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="String-v-chkf9" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chkf9"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m</span> : nat) (<span class="nv">s1</span> : string),
None = None -&gt;
s1 &lt;&gt; EmptyString -&gt;
S n0 &lt;= m -&gt;
<span class="kr">match</span> m <span class="kr">with</span>
| <span class="mi">0</span> =&gt; <span class="kr">match</span> length s1 <span class="kr">with</span>
       | <span class="mi">0</span> | _ =&gt; EmptyString
       <span class="kr">end</span>
| S _ =&gt; EmptyString
<span class="kr">end</span> &lt;&gt; s1</span></div></blockquote><input class="coq-extra-goal-toggle" id="String-v-chkfa" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chkfa"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">a</span> : ascii) (<span class="nv">s</span> : string),
(<span class="kr">forall</span> (<span class="nv">n</span> <span class="nv">m</span> : nat) (<span class="nv">s1</span> : string),
 index n s1 s = None -&gt;
 s1 &lt;&gt; EmptyString -&gt;
 n &lt;= m -&gt; substring m (length s1) s &lt;&gt; s1) -&gt;
<span class="kr">forall</span> (<span class="nv">n</span> <span class="nv">m</span> : nat) (<span class="nv">s1</span> : string),
<span class="kr">match</span> n <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">if</span> prefix s1 (String a s)
    <span class="kr">then</span> Some <span class="mi">0</span>
    <span class="kr">else</span>
     <span class="kr">match</span> index <span class="mi">0</span> s1 s <span class="kr">with</span>
     | Some n0 =&gt; Some (S n0)
     | None =&gt; None
     <span class="kr">end</span>
| S n&#39; =&gt;
    <span class="kr">match</span> index n&#39; s1 s <span class="kr">with</span>
    | Some n0 =&gt; Some (S n0)
    | None =&gt; None
    <span class="kr">end</span>
<span class="kr">end</span> = None -&gt;
s1 &lt;&gt; EmptyString -&gt;
n &lt;= m -&gt;
<span class="kr">match</span> m <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">match</span> length s1 <span class="kr">with</span>
    | <span class="mi">0</span> =&gt; EmptyString
    | S m&#39; =&gt; String a (substring <span class="mi">0</span> m&#39; s)
    <span class="kr">end</span>
| S n&#39; =&gt; substring n&#39; (length s1) s
<span class="kr">end</span> &lt;&gt; s1</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chkfb" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chkfb"><span class="highlight"><span class="nb">case</span> m; <span class="nb">intros</span>; <span class="nb">red</span>; <span class="nb">intros</span>; <span class="bp">discriminate</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m</span> : nat) (<span class="nv">s1</span> : string),
None = None -&gt;
s1 &lt;&gt; EmptyString -&gt;
S n0 &lt;= m -&gt;
<span class="kr">match</span> m <span class="kr">with</span>
| <span class="mi">0</span> =&gt; <span class="kr">match</span> length s1 <span class="kr">with</span>
       | <span class="mi">0</span> | _ =&gt; EmptyString
       <span class="kr">end</span>
| S _ =&gt; EmptyString
<span class="kr">end</span> &lt;&gt; s1</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="String-v-chkfc" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chkfc"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">a</span> : ascii) (<span class="nv">s</span> : string),
(<span class="kr">forall</span> (<span class="nv">n</span> <span class="nv">m</span> : nat) (<span class="nv">s1</span> : string),
 index n s1 s = None -&gt;
 s1 &lt;&gt; EmptyString -&gt;
 n &lt;= m -&gt; substring m (length s1) s &lt;&gt; s1) -&gt;
<span class="kr">forall</span> (<span class="nv">n</span> <span class="nv">m</span> : nat) (<span class="nv">s1</span> : string),
<span class="kr">match</span> n <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">if</span> prefix s1 (String a s)
    <span class="kr">then</span> Some <span class="mi">0</span>
    <span class="kr">else</span>
     <span class="kr">match</span> index <span class="mi">0</span> s1 s <span class="kr">with</span>
     | Some n0 =&gt; Some (S n0)
     | None =&gt; None
     <span class="kr">end</span>
| S n&#39; =&gt;
    <span class="kr">match</span> index n&#39; s1 s <span class="kr">with</span>
    | Some n0 =&gt; Some (S n0)
    | None =&gt; None
    <span class="kr">end</span>
<span class="kr">end</span> = None -&gt;
s1 &lt;&gt; EmptyString -&gt;
n &lt;= m -&gt;
<span class="kr">match</span> m <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">match</span> length s1 <span class="kr">with</span>
    | <span class="mi">0</span> =&gt; EmptyString
    | S m&#39; =&gt; String a (substring <span class="mi">0</span> m&#39; s)
    <span class="kr">end</span>
| S n&#39; =&gt; substring n&#39; (length s1) s
<span class="kr">end</span> &lt;&gt; s1</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chkfd" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chkfd"><span class="highlight"><span class="nb">intros</span> n&#39; m; <span class="nb">case</span> m; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, n', m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">s1</span> : string,
None = None -&gt;
s1 &lt;&gt; EmptyString -&gt;
S n&#39; &lt;= <span class="mi">0</span> -&gt;
<span class="kr">match</span> length s1 <span class="kr">with</span>
| <span class="mi">0</span> | _ =&gt; EmptyString
<span class="kr">end</span> &lt;&gt; s1</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="String-v-chkfe" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chkfe"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">a</span> : ascii) (<span class="nv">s</span> : string),
(<span class="kr">forall</span> (<span class="nv">n</span> <span class="nv">m</span> : nat) (<span class="nv">s1</span> : string),
 index n s1 s = None -&gt;
 s1 &lt;&gt; EmptyString -&gt;
 n &lt;= m -&gt; substring m (length s1) s &lt;&gt; s1) -&gt;
<span class="kr">forall</span> (<span class="nv">n</span> <span class="nv">m</span> : nat) (<span class="nv">s1</span> : string),
<span class="kr">match</span> n <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">if</span> prefix s1 (String a s)
    <span class="kr">then</span> Some <span class="mi">0</span>
    <span class="kr">else</span>
     <span class="kr">match</span> index <span class="mi">0</span> s1 s <span class="kr">with</span>
     | Some n0 =&gt; Some (S n0)
     | None =&gt; None
     <span class="kr">end</span>
| S n&#39; =&gt;
    <span class="kr">match</span> index n&#39; s1 s <span class="kr">with</span>
    | Some n0 =&gt; Some (S n0)
    | None =&gt; None
    <span class="kr">end</span>
<span class="kr">end</span> = None -&gt;
s1 &lt;&gt; EmptyString -&gt;
n &lt;= m -&gt;
<span class="kr">match</span> m <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">match</span> length s1 <span class="kr">with</span>
    | <span class="mi">0</span> =&gt; EmptyString
    | S m&#39; =&gt; String a (substring <span class="mi">0</span> m&#39; s)
    <span class="kr">end</span>
| S n&#39; =&gt; substring n&#39; (length s1) s
<span class="kr">end</span> &lt;&gt; s1</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chkff" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chkff"><span class="highlight"><span class="nb">intros</span> s1; <span class="nb">case</span> s1; <span class="nb">simpl</span>; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">a</span> : ascii) (<span class="nv">s</span> : string),
(<span class="kr">forall</span> (<span class="nv">n</span> <span class="nv">m</span> : nat) (<span class="nv">s1</span> : string),
 index n s1 s = None -&gt;
 s1 &lt;&gt; EmptyString -&gt;
 n &lt;= m -&gt; substring m (length s1) s &lt;&gt; s1) -&gt;
<span class="kr">forall</span> (<span class="nv">n</span> <span class="nv">m</span> : nat) (<span class="nv">s1</span> : string),
<span class="kr">match</span> n <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">if</span> prefix s1 (String a s)
    <span class="kr">then</span> Some <span class="mi">0</span>
    <span class="kr">else</span>
     <span class="kr">match</span> index <span class="mi">0</span> s1 s <span class="kr">with</span>
     | Some n0 =&gt; Some (S n0)
     | None =&gt; None
     <span class="kr">end</span>
| S n&#39; =&gt;
    <span class="kr">match</span> index n&#39; s1 s <span class="kr">with</span>
    | Some n0 =&gt; Some (S n0)
    | None =&gt; None
    <span class="kr">end</span>
<span class="kr">end</span> = None -&gt;
s1 &lt;&gt; EmptyString -&gt;
n &lt;= m -&gt;
<span class="kr">match</span> m <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">match</span> length s1 <span class="kr">with</span>
    | <span class="mi">0</span> =&gt; EmptyString
    | S m&#39; =&gt; String a (substring <span class="mi">0</span> m&#39; s)
    <span class="kr">end</span>
| S n&#39; =&gt; substring n&#39; (length s1) s
<span class="kr">end</span> &lt;&gt; s1</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk100" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk100"><span class="highlight"><span class="nb">intros</span> b s2&#39; Rec n m s1.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n0 s0 s2&#39; = None -&gt;
s0 &lt;&gt; EmptyString -&gt; n0 &lt;= m0 -&gt; substring m0 (length s0) s2&#39; &lt;&gt; s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">match</span> n <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">if</span> prefix s1 (String b s2&#39;)
    <span class="kr">then</span> Some <span class="mi">0</span>
    <span class="kr">else</span>
     <span class="kr">match</span> index <span class="mi">0</span> s1 s2&#39; <span class="kr">with</span>
     | Some n0 =&gt; Some (S n0)
     | None =&gt; None
     <span class="kr">end</span>
| S n&#39; =&gt;
    <span class="kr">match</span> index n&#39; s1 s2&#39; <span class="kr">with</span>
    | Some n0 =&gt; Some (S n0)
    | None =&gt; None
    <span class="kr">end</span>
<span class="kr">end</span> = None -&gt;
s1 &lt;&gt; EmptyString -&gt;
n &lt;= m -&gt;
<span class="kr">match</span> m <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">match</span> length s1 <span class="kr">with</span>
    | <span class="mi">0</span> =&gt; EmptyString
    | S m&#39; =&gt; String b (substring <span class="mi">0</span> m&#39; s2&#39;)
    <span class="kr">end</span>
| S n&#39; =&gt; substring n&#39; (length s1) s2&#39;
<span class="kr">end</span> &lt;&gt; s1</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk101" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk101"><span class="highlight"><span class="nb">case</span> n; <span class="nb">simpl</span>; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n0 s0 s2&#39; = None -&gt;
s0 &lt;&gt; EmptyString -&gt; n0 &lt;= m0 -&gt; substring m0 (length s0) s2&#39; &lt;&gt; s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="kr">if</span> prefix s1 (String b s2&#39;)
 <span class="kr">then</span> Some <span class="mi">0</span>
 <span class="kr">else</span>
  <span class="kr">match</span> index <span class="mi">0</span> s1 s2&#39; <span class="kr">with</span>
  | Some n0 =&gt; Some (S n0)
  | None =&gt; None
  <span class="kr">end</span>) = None -&gt;
s1 &lt;&gt; EmptyString -&gt;
<span class="mi">0</span> &lt;= m -&gt;
<span class="kr">match</span> m <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">match</span> length s1 <span class="kr">with</span>
    | <span class="mi">0</span> =&gt; EmptyString
    | S m&#39; =&gt; String b (substring <span class="mi">0</span> m&#39; s2&#39;)
    <span class="kr">end</span>
| S n&#39; =&gt; substring n&#39; (length s1) s2&#39;
<span class="kr">end</span> &lt;&gt; s1</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="String-v-chk102" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n0 s0 s2&#39; = None -&gt;
s0 &lt;&gt; EmptyString -&gt; n0 &lt;= m0 -&gt; substring m0 (length s0) s2&#39; &lt;&gt; s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chk102"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">n0</span> : nat,
<span class="kr">match</span> index n0 s1 s2&#39; <span class="kr">with</span>
| Some n1 =&gt; Some (S n1)
| None =&gt; None
<span class="kr">end</span> = None -&gt;
s1 &lt;&gt; EmptyString -&gt;
S n0 &lt;= m -&gt;
<span class="kr">match</span> m <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">match</span> length s1 <span class="kr">with</span>
    | <span class="mi">0</span> =&gt; EmptyString
    | S m&#39; =&gt; String b (substring <span class="mi">0</span> m&#39; s2&#39;)
    <span class="kr">end</span>
| S n&#39; =&gt; substring n&#39; (length s1) s2&#39;
<span class="kr">end</span> &lt;&gt; s1</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk103" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk103"><span class="highlight"><span class="nb">generalize</span> (prefix_correct s1 (String b s2&#39;));
 <span class="nb">case</span> (prefix s1 (String b s2&#39;)).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n0 s0 s2&#39; = None -&gt;
s0 &lt;&gt; EmptyString -&gt; n0 &lt;= m0 -&gt; substring m0 (length s0) s2&#39; &lt;&gt; s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">true = true &lt;-&gt;
substring <span class="mi">0</span> (length s1) (String b s2&#39;) = s1 -&gt;
Some <span class="mi">0</span> = None -&gt;
s1 &lt;&gt; EmptyString -&gt;
<span class="mi">0</span> &lt;= m -&gt;
<span class="kr">match</span> m <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">match</span> length s1 <span class="kr">with</span>
    | <span class="mi">0</span> =&gt; EmptyString
    | S m&#39; =&gt; String b (substring <span class="mi">0</span> m&#39; s2&#39;)
    <span class="kr">end</span>
| S n&#39; =&gt; substring n&#39; (length s1) s2&#39;
<span class="kr">end</span> &lt;&gt; s1</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="String-v-chk104" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n0 s0 s2&#39; = None -&gt;
s0 &lt;&gt; EmptyString -&gt; n0 &lt;= m0 -&gt; substring m0 (length s0) s2&#39; &lt;&gt; s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chk104"><hr></label><div class="goal-conclusion"><span class="highlight">false = true &lt;-&gt;
substring <span class="mi">0</span> (length s1) (String b s2&#39;) = s1 -&gt;
<span class="kr">match</span> index <span class="mi">0</span> s1 s2&#39; <span class="kr">with</span>
| Some n0 =&gt; Some (S n0)
| None =&gt; None
<span class="kr">end</span> = None -&gt;
s1 &lt;&gt; EmptyString -&gt;
<span class="mi">0</span> &lt;= m -&gt;
<span class="kr">match</span> m <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">match</span> length s1 <span class="kr">with</span>
    | <span class="mi">0</span> =&gt; EmptyString
    | S m&#39; =&gt; String b (substring <span class="mi">0</span> m&#39; s2&#39;)
    <span class="kr">end</span>
| S n&#39; =&gt; substring n&#39; (length s1) s2&#39;
<span class="kr">end</span> &lt;&gt; s1</span></div></blockquote><input class="coq-extra-goal-toggle" id="String-v-chk105" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n0 s0 s2&#39; = None -&gt;
s0 &lt;&gt; EmptyString -&gt; n0 &lt;= m0 -&gt; substring m0 (length s0) s2&#39; &lt;&gt; s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chk105"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">n0</span> : nat,
<span class="kr">match</span> index n0 s1 s2&#39; <span class="kr">with</span>
| Some n1 =&gt; Some (S n1)
| None =&gt; None
<span class="kr">end</span> = None -&gt;
s1 &lt;&gt; EmptyString -&gt;
S n0 &lt;= m -&gt;
<span class="kr">match</span> m <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">match</span> length s1 <span class="kr">with</span>
    | <span class="mi">0</span> =&gt; EmptyString
    | S m&#39; =&gt; String b (substring <span class="mi">0</span> m&#39; s2&#39;)
    <span class="kr">end</span>
| S n&#39; =&gt; substring n&#39; (length s1) s2&#39;
<span class="kr">end</span> &lt;&gt; s1</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk106" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk106"><span class="highlight"><span class="nb">intros</span>; <span class="bp">discriminate</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n0 s0 s2&#39; = None -&gt;
s0 &lt;&gt; EmptyString -&gt; n0 &lt;= m0 -&gt; substring m0 (length s0) s2&#39; &lt;&gt; s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">false = true &lt;-&gt;
substring <span class="mi">0</span> (length s1) (String b s2&#39;) = s1 -&gt;
<span class="kr">match</span> index <span class="mi">0</span> s1 s2&#39; <span class="kr">with</span>
| Some n0 =&gt; Some (S n0)
| None =&gt; None
<span class="kr">end</span> = None -&gt;
s1 &lt;&gt; EmptyString -&gt;
<span class="mi">0</span> &lt;= m -&gt;
<span class="kr">match</span> m <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">match</span> length s1 <span class="kr">with</span>
    | <span class="mi">0</span> =&gt; EmptyString
    | S m&#39; =&gt; String b (substring <span class="mi">0</span> m&#39; s2&#39;)
    <span class="kr">end</span>
| S n&#39; =&gt; substring n&#39; (length s1) s2&#39;
<span class="kr">end</span> &lt;&gt; s1</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="String-v-chk107" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n0 s0 s2&#39; = None -&gt;
s0 &lt;&gt; EmptyString -&gt; n0 &lt;= m0 -&gt; substring m0 (length s0) s2&#39; &lt;&gt; s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chk107"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">n0</span> : nat,
<span class="kr">match</span> index n0 s1 s2&#39; <span class="kr">with</span>
| Some n1 =&gt; Some (S n1)
| None =&gt; None
<span class="kr">end</span> = None -&gt;
s1 &lt;&gt; EmptyString -&gt;
S n0 &lt;= m -&gt;
<span class="kr">match</span> m <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">match</span> length s1 <span class="kr">with</span>
    | <span class="mi">0</span> =&gt; EmptyString
    | S m&#39; =&gt; String b (substring <span class="mi">0</span> m&#39; s2&#39;)
    <span class="kr">end</span>
| S n&#39; =&gt; substring n&#39; (length s1) s2&#39;
<span class="kr">end</span> &lt;&gt; s1</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk108" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk108"><span class="highlight"><span class="nb">case</span> m; <span class="nb">simpl</span>; <span class="nb">auto with</span> bool.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n0 s0 s2&#39; = None -&gt;
s0 &lt;&gt; EmptyString -&gt; n0 &lt;= m0 -&gt; substring m0 (length s0) s2&#39; &lt;&gt; s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">false = true &lt;-&gt;
<span class="kr">match</span> length s1 <span class="kr">with</span>
| <span class="mi">0</span> =&gt; EmptyString
| S m&#39; =&gt; String b (substring <span class="mi">0</span> m&#39; s2&#39;)
<span class="kr">end</span> = s1 -&gt;
<span class="kr">match</span> index <span class="mi">0</span> s1 s2&#39; <span class="kr">with</span>
| Some n0 =&gt; Some (S n0)
| None =&gt; None
<span class="kr">end</span> = None -&gt;
s1 &lt;&gt; EmptyString -&gt;
<span class="mi">0</span> &lt;= <span class="mi">0</span> -&gt;
<span class="kr">match</span> length s1 <span class="kr">with</span>
| <span class="mi">0</span> =&gt; EmptyString
| S m&#39; =&gt; String b (substring <span class="mi">0</span> m&#39; s2&#39;)
<span class="kr">end</span> &lt;&gt; s1</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="String-v-chk109" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n0 s0 s2&#39; = None -&gt;
s0 &lt;&gt; EmptyString -&gt; n0 &lt;= m0 -&gt; substring m0 (length s0) s2&#39; &lt;&gt; s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chk109"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">n0</span> : nat,
false = true &lt;-&gt;
<span class="kr">match</span> length s1 <span class="kr">with</span>
| <span class="mi">0</span> =&gt; EmptyString
| S m&#39; =&gt; String b (substring <span class="mi">0</span> m&#39; s2&#39;)
<span class="kr">end</span> = s1 -&gt;
<span class="kr">match</span> index <span class="mi">0</span> s1 s2&#39; <span class="kr">with</span>
| Some n1 =&gt; Some (S n1)
| None =&gt; None
<span class="kr">end</span> = None -&gt;
s1 &lt;&gt; EmptyString -&gt;
<span class="mi">0</span> &lt;= S n0 -&gt; substring n0 (length s1) s2&#39; &lt;&gt; s1</span></div></blockquote><input class="coq-extra-goal-toggle" id="String-v-chk10a" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n0 s0 s2&#39; = None -&gt;
s0 &lt;&gt; EmptyString -&gt; n0 &lt;= m0 -&gt; substring m0 (length s0) s2&#39; &lt;&gt; s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chk10a"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">n0</span> : nat,
<span class="kr">match</span> index n0 s1 s2&#39; <span class="kr">with</span>
| Some n1 =&gt; Some (S n1)
| None =&gt; None
<span class="kr">end</span> = None -&gt;
s1 &lt;&gt; EmptyString -&gt;
S n0 &lt;= m -&gt;
<span class="kr">match</span> m <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">match</span> length s1 <span class="kr">with</span>
    | <span class="mi">0</span> =&gt; EmptyString
    | S m&#39; =&gt; String b (substring <span class="mi">0</span> m&#39; s2&#39;)
    <span class="kr">end</span>
| S n&#39; =&gt; substring n&#39; (length s1) s2&#39;
<span class="kr">end</span> &lt;&gt; s1</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk10b" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk10b"><span class="highlight"><span class="nb">case</span> s1; <span class="nb">simpl</span>; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n0 s0 s2&#39; = None -&gt;
s0 &lt;&gt; EmptyString -&gt; n0 &lt;= m0 -&gt; substring m0 (length s0) s2&#39; &lt;&gt; s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">a</span> : ascii) (<span class="nv">s</span> : string),
false = true &lt;-&gt;
String b (substring <span class="mi">0</span> (length s) s2&#39;) = String a s -&gt;
<span class="kr">match</span> index <span class="mi">0</span> (String a s) s2&#39; <span class="kr">with</span>
| Some n0 =&gt; Some (S n0)
| None =&gt; None
<span class="kr">end</span> = None -&gt;
String a s &lt;&gt; EmptyString -&gt;
<span class="mi">0</span> &lt;= <span class="mi">0</span> -&gt;
String b (substring <span class="mi">0</span> (length s) s2&#39;) &lt;&gt; String a s</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="String-v-chk10c" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n0 s0 s2&#39; = None -&gt;
s0 &lt;&gt; EmptyString -&gt; n0 &lt;= m0 -&gt; substring m0 (length s0) s2&#39; &lt;&gt; s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chk10c"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">n0</span> : nat,
false = true &lt;-&gt;
<span class="kr">match</span> length s1 <span class="kr">with</span>
| <span class="mi">0</span> =&gt; EmptyString
| S m&#39; =&gt; String b (substring <span class="mi">0</span> m&#39; s2&#39;)
<span class="kr">end</span> = s1 -&gt;
<span class="kr">match</span> index <span class="mi">0</span> s1 s2&#39; <span class="kr">with</span>
| Some n1 =&gt; Some (S n1)
| None =&gt; None
<span class="kr">end</span> = None -&gt;
s1 &lt;&gt; EmptyString -&gt;
<span class="mi">0</span> &lt;= S n0 -&gt; substring n0 (length s1) s2&#39; &lt;&gt; s1</span></div></blockquote><input class="coq-extra-goal-toggle" id="String-v-chk10d" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n0 s0 s2&#39; = None -&gt;
s0 &lt;&gt; EmptyString -&gt; n0 &lt;= m0 -&gt; substring m0 (length s0) s2&#39; &lt;&gt; s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chk10d"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">n0</span> : nat,
<span class="kr">match</span> index n0 s1 s2&#39; <span class="kr">with</span>
| Some n1 =&gt; Some (S n1)
| None =&gt; None
<span class="kr">end</span> = None -&gt;
s1 &lt;&gt; EmptyString -&gt;
S n0 &lt;= m -&gt;
<span class="kr">match</span> m <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">match</span> length s1 <span class="kr">with</span>
    | <span class="mi">0</span> =&gt; EmptyString
    | S m&#39; =&gt; String b (substring <span class="mi">0</span> m&#39; s2&#39;)
    <span class="kr">end</span>
| S n&#39; =&gt; substring n&#39; (length s1) s2&#39;
<span class="kr">end</span> &lt;&gt; s1</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk10e" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk10e"><span class="highlight"><span class="nb">intros</span> a s H H0 H1 H2; <span class="nb">red</span>; <span class="nb">intros</span> H3; <span class="nb">case</span> H.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n0 s0 s2&#39; = None -&gt;
s0 &lt;&gt; EmptyString -&gt; n0 &lt;= m0 -&gt; substring m0 (length s0) s2&#39; &lt;&gt; s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">false = true &lt;-&gt;
String b (substring <span class="mi">0</span> (length s) s2&#39;) = String a s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">match</span> index <span class="mi">0</span> (String a s) s2&#39; <span class="kr">with</span>
| Some n0 =&gt; Some (S n0)
| None =&gt; None
<span class="kr">end</span> = None</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">String a s &lt;&gt; EmptyString</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= <span class="mi">0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">String b (substring <span class="mi">0</span> (length s) s2&#39;) =
String a s</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(false = true -&gt;
 String b (substring <span class="mi">0</span> (length s) s2&#39;) = String a s) -&gt;
(String b (substring <span class="mi">0</span> (length s) s2&#39;) = String a s -&gt;
 false = true) -&gt; <span class="kt">False</span></span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="String-v-chk10f" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n0 s0 s2&#39; = None -&gt;
s0 &lt;&gt; EmptyString -&gt; n0 &lt;= m0 -&gt; substring m0 (length s0) s2&#39; &lt;&gt; s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chk10f"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">n0</span> : nat,
false = true &lt;-&gt;
<span class="kr">match</span> length s1 <span class="kr">with</span>
| <span class="mi">0</span> =&gt; EmptyString
| S m&#39; =&gt; String b (substring <span class="mi">0</span> m&#39; s2&#39;)
<span class="kr">end</span> = s1 -&gt;
<span class="kr">match</span> index <span class="mi">0</span> s1 s2&#39; <span class="kr">with</span>
| Some n1 =&gt; Some (S n1)
| None =&gt; None
<span class="kr">end</span> = None -&gt;
s1 &lt;&gt; EmptyString -&gt;
<span class="mi">0</span> &lt;= S n0 -&gt; substring n0 (length s1) s2&#39; &lt;&gt; s1</span></div></blockquote><input class="coq-extra-goal-toggle" id="String-v-chk110" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n0 s0 s2&#39; = None -&gt;
s0 &lt;&gt; EmptyString -&gt; n0 &lt;= m0 -&gt; substring m0 (length s0) s2&#39; &lt;&gt; s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chk110"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">n0</span> : nat,
<span class="kr">match</span> index n0 s1 s2&#39; <span class="kr">with</span>
| Some n1 =&gt; Some (S n1)
| None =&gt; None
<span class="kr">end</span> = None -&gt;
s1 &lt;&gt; EmptyString -&gt;
S n0 &lt;= m -&gt;
<span class="kr">match</span> m <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">match</span> length s1 <span class="kr">with</span>
    | <span class="mi">0</span> =&gt; EmptyString
    | S m&#39; =&gt; String b (substring <span class="mi">0</span> m&#39; s2&#39;)
    <span class="kr">end</span>
| S n&#39; =&gt; substring n&#39; (length s1) s2&#39;
<span class="kr">end</span> &lt;&gt; s1</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk111" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk111"><span class="highlight"><span class="nb">intros</span> H4 H5; <span class="nb">absurd</span> (false = true); <span class="nb">auto with</span> bool.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n0 s0 s2&#39; = None -&gt;
s0 &lt;&gt; EmptyString -&gt; n0 &lt;= m0 -&gt; substring m0 (length s0) s2&#39; &lt;&gt; s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">n0</span> : nat,
false = true &lt;-&gt;
<span class="kr">match</span> length s1 <span class="kr">with</span>
| <span class="mi">0</span> =&gt; EmptyString
| S m&#39; =&gt; String b (substring <span class="mi">0</span> m&#39; s2&#39;)
<span class="kr">end</span> = s1 -&gt;
<span class="kr">match</span> index <span class="mi">0</span> s1 s2&#39; <span class="kr">with</span>
| Some n1 =&gt; Some (S n1)
| None =&gt; None
<span class="kr">end</span> = None -&gt;
s1 &lt;&gt; EmptyString -&gt;
<span class="mi">0</span> &lt;= S n0 -&gt; substring n0 (length s1) s2&#39; &lt;&gt; s1</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="String-v-chk112" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n0 s0 s2&#39; = None -&gt;
s0 &lt;&gt; EmptyString -&gt; n0 &lt;= m0 -&gt; substring m0 (length s0) s2&#39; &lt;&gt; s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chk112"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">n0</span> : nat,
<span class="kr">match</span> index n0 s1 s2&#39; <span class="kr">with</span>
| Some n1 =&gt; Some (S n1)
| None =&gt; None
<span class="kr">end</span> = None -&gt;
s1 &lt;&gt; EmptyString -&gt;
S n0 &lt;= m -&gt;
<span class="kr">match</span> m <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">match</span> length s1 <span class="kr">with</span>
    | <span class="mi">0</span> =&gt; EmptyString
    | S m&#39; =&gt; String b (substring <span class="mi">0</span> m&#39; s2&#39;)
    <span class="kr">end</span>
| S n&#39; =&gt; substring n&#39; (length s1) s2&#39;
<span class="kr">end</span> &lt;&gt; s1</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk113" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk113"><span class="highlight"><span class="nb">case</span> s1; <span class="nb">simpl</span>; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n0 s0 s2&#39; = None -&gt;
s0 &lt;&gt; EmptyString -&gt; n0 &lt;= m0 -&gt; substring m0 (length s0) s2&#39; &lt;&gt; s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">a</span> : ascii) (<span class="nv">s</span> : string) (<span class="nv">n0</span> : nat),
false = true &lt;-&gt;
String b (substring <span class="mi">0</span> (length s) s2&#39;) = String a s -&gt;
<span class="kr">match</span> index <span class="mi">0</span> (String a s) s2&#39; <span class="kr">with</span>
| Some n1 =&gt; Some (S n1)
| None =&gt; None
<span class="kr">end</span> = None -&gt;
String a s &lt;&gt; EmptyString -&gt;
<span class="mi">0</span> &lt;= S n0 -&gt;
substring n0 (S (length s)) s2&#39; &lt;&gt; String a s</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="String-v-chk114" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n0 s0 s2&#39; = None -&gt;
s0 &lt;&gt; EmptyString -&gt; n0 &lt;= m0 -&gt; substring m0 (length s0) s2&#39; &lt;&gt; s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chk114"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">n0</span> : nat,
<span class="kr">match</span> index n0 s1 s2&#39; <span class="kr">with</span>
| Some n1 =&gt; Some (S n1)
| None =&gt; None
<span class="kr">end</span> = None -&gt;
s1 &lt;&gt; EmptyString -&gt;
S n0 &lt;= m -&gt;
<span class="kr">match</span> m <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">match</span> length s1 <span class="kr">with</span>
    | <span class="mi">0</span> =&gt; EmptyString
    | S m&#39; =&gt; String b (substring <span class="mi">0</span> m&#39; s2&#39;)
    <span class="kr">end</span>
| S n&#39; =&gt; substring n&#39; (length s1) s2&#39;
<span class="kr">end</span> &lt;&gt; s1</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk115" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk115"><span class="highlight"><span class="nb">intros</span> a s n0 H H0 H1 H2;
 <span class="nb">change</span> (substring n0 (length (String a s)) s2&#39; &lt;&gt; String a s);
 <span class="nb">apply</span> (Rec O); <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n1</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n1 s0 s2&#39; = None -&gt;
s0 &lt;&gt; EmptyString -&gt; n1 &lt;= m0 -&gt; substring m0 (length s0) s2&#39; &lt;&gt; s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">false = true &lt;-&gt;
String b (substring <span class="mi">0</span> (length s) s2&#39;) = String a s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">match</span> index <span class="mi">0</span> (String a s) s2&#39; <span class="kr">with</span>
| Some n1 =&gt; Some (S n1)
| None =&gt; None
<span class="kr">end</span> = None</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">String a s &lt;&gt; EmptyString</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= S n0</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">index <span class="mi">0</span> (String a s) s2&#39; = None</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="String-v-chk116" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n1</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n1 s0 s2&#39; = None -&gt;
s0 &lt;&gt; EmptyString -&gt; n1 &lt;= m0 -&gt; substring m0 (length s0) s2&#39; &lt;&gt; s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">false = true &lt;-&gt;
String b (substring <span class="mi">0</span> (length s) s2&#39;) = String a s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">match</span> index <span class="mi">0</span> (String a s) s2&#39; <span class="kr">with</span>
| Some n1 =&gt; Some (S n1)
| None =&gt; None
<span class="kr">end</span> = None</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">String a s &lt;&gt; EmptyString</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= S n0</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chk116"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="mi">0</span> &lt;= n0</span></div></blockquote><input class="coq-extra-goal-toggle" id="String-v-chk117" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n0 s0 s2&#39; = None -&gt;
s0 &lt;&gt; EmptyString -&gt; n0 &lt;= m0 -&gt; substring m0 (length s0) s2&#39; &lt;&gt; s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chk117"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">n0</span> : nat,
<span class="kr">match</span> index n0 s1 s2&#39; <span class="kr">with</span>
| Some n1 =&gt; Some (S n1)
| None =&gt; None
<span class="kr">end</span> = None -&gt;
s1 &lt;&gt; EmptyString -&gt;
S n0 &lt;= m -&gt;
<span class="kr">match</span> m <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">match</span> length s1 <span class="kr">with</span>
    | <span class="mi">0</span> =&gt; EmptyString
    | S m&#39; =&gt; String b (substring <span class="mi">0</span> m&#39; s2&#39;)
    <span class="kr">end</span>
| S n&#39; =&gt; substring n&#39; (length s1) s2&#39;
<span class="kr">end</span> &lt;&gt; s1</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk118" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk118"><span class="highlight"><span class="nb">generalize</span> H0; <span class="nb">case</span> (index <span class="mi">0</span> (String a s) s2&#39;); <span class="nb">simpl</span>; <span class="nb">auto</span>; <span class="nb">intros</span>;
 <span class="bp">discriminate</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n1</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n1 s0 s2&#39; = None -&gt;
s0 &lt;&gt; EmptyString -&gt; n1 &lt;= m0 -&gt; substring m0 (length s0) s2&#39; &lt;&gt; s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">false = true &lt;-&gt;
String b (substring <span class="mi">0</span> (length s) s2&#39;) = String a s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">match</span> index <span class="mi">0</span> (String a s) s2&#39; <span class="kr">with</span>
| Some n1 =&gt; Some (S n1)
| None =&gt; None
<span class="kr">end</span> = None</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">String a s &lt;&gt; EmptyString</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= S n0</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">0</span> &lt;= n0</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="String-v-chk119" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n0 s0 s2&#39; = None -&gt;
s0 &lt;&gt; EmptyString -&gt; n0 &lt;= m0 -&gt; substring m0 (length s0) s2&#39; &lt;&gt; s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chk119"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">n0</span> : nat,
<span class="kr">match</span> index n0 s1 s2&#39; <span class="kr">with</span>
| Some n1 =&gt; Some (S n1)
| None =&gt; None
<span class="kr">end</span> = None -&gt;
s1 &lt;&gt; EmptyString -&gt;
S n0 &lt;= m -&gt;
<span class="kr">match</span> m <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">match</span> length s1 <span class="kr">with</span>
    | <span class="mi">0</span> =&gt; EmptyString
    | S m&#39; =&gt; String b (substring <span class="mi">0</span> m&#39; s2&#39;)
    <span class="kr">end</span>
| S n&#39; =&gt; substring n&#39; (length s1) s2&#39;
<span class="kr">end</span> &lt;&gt; s1</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk11a" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk11a"><span class="highlight"><span class="nb">apply</span> Le.le_O_n.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n0 s0 s2&#39; = None -&gt;
s0 &lt;&gt; EmptyString -&gt; n0 &lt;= m0 -&gt; substring m0 (length s0) s2&#39; &lt;&gt; s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">n0</span> : nat,
<span class="kr">match</span> index n0 s1 s2&#39; <span class="kr">with</span>
| Some n1 =&gt; Some (S n1)
| None =&gt; None
<span class="kr">end</span> = None -&gt;
s1 &lt;&gt; EmptyString -&gt;
S n0 &lt;= m -&gt;
<span class="kr">match</span> m <span class="kr">with</span>
| <span class="mi">0</span> =&gt;
    <span class="kr">match</span> length s1 <span class="kr">with</span>
    | <span class="mi">0</span> =&gt; EmptyString
    | S m&#39; =&gt; String b (substring <span class="mi">0</span> m&#39; s2&#39;)
    <span class="kr">end</span>
| S n&#39; =&gt; substring n&#39; (length s1) s2&#39;
<span class="kr">end</span> &lt;&gt; s1</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk11b" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk11b"><span class="highlight"><span class="nb">intros</span> n&#39;; <span class="nb">case</span> m; <span class="nb">simpl</span>; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n0 s0 s2&#39; = None -&gt;
s0 &lt;&gt; EmptyString -&gt; n0 &lt;= m0 -&gt; substring m0 (length s0) s2&#39; &lt;&gt; s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">match</span> index n&#39; s1 s2&#39; <span class="kr">with</span>
| Some n0 =&gt; Some (S n0)
| None =&gt; None
<span class="kr">end</span> = None -&gt;
s1 &lt;&gt; EmptyString -&gt;
S n&#39; &lt;= <span class="mi">0</span> -&gt;
<span class="kr">match</span> length s1 <span class="kr">with</span>
| <span class="mi">0</span> =&gt; EmptyString
| S m&#39; =&gt; String b (substring <span class="mi">0</span> m&#39; s2&#39;)
<span class="kr">end</span> &lt;&gt; s1</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="String-v-chk11c" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n0 s0 s2&#39; = None -&gt;
s0 &lt;&gt; EmptyString -&gt; n0 &lt;= m0 -&gt; substring m0 (length s0) s2&#39; &lt;&gt; s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chk11c"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">n0</span> : nat,
<span class="kr">match</span> index n&#39; s1 s2&#39; <span class="kr">with</span>
| Some n1 =&gt; Some (S n1)
| None =&gt; None
<span class="kr">end</span> = None -&gt;
s1 &lt;&gt; EmptyString -&gt;
S n&#39; &lt;= S n0 -&gt; substring n0 (length s1) s2&#39; &lt;&gt; s1</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk11d" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk11d"><span class="highlight"><span class="nb">intros</span> H H0 H1; <span class="nb">inversion</span> H1.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n0 s0 s2&#39; = None -&gt;
s0 &lt;&gt; EmptyString -&gt; n0 &lt;= m0 -&gt; substring m0 (length s0) s2&#39; &lt;&gt; s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">n0</span> : nat,
<span class="kr">match</span> index n&#39; s1 s2&#39; <span class="kr">with</span>
| Some n1 =&gt; Some (S n1)
| None =&gt; None
<span class="kr">end</span> = None -&gt;
s1 &lt;&gt; EmptyString -&gt;
S n&#39; &lt;= S n0 -&gt; substring n0 (length s1) s2&#39; &lt;&gt; s1</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk11e" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk11e"><span class="highlight"><span class="nb">intros</span> n0 H H0 H1; <span class="nb">apply</span> (Rec n&#39;); <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n1</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n1 s0 s2&#39; = None -&gt;
s0 &lt;&gt; EmptyString -&gt; n1 &lt;= m0 -&gt; substring m0 (length s0) s2&#39; &lt;&gt; s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n', n0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">match</span> index n&#39; s1 s2&#39; <span class="kr">with</span>
| Some n1 =&gt; Some (S n1)
| None =&gt; None
<span class="kr">end</span> = None</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">s1 &lt;&gt; EmptyString</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S n&#39; &lt;= S n0</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">index n&#39; s1 s2&#39; = None</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="String-v-chk11f" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n1</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n1 s0 s2&#39; = None -&gt;
s0 &lt;&gt; EmptyString -&gt; n1 &lt;= m0 -&gt; substring m0 (length s0) s2&#39; &lt;&gt; s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n', n0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">match</span> index n&#39; s1 s2&#39; <span class="kr">with</span>
| Some n1 =&gt; Some (S n1)
| None =&gt; None
<span class="kr">end</span> = None</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">s1 &lt;&gt; EmptyString</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S n&#39; &lt;= S n0</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chk11f"><hr></label><div class="goal-conclusion"><span class="highlight">n&#39; &lt;= n0</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk120" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk120"><span class="highlight"><span class="nb">generalize</span> H; <span class="nb">case</span> (index n&#39; s1 s2&#39;); <span class="nb">simpl</span>; <span class="nb">auto</span>; <span class="nb">intros</span>;
 <span class="bp">discriminate</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">n1</span> <span class="nv">m0</span> : nat) (<span class="nv">s0</span> : string),
index n1 s0 s2&#39; = None -&gt;
s0 &lt;&gt; EmptyString -&gt; n1 &lt;= m0 -&gt; substring m0 (length s0) s2&#39; &lt;&gt; s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n', n0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">match</span> index n&#39; s1 s2&#39; <span class="kr">with</span>
| Some n1 =&gt; Some (S n1)
| None =&gt; None
<span class="kr">end</span> = None</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">s1 &lt;&gt; EmptyString</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S n&#39; &lt;= S n0</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">n&#39; &lt;= n0</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">apply</span> Le.le_S_n; <span class="nb">auto</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
<span class="c">(* Back to normal for prefix *)</span>
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Transparent</span> prefix.</span></span></span></pre><div class="doc">
If we are searching for the <span class="inlinecode"><span class="id" title="var">Empty</span></span> string and the answer is no
    this means that <span class="inlinecode"><span class="id" title="var">n</span></span> is greater than the size of <span class="inlinecode"><span class="id" title="var">s</span></span>
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk121" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk121"><span class="highlight"><span class="kn">Theorem</span> <span class="nf">index_correct4</span> :
 <span class="kr">forall</span> (<span class="nv">n</span> : nat) (<span class="nv">s</span> : string),
 index n EmptyString s = None -&gt; length s &lt; n.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">n</span> : nat) (<span class="nv">s</span> : string),
index n EmptyString s = None -&gt; length s &lt; n</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk122" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk122"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">n</span> : nat) (<span class="nv">s</span> : string),
index n EmptyString s = None -&gt; length s &lt; n</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk123" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk123"><span class="highlight"><span class="nb">intros</span> n s; <span class="nb">generalize</span> n; <span class="nb">clear</span> n; <span class="nb">elim</span> s; <span class="nb">simpl</span>; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">n</span> : nat,
<span class="kr">match</span> n <span class="kr">with</span>
| <span class="mi">0</span> =&gt; Some <span class="mi">0</span>
| S _ =&gt; None
<span class="kr">end</span> = None -&gt; <span class="mi">0</span> &lt; n</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="String-v-chk124" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chk124"><hr></label><div class="goal-conclusion"><span class="highlight">ascii -&gt;
<span class="kr">forall</span> <span class="nv">s0</span> : string,
(<span class="kr">forall</span> <span class="nv">n</span> : nat,
 index n EmptyString s0 = None -&gt; length s0 &lt; n) -&gt;
<span class="kr">forall</span> <span class="nv">n</span> : nat,
<span class="kr">match</span> n <span class="kr">with</span>
| <span class="mi">0</span> =&gt; Some <span class="mi">0</span>
| S n&#39; =&gt;
    <span class="kr">match</span> index n&#39; EmptyString s0 <span class="kr">with</span>
    | Some n0 =&gt; Some (S n0)
    | None =&gt; None
    <span class="kr">end</span>
<span class="kr">end</span> = None -&gt; S (length s0) &lt; n</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk125" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk125"><span class="highlight"><span class="nb">intros</span> n; <span class="nb">case</span> n; <span class="nb">simpl</span>; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Some <span class="mi">0</span> = None -&gt; <span class="mi">0</span> &lt; <span class="mi">0</span></span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="String-v-chk126" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chk126"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">n0</span> : nat, None = None -&gt; <span class="mi">0</span> &lt; S n0</span></div></blockquote><input class="coq-extra-goal-toggle" id="String-v-chk127" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chk127"><hr></label><div class="goal-conclusion"><span class="highlight">ascii -&gt;
<span class="kr">forall</span> <span class="nv">s0</span> : string,
(<span class="kr">forall</span> <span class="nv">n</span> : nat,
 index n EmptyString s0 = None -&gt; length s0 &lt; n) -&gt;
<span class="kr">forall</span> <span class="nv">n</span> : nat,
<span class="kr">match</span> n <span class="kr">with</span>
| <span class="mi">0</span> =&gt; Some <span class="mi">0</span>
| S n&#39; =&gt;
    <span class="kr">match</span> index n&#39; EmptyString s0 <span class="kr">with</span>
    | Some n0 =&gt; Some (S n0)
    | None =&gt; None
    <span class="kr">end</span>
<span class="kr">end</span> = None -&gt; S (length s0) &lt; n</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk128" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk128"><span class="highlight"><span class="nb">intros</span>; <span class="bp">discriminate</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">n0</span> : nat, None = None -&gt; <span class="mi">0</span> &lt; S n0</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="String-v-chk129" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chk129"><hr></label><div class="goal-conclusion"><span class="highlight">ascii -&gt;
<span class="kr">forall</span> <span class="nv">s0</span> : string,
(<span class="kr">forall</span> <span class="nv">n</span> : nat,
 index n EmptyString s0 = None -&gt; length s0 &lt; n) -&gt;
<span class="kr">forall</span> <span class="nv">n</span> : nat,
<span class="kr">match</span> n <span class="kr">with</span>
| <span class="mi">0</span> =&gt; Some <span class="mi">0</span>
| S n&#39; =&gt;
    <span class="kr">match</span> index n&#39; EmptyString s0 <span class="kr">with</span>
    | Some n0 =&gt; Some (S n0)
    | None =&gt; None
    <span class="kr">end</span>
<span class="kr">end</span> = None -&gt; S (length s0) &lt; n</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk12a" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk12a"><span class="highlight"><span class="nb">intros</span>; <span class="nb">apply</span> Lt.lt_O_Sn.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">ascii -&gt;
<span class="kr">forall</span> <span class="nv">s0</span> : string,
(<span class="kr">forall</span> <span class="nv">n</span> : nat,
 index n EmptyString s0 = None -&gt; length s0 &lt; n) -&gt;
<span class="kr">forall</span> <span class="nv">n</span> : nat,
<span class="kr">match</span> n <span class="kr">with</span>
| <span class="mi">0</span> =&gt; Some <span class="mi">0</span>
| S n&#39; =&gt;
    <span class="kr">match</span> index n&#39; EmptyString s0 <span class="kr">with</span>
    | Some n0 =&gt; Some (S n0)
    | None =&gt; None
    <span class="kr">end</span>
<span class="kr">end</span> = None -&gt; S (length s0) &lt; n</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk12b" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk12b"><span class="highlight"><span class="nb">intros</span> a s&#39; H n; <span class="nb">case</span> n; <span class="nb">simpl</span>; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">n0</span> : nat,
index n0 EmptyString s&#39; = None -&gt; length s&#39; &lt; n0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Some <span class="mi">0</span> = None -&gt; S (length s&#39;) &lt; <span class="mi">0</span></span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="String-v-chk12c" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">n0</span> : nat,
index n0 EmptyString s&#39; = None -&gt; length s&#39; &lt; n0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chk12c"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">n0</span> : nat,
<span class="kr">match</span> index n0 EmptyString s&#39; <span class="kr">with</span>
| Some n1 =&gt; Some (S n1)
| None =&gt; None
<span class="kr">end</span> = None -&gt; S (length s&#39;) &lt; S n0</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk12d" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk12d"><span class="highlight"><span class="nb">intros</span>; <span class="bp">discriminate</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">n0</span> : nat,
index n0 EmptyString s&#39; = None -&gt; length s&#39; &lt; n0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">n0</span> : nat,
<span class="kr">match</span> index n0 EmptyString s&#39; <span class="kr">with</span>
| Some n1 =&gt; Some (S n1)
| None =&gt; None
<span class="kr">end</span> = None -&gt; S (length s&#39;) &lt; S n0</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk12e" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk12e"><span class="highlight"><span class="nb">intros</span> n&#39;; <span class="nb">generalize</span> (H n&#39;); <span class="nb">case</span> (index n&#39; EmptyString s&#39;); <span class="nb">simpl</span>;
 <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">n0</span> : nat,
index n0 EmptyString s&#39; = None -&gt; length s&#39; &lt; n0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, n'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">n0</span> : nat,
(Some n0 = None -&gt; length s&#39; &lt; n&#39;) -&gt;
Some (S n0) = None -&gt; S (length s&#39;) &lt; S n&#39;</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="String-v-chk12f" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">n0</span> : nat,
index n0 EmptyString s&#39; = None -&gt; length s&#39; &lt; n0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, n'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="String-v-chk12f"><hr></label><div class="goal-conclusion"><span class="highlight">(None = None -&gt; length s&#39; &lt; n&#39;) -&gt;
None = None -&gt; S (length s&#39;) &lt; S n&#39;</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk130" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk130"><span class="highlight"><span class="nb">intros</span>; <span class="bp">discriminate</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">n0</span> : nat,
index n0 EmptyString s&#39; = None -&gt; length s&#39; &lt; n0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, n'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(None = None -&gt; length s&#39; &lt; n&#39;) -&gt;
None = None -&gt; S (length s&#39;) &lt; S n&#39;</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">intros</span> H0 H1; <span class="nb">apply</span> Lt.lt_n_S; <span class="nb">auto</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span></span></pre><div class="doc">
Same as <span class="inlinecode"><span class="id" title="var">index</span></span> but with no optional type, we return <span class="inlinecode">0</span> when it
    does not occur 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">findex</span> <span class="nv">n</span> <span class="nv">s1</span> <span class="nv">s2</span> :=
  <span class="kr">match</span> index n s1 s2 <span class="kr">with</span>
  | Some n =&gt; n
  | None =&gt; O
  <span class="kr">end</span>.</span></span></span></pre><div class="doc">
<a name="lab6"></a><h3 class="section">Conversion to/from <span class="inlinecode"><span class="id" title="var">list</span></span> <span class="inlinecode"><span class="id" title="var">ascii</span></span> and <span class="inlinecode"><span class="id" title="var">list</span></span> <span class="inlinecode"><span class="id" title="var">byte</span></span></h3>
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Fixpoint</span> <span class="nf">string_of_list_ascii</span> (<span class="nv">s</span> : list ascii) : string
  := <span class="kr">match</span> s <span class="kr">with</span>
     | nil =&gt; EmptyString
     | cons ch s =&gt; String ch (string_of_list_ascii s)
     <span class="kr">end</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Fixpoint</span> <span class="nf">list_ascii_of_string</span> (<span class="nv">s</span> : string) : list ascii
  := <span class="kr">match</span> s <span class="kr">with</span>
     | EmptyString =&gt; nil
     | String ch s =&gt; cons ch (list_ascii_of_string s)
     <span class="kr">end</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk131" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk131"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">string_of_list_ascii_of_string</span> <span class="nv">s</span> : string_of_list_ascii (list_ascii_of_string s) = s.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">string_of_list_ascii (list_ascii_of_string s) = s</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk132" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk132"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">string_of_list_ascii (list_ascii_of_string s) = s</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">induction</span> s <span class="kr">as</span> [|? ? IHs]; [ <span class="bp">reflexivity</span> | <span class="nb">cbn</span>; <span class="nb">apply</span> <span class="nb">f_equal</span>, IHs ].</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Defined</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk133" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk133"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">list_ascii_of_string_of_list_ascii</span> <span class="nv">s</span> : list_ascii_of_string (string_of_list_ascii s) = s.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list ascii</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">list_ascii_of_string (string_of_list_ascii s) = s</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk134" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk134"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list ascii</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">list_ascii_of_string (string_of_list_ascii s) = s</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">induction</span> s <span class="kr">as</span> [|? ? IHs]; [ <span class="bp">reflexivity</span> | <span class="nb">cbn</span>; <span class="nb">apply</span> <span class="nb">f_equal</span>, IHs ].</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Defined</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">string_of_list_byte</span> (<span class="nv">s</span> : list byte) : string
  := string_of_list_ascii (List.map ascii_of_byte s).</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">list_byte_of_string</span> (<span class="nv">s</span> : string) : list byte
  := List.map byte_of_ascii (list_ascii_of_string s).</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk135" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk135"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">string_of_list_byte_of_string</span> <span class="nv">s</span> : string_of_list_byte (list_byte_of_string s) = s.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">string_of_list_byte (list_byte_of_string s) = s</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk136" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk136"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">string_of_list_byte (list_byte_of_string s) = s</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk137" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk137"><span class="highlight"><span class="nb">cbv</span> [string_of_list_byte list_byte_of_string].</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">string_of_list_ascii
  (List.map ascii_of_byte
     (List.map byte_of_ascii (list_ascii_of_string s))) =
s</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk138" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk138"><span class="highlight"><span class="nb">erewrite</span> List.map_map, List.map_ext, List.map_id, string_of_list_ascii_of_string; [ <span class="bp">reflexivity</span> | <span class="nb">intro</span> ].</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">string</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ascii</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">ascii_of_byte (byte_of_ascii a) =
(<span class="kr">fun</span> <span class="nv">x</span> : ascii =&gt; x) a</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">apply</span> ascii_of_byte_of_ascii.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk139" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk139"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">list_byte_of_string_of_list_byte</span> <span class="nv">s</span> : list_byte_of_string (string_of_list_byte s) = s.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list byte</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">list_byte_of_string (string_of_list_byte s) = s</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk13a" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk13a"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list byte</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">list_byte_of_string (string_of_list_byte s) = s</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk13b" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk13b"><span class="highlight"><span class="nb">cbv</span> [string_of_list_byte list_byte_of_string].</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list byte</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">List.map byte_of_ascii
  (list_ascii_of_string
     (string_of_list_ascii (List.map ascii_of_byte s))) =
s</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="String-v-chk13c" style="display: none" type="checkbox"><label class="coq-input" for="String-v-chk13c"><span class="highlight"><span class="nb">erewrite</span> list_ascii_of_string_of_list_ascii, List.map_map, List.map_ext, List.map_id; [ <span class="bp">reflexivity</span> | <span class="nb">intro</span> ].</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list byte</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">byte</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">byte_of_ascii (ascii_of_byte a) =
(<span class="kr">fun</span> <span class="nv">x</span> : byte =&gt; x) a</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">apply</span> byte_of_ascii_of_byte.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span></span></pre><div class="doc">
<a name="lab7"></a><h3 class="section">Concrete syntax</h3>
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --></pre><div class="doc">
  The concrete syntax for strings in scope string_scope follows the
  Coq convention for strings: all ascii characters of code less than
  128 are literals to the exception of the character `double quote'
  which must be doubled.

<div class="paragraph"> </div>

  Strings that involve ascii characters of code &gt;= 128 which are not
  part of a valid utf8 sequence of characters are not representable
  using the Coq string notation (use explicitly the String constructor
  with the ascii codes of the characters).
 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Module</span> <span class="nf">Export</span> StringSyntax.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">String Notation</span> <span class="nf">string</span> string_of_list_byte list_byte_of_string : string_scope.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">End</span> <span class="nf">StringSyntax</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Example</span> <span class="nf">HelloWorld</span> := <span class="s2">&quot;	&quot;&quot;Hello world!&quot;&quot;</span>
<span class="s2">&quot;</span>.</span></span></span></pre></article></body></html>