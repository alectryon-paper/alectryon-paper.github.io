<!DOCTYPE html>
<html><head><title>ChoiceFacts.v</title><meta charset="utf-8"><meta content="Alectryon v0.2" name="generator"><link href="alectryon.css" rel="stylesheet"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/IBM-type/0.5.4/css/ibm-type.min.css" integrity="sha512-sky5cf9Ts6FY1kstGOBHSybfKqdHR41M0Ldb0BjNiv3ifltoQIsg0zIaQ+wwdwgQ0w9vKFW7Js50lxH9vqNSSw==" crossorigin="anonymous" /><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/firacode/5.2.0/fira_code.min.css" integrity="sha512-MbysAYimH1hH2xYzkkMHB6MqxBqfP0megxsCLknbYqHVwXTCg9IqHbk+ZP/vnhO8UEW6PaXAkKe2vQ+SWACxxA==" crossorigin="anonymous" /><script src="alectryon.js"></script><style type="text/css">.highlight .hll { background-color: #ffffcc }
.highlight .c { color: #555753; font-style: italic } /* Comment */
.highlight .err { color: #a40000; border: 1px solid #cc0000 } /* Error */
.highlight .g { color: #000000 } /* Generic */
.highlight .k { color: #8f5902 } /* Keyword */
.highlight .l { color: #2e3436 } /* Literal */
.highlight .n { color: #000000 } /* Name */
.highlight .o { color: #000000 } /* Operator */
.highlight .x { color: #2e3436 } /* Other */
.highlight .p { color: #000000 } /* Punctuation */
.highlight .ch { color: #555753; font-weight: bold; font-style: italic } /* Comment.Hashbang */
.highlight .cm { color: #555753; font-style: italic } /* Comment.Multiline */
.highlight .cp { color: #3465a4; font-style: italic } /* Comment.Preproc */
.highlight .cpf { color: #555753; font-style: italic } /* Comment.PreprocFile */
.highlight .c1 { color: #555753; font-style: italic } /* Comment.Single */
.highlight .cs { color: #3465a4; font-weight: bold; font-style: italic } /* Comment.Special */
.highlight .gd { color: #a40000 } /* Generic.Deleted */
.highlight .ge { color: #000000; font-style: italic } /* Generic.Emph */
.highlight .gr { color: #a40000 } /* Generic.Error */
.highlight .gh { color: #a40000; font-weight: bold } /* Generic.Heading */
.highlight .gi { color: #4e9a06 } /* Generic.Inserted */
.highlight .go { color: #000000; font-style: italic } /* Generic.Output */
.highlight .gp { color: #8f5902 } /* Generic.Prompt */
.highlight .gs { color: #000000; font-weight: bold } /* Generic.Strong */
.highlight .gu { color: #000000; font-weight: bold } /* Generic.Subheading */
.highlight .gt { color: #000000; font-style: italic } /* Generic.Traceback */
.highlight .kc { color: #204a87; font-weight: bold } /* Keyword.Constant */
.highlight .kd { color: #4e9a06; font-weight: bold } /* Keyword.Declaration */
.highlight .kn { color: #4e9a06; font-weight: bold } /* Keyword.Namespace */
.highlight .kp { color: #204a87 } /* Keyword.Pseudo */
.highlight .kr { color: #8f5902 } /* Keyword.Reserved */
.highlight .kt { color: #204a87 } /* Keyword.Type */
.highlight .ld { color: #2e3436 } /* Literal.Date */
.highlight .m { color: #2e3436 } /* Literal.Number */
.highlight .s { color: #ad7fa8 } /* Literal.String */
.highlight .na { color: #c4a000 } /* Name.Attribute */
.highlight .nb { color: #75507b } /* Name.Builtin */
.highlight .nc { color: #204a87 } /* Name.Class */
.highlight .no { color: #ce5c00 } /* Name.Constant */
.highlight .nd { color: #3465a4; font-weight: bold } /* Name.Decorator */
.highlight .ni { color: #c4a000; text-decoration: underline } /* Name.Entity */
.highlight .ne { color: #cc0000 } /* Name.Exception */
.highlight .nf { color: #a40000 } /* Name.Function */
.highlight .nl { color: #3465a4; font-weight: bold } /* Name.Label */
.highlight .nn { color: #000000 } /* Name.Namespace */
.highlight .nx { color: #000000 } /* Name.Other */
.highlight .py { color: #000000 } /* Name.Property */
.highlight .nt { color: #a40000 } /* Name.Tag */
.highlight .nv { color: #ce5c00 } /* Name.Variable */
.highlight .ow { color: #8f5902 } /* Operator.Word */
.highlight .w { color: #d3d7cf; text-decoration: underline } /* Text.Whitespace */
.highlight .mb { color: #2e3436 } /* Literal.Number.Bin */
.highlight .mf { color: #2e3436 } /* Literal.Number.Float */
.highlight .mh { color: #2e3436 } /* Literal.Number.Hex */
.highlight .mi { color: #2e3436 } /* Literal.Number.Integer */
.highlight .mo { color: #2e3436 } /* Literal.Number.Oct */
.highlight .sa { color: #ad7fa8 } /* Literal.String.Affix */
.highlight .sb { color: #ad7fa8 } /* Literal.String.Backtick */
.highlight .sc { color: #ad7fa8; font-weight: bold } /* Literal.String.Char */
.highlight .dl { color: #ad7fa8 } /* Literal.String.Delimiter */
.highlight .sd { color: #ad7fa8 } /* Literal.String.Doc */
.highlight .s2 { color: #ad7fa8 } /* Literal.String.Double */
.highlight .se { color: #ad7fa8; font-weight: bold } /* Literal.String.Escape */
.highlight .sh { color: #ad7fa8; text-decoration: underline } /* Literal.String.Heredoc */
.highlight .si { color: #ce5c00 } /* Literal.String.Interpol */
.highlight .sx { color: #ad7fa8 } /* Literal.String.Other */
.highlight .sr { color: #ad7fa8 } /* Literal.String.Regex */
.highlight .s1 { color: #ad7fa8 } /* Literal.String.Single */
.highlight .ss { color: #8f5902 } /* Literal.String.Symbol */
.highlight .bp { color: #5c35cc } /* Name.Builtin.Pseudo */
.highlight .fm { color: #a40000 } /* Name.Function.Magic */
.highlight .vc { color: #ce5c00 } /* Name.Variable.Class */
.highlight .vg { color: #ce5c00; text-decoration: underline } /* Name.Variable.Global */
.highlight .vi { color: #ce5c00 } /* Name.Variable.Instance */
.highlight .vm { color: #ce5c00 } /* Name.Variable.Magic */
.highlight .il { color: #2e3436 } /* Literal.Number.Integer.Long */</style></head><body><article class="alectryon-root alectryon-standalone alectryon-centered alectryon-coqdoc"><div class="alectryon-header">Built with <a href="https://github.com/cpitclaudel/alectryon/">Alectryon</a>, running <a href="https://coq.inria.fr/">Coq</a>+<a href="https://github.com/ejgallego/coq-serapi">SerAPI</a> v8.10.0+0.7.0. Coq sources are in this panel; goals and messages will appear in the other. Bubbles (<span class="alectryon-bubble"></span>) indicate interactive fragments: hover for details, tap to reveal contents. Use <kbd>Ctrl+‚Üë</kbd> <kbd>Ctrl+‚Üì</kbd> to navigate, <kbd>Ctrl+üñ±Ô∏è</kbd> to focus.</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-wsp"><span class="highlight"><span class="sd">(************************************************************************)</span>
<span class="c">(*         *   The Coq Proof Assistant / The Coq Development Team       *)</span>
<span class="c">(*  v      *   INRIA, CNRS and contributors - Copyright 1999-2018       *)</span>
<span class="c">(* &lt;O___,, *       (see CREDITS file for the list of authors)           *)</span>
<span class="c">(*   \VV/  **************************************************************)</span>
<span class="c">(*    //   *    This file is distributed under the terms of the         *)</span>
<span class="c">(*         *     GNU Lesser General Public License Version 2.1          *)</span>
<span class="c">(*         *     (see LICENSE file for the text of the license)         *)</span>
<span class="sd">(************************************************************************)</span>
<span class="sd">(************************************************************************)</span></span></span></pre><div class="doc">
Some facts and definitions concerning choice and description in
       intuitionistic logic. 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --></pre><div class="doc">
<a name="lab1"></a><h1 class="section">References:</h1>
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --></pre><div class="doc">
<span class="inlinecode">[<span class="id" title="var">Bell</span>]</span> John L. Bell, Choice principles in intuitionistic set theory,
unpublished.

<div class="paragraph"> </div>
<span class="inlinecode">[<span class="id" title="var">Bell93</span>]</span> John L. Bell, Hilbert's Epsilon Operator in Intuitionistic
Type Theories, Mathematical Logic Quarterly, volume 39, 1993.

<div class="paragraph"> </div>
<span class="inlinecode">[<span class="id" title="var">Carlstr√∂m04</span>]</span> Jesper Carlstr√∂m, EM + Ext + AC_int is equivalent to
AC_ext, Mathematical Logic Quaterly, vol 50(3), pp 236-240, 2004.

<div class="paragraph"> </div>
<span class="inlinecode">[<span class="id" title="var">Carlstr√∂m05</span>]</span> Jesper Carlstr√∂m, Interpreting descriptions in
intentional type theory, Journal of Symbolic Logic 70(2):488-514, 2005.

<div class="paragraph"> </div>
<span class="inlinecode">[<span class="id" title="var">Werner97</span>]</span> Benjamin Werner, Sets in Types, Types in Sets, TACS, 1997.

</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Require Import</span> RelationClasses Logic.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Set Implicit Arguments</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Local Unset Intuition Negation Unfolding</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
<span class="sd">(**********************************************************************)</span></span></span></pre><div class="doc">
<a name="lab2"></a><h1 class="section">Definitions</h1>
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --></pre><div class="doc">
Choice, reification and description schemes 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --></pre><div class="doc">
We make them all polymorphic. Most of them have existentials as conclusion
    so they require polymorphism otherwise their first application (e.g. to an
    existential in <span class="inlinecode"><span class="id" title="keyword">Set</span></span>) will fix the level of <span class="inlinecode"><span class="id" title="var">A</span></span>.

</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-wsp"><span class="highlight"><span class="c">(* Set Universe Polymorphism. *)</span>

</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Section</span> <span class="nf">ChoiceSchemes</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Variables</span> <span class="nv">A</span> <span class="nv">B</span> :<span class="kt">Type</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Variable</span> <span class="nv">P</span>:A-&gt;<span class="kt">Prop</span>.</span></span></span></pre><div class="doc">
<a name="lab3"></a><h2 class="section">Constructive choice and description</h2>
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --></pre><div class="doc">
AC_rel = relational form of the (non extensional) axiom of choice
             (a "set-theoretic" axiom of choice) 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">RelationalChoice_on</span> :=
  <span class="kr">forall</span> <span class="nv">R</span>:A-&gt;B-&gt;<span class="kt">Prop</span>,
    (<span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, R x y) -&gt;
    (<span class="kr">exists</span> <span class="nv">R&#39;</span> : A-&gt;B-&gt;<span class="kt">Prop</span>, subrelation R&#39; R /\ <span class="kr">forall</span> <span class="nv">x</span>, <span class="kr">exists</span>! y, R&#39; x y).</span></span></span></pre><div class="doc">
AC_fun = functional form of the (non extensional) axiom of choice
             (a "type-theoretic" axiom of choice) 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-wsp"><span class="highlight"><span class="c">(* Note: This is called Type-Theoretic Description Axiom (TTDA) in</span>
<span class="c">   [[Werner97]] (using a non-standard meaning of &quot;description&quot;). This</span>
<span class="c">   is called intensional axiom of choice (AC_int) in [[Carlstr√∂m04]] *)</span>

</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">FunctionalChoice_on_rel</span> (<span class="nv">R</span>:A-&gt;B-&gt;<span class="kt">Prop</span>) :=
  (<span class="kr">forall</span> <span class="nv">x</span>:A, <span class="kr">exists</span> <span class="nv">y</span> : B, R x y) -&gt;
  <span class="kr">exists</span> <span class="nv">f</span> : A -&gt; B, (<span class="kr">forall</span> <span class="nv">x</span>:A, R x (f x)).</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">FunctionalChoice_on</span> :=
  <span class="kr">forall</span> <span class="nv">R</span>:A-&gt;B-&gt;<span class="kt">Prop</span>,
    (<span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, R x y) -&gt;
    (<span class="kr">exists</span> <span class="nv">f</span> : A-&gt;B, <span class="kr">forall</span> <span class="nv">x</span> : A, R x (f x)).</span></span></span></pre><div class="doc">
AC_fun_dep = functional form of the (non extensional) axiom of
                 choice, with dependent functions 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">DependentFunctionalChoice_on</span> (<span class="nv">A</span>:<span class="kt">Type</span>) (<span class="nv">B</span>:A -&gt; <span class="kt">Type</span>) :=
  <span class="kr">forall</span> <span class="nv">R</span>:<span class="kr">forall</span> <span class="nv">x</span>:A, B x -&gt; <span class="kt">Prop</span>,
    (<span class="kr">forall</span> <span class="nv">x</span>:A, <span class="kr">exists</span> <span class="nv">y</span> : B x, R x y) -&gt;
    (<span class="kr">exists</span> <span class="nv">f</span> : (<span class="kr">forall</span> <span class="nv">x</span>:A, B x), <span class="kr">forall</span> <span class="nv">x</span>:A, R x (f x)).</span></span></span></pre><div class="doc">
AC_trunc = axiom of choice for propositional truncations
               (truncation and quantification commute) 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">InhabitedForallCommute_on</span> (<span class="nv">A</span> : <span class="kt">Type</span>) (<span class="nv">B</span> : A -&gt; <span class="kt">Type</span>) :=
  (<span class="kr">forall</span> <span class="nv">x</span>, inhabited (B x)) -&gt; inhabited (<span class="kr">forall</span> <span class="nv">x</span>, B x).</span></span></span></pre><div class="doc">
DC_fun = functional form of the dependent axiom of choice 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">FunctionalDependentChoice_on</span> :=
  <span class="kr">forall</span> (<span class="nv">R</span>:A-&gt;A-&gt;<span class="kt">Prop</span>),
    (<span class="kr">forall</span> <span class="nv">x</span>, <span class="kr">exists</span> <span class="nv">y</span>, R x y) -&gt; <span class="kr">forall</span> <span class="nv">x0</span>,
    (<span class="kr">exists</span> <span class="nv">f</span> : nat -&gt; A, f <span class="mi">0</span> = x0 /\ <span class="kr">forall</span> <span class="nv">n</span>, R (f n) (f (S n))).</span></span></span></pre><div class="doc">
ACw_fun = functional form of the countable axiom of choice 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">FunctionalCountableChoice_on</span> :=
  <span class="kr">forall</span> (<span class="nv">R</span>:nat-&gt;A-&gt;<span class="kt">Prop</span>),
    (<span class="kr">forall</span> <span class="nv">n</span>, <span class="kr">exists</span> <span class="nv">y</span>, R n y) -&gt;
    (<span class="kr">exists</span> <span class="nv">f</span> : nat -&gt; A, <span class="kr">forall</span> <span class="nv">n</span>, R n (f n)).</span></span></span></pre><div class="doc">
AC! = functional relation reification
          (known as axiom of unique choice in topos theory,
           sometimes called principle of definite description in
           the context of constructive type theory, sometimes
           called axiom of no choice) 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">FunctionalRelReification_on</span> :=
  <span class="kr">forall</span> <span class="nv">R</span>:A-&gt;B-&gt;<span class="kt">Prop</span>,
    (<span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span>! y : B, R x y) -&gt;
    (<span class="kr">exists</span> <span class="nv">f</span> : A-&gt;B, <span class="kr">forall</span> <span class="nv">x</span> : A, R x (f x)).</span></span></span></pre><div class="doc">
AC_dep! = functional relation reification, with dependent functions
              see AC! 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">DependentFunctionalRelReification_on</span> (<span class="nv">A</span>:<span class="kt">Type</span>) (<span class="nv">B</span>:A -&gt; <span class="kt">Type</span>) :=
  <span class="kr">forall</span> (<span class="nv">R</span>:<span class="kr">forall</span> <span class="nv">x</span>:A, B x -&gt; <span class="kt">Prop</span>),
    (<span class="kr">forall</span> <span class="nv">x</span>:A, <span class="kr">exists</span>! y : B x, R x y) -&gt;
    (<span class="kr">exists</span> <span class="nv">f</span> : (<span class="kr">forall</span> <span class="nv">x</span>:A, B x), <span class="kr">forall</span> <span class="nv">x</span>:A, R x (f x)).</span></span></span></pre><div class="doc">
AC_fun_repr = functional choice of a representative in an equivalence class 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-wsp"><span class="highlight"><span class="c">(* Note: This is called Type-Theoretic Choice Axiom (TTCA) in</span>
<span class="c">   [[Werner97]] (by reference to the extensional set-theoretic</span>
<span class="c">   formulation of choice); Note also a typo in its intended</span>
<span class="c">   formulation in [[Werner97]]. *)</span>

</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">RepresentativeFunctionalChoice_on</span> :=
  <span class="kr">forall</span> <span class="nv">R</span>:A-&gt;A-&gt;<span class="kt">Prop</span>,
    (Equivalence R) -&gt;
    (<span class="kr">exists</span> <span class="nv">f</span> : A-&gt;A, <span class="kr">forall</span> <span class="nv">x</span> : A, (R x (f x)) /\ <span class="kr">forall</span> <span class="nv">x&#39;</span>, R x x&#39; -&gt; f x = f x&#39;).</span></span></span></pre><div class="doc">
AC_fun_setoid = functional form of the (so-called extensional) axiom of
                    choice from setoids 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">SetoidFunctionalChoice_on</span> :=
  <span class="kr">forall</span> <span class="nv">R</span> : A -&gt; A -&gt; <span class="kt">Prop</span>,
  <span class="kr">forall</span> <span class="nv">T</span> : A -&gt; B -&gt; <span class="kt">Prop</span>,
  Equivalence R -&gt;
  (<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">x&#39;</span> <span class="nv">y</span>, R x x&#39; -&gt; T x y -&gt; T x&#39; y) -&gt;
  (<span class="kr">forall</span> <span class="nv">x</span>, <span class="kr">exists</span> <span class="nv">y</span>, T x y) -&gt;
  <span class="kr">exists</span> <span class="nv">f</span> : A -&gt; B, <span class="kr">forall</span> <span class="nv">x</span> : A, T x (f x) /\ (<span class="kr">forall</span> <span class="nv">x&#39;</span> : A, R x x&#39; -&gt; f x = f x&#39;).</span></span></span></pre><div class="doc">
AC_fun_setoid_gen = functional form of the general form of the (so-called
                        extensional) axiom of choice over setoids 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-wsp"><span class="highlight"><span class="c">(* Note: This is called extensional axiom of choice (AC_ext) in</span>
<span class="c">   [[Carlstr√∂m04]]. *)</span>

</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">GeneralizedSetoidFunctionalChoice_on</span> :=
  <span class="kr">forall</span> <span class="nv">R</span> : A -&gt; A -&gt; <span class="kt">Prop</span>,
  <span class="kr">forall</span> <span class="nv">S</span> : B -&gt; B -&gt; <span class="kt">Prop</span>,
  <span class="kr">forall</span> <span class="nv">T</span> : A -&gt; B -&gt; <span class="kt">Prop</span>,
  Equivalence R -&gt;
  Equivalence S -&gt;
  (<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">x&#39;</span> <span class="nv">y</span> <span class="nv">y&#39;</span>, R x x&#39; -&gt; S y y&#39; -&gt; T x y -&gt; T x&#39; y&#39;) -&gt;
  (<span class="kr">forall</span> <span class="nv">x</span>, <span class="kr">exists</span> <span class="nv">y</span>, T x y) -&gt;
  <span class="kr">exists</span> <span class="nv">f</span> : A -&gt; B,
    <span class="kr">forall</span> <span class="nv">x</span> : A, T x (f x) /\ (<span class="kr">forall</span> <span class="nv">x&#39;</span> : A, R x x&#39; -&gt; S (f x) (f x&#39;)).</span></span></span></pre><div class="doc">
AC_fun_setoid_simple = functional form of the (so-called extensional) axiom of
                           choice from setoids on locally compatible relations 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">SimpleSetoidFunctionalChoice_on</span> <span class="nv">A</span> <span class="nv">B</span> :=
  <span class="kr">forall</span> <span class="nv">R</span> : A -&gt; A -&gt; <span class="kt">Prop</span>,
  <span class="kr">forall</span> <span class="nv">T</span> : A -&gt; B -&gt; <span class="kt">Prop</span>,
  Equivalence R -&gt;
  (<span class="kr">forall</span> <span class="nv">x</span>, <span class="kr">exists</span> <span class="nv">y</span>, <span class="kr">forall</span> <span class="nv">x&#39;</span>, R x x&#39; -&gt; T x&#39; y) -&gt;
  <span class="kr">exists</span> <span class="nv">f</span> : A -&gt; B, <span class="kr">forall</span> <span class="nv">x</span> : A, T x (f x) /\ (<span class="kr">forall</span> <span class="nv">x&#39;</span> : A, R x x&#39; -&gt; f x = f x&#39;).</span></span></span></pre><div class="doc">
ID_epsilon = constructive version of indefinite description;
                 combined with proof-irrelevance, it may be connected to
                 Carlstr√∂m's type theory with a constructive indefinite description
                 operator 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">ConstructiveIndefiniteDescription_on</span> :=
  <span class="kr">forall</span> <span class="nv">P</span>:A-&gt;<span class="kt">Prop</span>,
    (<span class="kr">exists</span> <span class="nv">x</span>, P x) -&gt; { x:A | P x }.</span></span></span></pre><div class="doc">
ID_iota = constructive version of definite description;
              combined with proof-irrelevance, it may be connected to
              Carlstr√∂m's and Stenlund's type theory with a
              constructive definite description operator) 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">ConstructiveDefiniteDescription_on</span> :=
  <span class="kr">forall</span> <span class="nv">P</span>:A-&gt;<span class="kt">Prop</span>,
    (<span class="kr">exists</span>! x, P x) -&gt; { x:A | P x }.</span></span></span></pre><div class="doc">
<a name="lab4"></a><h2 class="section">Weakly classical choice and description</h2>
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --></pre><div class="doc">
GAC_rel = guarded relational form of the (non extensional) axiom of choice 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">GuardedRelationalChoice_on</span> :=
  <span class="kr">forall</span> <span class="nv">P</span> : A-&gt;<span class="kt">Prop</span>, <span class="kr">forall</span> <span class="nv">R</span> : A-&gt;B-&gt;<span class="kt">Prop</span>,
    (<span class="kr">forall</span> <span class="nv">x</span> : A, P x -&gt; <span class="kr">exists</span> <span class="nv">y</span> : B, R x y) -&gt;
    (<span class="kr">exists</span> <span class="nv">R&#39;</span> : A-&gt;B-&gt;<span class="kt">Prop</span>,
      subrelation R&#39; R /\ <span class="kr">forall</span> <span class="nv">x</span>, P x -&gt; <span class="kr">exists</span>! y, R&#39; x y).</span></span></span></pre><div class="doc">
GAC_fun = guarded functional form of the (non extensional) axiom of choice 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">GuardedFunctionalChoice_on</span> :=
  <span class="kr">forall</span> <span class="nv">P</span> : A-&gt;<span class="kt">Prop</span>, <span class="kr">forall</span> <span class="nv">R</span> : A-&gt;B-&gt;<span class="kt">Prop</span>,
    inhabited B -&gt;
    (<span class="kr">forall</span> <span class="nv">x</span> : A, P x -&gt; <span class="kr">exists</span> <span class="nv">y</span> : B, R x y) -&gt;
    (<span class="kr">exists</span> <span class="nv">f</span> : A-&gt;B, <span class="kr">forall</span> <span class="nv">x</span>, P x -&gt; R x (f x)).</span></span></span></pre><div class="doc">
GAC! = guarded functional relation reification 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">GuardedFunctionalRelReification_on</span> :=
  <span class="kr">forall</span> <span class="nv">P</span> : A-&gt;<span class="kt">Prop</span>, <span class="kr">forall</span> <span class="nv">R</span> : A-&gt;B-&gt;<span class="kt">Prop</span>,
    inhabited B -&gt;
    (<span class="kr">forall</span> <span class="nv">x</span> : A, P x -&gt; <span class="kr">exists</span>! y : B, R x y) -&gt;
    (<span class="kr">exists</span> <span class="nv">f</span> : A-&gt;B, <span class="kr">forall</span> <span class="nv">x</span> : A, P x -&gt; R x (f x)).</span></span></span></pre><div class="doc">
OAC_rel = "omniscient" relational form of the (non extensional) axiom of choice 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">OmniscientRelationalChoice_on</span> :=
  <span class="kr">forall</span> <span class="nv">R</span> : A-&gt;B-&gt;<span class="kt">Prop</span>,
    <span class="kr">exists</span> <span class="nv">R&#39;</span> : A-&gt;B-&gt;<span class="kt">Prop</span>,
      subrelation R&#39; R /\ <span class="kr">forall</span> <span class="nv">x</span> : A, (<span class="kr">exists</span> <span class="nv">y</span> : B, R x y) -&gt; <span class="kr">exists</span>! y, R&#39; x y.</span></span></span></pre><div class="doc">
OAC_fun = "omniscient" functional form of the (non extensional) axiom of choice
              (called AC* in Bell <span class="inlinecode">[<span class="id" title="var">Bell</span>]</span>) 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">OmniscientFunctionalChoice_on</span> :=
  <span class="kr">forall</span> <span class="nv">R</span> : A-&gt;B-&gt;<span class="kt">Prop</span>,
    inhabited B -&gt;
    <span class="kr">exists</span> <span class="nv">f</span> : A-&gt;B, <span class="kr">forall</span> <span class="nv">x</span> : A, (<span class="kr">exists</span> <span class="nv">y</span> : B, R x y) -&gt; R x (f x).</span></span></span></pre><div class="doc">
D_epsilon = (weakly classical) indefinite description principle 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">EpsilonStatement_on</span> :=
  <span class="kr">forall</span> <span class="nv">P</span>:A-&gt;<span class="kt">Prop</span>,
    inhabited A -&gt; { x:A | (<span class="kr">exists</span> <span class="nv">x</span>, P x) -&gt; P x }.</span></span></span></pre><div class="doc">
D_iota = (weakly classical) definite description principle 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">IotaStatement_on</span> :=
  <span class="kr">forall</span> <span class="nv">P</span>:A-&gt;<span class="kt">Prop</span>,
    inhabited A -&gt; { x:A | (<span class="kr">exists</span>! x, P x) -&gt; P x }.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">End</span> <span class="nf">ChoiceSchemes</span>.</span></span></span></pre><div class="doc">
Generalized schemes 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Notation</span> <span class="nf">RelationalChoice</span> :=
  (<span class="kr">forall</span> <span class="nv">A</span> <span class="nv">B</span> : <span class="kt">Type</span>, RelationalChoice_on A B).</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Notation</span> <span class="nf">FunctionalChoice</span> :=
  (<span class="kr">forall</span> <span class="nv">A</span> <span class="nv">B</span> : <span class="kt">Type</span>, FunctionalChoice_on A B).</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Notation</span> <span class="nf">DependentFunctionalChoice</span> :=
  (<span class="kr">forall</span> <span class="nv">A</span> (<span class="nv">B</span>:A-&gt;<span class="kt">Type</span>), DependentFunctionalChoice_on B).</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Notation</span> <span class="nf">InhabitedForallCommute</span> :=
  (<span class="kr">forall</span> <span class="nv">A</span> (<span class="nv">B</span> : A -&gt; <span class="kt">Type</span>), InhabitedForallCommute_on B).</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Notation</span> <span class="nf">FunctionalDependentChoice</span> :=
  (<span class="kr">forall</span> <span class="nv">A</span> : <span class="kt">Type</span>, FunctionalDependentChoice_on A).</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Notation</span> <span class="nf">FunctionalCountableChoice</span> :=
  (<span class="kr">forall</span> <span class="nv">A</span> : <span class="kt">Type</span>, FunctionalCountableChoice_on A).</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Notation</span> <span class="nf">FunctionalChoiceOnInhabitedSet</span> :=
  (<span class="kr">forall</span> <span class="nv">A</span> <span class="nv">B</span> : <span class="kt">Type</span>, inhabited B -&gt; FunctionalChoice_on A B).</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Notation</span> <span class="nf">FunctionalRelReification</span> :=
  (<span class="kr">forall</span> <span class="nv">A</span> <span class="nv">B</span> : <span class="kt">Type</span>, FunctionalRelReification_on A B).</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Notation</span> <span class="nf">DependentFunctionalRelReification</span> :=
  (<span class="kr">forall</span> <span class="nv">A</span> (<span class="nv">B</span>:A-&gt;<span class="kt">Type</span>), DependentFunctionalRelReification_on B).</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Notation</span> <span class="nf">RepresentativeFunctionalChoice</span> :=
  (<span class="kr">forall</span> <span class="nv">A</span> : <span class="kt">Type</span>, RepresentativeFunctionalChoice_on A).</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Notation</span> <span class="nf">SetoidFunctionalChoice</span> :=
  (<span class="kr">forall</span> <span class="nv">A</span>  <span class="nv">B</span>: <span class="kt">Type</span>, SetoidFunctionalChoice_on A B).</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Notation</span> <span class="nf">GeneralizedSetoidFunctionalChoice</span> :=
  (<span class="kr">forall</span> <span class="nv">A</span> <span class="nv">B</span> : <span class="kt">Type</span>, GeneralizedSetoidFunctionalChoice_on A B).</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Notation</span> <span class="nf">SimpleSetoidFunctionalChoice</span> :=
  (<span class="kr">forall</span> <span class="nv">A</span> <span class="nv">B</span> : <span class="kt">Type</span>, SimpleSetoidFunctionalChoice_on A B).</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Notation</span> <span class="nf">GuardedRelationalChoice</span> :=
  (<span class="kr">forall</span> <span class="nv">A</span> <span class="nv">B</span> : <span class="kt">Type</span>, GuardedRelationalChoice_on A B).</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Notation</span> <span class="nf">GuardedFunctionalChoice</span> :=
  (<span class="kr">forall</span> <span class="nv">A</span> <span class="nv">B</span> : <span class="kt">Type</span>, GuardedFunctionalChoice_on A B).</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Notation</span> <span class="nf">GuardedFunctionalRelReification</span> :=
  (<span class="kr">forall</span> <span class="nv">A</span> <span class="nv">B</span> : <span class="kt">Type</span>, GuardedFunctionalRelReification_on A B).</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Notation</span> <span class="nf">OmniscientRelationalChoice</span> :=
  (<span class="kr">forall</span> <span class="nv">A</span> <span class="nv">B</span> : <span class="kt">Type</span>, OmniscientRelationalChoice_on A B).</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Notation</span> <span class="nf">OmniscientFunctionalChoice</span> :=
  (<span class="kr">forall</span> <span class="nv">A</span> <span class="nv">B</span> : <span class="kt">Type</span>, OmniscientFunctionalChoice_on A B).</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Notation</span> <span class="nf">ConstructiveDefiniteDescription</span> :=
  (<span class="kr">forall</span> <span class="nv">A</span> : <span class="kt">Type</span>, ConstructiveDefiniteDescription_on A).</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Notation</span> <span class="nf">ConstructiveIndefiniteDescription</span> :=
  (<span class="kr">forall</span> <span class="nv">A</span> : <span class="kt">Type</span>, ConstructiveIndefiniteDescription_on A).</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Notation</span> <span class="nf">IotaStatement</span> :=
  (<span class="kr">forall</span> <span class="nv">A</span> : <span class="kt">Type</span>, IotaStatement_on A).</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Notation</span> <span class="nf">EpsilonStatement</span> :=
  (<span class="kr">forall</span> <span class="nv">A</span> : <span class="kt">Type</span>, EpsilonStatement_on A).</span></span></span></pre><div class="doc">
Subclassical schemes 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --></pre><div class="doc">
PI = proof irrelevance 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">ProofIrrelevance</span> :=
  <span class="kr">forall</span> (<span class="nv">A</span>:<span class="kt">Prop</span>) (<span class="nv">a1</span> <span class="nv">a2</span>:A), a1 = a2.</span></span></span></pre><div class="doc">
IGP = independence of general premises
          (an unconstrained generalisation of the constructive principle of
           independence of premises) 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">IndependenceOfGeneralPremises</span> :=
  <span class="kr">forall</span> (<span class="nv">A</span>:<span class="kt">Type</span>) (<span class="nv">P</span>:A -&gt; <span class="kt">Prop</span>) (<span class="nv">Q</span>:<span class="kt">Prop</span>),
    inhabited A -&gt;
    (Q -&gt; <span class="kr">exists</span> <span class="nv">x</span>, P x) -&gt; <span class="kr">exists</span> <span class="nv">x</span>, Q -&gt; P x.</span></span></span></pre><div class="doc">
Drinker = drinker's paradox (small form)
              (called Ex in Bell <span class="inlinecode">[<span class="id" title="var">Bell</span>]</span>) 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">SmallDrinker&#39;sParadox</span> :=
  <span class="kr">forall</span> (<span class="nv">A</span>:<span class="kt">Type</span>) (<span class="nv">P</span>:A -&gt; <span class="kt">Prop</span>), inhabited A -&gt;
    <span class="kr">exists</span> <span class="nv">x</span>, (<span class="kr">exists</span> <span class="nv">x</span>, P x) -&gt; P x.</span></span></span></pre><div class="doc">
EM = excluded-middle 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">ExcludedMiddle</span> :=
  <span class="kr">forall</span> <span class="nv">P</span>:<span class="kt">Prop</span>, P \/ ~ P.</span></span></span></pre><div class="doc">
Extensional schemes 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --></pre><div class="doc">
Ext_prop_repr = choice of a representative among extensional propositions 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Notation</span> <span class="nf">ExtensionalPropositionRepresentative</span> :=
  (<span class="kr">forall</span> (<span class="nv">A</span>:<span class="kt">Type</span>),
   <span class="kr">exists</span> <span class="nv">h</span> : <span class="kt">Prop</span> -&gt; <span class="kt">Prop</span>,
   <span class="kr">forall</span> <span class="nv">P</span> : <span class="kt">Prop</span>, (P &lt;-&gt; h P) /\ <span class="kr">forall</span> <span class="nv">Q</span>, (P &lt;-&gt; Q) -&gt; h P = h Q).</span></span></span></pre><div class="doc">
Ext_pred_repr = choice of a representative among extensional predicates 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Notation</span> <span class="nf">ExtensionalPredicateRepresentative</span> :=
  (<span class="kr">forall</span> (<span class="nv">A</span>:<span class="kt">Type</span>),
   <span class="kr">exists</span> <span class="nv">h</span> : (A-&gt;<span class="kt">Prop</span>) -&gt; (A-&gt;<span class="kt">Prop</span>),
   <span class="kr">forall</span> (<span class="nv">P</span> : A -&gt; <span class="kt">Prop</span>), (<span class="kr">forall</span> <span class="nv">x</span>, P x &lt;-&gt; h P x) /\ <span class="kr">forall</span> <span class="nv">Q</span>, (<span class="kr">forall</span> <span class="nv">x</span>, P x &lt;-&gt; Q x) -&gt; h P = h Q).</span></span></span></pre><div class="doc">
Ext_fun_repr = choice of a representative among extensional functions 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Notation</span> <span class="nf">ExtensionalFunctionRepresentative</span> :=
  (<span class="kr">forall</span> (<span class="nv">A</span> <span class="nv">B</span>:<span class="kt">Type</span>),
   <span class="kr">exists</span> <span class="nv">h</span> : (A-&gt;B) -&gt; (A-&gt;B),
   <span class="kr">forall</span> (<span class="nv">f</span> : A -&gt; B), (<span class="kr">forall</span> <span class="nv">x</span>, f x = h f x) /\ <span class="kr">forall</span> <span class="nv">g</span>, (<span class="kr">forall</span> <span class="nv">x</span>, f x = g x) -&gt; h f = h g).</span></span></span></pre><div class="doc">
We let also

<div class="paragraph"> </div>
<ul class="doclist">
<li> IPL_2   = 2nd-order impredicative minimal predicate logic (with ex. quant.)

</li>
<li> IPL^2   = 2nd-order functional minimal predicate logic (with ex. quant.)

</li>
<li> IPL_2^2 = 2nd-order impredicative, 2nd-order functional minimal pred. logic (with ex. quant.)

</li>
</ul>
<div class="paragraph"> </div>

with no prerequisite on the non-emptiness of domains

</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-wsp"><span class="highlight"><span class="sd">(**********************************************************************)</span></span></span></pre><div class="doc">
<a name="lab5"></a><h1 class="section">Table of contents</h1>
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-wsp"><span class="highlight"><span class="c">(* This is very fragile. *)</span></span></span></pre><div class="doc">
1. Definitions

<div class="paragraph"> </div>

2. IPL_2^2 |- AC_rel + AC! = AC_fun

<div class="paragraph"> </div>

3.1. typed IPL_2 + Sigma-types + PI |- AC_rel = GAC_rel  and  IPL_2 |- AC_rel + IGP -&gt; GAC_rel and IPL_2 |- GAC_rel = OAC_rel

<div class="paragraph"> </div>

3.2. IPL^2 |- AC_fun + IGP = GAC_fun = OAC_fun = AC_fun + Drinker

<div class="paragraph"> </div>

3.3. D_iota -&gt; ID_iota  and  D_epsilon &lt;-&gt; ID_epsilon + Drinker

<div class="paragraph"> </div>

4. Derivability of choice for decidable relations with well-ordered codomain

<div class="paragraph"> </div>

5. AC_fun = AC_fun_dep = AC_trunc

<div class="paragraph"> </div>

6. Non contradiction of constructive descriptions wrt functional choices

<div class="paragraph"> </div>

7. Definite description transports classical logic to the computational world

<div class="paragraph"> </div>

8. Choice -&gt; Dependent choice -&gt; Countable choice

<div class="paragraph"> </div>

9.1. AC_fun_setoid = AC_fun + Ext_fun_repr + EM

<div class="paragraph"> </div>

9.2. AC_fun_setoid = AC_fun + Ext_pred_repr + PI
 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-wsp"><span class="highlight"><span class="sd">(**********************************************************************)</span></span></span></pre><div class="doc">
<a name="lab6"></a><h1 class="section">AC_rel + AC! = AC_fun</h1>
<div class="paragraph"> </div>

   We show that the functional formulation of the axiom of Choice
   (usual formulation in type theory) is equivalent to its relational
   formulation (only formulation of set theory) + functional relation
   reification (aka axiom of unique choice, or, principle of (parametric)
   definite descriptions) 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --></pre><div class="doc">
This shows that the axiom of choice can be assumed (under its
   relational formulation) without known inconsistency with classical logic,
   though functional relation reification conflicts with classical logic 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk0" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk0"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">functional_rel_reification_and_rel_choice_imp_fun_choice</span> :
  <span class="kr">forall</span> <span class="nv">A</span> <span class="nv">B</span> : <span class="kt">Type</span>,
    FunctionalRelReification_on A B -&gt; RelationalChoice_on A B -&gt; FunctionalChoice_on A B.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">A</span> <span class="nv">B</span> : <span class="kt">Type</span>,
FunctionalRelReification_on A B -&gt;
RelationalChoice_on A B -&gt; FunctionalChoice_on A B</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk1" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk1"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">A</span> <span class="nv">B</span> : <span class="kt">Type</span>,
FunctionalRelReification_on A B -&gt;
RelationalChoice_on A B -&gt; FunctionalChoice_on A B</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk2" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk2"><span class="highlight"><span class="nb">intros</span> A B Descr RelCh R H.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Descr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalRelReification_on A B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">RelCh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RelationalChoice_on A B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, R x y</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f</span> : A -&gt; B, <span class="kr">forall</span> <span class="nv">x</span> : A, R x (f x)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk3" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk3"><span class="highlight"><span class="nb">destruct</span> (RelCh R H) <span class="kr">as</span> (R&#39;,(HR&#39;R,H0)).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Descr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalRelReification_on A B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">RelCh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RelationalChoice_on A B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">HR'R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">subrelation R&#39; R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> ! y : B, R&#39; x y</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f</span> : A -&gt; B, <span class="kr">forall</span> <span class="nv">x</span> : A, R x (f x)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk4" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk4"><span class="highlight"><span class="nb">destruct</span> (Descr R&#39;) <span class="kr">as</span> (f,Hf).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Descr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalRelReification_on A B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">RelCh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RelationalChoice_on A B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">HR'R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">subrelation R&#39; R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> ! y : B, R&#39; x y</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> ! y : B, R&#39; x y</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk5" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Descr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalRelReification_on A B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">RelCh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RelationalChoice_on A B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">HR'R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">subrelation R&#39; R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> ! y : B, R&#39; x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, R&#39; x (f x)</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chk5"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f0</span> : A -&gt; B, <span class="kr">forall</span> <span class="nv">x</span> : A, R x (f0 x)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk6" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk6"><span class="highlight"><span class="nb">firstorder</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Descr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalRelReification_on A B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">RelCh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RelationalChoice_on A B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">HR'R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">subrelation R&#39; R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> ! y : B, R&#39; x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, R&#39; x (f x)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f0</span> : A -&gt; B, <span class="kr">forall</span> <span class="nv">x</span> : A, R x (f0 x)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk7" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk7"><span class="highlight"><span class="kr">exists</span> <span class="nv">f</span>; <span class="nb">intro</span> x.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Descr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalRelReification_on A B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">RelCh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RelationalChoice_on A B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, R x0 y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">HR'R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">subrelation R&#39; R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> ! y : B, R&#39; x0 y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, R&#39; x0 (f x0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">R x (f x)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk8" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk8"><span class="highlight"><span class="nb">destruct</span> (H0 x) <span class="kr">as</span> (y,(HR&#39;xy,Huniq)).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Descr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalRelReification_on A B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">RelCh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RelationalChoice_on A B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y0</span> : B, R x0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">HR'R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">subrelation R&#39; R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> ! y0 : B, R&#39; x0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, R&#39; x0 (f x0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">HR'xy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R&#39; x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Huniq</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x&#39;</span> : B, R&#39; x x&#39; -&gt; y = x&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">R x (f x)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk9" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk9"><span class="highlight"><span class="nb">rewrite</span> &lt;- (Huniq (f x) (Hf x)).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Descr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalRelReification_on A B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">RelCh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RelationalChoice_on A B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y0</span> : B, R x0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">HR'R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">subrelation R&#39; R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> ! y0 : B, R&#39; x0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, R&#39; x0 (f x0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">HR'xy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R&#39; x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Huniq</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x&#39;</span> : B, R&#39; x x&#39; -&gt; y = x&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">R x y</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">apply</span> HR&#39;R; <span class="bp">assumption</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chka" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chka"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">fun_choice_imp_rel_choice</span> :
  <span class="kr">forall</span> <span class="nv">A</span> <span class="nv">B</span> : <span class="kt">Type</span>, FunctionalChoice_on A B -&gt; RelationalChoice_on A B.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">A</span> <span class="nv">B</span> : <span class="kt">Type</span>,
FunctionalChoice_on A B -&gt; RelationalChoice_on A B</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chkb" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chkb"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">A</span> <span class="nv">B</span> : <span class="kt">Type</span>,
FunctionalChoice_on A B -&gt; RelationalChoice_on A B</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chkc" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chkc"><span class="highlight"><span class="nb">intros</span> A B FunCh R H.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">FunCh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice_on A B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, R x y</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">R&#39;</span> : A -&gt; B -&gt; <span class="kt">Prop</span>,
  subrelation R&#39; R /\
  (<span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> ! y : B, R&#39; x y)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chkd" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chkd"><span class="highlight"><span class="nb">destruct</span> (FunCh R H) <span class="kr">as</span> (f,H0).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">FunCh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice_on A B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, R x (f x)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">R&#39;</span> : A -&gt; B -&gt; <span class="kt">Prop</span>,
  subrelation R&#39; R /\
  (<span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> ! y : B, R&#39; x y)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chke" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chke"><span class="highlight"><span class="kr">exists</span> (<span class="nv">fun</span> <span class="nv">x</span> <span class="nv">y</span> =&gt; f x = y).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">FunCh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice_on A B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, R x (f x)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">subrelation (<span class="kr">fun</span> (<span class="nv">x</span> : A) (<span class="nv">y</span> : B) =&gt; f x = y) R /\
(<span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> ! y : B, f x = y)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chkf" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chkf"><span class="highlight"><span class="nb">split</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">FunCh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice_on A B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, R x (f x)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">subrelation (<span class="kr">fun</span> (<span class="nv">x</span> : A) (<span class="nv">y</span> : B) =&gt; f x = y) R</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk10" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">FunCh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice_on A B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, R x (f x)</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chk10"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> ! y : B, f x = y</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk11" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk11"><span class="highlight"><span class="nb">intros</span> x y Heq; <span class="nb">rewrite</span> &lt;- Heq; <span class="nb">trivial</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">FunCh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice_on A B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, R x (f x)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> ! y : B, f x = y</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk12" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk12"><span class="highlight"><span class="nb">intro</span> x; <span class="kr">exists</span> (<span class="nv">f</span> <span class="nv">x</span>); <span class="nb">split</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">FunCh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice_on A B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, R x0 y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, R x0 (f x0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">f x = f x</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk13" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">FunCh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice_on A B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, R x0 y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, R x0 (f x0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chk13"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x&#39;</span> : B, f x = x&#39; -&gt; f x = x&#39;</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk14" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk14"><span class="highlight"><span class="bp">reflexivity</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">FunCh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice_on A B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, R x0 y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, R x0 (f x0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x&#39;</span> : B, f x = x&#39; -&gt; f x = x&#39;</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">trivial</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk15" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk15"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">fun_choice_imp_functional_rel_reification</span> :
  <span class="kr">forall</span> <span class="nv">A</span> <span class="nv">B</span> : <span class="kt">Type</span>, FunctionalChoice_on A B -&gt; FunctionalRelReification_on A B.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">A</span> <span class="nv">B</span> : <span class="kt">Type</span>,
FunctionalChoice_on A B -&gt;
FunctionalRelReification_on A B</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk16" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk16"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">A</span> <span class="nv">B</span> : <span class="kt">Type</span>,
FunctionalChoice_on A B -&gt;
FunctionalRelReification_on A B</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk17" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk17"><span class="highlight"><span class="nb">intros</span> A B FunCh R H.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">FunCh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice_on A B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> ! y : B, R x y</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f</span> : A -&gt; B, <span class="kr">forall</span> <span class="nv">x</span> : A, R x (f x)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk18" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk18"><span class="highlight"><span class="nb">destruct</span> (FunCh R) <span class="kr">as</span> [f H0].</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">FunCh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice_on A B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> ! y : B, R x y</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, R x y</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk19" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">FunCh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice_on A B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> ! y : B, R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, R x (f x)</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chk19"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f0</span> : A -&gt; B, <span class="kr">forall</span> <span class="nv">x</span> : A, R x (f0 x)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">  <span class="c">(* 1 *)</span>
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk1a" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk1a"><span class="highlight"><span class="nb">intro</span> x.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">FunCh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice_on A B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> ! y : B, R x0 y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">y</span> : B, R x y</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk1b" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">FunCh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice_on A B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> ! y : B, R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, R x (f x)</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chk1b"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f0</span> : A -&gt; B, <span class="kr">forall</span> <span class="nv">x</span> : A, R x (f0 x)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk1c" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk1c"><span class="highlight"><span class="nb">destruct</span> (H x) <span class="kr">as</span> (y,(HRxy,_)).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">FunCh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice_on A B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> ! y0 : B, R x0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">HRxy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R x y</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">y0</span> : B, R x y0</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk1d" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">FunCh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice_on A B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> ! y : B, R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, R x (f x)</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chk1d"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f0</span> : A -&gt; B, <span class="kr">forall</span> <span class="nv">x</span> : A, R x (f0 x)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk1e" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk1e"><span class="highlight"><span class="kr">exists</span> <span class="nv">y</span>; <span class="bp">exact</span> HRxy.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">FunCh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice_on A B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> ! y : B, R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, R x (f x)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f0</span> : A -&gt; B, <span class="kr">forall</span> <span class="nv">x</span> : A, R x (f0 x)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">  <span class="c">(* 2 *)</span>
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kr">exists</span> <span class="nv">f</span>; <span class="bp">exact</span> H0.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk1f" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk1f"><span class="highlight"><span class="kn">Corollary</span> <span class="nf">fun_choice_iff_rel_choice_and_functional_rel_reification</span> :
  <span class="kr">forall</span> <span class="nv">A</span> <span class="nv">B</span> : <span class="kt">Type</span>, FunctionalChoice_on A B &lt;-&gt;
    RelationalChoice_on A B /\ FunctionalRelReification_on A B.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">A</span> <span class="nv">B</span> : <span class="kt">Type</span>,
FunctionalChoice_on A B &lt;-&gt;
RelationalChoice_on A B /\
FunctionalRelReification_on A B</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk20" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk20"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">A</span> <span class="nv">B</span> : <span class="kt">Type</span>,
FunctionalChoice_on A B &lt;-&gt;
RelationalChoice_on A B /\
FunctionalRelReification_on A B</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk21" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk21"><span class="highlight"><span class="nb">intros</span> A B.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">FunctionalChoice_on A B &lt;-&gt;
RelationalChoice_on A B /\
FunctionalRelReification_on A B</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk22" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk22"><span class="highlight"><span class="nb">split</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">FunctionalChoice_on A B -&gt;
RelationalChoice_on A B /\
FunctionalRelReification_on A B</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk23" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chk23"><hr></label><div class="goal-conclusion"><span class="highlight">RelationalChoice_on A B /\
FunctionalRelReification_on A B -&gt;
FunctionalChoice_on A B</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk24" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk24"><span class="highlight"><span class="nb">intro</span> H; <span class="nb">split</span>;
    [ <span class="bp">exact</span> (fun_choice_imp_rel_choice H)
      | <span class="bp">exact</span> (fun_choice_imp_functional_rel_reification H) ].</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">RelationalChoice_on A B /\
FunctionalRelReification_on A B -&gt;
FunctionalChoice_on A B</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">intros</span> [H H0]; <span class="bp">exact</span> (functional_rel_reification_and_rel_choice_imp_fun_choice H0 H).</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
<span class="sd">(**********************************************************************)</span></span></span></pre><div class="doc">
<a name="lab7"></a><h1 class="section">Connection between the guarded, non guarded and omniscient choices</h1>
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --></pre><div class="doc">
We show that the guarded formulations of the axiom of choice
   are equivalent to their "omniscient" variant and comes from the non guarded
   formulation in presence either of the independence of general premises
   or subset types (themselves derivable from subtypes thanks to proof-
   irrelevance) 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-wsp"><span class="highlight"><span class="sd">(**********************************************************************)</span></span></span></pre><div class="doc">
<a name="lab8"></a><h2 class="section">AC_rel + PI -&gt; GAC_rel and AC_rel + IGP -&gt; GAC_rel and GAC_rel = OAC_rel</h2>
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk25" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk25"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">rel_choice_and_proof_irrel_imp_guarded_rel_choice</span> :
  RelationalChoice -&gt; ProofIrrelevance -&gt; GuardedRelationalChoice.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">RelationalChoice -&gt;
ProofIrrelevance -&gt; GuardedRelationalChoice</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk26" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk26"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">RelationalChoice -&gt;
ProofIrrelevance -&gt; GuardedRelationalChoice</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk27" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk27"><span class="highlight"><span class="nb">intros</span> rel_choice proof_irrel.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">rel_choice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RelationalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">proof_irrel</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ProofIrrelevance</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">GuardedRelationalChoice</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk28" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk28"><span class="highlight"><span class="nb">red</span>; <span class="nb">intros</span> A B P R H.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">rel_choice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RelationalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">proof_irrel</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ProofIrrelevance</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, P x -&gt; <span class="kr">exists</span> <span class="nv">y</span> : B, R x y</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">R&#39;</span> : A -&gt; B -&gt; <span class="kt">Prop</span>,
  subrelation R&#39; R /\
  (<span class="kr">forall</span> <span class="nv">x</span> : A, P x -&gt; <span class="kr">exists</span> ! y : B, R&#39; x y)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk29" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk29"><span class="highlight"><span class="nb">destruct</span> (rel_choice _ _ (<span class="kr">fun</span> (<span class="nv">x</span>:sigT P) (<span class="nv">y</span>:B) =&gt; R (projT1 x) y)) <span class="kr">as</span> (R&#39;,(HR&#39;R,H0)).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">rel_choice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RelationalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">proof_irrel</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ProofIrrelevance</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, P x -&gt; <span class="kr">exists</span> <span class="nv">y</span> : B, R x y</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : {x : A &amp; P x}, <span class="kr">exists</span> <span class="nv">y</span> : B, R (projT1 x) y</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk2a" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">rel_choice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RelationalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">proof_irrel</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ProofIrrelevance</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, P x -&gt; <span class="kr">exists</span> <span class="nv">y</span> : B, R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">{x : A &amp; P x} -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">HR'R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">subrelation R&#39;
  (<span class="kr">fun</span> (<span class="nv">x</span> : {x : A &amp; P x}) (<span class="nv">y</span> : B) =&gt;
   R (projT1 x) y)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : {x : A &amp; P x}, <span class="kr">exists</span> ! y : B, R&#39; x y</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chk2a"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">R&#39;0</span> : A -&gt; B -&gt; <span class="kt">Prop</span>,
  subrelation R&#39;0 R /\
  (<span class="kr">forall</span> <span class="nv">x</span> : A, P x -&gt; <span class="kr">exists</span> ! y : B, R&#39;0 x y)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk2b" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk2b"><span class="highlight"><span class="nb">intros</span> (x,HPx).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">rel_choice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RelationalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">proof_irrel</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ProofIrrelevance</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, P x0 -&gt; <span class="kr">exists</span> <span class="nv">y</span> : B, R x0 y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">HPx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">P x</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">y</span> : B, R (projT1 (existT P x HPx)) y</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk2c" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">rel_choice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RelationalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">proof_irrel</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ProofIrrelevance</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, P x -&gt; <span class="kr">exists</span> <span class="nv">y</span> : B, R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">{x : A &amp; P x} -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">HR'R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">subrelation R&#39;
  (<span class="kr">fun</span> (<span class="nv">x</span> : {x : A &amp; P x}) (<span class="nv">y</span> : B) =&gt;
   R (projT1 x) y)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : {x : A &amp; P x}, <span class="kr">exists</span> ! y : B, R&#39; x y</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chk2c"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">R&#39;0</span> : A -&gt; B -&gt; <span class="kt">Prop</span>,
  subrelation R&#39;0 R /\
  (<span class="kr">forall</span> <span class="nv">x</span> : A, P x -&gt; <span class="kr">exists</span> ! y : B, R&#39;0 x y)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk2d" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk2d"><span class="highlight"><span class="nb">destruct</span> (H x HPx) <span class="kr">as</span> (y,HRxy).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">rel_choice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RelationalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">proof_irrel</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ProofIrrelevance</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, P x0 -&gt; <span class="kr">exists</span> <span class="nv">y0</span> : B, R x0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">HPx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">P x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">HRxy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R x y</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">y0</span> : B, R (projT1 (existT P x HPx)) y0</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk2e" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">rel_choice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RelationalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">proof_irrel</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ProofIrrelevance</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, P x -&gt; <span class="kr">exists</span> <span class="nv">y</span> : B, R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">{x : A &amp; P x} -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">HR'R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">subrelation R&#39;
  (<span class="kr">fun</span> (<span class="nv">x</span> : {x : A &amp; P x}) (<span class="nv">y</span> : B) =&gt;
   R (projT1 x) y)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : {x : A &amp; P x}, <span class="kr">exists</span> ! y : B, R&#39; x y</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chk2e"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">R&#39;0</span> : A -&gt; B -&gt; <span class="kt">Prop</span>,
  subrelation R&#39;0 R /\
  (<span class="kr">forall</span> <span class="nv">x</span> : A, P x -&gt; <span class="kr">exists</span> ! y : B, R&#39;0 x y)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk2f" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk2f"><span class="highlight"><span class="kr">exists</span> <span class="nv">y</span>; <span class="bp">exact</span> HRxy.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">rel_choice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RelationalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">proof_irrel</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ProofIrrelevance</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, P x -&gt; <span class="kr">exists</span> <span class="nv">y</span> : B, R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">{x : A &amp; P x} -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">HR'R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">subrelation R&#39;
  (<span class="kr">fun</span> (<span class="nv">x</span> : {x : A &amp; P x}) (<span class="nv">y</span> : B) =&gt;
   R (projT1 x) y)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : {x : A &amp; P x}, <span class="kr">exists</span> ! y : B, R&#39; x y</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">R&#39;0</span> : A -&gt; B -&gt; <span class="kt">Prop</span>,
  subrelation R&#39;0 R /\
  (<span class="kr">forall</span> <span class="nv">x</span> : A, P x -&gt; <span class="kr">exists</span> ! y : B, R&#39;0 x y)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk30" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk30"><span class="highlight"><span class="nb">set</span> (R&#39;&#39; := <span class="kr">fun</span> (<span class="nv">x</span>:A) (<span class="nv">y</span>:B) =&gt; <span class="kr">exists</span> <span class="nv">H</span> : P x, R&#39; (existT P x H) y).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">rel_choice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RelationalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">proof_irrel</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ProofIrrelevance</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, P x -&gt; <span class="kr">exists</span> <span class="nv">y</span> : B, R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">{x : A &amp; P x} -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">HR'R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">subrelation R&#39;
  (<span class="kr">fun</span> (<span class="nv">x</span> : {x : A &amp; P x}) (<span class="nv">y</span> : B) =&gt;
   R (projT1 x) y)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : {x : A &amp; P x}, <span class="kr">exists</span> ! y : B, R&#39; x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R''</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x</span> : A) (<span class="nv">y</span> : B) =&gt;
<span class="kr">exists</span> <span class="nv">H1</span> : P x, R&#39; (existT P x H1) y</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">R&#39;0</span> : A -&gt; B -&gt; <span class="kt">Prop</span>,
  subrelation R&#39;0 R /\
  (<span class="kr">forall</span> <span class="nv">x</span> : A, P x -&gt; <span class="kr">exists</span> ! y : B, R&#39;0 x y)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk31" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk31"><span class="highlight"><span class="kr">exists</span> <span class="nv">R&#39;&#39;</span>; <span class="nb">split</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">rel_choice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RelationalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">proof_irrel</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ProofIrrelevance</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, P x -&gt; <span class="kr">exists</span> <span class="nv">y</span> : B, R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">{x : A &amp; P x} -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">HR'R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">subrelation R&#39;
  (<span class="kr">fun</span> (<span class="nv">x</span> : {x : A &amp; P x}) (<span class="nv">y</span> : B) =&gt;
   R (projT1 x) y)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : {x : A &amp; P x}, <span class="kr">exists</span> ! y : B, R&#39; x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R''</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x</span> : A) (<span class="nv">y</span> : B) =&gt;
<span class="kr">exists</span> <span class="nv">H1</span> : P x, R&#39; (existT P x H1) y</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">subrelation R&#39;&#39; R</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk32" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">rel_choice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RelationalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">proof_irrel</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ProofIrrelevance</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, P x -&gt; <span class="kr">exists</span> <span class="nv">y</span> : B, R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">{x : A &amp; P x} -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">HR'R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">subrelation R&#39;
  (<span class="kr">fun</span> (<span class="nv">x</span> : {x : A &amp; P x}) (<span class="nv">y</span> : B) =&gt;
   R (projT1 x) y)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : {x : A &amp; P x}, <span class="kr">exists</span> ! y : B, R&#39; x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R''</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x</span> : A) (<span class="nv">y</span> : B) =&gt;
<span class="kr">exists</span> <span class="nv">H1</span> : P x, R&#39; (existT P x H1) y</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chk32"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, P x -&gt; <span class="kr">exists</span> ! y : B, R&#39;&#39; x y</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk33" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk33"><span class="highlight"><span class="nb">intros</span> x y (HPx,HR&#39;xy).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">rel_choice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RelationalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">proof_irrel</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ProofIrrelevance</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, P x0 -&gt; <span class="kr">exists</span> <span class="nv">y0</span> : B, R x0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">{x : A &amp; P x} -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">HR'R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">subrelation R&#39;
  (<span class="kr">fun</span> (<span class="nv">x0</span> : {x : A &amp; P x}) (<span class="nv">y0</span> : B) =&gt;
   R (projT1 x0) y0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : {x : A &amp; P x},
<span class="kr">exists</span> ! y0 : B, R&#39; x0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R''</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x0</span> : A) (<span class="nv">y0</span> : B) =&gt;
<span class="kr">exists</span> <span class="nv">H1</span> : P x0, R&#39; (existT P x0 H1) y0</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">HPx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">P x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">HR'xy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R&#39; (existT P x HPx) y</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">R x y</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk34" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">rel_choice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RelationalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">proof_irrel</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ProofIrrelevance</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, P x -&gt; <span class="kr">exists</span> <span class="nv">y</span> : B, R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">{x : A &amp; P x} -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">HR'R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">subrelation R&#39;
  (<span class="kr">fun</span> (<span class="nv">x</span> : {x : A &amp; P x}) (<span class="nv">y</span> : B) =&gt;
   R (projT1 x) y)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : {x : A &amp; P x}, <span class="kr">exists</span> ! y : B, R&#39; x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R''</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x</span> : A) (<span class="nv">y</span> : B) =&gt;
<span class="kr">exists</span> <span class="nv">H1</span> : P x, R&#39; (existT P x H1) y</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chk34"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, P x -&gt; <span class="kr">exists</span> ! y : B, R&#39;&#39; x y</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk35" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk35"><span class="highlight"><span class="nb">change</span> x <span class="kr">with</span> (projT1 (existT P x HPx)); <span class="nb">apply</span> HR&#39;R; <span class="bp">exact</span> HR&#39;xy.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">rel_choice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RelationalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">proof_irrel</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ProofIrrelevance</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, P x -&gt; <span class="kr">exists</span> <span class="nv">y</span> : B, R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">{x : A &amp; P x} -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">HR'R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">subrelation R&#39;
  (<span class="kr">fun</span> (<span class="nv">x</span> : {x : A &amp; P x}) (<span class="nv">y</span> : B) =&gt;
   R (projT1 x) y)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : {x : A &amp; P x}, <span class="kr">exists</span> ! y : B, R&#39; x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R''</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x</span> : A) (<span class="nv">y</span> : B) =&gt;
<span class="kr">exists</span> <span class="nv">H1</span> : P x, R&#39; (existT P x H1) y</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, P x -&gt; <span class="kr">exists</span> ! y : B, R&#39;&#39; x y</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk36" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk36"><span class="highlight"><span class="nb">intros</span> x HPx.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">rel_choice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RelationalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">proof_irrel</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ProofIrrelevance</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, P x0 -&gt; <span class="kr">exists</span> <span class="nv">y</span> : B, R x0 y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">{x : A &amp; P x} -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">HR'R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">subrelation R&#39;
  (<span class="kr">fun</span> (<span class="nv">x0</span> : {x : A &amp; P x}) (<span class="nv">y</span> : B) =&gt;
   R (projT1 x0) y)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : {x : A &amp; P x},
<span class="kr">exists</span> ! y : B, R&#39; x0 y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R''</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x0</span> : A) (<span class="nv">y</span> : B) =&gt;
<span class="kr">exists</span> <span class="nv">H1</span> : P x0, R&#39; (existT P x0 H1) y</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">HPx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">P x</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> ! y : B, R&#39;&#39; x y</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk37" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk37"><span class="highlight"><span class="nb">destruct</span> (H0 (existT P x HPx)) <span class="kr">as</span> (y,(HR&#39;xy,Huniq)).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">rel_choice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RelationalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">proof_irrel</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ProofIrrelevance</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, P x0 -&gt; <span class="kr">exists</span> <span class="nv">y0</span> : B, R x0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">{x : A &amp; P x} -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">HR'R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">subrelation R&#39;
  (<span class="kr">fun</span> (<span class="nv">x0</span> : {x : A &amp; P x}) (<span class="nv">y0</span> : B) =&gt;
   R (projT1 x0) y0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : {x : A &amp; P x},
<span class="kr">exists</span> ! y0 : B, R&#39; x0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R''</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x0</span> : A) (<span class="nv">y0</span> : B) =&gt;
<span class="kr">exists</span> <span class="nv">H1</span> : P x0, R&#39; (existT P x0 H1) y0</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">HPx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">P x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">HR'xy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R&#39; (existT P x HPx) y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Huniq</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x&#39;</span> : B,
R&#39; (existT P x HPx) x&#39; -&gt; y = x&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> ! y0 : B, R&#39;&#39; x y0</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk38" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk38"><span class="highlight"><span class="kr">exists</span> <span class="nv">y</span>; <span class="nb">split</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">rel_choice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RelationalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">proof_irrel</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ProofIrrelevance</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, P x0 -&gt; <span class="kr">exists</span> <span class="nv">y0</span> : B, R x0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">{x : A &amp; P x} -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">HR'R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">subrelation R&#39;
  (<span class="kr">fun</span> (<span class="nv">x0</span> : {x : A &amp; P x}) (<span class="nv">y0</span> : B) =&gt;
   R (projT1 x0) y0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : {x : A &amp; P x},
<span class="kr">exists</span> ! y0 : B, R&#39; x0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R''</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x0</span> : A) (<span class="nv">y0</span> : B) =&gt;
<span class="kr">exists</span> <span class="nv">H1</span> : P x0, R&#39; (existT P x0 H1) y0</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">HPx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">P x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">HR'xy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R&#39; (existT P x HPx) y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Huniq</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x&#39;</span> : B,
R&#39; (existT P x HPx) x&#39; -&gt; y = x&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">R&#39;&#39; x y</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk39" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">rel_choice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RelationalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">proof_irrel</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ProofIrrelevance</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, P x0 -&gt; <span class="kr">exists</span> <span class="nv">y0</span> : B, R x0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">{x : A &amp; P x} -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">HR'R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">subrelation R&#39;
  (<span class="kr">fun</span> (<span class="nv">x0</span> : {x : A &amp; P x}) (<span class="nv">y0</span> : B) =&gt;
   R (projT1 x0) y0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : {x : A &amp; P x},
<span class="kr">exists</span> ! y0 : B, R&#39; x0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R''</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x0</span> : A) (<span class="nv">y0</span> : B) =&gt;
<span class="kr">exists</span> <span class="nv">H1</span> : P x0, R&#39; (existT P x0 H1) y0</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">HPx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">P x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">HR'xy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R&#39; (existT P x HPx) y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Huniq</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x&#39;</span> : B,
R&#39; (existT P x HPx) x&#39; -&gt; y = x&#39;</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chk39"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x&#39;</span> : B, R&#39;&#39; x x&#39; -&gt; y = x&#39;</span></div></blockquote></div></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk3a" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk3a"><span class="highlight"><span class="kr">exists</span> <span class="nv">HPx</span>; <span class="bp">exact</span> HR&#39;xy.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">rel_choice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RelationalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">proof_irrel</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ProofIrrelevance</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, P x0 -&gt; <span class="kr">exists</span> <span class="nv">y0</span> : B, R x0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">{x : A &amp; P x} -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">HR'R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">subrelation R&#39;
  (<span class="kr">fun</span> (<span class="nv">x0</span> : {x : A &amp; P x}) (<span class="nv">y0</span> : B) =&gt;
   R (projT1 x0) y0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : {x : A &amp; P x},
<span class="kr">exists</span> ! y0 : B, R&#39; x0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R''</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x0</span> : A) (<span class="nv">y0</span> : B) =&gt;
<span class="kr">exists</span> <span class="nv">H1</span> : P x0, R&#39; (existT P x0 H1) y0</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">HPx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">P x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">HR'xy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R&#39; (existT P x HPx) y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Huniq</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x&#39;</span> : B,
R&#39; (existT P x HPx) x&#39; -&gt; y = x&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x&#39;</span> : B, R&#39;&#39; x x&#39; -&gt; y = x&#39;</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk3b" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk3b"><span class="highlight"><span class="nb">intros</span> y&#39; (H&#39;Px,HR&#39;xy&#39;).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">rel_choice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RelationalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">proof_irrel</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ProofIrrelevance</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, P x0 -&gt; <span class="kr">exists</span> <span class="nv">y0</span> : B, R x0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">{x : A &amp; P x} -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">HR'R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">subrelation R&#39;
  (<span class="kr">fun</span> (<span class="nv">x0</span> : {x : A &amp; P x}) (<span class="nv">y0</span> : B) =&gt;
   R (projT1 x0) y0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : {x : A &amp; P x},
<span class="kr">exists</span> ! y0 : B, R&#39; x0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R''</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x0</span> : A) (<span class="nv">y0</span> : B) =&gt;
<span class="kr">exists</span> <span class="nv">H1</span> : P x0, R&#39; (existT P x0 H1) y0</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">HPx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">P x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">HR'xy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R&#39; (existT P x HPx) y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Huniq</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x&#39;</span> : B,
R&#39; (existT P x HPx) x&#39; -&gt; y = x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H'Px</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">P x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">HR'xy'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R&#39; (existT P x H&#39;Px) y&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">y = y&#39;</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk3c" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk3c"><span class="highlight"><span class="nb">apply</span> Huniq.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">rel_choice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RelationalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">proof_irrel</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ProofIrrelevance</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, P x0 -&gt; <span class="kr">exists</span> <span class="nv">y0</span> : B, R x0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">{x : A &amp; P x} -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">HR'R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">subrelation R&#39;
  (<span class="kr">fun</span> (<span class="nv">x0</span> : {x : A &amp; P x}) (<span class="nv">y0</span> : B) =&gt;
   R (projT1 x0) y0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : {x : A &amp; P x},
<span class="kr">exists</span> ! y0 : B, R&#39; x0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R''</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x0</span> : A) (<span class="nv">y0</span> : B) =&gt;
<span class="kr">exists</span> <span class="nv">H1</span> : P x0, R&#39; (existT P x0 H1) y0</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">HPx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">P x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">HR'xy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R&#39; (existT P x HPx) y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Huniq</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x&#39;</span> : B,
R&#39; (existT P x HPx) x&#39; -&gt; y = x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H'Px</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">P x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">HR'xy'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R&#39; (existT P x H&#39;Px) y&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">R&#39; (existT P x HPx) y&#39;</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">rewrite</span> proof_irrel <span class="kr">with</span> (a1 := HPx) (a2 := H&#39;Px); <span class="bp">exact</span> HR&#39;xy&#39;.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk3d" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk3d"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">rel_choice_indep_of_general_premises_imp_guarded_rel_choice</span> :
  <span class="kr">forall</span> <span class="nv">A</span> <span class="nv">B</span> : <span class="kt">Type</span>, inhabited B -&gt; RelationalChoice_on A B -&gt;
    IndependenceOfGeneralPremises -&gt; GuardedRelationalChoice_on A B.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">A</span> <span class="nv">B</span> : <span class="kt">Type</span>,
inhabited B -&gt;
RelationalChoice_on A B -&gt;
IndependenceOfGeneralPremises -&gt;
GuardedRelationalChoice_on A B</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk3e" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk3e"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">A</span> <span class="nv">B</span> : <span class="kt">Type</span>,
inhabited B -&gt;
RelationalChoice_on A B -&gt;
IndependenceOfGeneralPremises -&gt;
GuardedRelationalChoice_on A B</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk3f" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk3f"><span class="highlight"><span class="nb">intros</span> A B Inh AC_rel IndPrem P R H.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Inh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">inhabited B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">AC_rel</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RelationalChoice_on A B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IndPrem</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">IndependenceOfGeneralPremises</span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, P x -&gt; <span class="kr">exists</span> <span class="nv">y</span> : B, R x y</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">R&#39;</span> : A -&gt; B -&gt; <span class="kt">Prop</span>,
  subrelation R&#39; R /\
  (<span class="kr">forall</span> <span class="nv">x</span> : A, P x -&gt; <span class="kr">exists</span> ! y : B, R&#39; x y)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk40" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk40"><span class="highlight"><span class="nb">destruct</span> (AC_rel (<span class="kr">fun</span> <span class="nv">x</span> <span class="nv">y</span> =&gt; P x -&gt; R x y)) <span class="kr">as</span> (R&#39;,(HR&#39;R,H0)).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Inh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">inhabited B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">AC_rel</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RelationalChoice_on A B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IndPrem</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">IndependenceOfGeneralPremises</span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, P x -&gt; <span class="kr">exists</span> <span class="nv">y</span> : B, R x y</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, P x -&gt; R x y</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk41" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Inh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">inhabited B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">AC_rel</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RelationalChoice_on A B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IndPrem</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">IndependenceOfGeneralPremises</span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, P x -&gt; <span class="kr">exists</span> <span class="nv">y</span> : B, R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">HR'R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">subrelation R&#39;
  (<span class="kr">fun</span> (<span class="nv">x</span> : A) (<span class="nv">y</span> : B) =&gt; P x -&gt; R x y)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> ! y : B, R&#39; x y</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chk41"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">R&#39;0</span> : A -&gt; B -&gt; <span class="kt">Prop</span>,
  subrelation R&#39;0 R /\
  (<span class="kr">forall</span> <span class="nv">x</span> : A, P x -&gt; <span class="kr">exists</span> ! y : B, R&#39;0 x y)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk42" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk42"><span class="highlight"><span class="nb">intro</span> x.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Inh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">inhabited B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">AC_rel</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RelationalChoice_on A B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IndPrem</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">IndependenceOfGeneralPremises</span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, P x0 -&gt; <span class="kr">exists</span> <span class="nv">y</span> : B, R x0 y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">y</span> : B, P x -&gt; R x y</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk43" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Inh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">inhabited B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">AC_rel</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RelationalChoice_on A B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IndPrem</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">IndependenceOfGeneralPremises</span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, P x -&gt; <span class="kr">exists</span> <span class="nv">y</span> : B, R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">HR'R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">subrelation R&#39;
  (<span class="kr">fun</span> (<span class="nv">x</span> : A) (<span class="nv">y</span> : B) =&gt; P x -&gt; R x y)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> ! y : B, R&#39; x y</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chk43"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">R&#39;0</span> : A -&gt; B -&gt; <span class="kt">Prop</span>,
  subrelation R&#39;0 R /\
  (<span class="kr">forall</span> <span class="nv">x</span> : A, P x -&gt; <span class="kr">exists</span> ! y : B, R&#39;0 x y)</span></div></blockquote></div></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk44" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk44"><span class="highlight"><span class="nb">apply</span> IndPrem.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Inh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">inhabited B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">AC_rel</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RelationalChoice_on A B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IndPrem</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">IndependenceOfGeneralPremises</span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, P x0 -&gt; <span class="kr">exists</span> <span class="nv">y</span> : B, R x0 y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">inhabited B</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk45" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Inh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">inhabited B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">AC_rel</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RelationalChoice_on A B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IndPrem</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">IndependenceOfGeneralPremises</span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, P x0 -&gt; <span class="kr">exists</span> <span class="nv">y</span> : B, R x0 y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chk45"><hr></label><div class="goal-conclusion"><span class="highlight">P x -&gt; <span class="kr">exists</span> <span class="nv">x0</span> : B, R x x0</span></div></blockquote><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk46" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Inh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">inhabited B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">AC_rel</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RelationalChoice_on A B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IndPrem</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">IndependenceOfGeneralPremises</span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, P x -&gt; <span class="kr">exists</span> <span class="nv">y</span> : B, R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">HR'R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">subrelation R&#39;
  (<span class="kr">fun</span> (<span class="nv">x</span> : A) (<span class="nv">y</span> : B) =&gt; P x -&gt; R x y)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> ! y : B, R&#39; x y</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chk46"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">R&#39;0</span> : A -&gt; B -&gt; <span class="kt">Prop</span>,
  subrelation R&#39;0 R /\
  (<span class="kr">forall</span> <span class="nv">x</span> : A, P x -&gt; <span class="kr">exists</span> ! y : B, R&#39;0 x y)</span></div></blockquote></div></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk47" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk47"><span class="highlight"><span class="bp">exact</span> Inh.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Inh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">inhabited B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">AC_rel</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RelationalChoice_on A B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IndPrem</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">IndependenceOfGeneralPremises</span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, P x0 -&gt; <span class="kr">exists</span> <span class="nv">y</span> : B, R x0 y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">P x -&gt; <span class="kr">exists</span> <span class="nv">x0</span> : B, R x x0</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk48" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Inh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">inhabited B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">AC_rel</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RelationalChoice_on A B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IndPrem</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">IndependenceOfGeneralPremises</span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, P x -&gt; <span class="kr">exists</span> <span class="nv">y</span> : B, R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">HR'R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">subrelation R&#39;
  (<span class="kr">fun</span> (<span class="nv">x</span> : A) (<span class="nv">y</span> : B) =&gt; P x -&gt; R x y)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> ! y : B, R&#39; x y</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chk48"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">R&#39;0</span> : A -&gt; B -&gt; <span class="kt">Prop</span>,
  subrelation R&#39;0 R /\
  (<span class="kr">forall</span> <span class="nv">x</span> : A, P x -&gt; <span class="kr">exists</span> ! y : B, R&#39;0 x y)</span></div></blockquote></div></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk49" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk49"><span class="highlight"><span class="nb">intro</span> Hx.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Inh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">inhabited B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">AC_rel</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RelationalChoice_on A B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IndPrem</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">IndependenceOfGeneralPremises</span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, P x0 -&gt; <span class="kr">exists</span> <span class="nv">y</span> : B, R x0 y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">P x</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">x0</span> : B, R x x0</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk4a" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Inh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">inhabited B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">AC_rel</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RelationalChoice_on A B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IndPrem</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">IndependenceOfGeneralPremises</span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, P x -&gt; <span class="kr">exists</span> <span class="nv">y</span> : B, R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">HR'R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">subrelation R&#39;
  (<span class="kr">fun</span> (<span class="nv">x</span> : A) (<span class="nv">y</span> : B) =&gt; P x -&gt; R x y)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> ! y : B, R&#39; x y</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chk4a"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">R&#39;0</span> : A -&gt; B -&gt; <span class="kt">Prop</span>,
  subrelation R&#39;0 R /\
  (<span class="kr">forall</span> <span class="nv">x</span> : A, P x -&gt; <span class="kr">exists</span> ! y : B, R&#39;0 x y)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk4b" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk4b"><span class="highlight"><span class="nb">apply</span> H; <span class="bp">assumption</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Inh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">inhabited B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">AC_rel</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RelationalChoice_on A B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IndPrem</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">IndependenceOfGeneralPremises</span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, P x -&gt; <span class="kr">exists</span> <span class="nv">y</span> : B, R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">HR'R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">subrelation R&#39;
  (<span class="kr">fun</span> (<span class="nv">x</span> : A) (<span class="nv">y</span> : B) =&gt; P x -&gt; R x y)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> ! y : B, R&#39; x y</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">R&#39;0</span> : A -&gt; B -&gt; <span class="kt">Prop</span>,
  subrelation R&#39;0 R /\
  (<span class="kr">forall</span> <span class="nv">x</span> : A, P x -&gt; <span class="kr">exists</span> ! y : B, R&#39;0 x y)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk4c" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk4c"><span class="highlight"><span class="kr">exists</span> (<span class="nv">fun</span> <span class="nv">x</span> <span class="nv">y</span> =&gt; P x /\ R&#39; x y).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Inh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">inhabited B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">AC_rel</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RelationalChoice_on A B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IndPrem</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">IndependenceOfGeneralPremises</span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, P x -&gt; <span class="kr">exists</span> <span class="nv">y</span> : B, R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">HR'R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">subrelation R&#39;
  (<span class="kr">fun</span> (<span class="nv">x</span> : A) (<span class="nv">y</span> : B) =&gt; P x -&gt; R x y)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> ! y : B, R&#39; x y</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">subrelation (<span class="kr">fun</span> (<span class="nv">x</span> : A) (<span class="nv">y</span> : B) =&gt; P x /\ R&#39; x y) R /\
(<span class="kr">forall</span> <span class="nv">x</span> : A, P x -&gt; <span class="kr">exists</span> ! y : B, P x /\ R&#39; x y)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">firstorder</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk4d" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk4d"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">guarded_rel_choice_imp_rel_choice</span> :
  <span class="kr">forall</span> <span class="nv">A</span> <span class="nv">B</span> : <span class="kt">Type</span>, GuardedRelationalChoice_on A B -&gt; RelationalChoice_on A B.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">A</span> <span class="nv">B</span> : <span class="kt">Type</span>,
GuardedRelationalChoice_on A B -&gt;
RelationalChoice_on A B</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk4e" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk4e"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">A</span> <span class="nv">B</span> : <span class="kt">Type</span>,
GuardedRelationalChoice_on A B -&gt;
RelationalChoice_on A B</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk4f" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk4f"><span class="highlight"><span class="nb">intros</span> A B GAC_rel R H.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">GAC_rel</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">GuardedRelationalChoice_on A B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, R x y</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">R&#39;</span> : A -&gt; B -&gt; <span class="kt">Prop</span>,
  subrelation R&#39; R /\
  (<span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> ! y : B, R&#39; x y)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk50" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk50"><span class="highlight"><span class="nb">destruct</span> (GAC_rel (<span class="kr">fun</span> <span class="nv">_</span> =&gt; <span class="kt">True</span>) R) <span class="kr">as</span> (R&#39;,(HR&#39;R,H0)).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">GAC_rel</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">GuardedRelationalChoice_on A B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, R x y</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kt">True</span> -&gt; <span class="kr">exists</span> <span class="nv">y</span> : B, R x y</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk51" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">GAC_rel</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">GuardedRelationalChoice_on A B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">HR'R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">subrelation R&#39; R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kt">True</span> -&gt; <span class="kr">exists</span> ! y : B, R&#39; x y</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chk51"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">R&#39;0</span> : A -&gt; B -&gt; <span class="kt">Prop</span>,
  subrelation R&#39;0 R /\
  (<span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> ! y : B, R&#39;0 x y)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk52" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk52"><span class="highlight"><span class="nb">firstorder</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">GAC_rel</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">GuardedRelationalChoice_on A B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">HR'R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">subrelation R&#39; R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kt">True</span> -&gt; <span class="kr">exists</span> ! y : B, R&#39; x y</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">R&#39;0</span> : A -&gt; B -&gt; <span class="kt">Prop</span>,
  subrelation R&#39;0 R /\
  (<span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> ! y : B, R&#39;0 x y)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kr">exists</span> <span class="nv">R&#39;</span>; <span class="nb">firstorder</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk53" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk53"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">subset_types_imp_guarded_rel_choice_iff_rel_choice</span> :
  ProofIrrelevance -&gt; (GuardedRelationalChoice &lt;-&gt; RelationalChoice).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">ProofIrrelevance -&gt;
GuardedRelationalChoice &lt;-&gt; RelationalChoice</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk54" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk54"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">ProofIrrelevance -&gt;
GuardedRelationalChoice &lt;-&gt; RelationalChoice</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">intuition</span> <span class="nb">auto using</span>
    guarded_rel_choice_imp_rel_choice,
    rel_choice_and_proof_irrel_imp_guarded_rel_choice.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span></span></pre><div class="doc">
OAC_rel = GAC_rel 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk55" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk55"><span class="highlight"><span class="kn">Corollary</span> <span class="nf">guarded_iff_omniscient_rel_choice</span> :
  GuardedRelationalChoice &lt;-&gt; OmniscientRelationalChoice.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">GuardedRelationalChoice &lt;-&gt; OmniscientRelationalChoice</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk56" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk56"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">GuardedRelationalChoice &lt;-&gt; OmniscientRelationalChoice</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk57" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk57"><span class="highlight"><span class="nb">split</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">GuardedRelationalChoice -&gt; OmniscientRelationalChoice</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk58" style="display: none" type="checkbox"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">OmniscientRelationalChoice -&gt; GuardedRelationalChoice</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk59" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk59"><span class="highlight"><span class="nb">intros</span> GAC_rel A B R.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">GAC_rel</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">GuardedRelationalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">R&#39;</span> : A -&gt; B -&gt; <span class="kt">Prop</span>,
  subrelation R&#39; R /\
  (<span class="kr">forall</span> <span class="nv">x</span> : A,
   (<span class="kr">exists</span> <span class="nv">y</span> : B, R x y) -&gt; <span class="kr">exists</span> ! y : B, R&#39; x y)</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk5a" style="display: none" type="checkbox"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">OmniscientRelationalChoice -&gt; GuardedRelationalChoice</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk5b" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk5b"><span class="highlight"><span class="nb">apply</span> (GAC_rel A B (<span class="kr">fun</span> <span class="nv">x</span> =&gt; <span class="kr">exists</span> <span class="nv">y</span>, R x y) R); <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">OmniscientRelationalChoice -&gt; GuardedRelationalChoice</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk5c" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk5c"><span class="highlight"><span class="nb">intros</span> OAC_rel A B P R H.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">OAC_rel</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">OmniscientRelationalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, P x -&gt; <span class="kr">exists</span> <span class="nv">y</span> : B, R x y</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">R&#39;</span> : A -&gt; B -&gt; <span class="kt">Prop</span>,
  subrelation R&#39; R /\
  (<span class="kr">forall</span> <span class="nv">x</span> : A, P x -&gt; <span class="kr">exists</span> ! y : B, R&#39; x y)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">destruct</span> (OAC_rel A B R) <span class="kr">as</span> (f,Hf); <span class="kr">exists</span> <span class="nv">f</span>; <span class="nb">firstorder</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
<span class="sd">(**********************************************************************)</span></span></span></pre><div class="doc">
<a name="lab9"></a><h2 class="section">AC_fun + IGP = GAC_fun = OAC_fun = AC_fun + Drinker</h2>
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --></pre><div class="doc">
AC_fun + IGP = GAC_fun 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk5d" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk5d"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">guarded_fun_choice_imp_indep_of_general_premises</span> :
  GuardedFunctionalChoice -&gt; IndependenceOfGeneralPremises.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">GuardedFunctionalChoice -&gt;
IndependenceOfGeneralPremises</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk5e" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk5e"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">GuardedFunctionalChoice -&gt;
IndependenceOfGeneralPremises</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk5f" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk5f"><span class="highlight"><span class="nb">intros</span> GAC_fun A P Q Inh H.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">GAC_fun</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">GuardedFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Q</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Inh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">inhabited A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Q -&gt; <span class="kr">exists</span> <span class="nv">x</span> : A, P x</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">x</span> : A, Q -&gt; P x</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk60" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk60"><span class="highlight"><span class="nb">destruct</span> (GAC_fun unit A (<span class="kr">fun</span> <span class="nv">_</span> =&gt; Q) (<span class="kr">fun</span> <span class="nv">_</span> =&gt; P) Inh) <span class="kr">as</span> (f,Hf).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">GAC_fun</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">GuardedFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Q</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Inh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">inhabited A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Q -&gt; <span class="kr">exists</span> <span class="nv">x</span> : A, P x</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">unit -&gt; Q -&gt; <span class="kr">exists</span> <span class="nv">y</span> : A, P y</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk61" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">GAC_fun</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">GuardedFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Q</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Inh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">inhabited A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Q -&gt; <span class="kr">exists</span> <span class="nv">x</span> : A, P x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">unit -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : unit, Q -&gt; P (f x)</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chk61"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">x</span> : A, Q -&gt; P x</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk62" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk62"><span class="highlight"><span class="bp">tauto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">GAC_fun</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">GuardedFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Q</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Inh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">inhabited A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Q -&gt; <span class="kr">exists</span> <span class="nv">x</span> : A, P x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">unit -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : unit, Q -&gt; P (f x)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">x</span> : A, Q -&gt; P x</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kr">exists</span> (<span class="nv">f</span> <span class="nv">tt</span>); <span class="nb">auto</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">

</span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk63" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk63"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">guarded_fun_choice_imp_fun_choice</span> :
  GuardedFunctionalChoice -&gt; FunctionalChoiceOnInhabitedSet.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">GuardedFunctionalChoice -&gt;
FunctionalChoiceOnInhabitedSet</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk64" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk64"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">GuardedFunctionalChoice -&gt;
FunctionalChoiceOnInhabitedSet</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk65" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk65"><span class="highlight"><span class="nb">intros</span> GAC_fun A B Inh R H.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">GAC_fun</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">GuardedFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Inh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">inhabited B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, R x y</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f</span> : A -&gt; B, <span class="kr">forall</span> <span class="nv">x</span> : A, R x (f x)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk66" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk66"><span class="highlight"><span class="nb">destruct</span> (GAC_fun A B (<span class="kr">fun</span> <span class="nv">_</span> =&gt; <span class="kt">True</span>) R Inh) <span class="kr">as</span> (f,Hf).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">GAC_fun</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">GuardedFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Inh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">inhabited B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, R x y</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kt">True</span> -&gt; <span class="kr">exists</span> <span class="nv">y</span> : B, R x y</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk67" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">GAC_fun</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">GuardedFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Inh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">inhabited B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kt">True</span> -&gt; R x (f x)</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chk67"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f0</span> : A -&gt; B, <span class="kr">forall</span> <span class="nv">x</span> : A, R x (f0 x)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk68" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk68"><span class="highlight"><span class="nb">firstorder</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">GAC_fun</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">GuardedFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Inh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">inhabited B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kt">True</span> -&gt; R x (f x)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f0</span> : A -&gt; B, <span class="kr">forall</span> <span class="nv">x</span> : A, R x (f0 x)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kr">exists</span> <span class="nv">f</span>; <span class="nb">auto</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk69" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk69"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">fun_choice_and_indep_general_prem_imp_guarded_fun_choice</span> :
  FunctionalChoiceOnInhabitedSet -&gt; IndependenceOfGeneralPremises
  -&gt; GuardedFunctionalChoice.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">FunctionalChoiceOnInhabitedSet -&gt;
IndependenceOfGeneralPremises -&gt;
GuardedFunctionalChoice</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk6a" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk6a"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">FunctionalChoiceOnInhabitedSet -&gt;
IndependenceOfGeneralPremises -&gt;
GuardedFunctionalChoice</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk6b" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk6b"><span class="highlight"><span class="nb">intros</span> AC_fun IndPrem A B P R Inh H.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">AC_fun</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoiceOnInhabitedSet</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IndPrem</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">IndependenceOfGeneralPremises</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Inh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">inhabited B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, P x -&gt; <span class="kr">exists</span> <span class="nv">y</span> : B, R x y</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f</span> : A -&gt; B, <span class="kr">forall</span> <span class="nv">x</span> : A, P x -&gt; R x (f x)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk6c" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk6c"><span class="highlight"><span class="nb">apply</span> (AC_fun A B Inh (<span class="kr">fun</span> <span class="nv">x</span> <span class="nv">y</span> =&gt; P x -&gt; R x y)).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">AC_fun</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoiceOnInhabitedSet</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IndPrem</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">IndependenceOfGeneralPremises</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Inh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">inhabited B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, P x -&gt; <span class="kr">exists</span> <span class="nv">y</span> : B, R x y</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, P x -&gt; R x y</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">intro</span> x; <span class="nb">apply</span> IndPrem; <span class="nb">eauto</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk6d" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk6d"><span class="highlight"><span class="kn">Corollary</span> <span class="nf">fun_choice_and_indep_general_prem_iff_guarded_fun_choice</span> :
  FunctionalChoiceOnInhabitedSet /\ IndependenceOfGeneralPremises
  &lt;-&gt; GuardedFunctionalChoice.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">FunctionalChoiceOnInhabitedSet /\
IndependenceOfGeneralPremises &lt;-&gt;
GuardedFunctionalChoice</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk6e" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk6e"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">FunctionalChoiceOnInhabitedSet /\
IndependenceOfGeneralPremises &lt;-&gt;
GuardedFunctionalChoice</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">intuition</span> <span class="nb">auto using</span>
    guarded_fun_choice_imp_indep_of_general_premises,
    guarded_fun_choice_imp_fun_choice,
    fun_choice_and_indep_general_prem_imp_guarded_fun_choice.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span></span></pre><div class="doc">
AC_fun + Drinker = OAC_fun 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --></pre><div class="doc">
This was already observed by Bell <span class="inlinecode">[<span class="id" title="var">Bell</span>]</span>
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk6f" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk6f"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">omniscient_fun_choice_imp_small_drinker</span> :
  OmniscientFunctionalChoice -&gt; SmallDrinker&#39;sParadox.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">OmniscientFunctionalChoice -&gt; SmallDrinker&#39;sParadox</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk70" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk70"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">OmniscientFunctionalChoice -&gt; SmallDrinker&#39;sParadox</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk71" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk71"><span class="highlight"><span class="nb">intros</span> OAC_fun A P Inh.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">OAC_fun</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">OmniscientFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Inh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">inhabited A</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">x</span> : A, (<span class="kr">exists</span> <span class="nv">x0</span> : A, P x0) -&gt; P x</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk72" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk72"><span class="highlight"><span class="nb">destruct</span> (OAC_fun unit A (<span class="kr">fun</span> <span class="nv">_</span> =&gt; P)) <span class="kr">as</span> (f,Hf).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">OAC_fun</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">OmniscientFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Inh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">inhabited A</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">inhabited A</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk73" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">OAC_fun</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">OmniscientFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Inh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">inhabited A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">unit -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : unit, (<span class="kr">exists</span> <span class="nv">y</span> : A, P y) -&gt; P (f x)</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chk73"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">x</span> : A, (<span class="kr">exists</span> <span class="nv">x0</span> : A, P x0) -&gt; P x</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk74" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk74"><span class="highlight"><span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">OAC_fun</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">OmniscientFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Inh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">inhabited A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">unit -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : unit, (<span class="kr">exists</span> <span class="nv">y</span> : A, P y) -&gt; P (f x)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">x</span> : A, (<span class="kr">exists</span> <span class="nv">x0</span> : A, P x0) -&gt; P x</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kr">exists</span> (<span class="nv">f</span> <span class="nv">tt</span>); <span class="nb">firstorder</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk75" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk75"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">omniscient_fun_choice_imp_fun_choice</span> :
  OmniscientFunctionalChoice -&gt; FunctionalChoiceOnInhabitedSet.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">OmniscientFunctionalChoice -&gt;
FunctionalChoiceOnInhabitedSet</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk76" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk76"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">OmniscientFunctionalChoice -&gt;
FunctionalChoiceOnInhabitedSet</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk77" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk77"><span class="highlight"><span class="nb">intros</span> OAC_fun A B Inh R H.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">OAC_fun</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">OmniscientFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Inh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">inhabited B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, R x y</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f</span> : A -&gt; B, <span class="kr">forall</span> <span class="nv">x</span> : A, R x (f x)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk78" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk78"><span class="highlight"><span class="nb">destruct</span> (OAC_fun A B R Inh) <span class="kr">as</span> (f,Hf).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">OAC_fun</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">OmniscientFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Inh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">inhabited B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, (<span class="kr">exists</span> <span class="nv">y</span> : B, R x y) -&gt; R x (f x)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f0</span> : A -&gt; B, <span class="kr">forall</span> <span class="nv">x</span> : A, R x (f0 x)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kr">exists</span> <span class="nv">f</span>; <span class="nb">firstorder</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk79" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk79"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">fun_choice_and_small_drinker_imp_omniscient_fun_choice</span> :
  FunctionalChoiceOnInhabitedSet -&gt; SmallDrinker&#39;sParadox
  -&gt; OmniscientFunctionalChoice.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">FunctionalChoiceOnInhabitedSet -&gt;
SmallDrinker&#39;sParadox -&gt; OmniscientFunctionalChoice</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk7a" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk7a"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">FunctionalChoiceOnInhabitedSet -&gt;
SmallDrinker&#39;sParadox -&gt; OmniscientFunctionalChoice</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk7b" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk7b"><span class="highlight"><span class="nb">intros</span> AC_fun Drinker A B R Inh.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">AC_fun</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoiceOnInhabitedSet</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Drinker</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">SmallDrinker&#39;sParadox</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Inh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">inhabited B</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f</span> : A -&gt; B,
  <span class="kr">forall</span> <span class="nv">x</span> : A, (<span class="kr">exists</span> <span class="nv">y</span> : B, R x y) -&gt; R x (f x)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk7c" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk7c"><span class="highlight"><span class="nb">destruct</span> (AC_fun A B Inh (<span class="kr">fun</span> <span class="nv">x</span> <span class="nv">y</span> =&gt; (<span class="kr">exists</span> <span class="nv">y</span>, R x y) -&gt; R x y)) <span class="kr">as</span> (f,Hf).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">AC_fun</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoiceOnInhabitedSet</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Drinker</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">SmallDrinker&#39;sParadox</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Inh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">inhabited B</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A,
<span class="kr">exists</span> <span class="nv">y</span> : B, (<span class="kr">exists</span> <span class="nv">y0</span> : B, R x y0) -&gt; R x y</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk7d" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">AC_fun</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoiceOnInhabitedSet</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Drinker</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">SmallDrinker&#39;sParadox</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Inh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">inhabited B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, (<span class="kr">exists</span> <span class="nv">y</span> : B, R x y) -&gt; R x (f x)</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chk7d"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f0</span> : A -&gt; B,
  <span class="kr">forall</span> <span class="nv">x</span> : A, (<span class="kr">exists</span> <span class="nv">y</span> : B, R x y) -&gt; R x (f0 x)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk7e" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk7e"><span class="highlight"><span class="nb">intro</span> x; <span class="nb">apply</span> (Drinker B (R x) Inh).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">AC_fun</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoiceOnInhabitedSet</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Drinker</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">SmallDrinker&#39;sParadox</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Inh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">inhabited B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, (<span class="kr">exists</span> <span class="nv">y</span> : B, R x y) -&gt; R x (f x)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f0</span> : A -&gt; B,
  <span class="kr">forall</span> <span class="nv">x</span> : A, (<span class="kr">exists</span> <span class="nv">y</span> : B, R x y) -&gt; R x (f0 x)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kr">exists</span> <span class="nv">f</span>; <span class="bp">assumption</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk7f" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk7f"><span class="highlight"><span class="kn">Corollary</span> <span class="nf">fun_choice_and_small_drinker_iff_omniscient_fun_choice</span> :
  FunctionalChoiceOnInhabitedSet /\ SmallDrinker&#39;sParadox
  &lt;-&gt; OmniscientFunctionalChoice.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">FunctionalChoiceOnInhabitedSet /\
SmallDrinker&#39;sParadox &lt;-&gt; OmniscientFunctionalChoice</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk80" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk80"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">FunctionalChoiceOnInhabitedSet /\
SmallDrinker&#39;sParadox &lt;-&gt; OmniscientFunctionalChoice</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">intuition</span> <span class="nb">auto using</span>
    omniscient_fun_choice_imp_small_drinker,
    omniscient_fun_choice_imp_fun_choice,
    fun_choice_and_small_drinker_imp_omniscient_fun_choice.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span></span></pre><div class="doc">
OAC_fun = GAC_fun 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --></pre><div class="doc">
This is derivable from the intuitionistic equivalence between IGP and Drinker
but we give a direct proof 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk81" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk81"><span class="highlight"><span class="kn">Theorem</span> <span class="nf">guarded_iff_omniscient_fun_choice</span> :
  GuardedFunctionalChoice &lt;-&gt; OmniscientFunctionalChoice.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">GuardedFunctionalChoice &lt;-&gt; OmniscientFunctionalChoice</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk82" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk82"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">GuardedFunctionalChoice &lt;-&gt; OmniscientFunctionalChoice</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk83" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk83"><span class="highlight"><span class="nb">split</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">GuardedFunctionalChoice -&gt; OmniscientFunctionalChoice</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk84" style="display: none" type="checkbox"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">OmniscientFunctionalChoice -&gt; GuardedFunctionalChoice</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk85" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk85"><span class="highlight"><span class="nb">intros</span> GAC_fun A B R Inh.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">GAC_fun</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">GuardedFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Inh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">inhabited B</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f</span> : A -&gt; B,
  <span class="kr">forall</span> <span class="nv">x</span> : A, (<span class="kr">exists</span> <span class="nv">y</span> : B, R x y) -&gt; R x (f x)</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk86" style="display: none" type="checkbox"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">OmniscientFunctionalChoice -&gt; GuardedFunctionalChoice</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk87" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk87"><span class="highlight"><span class="nb">apply</span> (GAC_fun A B (<span class="kr">fun</span> <span class="nv">x</span> =&gt; <span class="kr">exists</span> <span class="nv">y</span>, R x y) R); <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">OmniscientFunctionalChoice -&gt; GuardedFunctionalChoice</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk88" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk88"><span class="highlight"><span class="nb">intros</span> OAC_fun A B P R Inh H.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">OAC_fun</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">OmniscientFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Inh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">inhabited B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, P x -&gt; <span class="kr">exists</span> <span class="nv">y</span> : B, R x y</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f</span> : A -&gt; B, <span class="kr">forall</span> <span class="nv">x</span> : A, P x -&gt; R x (f x)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk89" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk89"><span class="highlight"><span class="nb">destruct</span> (OAC_fun A B R Inh) <span class="kr">as</span> (f,Hf).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">OAC_fun</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">OmniscientFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Inh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">inhabited B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, P x -&gt; <span class="kr">exists</span> <span class="nv">y</span> : B, R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, (<span class="kr">exists</span> <span class="nv">y</span> : B, R x y) -&gt; R x (f x)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f0</span> : A -&gt; B, <span class="kr">forall</span> <span class="nv">x</span> : A, P x -&gt; R x (f0 x)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kr">exists</span> <span class="nv">f</span>; <span class="nb">firstorder</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
<span class="sd">(**********************************************************************)</span></span></span></pre><div class="doc">
<a name="lab10"></a><h2 class="section">D_iota -&gt; ID_iota  and  D_epsilon &lt;-&gt; ID_epsilon + Drinker</h2>
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --></pre><div class="doc">
D_iota -&gt; ID_iota 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk8a" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk8a"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">iota_imp_constructive_definite_description</span> :
  IotaStatement -&gt; ConstructiveDefiniteDescription.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">IotaStatement -&gt; ConstructiveDefiniteDescription</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk8b" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk8b"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">IotaStatement -&gt; ConstructiveDefiniteDescription</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk8c" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk8c"><span class="highlight"><span class="nb">intros</span> D_iota A P H.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">D_iota</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">IotaStatement</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">exists</span> ! x : A, P x</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">{x : A | P x}</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk8d" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk8d"><span class="highlight"><span class="nb">destruct</span> D_iota <span class="kr">with</span> (P:=P) <span class="kr">as</span> (x,H1).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">D_iota</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">IotaStatement</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">exists</span> ! x : A, P x</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">inhabited A</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk8e" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">D_iota</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">IotaStatement</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">exists</span> ! x0 : A, P x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(<span class="kr">exists</span> ! x0 : A, P x0) -&gt; P x</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chk8e"><hr></label><div class="goal-conclusion"><span class="highlight">{x0 : A | P x0}</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk8f" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk8f"><span class="highlight"><span class="nb">destruct</span> H; <span class="nb">red</span> <span class="kr">in</span> H; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">D_iota</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">IotaStatement</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">exists</span> ! x0 : A, P x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(<span class="kr">exists</span> ! x0 : A, P x0) -&gt; P x</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">{x0 : A | P x0}</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kr">exists</span> <span class="nv">x</span>; <span class="nb">apply</span> H1; <span class="bp">assumption</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span></span></pre><div class="doc">
ID_epsilon + Drinker &lt;-&gt; D_epsilon 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk90" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk90"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">epsilon_imp_constructive_indefinite_description</span>:
  EpsilonStatement -&gt; ConstructiveIndefiniteDescription.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">EpsilonStatement -&gt; ConstructiveIndefiniteDescription</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk91" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk91"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">EpsilonStatement -&gt; ConstructiveIndefiniteDescription</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk92" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk92"><span class="highlight"><span class="nb">intros</span> D_epsilon A P H.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">D_epsilon</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">EpsilonStatement</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">exists</span> <span class="nv">x</span> : A, P x</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">{x : A | P x}</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk93" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk93"><span class="highlight"><span class="nb">destruct</span> D_epsilon <span class="kr">with</span> (P:=P) <span class="kr">as</span> (x,H1).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">D_epsilon</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">EpsilonStatement</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">exists</span> <span class="nv">x</span> : A, P x</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">inhabited A</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk94" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">D_epsilon</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">EpsilonStatement</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">exists</span> <span class="nv">x0</span> : A, P x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(<span class="kr">exists</span> <span class="nv">x0</span> : A, P x0) -&gt; P x</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chk94"><hr></label><div class="goal-conclusion"><span class="highlight">{x0 : A | P x0}</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk95" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk95"><span class="highlight"><span class="nb">destruct</span> H; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">D_epsilon</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">EpsilonStatement</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">exists</span> <span class="nv">x0</span> : A, P x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(<span class="kr">exists</span> <span class="nv">x0</span> : A, P x0) -&gt; P x</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">{x0 : A | P x0}</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kr">exists</span> <span class="nv">x</span>; <span class="nb">apply</span> H1; <span class="bp">assumption</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk96" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk96"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">constructive_indefinite_description_and_small_drinker_imp_epsilon</span> :
  SmallDrinker&#39;sParadox -&gt; ConstructiveIndefiniteDescription -&gt;
  EpsilonStatement.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">SmallDrinker&#39;sParadox -&gt;
ConstructiveIndefiniteDescription -&gt; EpsilonStatement</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk97" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk97"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">SmallDrinker&#39;sParadox -&gt;
ConstructiveIndefiniteDescription -&gt; EpsilonStatement</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">intros</span> Drinkers D_epsilon A P Inh;
  <span class="nb">apply</span> D_epsilon; <span class="nb">apply</span> Drinkers; <span class="bp">assumption</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk98" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk98"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">epsilon_imp_small_drinker</span> :
  EpsilonStatement -&gt; SmallDrinker&#39;sParadox.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">EpsilonStatement -&gt; SmallDrinker&#39;sParadox</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk99" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk99"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">EpsilonStatement -&gt; SmallDrinker&#39;sParadox</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">intros</span> D_epsilon A P Inh; <span class="nb">edestruct</span> D_epsilon; <span class="nb">eauto</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk9a" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk9a"><span class="highlight"><span class="kn">Theorem</span> <span class="nf">constructive_indefinite_description_and_small_drinker_iff_epsilon</span> :
  (SmallDrinker&#39;sParadox * ConstructiveIndefiniteDescription -&gt;
  EpsilonStatement) *
  (EpsilonStatement -&gt;
   SmallDrinker&#39;sParadox * ConstructiveIndefiniteDescription).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">((SmallDrinker&#39;sParadox *
  ConstructiveIndefiniteDescription -&gt;
  EpsilonStatement) *
 (EpsilonStatement -&gt;
  SmallDrinker&#39;sParadox *
  ConstructiveIndefiniteDescription))%type</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk9b" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk9b"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">((SmallDrinker&#39;sParadox *
  ConstructiveIndefiniteDescription -&gt;
  EpsilonStatement) *
 (EpsilonStatement -&gt;
  SmallDrinker&#39;sParadox *
  ConstructiveIndefiniteDescription))%type</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">intuition</span> <span class="nb">auto using</span>
    epsilon_imp_constructive_indefinite_description,
    constructive_indefinite_description_and_small_drinker_imp_epsilon,
    epsilon_imp_small_drinker.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
<span class="sd">(**********************************************************************)</span></span></span></pre><div class="doc">
<a name="lab11"></a><h1 class="section">Derivability of choice for decidable relations with well-ordered codomain</h1>
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --></pre><div class="doc">
Countable codomains, such as <span class="inlinecode"><span class="id" title="var">nat</span></span>, can be equipped with a
    well-order, which implies the existence of a least element on
    inhabited decidable subsets. As a consequence, the relational form of
    the axiom of choice is derivable on <span class="inlinecode"><span class="id" title="var">nat</span></span> for decidable relations.

<div class="paragraph"> </div>

    We show instead that functional relation reification and the
    functional form of the axiom of choice are equivalent on decidable
    relation with <span class="inlinecode"><span class="id" title="var">nat</span></span> as codomain

</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Require Import</span> Wf_nat.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Require Import</span> Decidable.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk9c" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk9c"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">classical_denumerable_description_imp_fun_choice</span> :
  <span class="kr">forall</span> <span class="nv">A</span>:<span class="kt">Type</span>,
    FunctionalRelReification_on A nat -&gt;
    <span class="kr">forall</span> <span class="nv">R</span>:A-&gt;nat-&gt;<span class="kt">Prop</span>,
      (<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span>, decidable (R x y)) -&gt; FunctionalChoice_on_rel R.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">A</span> : <span class="kt">Type</span>,
FunctionalRelReification_on A nat -&gt;
<span class="kr">forall</span> <span class="nv">R</span> : A -&gt; nat -&gt; <span class="kt">Prop</span>,
(<span class="kr">forall</span> (<span class="nv">x</span> : A) (<span class="nv">y</span> : nat), decidable (R x y)) -&gt;
FunctionalChoice_on_rel R</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk9d" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk9d"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">A</span> : <span class="kt">Type</span>,
FunctionalRelReification_on A nat -&gt;
<span class="kr">forall</span> <span class="nv">R</span> : A -&gt; nat -&gt; <span class="kt">Prop</span>,
(<span class="kr">forall</span> (<span class="nv">x</span> : A) (<span class="nv">y</span> : nat), decidable (R x y)) -&gt;
FunctionalChoice_on_rel R</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk9e" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk9e"><span class="highlight"><span class="nb">intros</span> A Descr.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Descr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalRelReification_on A nat</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">R</span> : A -&gt; nat -&gt; <span class="kt">Prop</span>,
(<span class="kr">forall</span> (<span class="nv">x</span> : A) (<span class="nv">y</span> : nat), decidable (R x y)) -&gt;
FunctionalChoice_on_rel R</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk9f" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk9f"><span class="highlight"><span class="nb">red</span>; <span class="nb">intros</span> R Rdec H.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Descr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalRelReification_on A nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; nat -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rdec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x</span> : A) (<span class="nv">y</span> : nat), decidable (R x y)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : nat, R x y</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f</span> : A -&gt; nat, <span class="kr">forall</span> <span class="nv">x</span> : A, R x (f x)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chka0" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chka0"><span class="highlight"><span class="nb">set</span> (R&#39;:= <span class="kr">fun</span> <span class="nv">x</span> <span class="nv">y</span> =&gt; R x y /\ <span class="kr">forall</span> <span class="nv">y&#39;</span>, R x y&#39; -&gt; y &lt;= y&#39;).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Descr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalRelReification_on A nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; nat -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rdec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x</span> : A) (<span class="nv">y</span> : nat), decidable (R x y)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : nat, R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x</span> : A) (<span class="nv">y</span> : nat) =&gt;
R x y /\ (<span class="kr">forall</span> <span class="nv">y&#39;</span> : nat, R x y&#39; -&gt; y &lt;= y&#39;)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; nat -&gt; <span class="kt">Prop</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f</span> : A -&gt; nat, <span class="kr">forall</span> <span class="nv">x</span> : A, R x (f x)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chka1" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chka1"><span class="highlight"><span class="nb">destruct</span> (Descr R&#39;) <span class="kr">as</span> (f,Hf).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Descr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalRelReification_on A nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; nat -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rdec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x</span> : A) (<span class="nv">y</span> : nat), decidable (R x y)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : nat, R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x</span> : A) (<span class="nv">y</span> : nat) =&gt;
R x y /\ (<span class="kr">forall</span> <span class="nv">y&#39;</span> : nat, R x y&#39; -&gt; y &lt;= y&#39;)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; nat -&gt; <span class="kt">Prop</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> ! y : nat, R&#39; x y</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chka2" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Descr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalRelReification_on A nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; nat -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rdec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x</span> : A) (<span class="nv">y</span> : nat), decidable (R x y)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : nat, R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x</span> : A) (<span class="nv">y</span> : nat) =&gt;
R x y /\ (<span class="kr">forall</span> <span class="nv">y&#39;</span> : nat, R x y&#39; -&gt; y &lt;= y&#39;)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; nat -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, R&#39; x (f x)</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chka2"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f0</span> : A -&gt; nat, <span class="kr">forall</span> <span class="nv">x</span> : A, R x (f0 x)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chka3" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chka3"><span class="highlight"><span class="nb">intro</span> x.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Descr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalRelReification_on A nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; nat -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rdec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x0</span> : A) (<span class="nv">y</span> : nat), decidable (R x0 y)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : nat, R x0 y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x0</span> : A) (<span class="nv">y</span> : nat) =&gt;
R x0 y /\ (<span class="kr">forall</span> <span class="nv">y&#39;</span> : nat, R x0 y&#39; -&gt; y &lt;= y&#39;)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; nat -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> ! y : nat, R&#39; x y</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chka4" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Descr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalRelReification_on A nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; nat -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rdec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x</span> : A) (<span class="nv">y</span> : nat), decidable (R x y)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : nat, R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x</span> : A) (<span class="nv">y</span> : nat) =&gt;
R x y /\ (<span class="kr">forall</span> <span class="nv">y&#39;</span> : nat, R x y&#39; -&gt; y &lt;= y&#39;)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; nat -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, R&#39; x (f x)</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chka4"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f0</span> : A -&gt; nat, <span class="kr">forall</span> <span class="nv">x</span> : A, R x (f0 x)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chka5" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chka5"><span class="highlight"><span class="nb">apply</span> (dec_inh_nat_subset_has_unique_least_element (R x)).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Descr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalRelReification_on A nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; nat -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rdec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x0</span> : A) (<span class="nv">y</span> : nat), decidable (R x0 y)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : nat, R x0 y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x0</span> : A) (<span class="nv">y</span> : nat) =&gt;
R x0 y /\ (<span class="kr">forall</span> <span class="nv">y&#39;</span> : nat, R x0 y&#39; -&gt; y &lt;= y&#39;)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; nat -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">n</span> : nat, R x n \/ ~ R x n</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chka6" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Descr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalRelReification_on A nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; nat -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rdec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x0</span> : A) (<span class="nv">y</span> : nat), decidable (R x0 y)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : nat, R x0 y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x0</span> : A) (<span class="nv">y</span> : nat) =&gt;
R x0 y /\ (<span class="kr">forall</span> <span class="nv">y&#39;</span> : nat, R x0 y&#39; -&gt; y &lt;= y&#39;)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; nat -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chka6"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">n</span> : nat, R x n</span></div></blockquote><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chka7" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Descr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalRelReification_on A nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; nat -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rdec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x</span> : A) (<span class="nv">y</span> : nat), decidable (R x y)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : nat, R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x</span> : A) (<span class="nv">y</span> : nat) =&gt;
R x y /\ (<span class="kr">forall</span> <span class="nv">y&#39;</span> : nat, R x y&#39; -&gt; y &lt;= y&#39;)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; nat -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, R&#39; x (f x)</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chka7"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f0</span> : A -&gt; nat, <span class="kr">forall</span> <span class="nv">x</span> : A, R x (f0 x)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chka8" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chka8"><span class="highlight"><span class="nb">apply</span> Rdec.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Descr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalRelReification_on A nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; nat -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rdec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x0</span> : A) (<span class="nv">y</span> : nat), decidable (R x0 y)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : nat, R x0 y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x0</span> : A) (<span class="nv">y</span> : nat) =&gt;
R x0 y /\ (<span class="kr">forall</span> <span class="nv">y&#39;</span> : nat, R x0 y&#39; -&gt; y &lt;= y&#39;)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; nat -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">n</span> : nat, R x n</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chka9" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Descr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalRelReification_on A nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; nat -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rdec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x</span> : A) (<span class="nv">y</span> : nat), decidable (R x y)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : nat, R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x</span> : A) (<span class="nv">y</span> : nat) =&gt;
R x y /\ (<span class="kr">forall</span> <span class="nv">y&#39;</span> : nat, R x y&#39; -&gt; y &lt;= y&#39;)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; nat -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, R&#39; x (f x)</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chka9"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f0</span> : A -&gt; nat, <span class="kr">forall</span> <span class="nv">x</span> : A, R x (f0 x)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chkaa" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chkaa"><span class="highlight"><span class="nb">apply</span> (H x).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Descr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalRelReification_on A nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; nat -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rdec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x</span> : A) (<span class="nv">y</span> : nat), decidable (R x y)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : nat, R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x</span> : A) (<span class="nv">y</span> : nat) =&gt;
R x y /\ (<span class="kr">forall</span> <span class="nv">y&#39;</span> : nat, R x y&#39; -&gt; y &lt;= y&#39;)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; nat -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, R&#39; x (f x)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f0</span> : A -&gt; nat, <span class="kr">forall</span> <span class="nv">x</span> : A, R x (f0 x)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chkab" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chkab"><span class="highlight"><span class="kr">exists</span> <span class="nv">f</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Descr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalRelReification_on A nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; nat -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rdec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x</span> : A) (<span class="nv">y</span> : nat), decidable (R x y)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : nat, R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x</span> : A) (<span class="nv">y</span> : nat) =&gt;
R x y /\ (<span class="kr">forall</span> <span class="nv">y&#39;</span> : nat, R x y&#39; -&gt; y &lt;= y&#39;)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; nat -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, R&#39; x (f x)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, R x (f x)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chkac" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chkac"><span class="highlight"><span class="nb">intros</span> x.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Descr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalRelReification_on A nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; nat -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rdec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x0</span> : A) (<span class="nv">y</span> : nat), decidable (R x0 y)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : nat, R x0 y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x0</span> : A) (<span class="nv">y</span> : nat) =&gt;
R x0 y /\ (<span class="kr">forall</span> <span class="nv">y&#39;</span> : nat, R x0 y&#39; -&gt; y &lt;= y&#39;)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; nat -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, R&#39; x0 (f x0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">R x (f x)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chkad" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chkad"><span class="highlight"><span class="nb">destruct</span> (Hf x) <span class="kr">as</span> (Hfx,_).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Descr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalRelReification_on A nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; nat -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rdec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x0</span> : A) (<span class="nv">y</span> : nat), decidable (R x0 y)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : nat, R x0 y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x0</span> : A) (<span class="nv">y</span> : nat) =&gt;
R x0 y /\ (<span class="kr">forall</span> <span class="nv">y&#39;</span> : nat, R x0 y&#39; -&gt; y &lt;= y&#39;)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; nat -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, R&#39; x0 (f x0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R x (f x)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">R x (f x)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">assumption</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
<span class="sd">(**********************************************************************)</span></span></span></pre><div class="doc">
<a name="lab12"></a><h1 class="section">AC_fun = AC_fun_dep = AC_trunc</h1>
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --></pre><div class="doc">
<a name="lab13"></a><h2 class="section">Choice on dependent and non dependent function types are equivalent</h2>
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --></pre><div class="doc">
The easy part 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chkae" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chkae"><span class="highlight"><span class="kn">Theorem</span> <span class="nf">dep_non_dep_functional_choice</span> :
  DependentFunctionalChoice -&gt; FunctionalChoice.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">DependentFunctionalChoice -&gt; FunctionalChoice</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chkaf" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chkaf"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">DependentFunctionalChoice -&gt; FunctionalChoice</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chkb0" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chkb0"><span class="highlight"><span class="nb">intros</span> AC_depfun A B R H.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">AC_depfun</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">DependentFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, R x y</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f</span> : A -&gt; B, <span class="kr">forall</span> <span class="nv">x</span> : A, R x (f x)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chkb1" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chkb1"><span class="highlight"><span class="nb">destruct</span> (AC_depfun A (<span class="kr">fun</span> <span class="nv">_</span> =&gt; B) R H) <span class="kr">as</span> (f,Hf).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">AC_depfun</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">DependentFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, R x (f x)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f0</span> : A -&gt; B, <span class="kr">forall</span> <span class="nv">x</span> : A, R x (f0 x)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kr">exists</span> <span class="nv">f</span>; <span class="nb">trivial</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span></span></pre><div class="doc">
Deriving choice on product types requires some computation on
    singleton propositional types, so we need computational
    conjunction projections and dependent elimination of conjunction
    and equality 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Scheme</span> <span class="nf">and_indd</span> := <span class="kn">Induction for</span> <span class="kn">and</span> <span class="kn">Sort</span> <span class="kt">Prop</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Scheme</span> <span class="nf">eq_indd</span> := <span class="kn">Induction for</span> eq <span class="kn">Sort</span> <span class="kt">Prop</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">proj1_inf</span> (<span class="nv">A</span> <span class="nv">B</span>:<span class="kt">Prop</span>) (<span class="nv">p</span> : A/\B) :=
  <span class="kr">let</span> (<span class="nv">a</span>,b) := p <span class="kr">in</span> a.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chkb2" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chkb2"><span class="highlight"><span class="kn">Theorem</span> <span class="nf">non_dep_dep_functional_choice</span> :
  FunctionalChoice -&gt; DependentFunctionalChoice.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">FunctionalChoice -&gt; DependentFunctionalChoice</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chkb3" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chkb3"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">FunctionalChoice -&gt; DependentFunctionalChoice</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chkb4" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chkb4"><span class="highlight"><span class="nb">intros</span> AC_fun A B R H.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">AC_fun</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, B x -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B x, R x y</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f</span> : <span class="kr">forall</span> <span class="nv">x</span> : A, B x, <span class="kr">forall</span> <span class="nv">x</span> : A, R x (f x)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chkb5" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chkb5"><span class="highlight"><span class="nb">pose</span> (B&#39; := { x:A &amp; B x }).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">AC_fun</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, B x -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B x, R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{x : A &amp; B x}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f</span> : <span class="kr">forall</span> <span class="nv">x</span> : A, B x, <span class="kr">forall</span> <span class="nv">x</span> : A, R x (f x)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chkb6" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chkb6"><span class="highlight"><span class="nb">pose</span> (R&#39; := <span class="kr">fun</span> (<span class="nv">x</span>:A) (<span class="nv">y</span>:B&#39;) =&gt; projT1 y = x /\ R (projT1 y) (projT2 y)).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">AC_fun</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, B x -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B x, R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{x : A &amp; B x}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x</span> : A) (<span class="nv">y</span> : B&#39;) =&gt;
projT1 y = x /\ R (projT1 y) (projT2 y)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B&#39; -&gt; <span class="kt">Prop</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f</span> : <span class="kr">forall</span> <span class="nv">x</span> : A, B x, <span class="kr">forall</span> <span class="nv">x</span> : A, R x (f x)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chkb7" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chkb7"><span class="highlight"><span class="nb">destruct</span> (AC_fun A B&#39; R&#39;) <span class="kr">as</span> (f,Hf).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">AC_fun</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, B x -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B x, R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{x : A &amp; B x}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x</span> : A) (<span class="nv">y</span> : B&#39;) =&gt;
projT1 y = x /\ R (projT1 y) (projT2 y)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B&#39; -&gt; <span class="kt">Prop</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B&#39;, R&#39; x y</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chkb8" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">AC_fun</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, B x -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B x, R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{x : A &amp; B x}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x</span> : A) (<span class="nv">y</span> : B&#39;) =&gt;
projT1 y = x /\ R (projT1 y) (projT2 y)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B&#39; -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, R&#39; x (f x)</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chkb8"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f0</span> : <span class="kr">forall</span> <span class="nv">x</span> : A, B x,
  <span class="kr">forall</span> <span class="nv">x</span> : A, R x (f0 x)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chkb9" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chkb9"><span class="highlight"><span class="nb">intros</span> x.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">AC_fun</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, B x0 -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B x0, R x0 y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{x0 : A &amp; B x0}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x0</span> : A) (<span class="nv">y</span> : B&#39;) =&gt;
projT1 y = x0 /\ R (projT1 y) (projT2 y)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B&#39; -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">y</span> : B&#39;, R&#39; x y</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chkba" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">AC_fun</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, B x -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B x, R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{x : A &amp; B x}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x</span> : A) (<span class="nv">y</span> : B&#39;) =&gt;
projT1 y = x /\ R (projT1 y) (projT2 y)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B&#39; -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, R&#39; x (f x)</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chkba"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f0</span> : <span class="kr">forall</span> <span class="nv">x</span> : A, B x,
  <span class="kr">forall</span> <span class="nv">x</span> : A, R x (f0 x)</span></div></blockquote></div></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chkbb" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chkbb"><span class="highlight"><span class="nb">destruct</span> (H x) <span class="kr">as</span> (y,Hy).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">AC_fun</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, B x0 -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y0</span> : B x0, R x0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{x0 : A &amp; B x0}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x0</span> : A) (<span class="nv">y0</span> : B&#39;) =&gt;
projT1 y0 = x0 /\ R (projT1 y0) (projT2 y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B&#39; -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R x y</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">y0</span> : B&#39;, R&#39; x y0</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chkbc" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">AC_fun</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, B x -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B x, R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{x : A &amp; B x}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x</span> : A) (<span class="nv">y</span> : B&#39;) =&gt;
projT1 y = x /\ R (projT1 y) (projT2 y)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B&#39; -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, R&#39; x (f x)</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chkbc"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f0</span> : <span class="kr">forall</span> <span class="nv">x</span> : A, B x,
  <span class="kr">forall</span> <span class="nv">x</span> : A, R x (f0 x)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chkbd" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chkbd"><span class="highlight"><span class="kr">exists</span> (<span class="nv">existT</span> (<span class="kr">fun</span> <span class="nv">x</span> =&gt; B x) x y).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">AC_fun</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, B x0 -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y0</span> : B x0, R x0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{x0 : A &amp; B x0}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x0</span> : A) (<span class="nv">y0</span> : B&#39;) =&gt;
projT1 y0 = x0 /\ R (projT1 y0) (projT2 y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B&#39; -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R x y</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">R&#39; x (existT (<span class="kr">fun</span> <span class="nv">x0</span> : A =&gt; B x0) x y)</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chkbe" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">AC_fun</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, B x -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B x, R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{x : A &amp; B x}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x</span> : A) (<span class="nv">y</span> : B&#39;) =&gt;
projT1 y = x /\ R (projT1 y) (projT2 y)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B&#39; -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, R&#39; x (f x)</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chkbe"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f0</span> : <span class="kr">forall</span> <span class="nv">x</span> : A, B x,
  <span class="kr">forall</span> <span class="nv">x</span> : A, R x (f0 x)</span></div></blockquote></div></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chkbf" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chkbf"><span class="highlight"><span class="nb">split</span>; <span class="nb">trivial</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">AC_fun</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, B x -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B x, R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{x : A &amp; B x}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x</span> : A) (<span class="nv">y</span> : B&#39;) =&gt;
projT1 y = x /\ R (projT1 y) (projT2 y)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B&#39; -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, R&#39; x (f x)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f0</span> : <span class="kr">forall</span> <span class="nv">x</span> : A, B x,
  <span class="kr">forall</span> <span class="nv">x</span> : A, R x (f0 x)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chkc0" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chkc0"><span class="highlight"><span class="kr">exists</span> (<span class="nv">fun</span> <span class="nv">x</span> =&gt; eq_rect _ _ (projT2 (f x)) _ (proj1_inf (Hf x))).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">AC_fun</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, B x -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B x, R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{x : A &amp; B x}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x</span> : A) (<span class="nv">y</span> : B&#39;) =&gt;
projT1 y = x /\ R (projT1 y) (projT2 y)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B&#39; -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, R&#39; x (f x)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A,
R x
  (eq_rect (projT1 (f x)) (<span class="kr">fun</span> <span class="nv">x0</span> : A =&gt; B x0)
     (projT2 (f x)) x (proj1_inf (Hf x)))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chkc1" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chkc1"><span class="highlight"><span class="nb">intro</span> x; <span class="nb">destruct</span> (Hf x) <span class="kr">as</span> (Heq,HR) <span class="nb">using</span> and_indd.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">AC_fun</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, B x0 -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B x0, R x0 y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{x0 : A &amp; B x0}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x0</span> : A) (<span class="nv">y</span> : B&#39;) =&gt;
projT1 y = x0 /\ R (projT1 y) (projT2 y)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B&#39; -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, R&#39; x0 (f x0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">projT1 (f x) = x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">HR</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R (projT1 (f x)) (projT2 (f x))</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">R x
  (eq_rect (projT1 (f x)) (<span class="kr">fun</span> <span class="nv">x0</span> : A =&gt; B x0)
     (projT2 (f x)) x (proj1_inf (conj Heq HR)))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chkc2" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chkc2"><span class="highlight"><span class="nb">destruct</span> (f x); <span class="nb">simpl</span> <span class="kr">in</span> *.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">AC_fun</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x1</span> : A, B x1 -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x1</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B x1, R x1 y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{x1 : A &amp; B x1}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x1</span> : A) (<span class="nv">y</span> : B&#39;) =&gt;
projT1 y = x1 /\ R (projT1 y) (projT2 y)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B&#39; -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x1</span> : A, R&#39; x1 (f x1)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">x0 = x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">HR</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R x0 b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">R x (eq_rect x0 (<span class="kr">fun</span> <span class="nv">x1</span> : A =&gt; B x1) b x Heq)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">destruct</span> Heq <span class="nb">using</span> eq_indd; <span class="nb">trivial</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span></span></pre><div class="doc">
<a name="lab14"></a><h2 class="section">Functional choice and truncation choice are equivalent</h2>
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chkc3" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chkc3"><span class="highlight"><span class="kn">Theorem</span> <span class="nf">functional_choice_to_inhabited_forall_commute</span> :
  FunctionalChoice -&gt; InhabitedForallCommute.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">FunctionalChoice -&gt; InhabitedForallCommute</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chkc4" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chkc4"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">FunctionalChoice -&gt; InhabitedForallCommute</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chkc5" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chkc5"><span class="highlight"><span class="nb">intros</span> choose0 A B Hinhab.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">choose0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hinhab</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, inhabited (B x)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">inhabited (<span class="kr">forall</span> <span class="nv">x</span> : A, B x)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chkc6" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chkc6"><span class="highlight"><span class="nb">pose proof</span> (non_dep_dep_functional_choice choose0) <span class="kr">as</span> choose;<span class="nb">clear</span> choose0.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hinhab</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, inhabited (B x)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">choose</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">DependentFunctionalChoice</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">inhabited (<span class="kr">forall</span> <span class="nv">x</span> : A, B x)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chkc7" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chkc7"><span class="highlight"><span class="nb">assert</span> (Hexists : <span class="kr">forall</span> <span class="nv">x</span>, <span class="kr">exists</span> <span class="nv">_</span> : B x, <span class="kt">True</span>).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hinhab</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, inhabited (B x)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">choose</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">DependentFunctionalChoice</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">_</span> : B x, <span class="kt">True</span></span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chkc8" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hinhab</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, inhabited (B x)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">choose</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">DependentFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">_</span> : B x, <span class="kt">True</span></span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chkc8"><hr></label><div class="goal-conclusion"><span class="highlight">inhabited (<span class="kr">forall</span> <span class="nv">x</span> : A, B x)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chkc9" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chkc9"><span class="highlight">{</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hinhab</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, inhabited (B x)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">choose</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">DependentFunctionalChoice</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">_</span> : B x, <span class="kt">True</span></span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chkca" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chkca"><span class="highlight"><span class="nb">intros</span> x;<span class="nb">apply</span> inhabited_sig_to_exists.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hinhab</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, inhabited (B x0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">choose</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">DependentFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">inhabited {_ : B x | <span class="kt">True</span>}</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chkcb" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chkcb"><span class="highlight"><span class="nb">refine</span> (inhabited_covariant _ (Hinhab x)).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hinhab</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, inhabited (B x0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">choose</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">DependentFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">B x -&gt; {_ : B x | <span class="kt">True</span>}</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">intros</span> y;<span class="kr">exists</span> <span class="nv">y</span>;<span class="bp">exact</span> I.</span></span><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chkcc" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chkcc"><span class="highlight">}</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hinhab</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, inhabited (B x)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">choose</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">DependentFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">_</span> : B x, <span class="kt">True</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">inhabited (<span class="kr">forall</span> <span class="nv">x</span> : A, B x)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chkcd" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chkcd"><span class="highlight"><span class="nb">apply</span> choose <span class="kr">in</span> Hexists.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hinhab</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, inhabited (B x)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">choose</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">DependentFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">exists</span> <span class="nv">_</span> : <span class="kr">forall</span> <span class="nv">x</span> : A, B x, A -&gt; <span class="kt">True</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">inhabited (<span class="kr">forall</span> <span class="nv">x</span> : A, B x)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chkce" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chkce"><span class="highlight"><span class="nb">destruct</span> Hexists <span class="kr">as</span> [f _].</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hinhab</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, inhabited (B x)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">choose</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">DependentFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, B x</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">inhabited (<span class="kr">forall</span> <span class="nv">x</span> : A, B x)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">exact</span> (inhabits f).</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chkcf" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chkcf"><span class="highlight"><span class="kn">Theorem</span> <span class="nf">inhabited_forall_commute_to_functional_choice</span> :
  InhabitedForallCommute -&gt; FunctionalChoice.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">InhabitedForallCommute -&gt; FunctionalChoice</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chkd0" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chkd0"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">InhabitedForallCommute -&gt; FunctionalChoice</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chkd1" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chkd1"><span class="highlight"><span class="nb">intros</span> choose A B R Hexists.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">choose</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">InhabitedForallCommute</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, R x y</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f</span> : A -&gt; B, <span class="kr">forall</span> <span class="nv">x</span> : A, R x (f x)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chkd2" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chkd2"><span class="highlight"><span class="nb">assert</span> (Hinhab : <span class="kr">forall</span> <span class="nv">x</span>, inhabited {y : B | R x y}).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">choose</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">InhabitedForallCommute</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, R x y</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, inhabited {y : B | R x y}</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chkd3" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">choose</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">InhabitedForallCommute</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hinhab</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, inhabited {y : B | R x y}</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chkd3"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f</span> : A -&gt; B, <span class="kr">forall</span> <span class="nv">x</span> : A, R x (f x)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chkd4" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chkd4"><span class="highlight">{</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">choose</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">InhabitedForallCommute</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, R x y</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, inhabited {y : B | R x y}</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">intros</span> x;<span class="nb">apply</span> exists_to_inhabited_sig;<span class="nb">trivial</span>.</span></span><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chkd5" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chkd5"><span class="highlight">}</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">choose</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">InhabitedForallCommute</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hinhab</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, inhabited {y : B | R x y}</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f</span> : A -&gt; B, <span class="kr">forall</span> <span class="nv">x</span> : A, R x (f x)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chkd6" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chkd6"><span class="highlight"><span class="nb">apply</span> choose <span class="kr">in</span> Hinhab.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">choose</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">InhabitedForallCommute</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hinhab</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">inhabited (<span class="kr">forall</span> <span class="nv">x</span> : A, {y : B | R x y})</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f</span> : A -&gt; B, <span class="kr">forall</span> <span class="nv">x</span> : A, R x (f x)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chkd7" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chkd7"><span class="highlight"><span class="nb">destruct</span> Hinhab <span class="kr">as</span> [f].</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">choose</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">InhabitedForallCommute</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, {y : B | R x y}</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f0</span> : A -&gt; B, <span class="kr">forall</span> <span class="nv">x</span> : A, R x (f0 x)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chkd8" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chkd8"><span class="highlight"><span class="kr">exists</span> (<span class="nv">fun</span> <span class="nv">x</span> =&gt; proj1_sig (f x)).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">choose</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">InhabitedForallCommute</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, {y : B | R x y}</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, R x (proj1_sig (f x))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">exact</span> (<span class="kr">fun</span> <span class="nv">x</span> =&gt; proj2_sig (f x)).</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span></span></pre><div class="doc">
<a name="lab15"></a><h2 class="section">Reification of dependent and non dependent functional relation  are equivalent</h2>
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --></pre><div class="doc">
The easy part 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chkd9" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chkd9"><span class="highlight"><span class="kn">Theorem</span> <span class="nf">dep_non_dep_functional_rel_reification</span> :
  DependentFunctionalRelReification -&gt; FunctionalRelReification.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">DependentFunctionalRelReification -&gt;
FunctionalRelReification</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chkda" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chkda"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">DependentFunctionalRelReification -&gt;
FunctionalRelReification</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chkdb" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chkdb"><span class="highlight"><span class="nb">intros</span> DepFunReify A B R H.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">DepFunReify</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">DependentFunctionalRelReification</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> ! y : B, R x y</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f</span> : A -&gt; B, <span class="kr">forall</span> <span class="nv">x</span> : A, R x (f x)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chkdc" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chkdc"><span class="highlight"><span class="nb">destruct</span> (DepFunReify A (<span class="kr">fun</span> <span class="nv">_</span> =&gt; B) R H) <span class="kr">as</span> (f,Hf).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">DepFunReify</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">DependentFunctionalRelReification</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> ! y : B, R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, R x (f x)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f0</span> : A -&gt; B, <span class="kr">forall</span> <span class="nv">x</span> : A, R x (f0 x)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kr">exists</span> <span class="nv">f</span>; <span class="nb">trivial</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span></span></pre><div class="doc">
Deriving choice on product types requires some computation on
    singleton propositional types, so we need computational
    conjunction projections and dependent elimination of conjunction
    and equality 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chkdd" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chkdd"><span class="highlight"><span class="kn">Theorem</span> <span class="nf">non_dep_dep_functional_rel_reification</span> :
  FunctionalRelReification -&gt; DependentFunctionalRelReification.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">FunctionalRelReification -&gt;
DependentFunctionalRelReification</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chkde" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chkde"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">FunctionalRelReification -&gt;
DependentFunctionalRelReification</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chkdf" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chkdf"><span class="highlight"><span class="nb">intros</span> AC_fun A B R H.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">AC_fun</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalRelReification</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, B x -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> ! y : B x, R x y</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f</span> : <span class="kr">forall</span> <span class="nv">x</span> : A, B x, <span class="kr">forall</span> <span class="nv">x</span> : A, R x (f x)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chke0" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chke0"><span class="highlight"><span class="nb">pose</span> (B&#39; := { x:A &amp; B x }).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">AC_fun</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalRelReification</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, B x -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> ! y : B x, R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{x : A &amp; B x}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f</span> : <span class="kr">forall</span> <span class="nv">x</span> : A, B x, <span class="kr">forall</span> <span class="nv">x</span> : A, R x (f x)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chke1" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chke1"><span class="highlight"><span class="nb">pose</span> (R&#39; := <span class="kr">fun</span> (<span class="nv">x</span>:A) (<span class="nv">y</span>:B&#39;) =&gt; projT1 y = x /\ R (projT1 y) (projT2 y)).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">AC_fun</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalRelReification</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, B x -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> ! y : B x, R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{x : A &amp; B x}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x</span> : A) (<span class="nv">y</span> : B&#39;) =&gt;
projT1 y = x /\ R (projT1 y) (projT2 y)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B&#39; -&gt; <span class="kt">Prop</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f</span> : <span class="kr">forall</span> <span class="nv">x</span> : A, B x, <span class="kr">forall</span> <span class="nv">x</span> : A, R x (f x)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chke2" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chke2"><span class="highlight"><span class="nb">destruct</span> (AC_fun A B&#39; R&#39;) <span class="kr">as</span> (f,Hf).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">AC_fun</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalRelReification</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, B x -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> ! y : B x, R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{x : A &amp; B x}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x</span> : A) (<span class="nv">y</span> : B&#39;) =&gt;
projT1 y = x /\ R (projT1 y) (projT2 y)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B&#39; -&gt; <span class="kt">Prop</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> ! y : B&#39;, R&#39; x y</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chke3" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">AC_fun</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalRelReification</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, B x -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> ! y : B x, R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{x : A &amp; B x}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x</span> : A) (<span class="nv">y</span> : B&#39;) =&gt;
projT1 y = x /\ R (projT1 y) (projT2 y)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B&#39; -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, R&#39; x (f x)</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chke3"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f0</span> : <span class="kr">forall</span> <span class="nv">x</span> : A, B x,
  <span class="kr">forall</span> <span class="nv">x</span> : A, R x (f0 x)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chke4" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chke4"><span class="highlight"><span class="nb">intros</span> x.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">AC_fun</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalRelReification</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, B x0 -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> ! y : B x0, R x0 y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{x0 : A &amp; B x0}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x0</span> : A) (<span class="nv">y</span> : B&#39;) =&gt;
projT1 y = x0 /\ R (projT1 y) (projT2 y)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B&#39; -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> ! y : B&#39;, R&#39; x y</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chke5" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">AC_fun</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalRelReification</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, B x -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> ! y : B x, R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{x : A &amp; B x}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x</span> : A) (<span class="nv">y</span> : B&#39;) =&gt;
projT1 y = x /\ R (projT1 y) (projT2 y)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B&#39; -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, R&#39; x (f x)</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chke5"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f0</span> : <span class="kr">forall</span> <span class="nv">x</span> : A, B x,
  <span class="kr">forall</span> <span class="nv">x</span> : A, R x (f0 x)</span></div></blockquote></div></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chke6" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chke6"><span class="highlight"><span class="nb">destruct</span> (H x) <span class="kr">as</span> (y,(Hy,Huni)).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">AC_fun</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalRelReification</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, B x0 -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> ! y0 : B x0, R x0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{x0 : A &amp; B x0}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x0</span> : A) (<span class="nv">y0</span> : B&#39;) =&gt;
projT1 y0 = x0 /\ R (projT1 y0) (projT2 y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B&#39; -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Huni</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x&#39;</span> : B x, R x x&#39; -&gt; y = x&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> ! y0 : B&#39;, R&#39; x y0</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chke7" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">AC_fun</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalRelReification</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, B x -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> ! y : B x, R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{x : A &amp; B x}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x</span> : A) (<span class="nv">y</span> : B&#39;) =&gt;
projT1 y = x /\ R (projT1 y) (projT2 y)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B&#39; -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, R&#39; x (f x)</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chke7"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f0</span> : <span class="kr">forall</span> <span class="nv">x</span> : A, B x,
  <span class="kr">forall</span> <span class="nv">x</span> : A, R x (f0 x)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chke8" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chke8"><span class="highlight"><span class="kr">exists</span> (<span class="nv">existT</span> (<span class="kr">fun</span> <span class="nv">x</span> =&gt; B x) x y).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">AC_fun</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalRelReification</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, B x0 -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> ! y0 : B x0, R x0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{x0 : A &amp; B x0}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x0</span> : A) (<span class="nv">y0</span> : B&#39;) =&gt;
projT1 y0 = x0 /\ R (projT1 y0) (projT2 y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B&#39; -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Huni</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x&#39;</span> : B x, R x x&#39; -&gt; y = x&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">unique (<span class="kr">fun</span> <span class="nv">y0</span> : B&#39; =&gt; R&#39; x y0)
  (existT (<span class="kr">fun</span> <span class="nv">x0</span> : A =&gt; B x0) x y)</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chke9" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">AC_fun</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalRelReification</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, B x -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> ! y : B x, R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{x : A &amp; B x}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x</span> : A) (<span class="nv">y</span> : B&#39;) =&gt;
projT1 y = x /\ R (projT1 y) (projT2 y)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B&#39; -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, R&#39; x (f x)</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chke9"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f0</span> : <span class="kr">forall</span> <span class="nv">x</span> : A, B x,
  <span class="kr">forall</span> <span class="nv">x</span> : A, R x (f0 x)</span></div></blockquote></div></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chkea" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chkea"><span class="highlight"><span class="kp">repeat</span> <span class="nb">split</span>; <span class="nb">trivial</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">AC_fun</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalRelReification</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, B x0 -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> ! y0 : B x0, R x0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{x0 : A &amp; B x0}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x0</span> : A) (<span class="nv">y0</span> : B&#39;) =&gt;
projT1 y0 = x0 /\ R (projT1 y0) (projT2 y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B&#39; -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Huni</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x&#39;</span> : B x, R x x&#39; -&gt; y = x&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x&#39;</span> : B&#39;,
R&#39; x x&#39; -&gt; existT (<span class="kr">fun</span> <span class="nv">x0</span> : A =&gt; B x0) x y = x&#39;</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chkeb" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">AC_fun</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalRelReification</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, B x -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> ! y : B x, R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{x : A &amp; B x}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x</span> : A) (<span class="nv">y</span> : B&#39;) =&gt;
projT1 y = x /\ R (projT1 y) (projT2 y)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B&#39; -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, R&#39; x (f x)</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chkeb"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f0</span> : <span class="kr">forall</span> <span class="nv">x</span> : A, B x,
  <span class="kr">forall</span> <span class="nv">x</span> : A, R x (f0 x)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chkec" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chkec"><span class="highlight"><span class="nb">intros</span> (x&#39;,y&#39;) (Heqx&#39;,Hy&#39;).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">AC_fun</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalRelReification</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, B x0 -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> ! y0 : B x0, R x0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{x0 : A &amp; B x0}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x0</span> : A) (<span class="nv">y0</span> : B&#39;) =&gt;
projT1 y0 = x0 /\ R (projT1 y0) (projT2 y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B&#39; -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Huni</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x&#39;0</span> : B x, R x x&#39;0 -&gt; y = x&#39;0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heqx'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">projT1 (existT (<span class="kr">fun</span> <span class="nv">x0</span> : A =&gt; B x0) x&#39; y&#39;) = x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hy'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R (projT1 (existT (<span class="kr">fun</span> <span class="nv">x0</span> : A =&gt; B x0) x&#39; y&#39;))
  (projT2 (existT (<span class="kr">fun</span> <span class="nv">x0</span> : A =&gt; B x0) x&#39; y&#39;))</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">existT (<span class="kr">fun</span> <span class="nv">x0</span> : A =&gt; B x0) x y =
existT (<span class="kr">fun</span> <span class="nv">x0</span> : A =&gt; B x0) x&#39; y&#39;</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chked" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">AC_fun</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalRelReification</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, B x -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> ! y : B x, R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{x : A &amp; B x}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x</span> : A) (<span class="nv">y</span> : B&#39;) =&gt;
projT1 y = x /\ R (projT1 y) (projT2 y)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B&#39; -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, R&#39; x (f x)</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chked"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f0</span> : <span class="kr">forall</span> <span class="nv">x</span> : A, B x,
  <span class="kr">forall</span> <span class="nv">x</span> : A, R x (f0 x)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chkee" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chkee"><span class="highlight"><span class="nb">simpl</span> <span class="kr">in</span> *.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">AC_fun</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalRelReification</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, B x0 -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> ! y0 : B x0, R x0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{x0 : A &amp; B x0}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x0</span> : A) (<span class="nv">y0</span> : B&#39;) =&gt;
projT1 y0 = x0 /\ R (projT1 y0) (projT2 y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B&#39; -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Huni</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x&#39;0</span> : B x, R x x&#39;0 -&gt; y = x&#39;0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heqx'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">x&#39; = x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hy'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R x&#39; y&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">existT (<span class="kr">fun</span> <span class="nv">x0</span> : A =&gt; B x0) x y =
existT (<span class="kr">fun</span> <span class="nv">x0</span> : A =&gt; B x0) x&#39; y&#39;</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chkef" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">AC_fun</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalRelReification</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, B x -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> ! y : B x, R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{x : A &amp; B x}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x</span> : A) (<span class="nv">y</span> : B&#39;) =&gt;
projT1 y = x /\ R (projT1 y) (projT2 y)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B&#39; -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, R&#39; x (f x)</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chkef"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f0</span> : <span class="kr">forall</span> <span class="nv">x</span> : A, B x,
  <span class="kr">forall</span> <span class="nv">x</span> : A, R x (f0 x)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chkf0" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chkf0"><span class="highlight"><span class="nb">destruct</span> Heqx&#39;.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">AC_fun</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalRelReification</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, B x -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> ! y0 : B x, R x y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{x : A &amp; B x}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x</span> : A) (<span class="nv">y0</span> : B&#39;) =&gt;
projT1 y0 = x /\ R (projT1 y0) (projT2 y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B&#39; -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R x&#39; y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Huni</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x&#39;0</span> : B x&#39;, R x&#39; x&#39;0 -&gt; y = x&#39;0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hy'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R x&#39; y&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">existT (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; B x) x&#39; y =
existT (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; B x) x&#39; y&#39;</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chkf1" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">AC_fun</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalRelReification</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, B x -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> ! y : B x, R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{x : A &amp; B x}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x</span> : A) (<span class="nv">y</span> : B&#39;) =&gt;
projT1 y = x /\ R (projT1 y) (projT2 y)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B&#39; -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, R&#39; x (f x)</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chkf1"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f0</span> : <span class="kr">forall</span> <span class="nv">x</span> : A, B x,
  <span class="kr">forall</span> <span class="nv">x</span> : A, R x (f0 x)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chkf2" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chkf2"><span class="highlight"><span class="nb">rewrite</span> (Huni y&#39;); <span class="nb">trivial</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">AC_fun</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalRelReification</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, B x -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> ! y : B x, R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{x : A &amp; B x}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x</span> : A) (<span class="nv">y</span> : B&#39;) =&gt;
projT1 y = x /\ R (projT1 y) (projT2 y)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B&#39; -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, R&#39; x (f x)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f0</span> : <span class="kr">forall</span> <span class="nv">x</span> : A, B x,
  <span class="kr">forall</span> <span class="nv">x</span> : A, R x (f0 x)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chkf3" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chkf3"><span class="highlight"><span class="kr">exists</span> (<span class="nv">fun</span> <span class="nv">x</span> =&gt; eq_rect _ _ (projT2 (f x)) _ (proj1_inf (Hf x))).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">AC_fun</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalRelReification</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, B x -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> ! y : B x, R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{x : A &amp; B x}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x</span> : A) (<span class="nv">y</span> : B&#39;) =&gt;
projT1 y = x /\ R (projT1 y) (projT2 y)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B&#39; -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, R&#39; x (f x)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A,
R x
  (eq_rect (projT1 (f x)) (<span class="kr">fun</span> <span class="nv">x0</span> : A =&gt; B x0)
     (projT2 (f x)) x (proj1_inf (Hf x)))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chkf4" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chkf4"><span class="highlight"><span class="nb">intro</span> x; <span class="nb">destruct</span> (Hf x) <span class="kr">as</span> (Heq,HR) <span class="nb">using</span> and_indd.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">AC_fun</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalRelReification</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, B x0 -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> ! y : B x0, R x0 y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{x0 : A &amp; B x0}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x0</span> : A) (<span class="nv">y</span> : B&#39;) =&gt;
projT1 y = x0 /\ R (projT1 y) (projT2 y)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B&#39; -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, R&#39; x0 (f x0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">projT1 (f x) = x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">HR</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R (projT1 (f x)) (projT2 (f x))</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">R x
  (eq_rect (projT1 (f x)) (<span class="kr">fun</span> <span class="nv">x0</span> : A =&gt; B x0)
     (projT2 (f x)) x (proj1_inf (conj Heq HR)))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chkf5" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chkf5"><span class="highlight"><span class="nb">destruct</span> (f x); <span class="nb">simpl</span> <span class="kr">in</span> *.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">AC_fun</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalRelReification</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x1</span> : A, B x1 -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x1</span> : A, <span class="kr">exists</span> ! y : B x1, R x1 y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{x1 : A &amp; B x1}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x1</span> : A) (<span class="nv">y</span> : B&#39;) =&gt;
projT1 y = x1 /\ R (projT1 y) (projT2 y)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B&#39; -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x1</span> : A, R&#39; x1 (f x1)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">x0 = x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">HR</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R x0 b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">R x (eq_rect x0 (<span class="kr">fun</span> <span class="nv">x1</span> : A =&gt; B x1) b x Heq)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">destruct</span> Heq <span class="nb">using</span> eq_indd; <span class="nb">trivial</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chkf6" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chkf6"><span class="highlight"><span class="kn">Corollary</span> <span class="nf">dep_iff_non_dep_functional_rel_reification</span> :
  FunctionalRelReification &lt;-&gt; DependentFunctionalRelReification.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">FunctionalRelReification &lt;-&gt;
DependentFunctionalRelReification</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chkf7" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chkf7"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">FunctionalRelReification &lt;-&gt;
DependentFunctionalRelReification</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">intuition</span> <span class="nb">auto using</span>
    non_dep_dep_functional_rel_reification,
    dep_non_dep_functional_rel_reification.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
<span class="sd">(**********************************************************************)</span></span></span></pre><div class="doc">
<a name="lab16"></a><h1 class="section">Non contradiction of constructive descriptions wrt functional axioms of choice</h1>
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --></pre><div class="doc">
<a name="lab17"></a><h2 class="section">Non contradiction of indefinite description</h2>
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chkf8" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chkf8"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">relative_non_contradiction_of_indefinite_descr</span> :
  <span class="kr">forall</span> <span class="nv">C</span>:<span class="kt">Prop</span>, (ConstructiveIndefiniteDescription -&gt; C)
  -&gt; (FunctionalChoice -&gt; C).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">C</span> : <span class="kt">Prop</span>,
(ConstructiveIndefiniteDescription -&gt; C) -&gt;
FunctionalChoice -&gt; C</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chkf9" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chkf9"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">C</span> : <span class="kt">Prop</span>,
(ConstructiveIndefiniteDescription -&gt; C) -&gt;
FunctionalChoice -&gt; C</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chkfa" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chkfa"><span class="highlight"><span class="nb">intros</span> C H AC_fun.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">C</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ConstructiveIndefiniteDescription -&gt; C</span></span></span></div><div class="goal-hyp"><span class="hyp-names">AC_fun</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">C</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chkfb" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chkfb"><span class="highlight"><span class="nb">assert</span> (AC_depfun := non_dep_dep_functional_choice AC_fun).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">C</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ConstructiveIndefiniteDescription -&gt; C</span></span></span></div><div class="goal-hyp"><span class="hyp-names">AC_fun</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">AC_depfun</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">DependentFunctionalChoice</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">C</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chkfc" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chkfc"><span class="highlight"><span class="nb">pose</span> (A0 := { A:<span class="kt">Type</span> &amp; { P:A-&gt;<span class="kt">Prop</span> &amp; <span class="kr">exists</span> <span class="nv">x</span>, P x }}).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">C</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ConstructiveIndefiniteDescription -&gt; C</span></span></span></div><div class="goal-hyp"><span class="hyp-names">AC_fun</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">AC_depfun</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">DependentFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A0</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{A : <span class="kt">Type</span> &amp; {P : A -&gt; <span class="kt">Prop</span> &amp; <span class="kr">exists</span> <span class="nv">x</span> : A, P x}}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">C</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chkfd" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chkfd"><span class="highlight"><span class="nb">pose</span> (B0 := <span class="kr">fun</span> <span class="nv">x</span>:A0 =&gt; projT1 x).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">C</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ConstructiveIndefiniteDescription -&gt; C</span></span></span></div><div class="goal-hyp"><span class="hyp-names">AC_fun</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">AC_depfun</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">DependentFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A0</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{A : <span class="kt">Type</span> &amp; {P : A -&gt; <span class="kt">Prop</span> &amp; <span class="kr">exists</span> <span class="nv">x</span> : A, P x}}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">B0</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">x</span> : A0 =&gt; projT1 x</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A0 -&gt; <span class="kt">Type</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">C</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chkfe" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chkfe"><span class="highlight"><span class="nb">pose</span> (R0 := <span class="kr">fun</span> <span class="nv">x</span>:A0 =&gt; <span class="kr">fun</span> <span class="nv">y</span>:B0 x =&gt; projT1 (projT2 x) y).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">C</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ConstructiveIndefiniteDescription -&gt; C</span></span></span></div><div class="goal-hyp"><span class="hyp-names">AC_fun</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">AC_depfun</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">DependentFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A0</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{A : <span class="kt">Type</span> &amp; {P : A -&gt; <span class="kt">Prop</span> &amp; <span class="kr">exists</span> <span class="nv">x</span> : A, P x}}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">B0</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">x</span> : A0 =&gt; projT1 x</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A0 -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R0</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x</span> : A0) (<span class="nv">y</span> : B0 x) =&gt; projT1 (projT2 x) y</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A0, B0 x -&gt; <span class="kt">Prop</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">C</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chkff" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chkff"><span class="highlight"><span class="nb">pose</span> (H0 := <span class="kr">fun</span> <span class="nv">x</span>:A0 =&gt; projT2 (projT2 x)).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">C</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ConstructiveIndefiniteDescription -&gt; C</span></span></span></div><div class="goal-hyp"><span class="hyp-names">AC_fun</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">AC_depfun</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">DependentFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A0</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{A : <span class="kt">Type</span> &amp; {P : A -&gt; <span class="kt">Prop</span> &amp; <span class="kr">exists</span> <span class="nv">x</span> : A, P x}}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">B0</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">x</span> : A0 =&gt; projT1 x</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A0 -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R0</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x</span> : A0) (<span class="nv">y</span> : B0 x) =&gt; projT1 (projT2 x) y</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A0, B0 x -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">x</span> : A0 =&gt; projT2 (projT2 x)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A0,
(<span class="kr">fun</span> <span class="nv">P</span> : projT1 x -&gt; <span class="kt">Prop</span> =&gt;
 <span class="kr">exists</span> <span class="nv">x0</span> : projT1 x, P x0) 
  (projT1 (projT2 x))</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">C</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk100" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk100"><span class="highlight"><span class="nb">destruct</span> (AC_depfun A0 B0 R0 H0) <span class="kr">as</span> (f, Hf).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">C</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ConstructiveIndefiniteDescription -&gt; C</span></span></span></div><div class="goal-hyp"><span class="hyp-names">AC_fun</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">AC_depfun</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">DependentFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A0</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{A : <span class="kt">Type</span> &amp; {P : A -&gt; <span class="kt">Prop</span> &amp; <span class="kr">exists</span> <span class="nv">x</span> : A, P x}}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">B0</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">x</span> : A0 =&gt; projT1 x</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A0 -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R0</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x</span> : A0) (<span class="nv">y</span> : B0 x) =&gt; projT1 (projT2 x) y</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A0, B0 x -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">x</span> : A0 =&gt; projT2 (projT2 x)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A0,
(<span class="kr">fun</span> <span class="nv">P</span> : projT1 x -&gt; <span class="kt">Prop</span> =&gt;
 <span class="kr">exists</span> <span class="nv">x0</span> : projT1 x, P x0) 
  (projT1 (projT2 x))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A0, B0 x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A0, R0 x (f x)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">C</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk101" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk101"><span class="highlight"><span class="nb">apply</span> H.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">C</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ConstructiveIndefiniteDescription -&gt; C</span></span></span></div><div class="goal-hyp"><span class="hyp-names">AC_fun</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">AC_depfun</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">DependentFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A0</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{A : <span class="kt">Type</span> &amp; {P : A -&gt; <span class="kt">Prop</span> &amp; <span class="kr">exists</span> <span class="nv">x</span> : A, P x}}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">B0</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">x</span> : A0 =&gt; projT1 x</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A0 -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R0</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x</span> : A0) (<span class="nv">y</span> : B0 x) =&gt; projT1 (projT2 x) y</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A0, B0 x -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">x</span> : A0 =&gt; projT2 (projT2 x)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A0,
(<span class="kr">fun</span> <span class="nv">P</span> : projT1 x -&gt; <span class="kt">Prop</span> =&gt;
 <span class="kr">exists</span> <span class="nv">x0</span> : projT1 x, P x0) 
  (projT1 (projT2 x))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A0, B0 x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A0, R0 x (f x)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">ConstructiveIndefiniteDescription</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk102" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk102"><span class="highlight"><span class="nb">intros</span> A P H&#39;.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">C</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ConstructiveIndefiniteDescription -&gt; C</span></span></span></div><div class="goal-hyp"><span class="hyp-names">AC_fun</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">AC_depfun</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">DependentFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A0</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{A1 : <span class="kt">Type</span> &amp;
{P0 : A1 -&gt; <span class="kt">Prop</span> &amp; <span class="kr">exists</span> <span class="nv">x</span> : A1, P0 x}}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">B0</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">x</span> : A0 =&gt; projT1 x</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A0 -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R0</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x</span> : A0) (<span class="nv">y</span> : B0 x) =&gt; projT1 (projT2 x) y</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A0, B0 x -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">x</span> : A0 =&gt; projT2 (projT2 x)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A0,
(<span class="kr">fun</span> <span class="nv">P0</span> : projT1 x -&gt; <span class="kt">Prop</span> =&gt;
 <span class="kr">exists</span> <span class="nv">x0</span> : projT1 x, P0 x0) 
  (projT1 (projT2 x))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A0, B0 x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A0, R0 x (f x)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">exists</span> <span class="nv">x</span> : A, P x</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">{x : A | P x}</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk103" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk103"><span class="highlight"><span class="kr">exists</span> (<span class="nv">f</span> (existT _ A (existT _ P H&#39;))).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">C</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ConstructiveIndefiniteDescription -&gt; C</span></span></span></div><div class="goal-hyp"><span class="hyp-names">AC_fun</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">AC_depfun</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">DependentFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A0</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{A1 : <span class="kt">Type</span> &amp;
{P0 : A1 -&gt; <span class="kt">Prop</span> &amp; <span class="kr">exists</span> <span class="nv">x</span> : A1, P0 x}}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">B0</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">x</span> : A0 =&gt; projT1 x</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A0 -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R0</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x</span> : A0) (<span class="nv">y</span> : B0 x) =&gt; projT1 (projT2 x) y</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A0, B0 x -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">x</span> : A0 =&gt; projT2 (projT2 x)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A0,
(<span class="kr">fun</span> <span class="nv">P0</span> : projT1 x -&gt; <span class="kt">Prop</span> =&gt;
 <span class="kr">exists</span> <span class="nv">x0</span> : projT1 x, P0 x0) 
  (projT1 (projT2 x))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A0, B0 x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A0, R0 x (f x)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">exists</span> <span class="nv">x</span> : A, P x</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">P
  (f
     (existT
        (<span class="kr">fun</span> <span class="nv">A1</span> : <span class="kt">Type</span> =&gt;
         {P0 : A1 -&gt; <span class="kt">Prop</span> &amp; <span class="kr">exists</span> <span class="nv">x</span> : A1, P0 x}) A
        (existT
           (<span class="kr">fun</span> <span class="nv">P0</span> : A -&gt; <span class="kt">Prop</span> =&gt; <span class="kr">exists</span> <span class="nv">x</span> : A, P0 x)
           P H&#39;)))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk104" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk104"><span class="highlight"><span class="nb">pose</span> (Hf&#39; := Hf (existT _ A (existT _ P H&#39;))).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">C</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ConstructiveIndefiniteDescription -&gt; C</span></span></span></div><div class="goal-hyp"><span class="hyp-names">AC_fun</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">AC_depfun</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">DependentFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A0</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{A1 : <span class="kt">Type</span> &amp;
{P0 : A1 -&gt; <span class="kt">Prop</span> &amp; <span class="kr">exists</span> <span class="nv">x</span> : A1, P0 x}}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">B0</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">x</span> : A0 =&gt; projT1 x</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A0 -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R0</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x</span> : A0) (<span class="nv">y</span> : B0 x) =&gt; projT1 (projT2 x) y</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A0, B0 x -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">x</span> : A0 =&gt; projT2 (projT2 x)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A0,
(<span class="kr">fun</span> <span class="nv">P0</span> : projT1 x -&gt; <span class="kt">Prop</span> =&gt;
 <span class="kr">exists</span> <span class="nv">x0</span> : projT1 x, P0 x0) 
  (projT1 (projT2 x))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A0, B0 x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A0, R0 x (f x)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">exists</span> <span class="nv">x</span> : A, P x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">Hf
  (existT
     (<span class="kr">fun</span> <span class="nv">A1</span> : <span class="kt">Type</span> =&gt;
      {P0 : A1 -&gt; <span class="kt">Prop</span> &amp; <span class="kr">exists</span> <span class="nv">x</span> : A1, P0 x}) A
     (existT
        (<span class="kr">fun</span> <span class="nv">P0</span> : A -&gt; <span class="kt">Prop</span> =&gt; <span class="kr">exists</span> <span class="nv">x</span> : A, P0 x)
        P H&#39;))</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R0
  (existT
     (<span class="kr">fun</span> <span class="nv">A1</span> : <span class="kt">Type</span> =&gt;
      {P0 : A1 -&gt; <span class="kt">Prop</span> &amp; <span class="kr">exists</span> <span class="nv">x</span> : A1, P0 x}) A
     (existT
        (<span class="kr">fun</span> <span class="nv">P0</span> : A -&gt; <span class="kt">Prop</span> =&gt;
         <span class="kr">exists</span> <span class="nv">x</span> : A, P0 x) P H&#39;))
  (f
     (existT
        (<span class="kr">fun</span> <span class="nv">A1</span> : <span class="kt">Type</span> =&gt;
         {P0 : A1 -&gt; <span class="kt">Prop</span> &amp; <span class="kr">exists</span> <span class="nv">x</span> : A1, P0 x})
        A
        (existT
           (<span class="kr">fun</span> <span class="nv">P0</span> : A -&gt; <span class="kt">Prop</span> =&gt;
            <span class="kr">exists</span> <span class="nv">x</span> : A, P0 x) P H&#39;)))</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">P
  (f
     (existT
        (<span class="kr">fun</span> <span class="nv">A1</span> : <span class="kt">Type</span> =&gt;
         {P0 : A1 -&gt; <span class="kt">Prop</span> &amp; <span class="kr">exists</span> <span class="nv">x</span> : A1, P0 x}) A
        (existT
           (<span class="kr">fun</span> <span class="nv">P0</span> : A -&gt; <span class="kt">Prop</span> =&gt; <span class="kr">exists</span> <span class="nv">x</span> : A, P0 x)
           P H&#39;)))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">assumption</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk105" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk105"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">constructive_indefinite_descr_fun_choice</span> :
  ConstructiveIndefiniteDescription -&gt; FunctionalChoice.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">ConstructiveIndefiniteDescription -&gt; FunctionalChoice</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk106" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk106"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">ConstructiveIndefiniteDescription -&gt; FunctionalChoice</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk107" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk107"><span class="highlight"><span class="nb">intros</span> IndefDescr A B R H.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">IndefDescr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ConstructiveIndefiniteDescription</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, R x y</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f</span> : A -&gt; B, <span class="kr">forall</span> <span class="nv">x</span> : A, R x (f x)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk108" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk108"><span class="highlight"><span class="kr">exists</span> (<span class="nv">fun</span> <span class="nv">x</span> =&gt; proj1_sig (IndefDescr B (R x) (H x))).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">IndefDescr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ConstructiveIndefiniteDescription</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, R x y</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A,
R x (proj1_sig (IndefDescr B (R x) (H x)))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk109" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk109"><span class="highlight"><span class="nb">intro</span> x.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">IndefDescr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ConstructiveIndefiniteDescription</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, R x0 y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">R x (proj1_sig (IndefDescr B (R x) (H x)))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">apply</span> (proj2_sig (IndefDescr B (R x) (H x))).</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span></span></pre><div class="doc">
<a name="lab18"></a><h2 class="section">Non contradiction of definite description</h2>
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk10a" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk10a"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">relative_non_contradiction_of_definite_descr</span> :
  <span class="kr">forall</span> <span class="nv">C</span>:<span class="kt">Prop</span>, (ConstructiveDefiniteDescription -&gt; C)
  -&gt; (FunctionalRelReification -&gt; C).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">C</span> : <span class="kt">Prop</span>,
(ConstructiveDefiniteDescription -&gt; C) -&gt;
FunctionalRelReification -&gt; C</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk10b" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk10b"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">C</span> : <span class="kt">Prop</span>,
(ConstructiveDefiniteDescription -&gt; C) -&gt;
FunctionalRelReification -&gt; C</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk10c" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk10c"><span class="highlight"><span class="nb">intros</span> C H FunReify.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">C</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ConstructiveDefiniteDescription -&gt; C</span></span></span></div><div class="goal-hyp"><span class="hyp-names">FunReify</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalRelReification</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">C</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk10d" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk10d"><span class="highlight"><span class="nb">assert</span> (DepFunReify := non_dep_dep_functional_rel_reification FunReify).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">C</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ConstructiveDefiniteDescription -&gt; C</span></span></span></div><div class="goal-hyp"><span class="hyp-names">FunReify</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalRelReification</span></span></span></div><div class="goal-hyp"><span class="hyp-names">DepFunReify</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">DependentFunctionalRelReification</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">C</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk10e" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk10e"><span class="highlight"><span class="nb">pose</span> (A0 := { A:<span class="kt">Type</span> &amp; { P:A-&gt;<span class="kt">Prop</span> &amp; <span class="kr">exists</span>! x, P x }}).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">C</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ConstructiveDefiniteDescription -&gt; C</span></span></span></div><div class="goal-hyp"><span class="hyp-names">FunReify</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalRelReification</span></span></span></div><div class="goal-hyp"><span class="hyp-names">DepFunReify</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">DependentFunctionalRelReification</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A0</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{A : <span class="kt">Type</span> &amp; {P : A -&gt; <span class="kt">Prop</span> &amp; <span class="kr">exists</span> ! x : A, P x}}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">C</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk10f" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk10f"><span class="highlight"><span class="nb">pose</span> (B0 := <span class="kr">fun</span> <span class="nv">x</span>:A0 =&gt; projT1 x).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">C</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ConstructiveDefiniteDescription -&gt; C</span></span></span></div><div class="goal-hyp"><span class="hyp-names">FunReify</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalRelReification</span></span></span></div><div class="goal-hyp"><span class="hyp-names">DepFunReify</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">DependentFunctionalRelReification</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A0</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{A : <span class="kt">Type</span> &amp; {P : A -&gt; <span class="kt">Prop</span> &amp; <span class="kr">exists</span> ! x : A, P x}}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">B0</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">x</span> : A0 =&gt; projT1 x</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A0 -&gt; <span class="kt">Type</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">C</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk110" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk110"><span class="highlight"><span class="nb">pose</span> (R0 := <span class="kr">fun</span> <span class="nv">x</span>:A0 =&gt; <span class="kr">fun</span> <span class="nv">y</span>:B0 x =&gt; projT1 (projT2 x) y).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">C</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ConstructiveDefiniteDescription -&gt; C</span></span></span></div><div class="goal-hyp"><span class="hyp-names">FunReify</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalRelReification</span></span></span></div><div class="goal-hyp"><span class="hyp-names">DepFunReify</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">DependentFunctionalRelReification</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A0</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{A : <span class="kt">Type</span> &amp; {P : A -&gt; <span class="kt">Prop</span> &amp; <span class="kr">exists</span> ! x : A, P x}}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">B0</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">x</span> : A0 =&gt; projT1 x</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A0 -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R0</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x</span> : A0) (<span class="nv">y</span> : B0 x) =&gt; projT1 (projT2 x) y</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A0, B0 x -&gt; <span class="kt">Prop</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">C</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk111" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk111"><span class="highlight"><span class="nb">pose</span> (H0 := <span class="kr">fun</span> <span class="nv">x</span>:A0 =&gt; projT2 (projT2 x)).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">C</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ConstructiveDefiniteDescription -&gt; C</span></span></span></div><div class="goal-hyp"><span class="hyp-names">FunReify</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalRelReification</span></span></span></div><div class="goal-hyp"><span class="hyp-names">DepFunReify</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">DependentFunctionalRelReification</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A0</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{A : <span class="kt">Type</span> &amp; {P : A -&gt; <span class="kt">Prop</span> &amp; <span class="kr">exists</span> ! x : A, P x}}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">B0</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">x</span> : A0 =&gt; projT1 x</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A0 -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R0</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x</span> : A0) (<span class="nv">y</span> : B0 x) =&gt; projT1 (projT2 x) y</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A0, B0 x -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">x</span> : A0 =&gt; projT2 (projT2 x)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A0,
(<span class="kr">fun</span> <span class="nv">P</span> : projT1 x -&gt; <span class="kt">Prop</span> =&gt;
 <span class="kr">exists</span> ! x0 : projT1 x, P x0)
  (projT1 (projT2 x))</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">C</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk112" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk112"><span class="highlight"><span class="nb">destruct</span> (DepFunReify A0 B0 R0 H0) <span class="kr">as</span> (f, Hf).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">C</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ConstructiveDefiniteDescription -&gt; C</span></span></span></div><div class="goal-hyp"><span class="hyp-names">FunReify</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalRelReification</span></span></span></div><div class="goal-hyp"><span class="hyp-names">DepFunReify</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">DependentFunctionalRelReification</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A0</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{A : <span class="kt">Type</span> &amp; {P : A -&gt; <span class="kt">Prop</span> &amp; <span class="kr">exists</span> ! x : A, P x}}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">B0</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">x</span> : A0 =&gt; projT1 x</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A0 -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R0</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x</span> : A0) (<span class="nv">y</span> : B0 x) =&gt; projT1 (projT2 x) y</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A0, B0 x -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">x</span> : A0 =&gt; projT2 (projT2 x)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A0,
(<span class="kr">fun</span> <span class="nv">P</span> : projT1 x -&gt; <span class="kt">Prop</span> =&gt;
 <span class="kr">exists</span> ! x0 : projT1 x, P x0)
  (projT1 (projT2 x))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A0, B0 x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A0, R0 x (f x)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">C</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk113" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk113"><span class="highlight"><span class="nb">apply</span> H.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">C</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ConstructiveDefiniteDescription -&gt; C</span></span></span></div><div class="goal-hyp"><span class="hyp-names">FunReify</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalRelReification</span></span></span></div><div class="goal-hyp"><span class="hyp-names">DepFunReify</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">DependentFunctionalRelReification</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A0</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{A : <span class="kt">Type</span> &amp; {P : A -&gt; <span class="kt">Prop</span> &amp; <span class="kr">exists</span> ! x : A, P x}}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">B0</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">x</span> : A0 =&gt; projT1 x</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A0 -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R0</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x</span> : A0) (<span class="nv">y</span> : B0 x) =&gt; projT1 (projT2 x) y</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A0, B0 x -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">x</span> : A0 =&gt; projT2 (projT2 x)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A0,
(<span class="kr">fun</span> <span class="nv">P</span> : projT1 x -&gt; <span class="kt">Prop</span> =&gt;
 <span class="kr">exists</span> ! x0 : projT1 x, P x0)
  (projT1 (projT2 x))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A0, B0 x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A0, R0 x (f x)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">ConstructiveDefiniteDescription</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk114" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk114"><span class="highlight"><span class="nb">intros</span> A P H&#39;.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">C</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ConstructiveDefiniteDescription -&gt; C</span></span></span></div><div class="goal-hyp"><span class="hyp-names">FunReify</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalRelReification</span></span></span></div><div class="goal-hyp"><span class="hyp-names">DepFunReify</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">DependentFunctionalRelReification</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A0</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{A1 : <span class="kt">Type</span> &amp;
{P0 : A1 -&gt; <span class="kt">Prop</span> &amp; <span class="kr">exists</span> ! x : A1, P0 x}}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">B0</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">x</span> : A0 =&gt; projT1 x</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A0 -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R0</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x</span> : A0) (<span class="nv">y</span> : B0 x) =&gt; projT1 (projT2 x) y</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A0, B0 x -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">x</span> : A0 =&gt; projT2 (projT2 x)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A0,
(<span class="kr">fun</span> <span class="nv">P0</span> : projT1 x -&gt; <span class="kt">Prop</span> =&gt;
 <span class="kr">exists</span> ! x0 : projT1 x, P0 x0)
  (projT1 (projT2 x))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A0, B0 x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A0, R0 x (f x)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">exists</span> ! x : A, P x</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">{x : A | P x}</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk115" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk115"><span class="highlight"><span class="kr">exists</span> (<span class="nv">f</span> (existT _ A (existT _ P H&#39;))).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">C</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ConstructiveDefiniteDescription -&gt; C</span></span></span></div><div class="goal-hyp"><span class="hyp-names">FunReify</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalRelReification</span></span></span></div><div class="goal-hyp"><span class="hyp-names">DepFunReify</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">DependentFunctionalRelReification</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A0</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{A1 : <span class="kt">Type</span> &amp;
{P0 : A1 -&gt; <span class="kt">Prop</span> &amp; <span class="kr">exists</span> ! x : A1, P0 x}}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">B0</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">x</span> : A0 =&gt; projT1 x</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A0 -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R0</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x</span> : A0) (<span class="nv">y</span> : B0 x) =&gt; projT1 (projT2 x) y</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A0, B0 x -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">x</span> : A0 =&gt; projT2 (projT2 x)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A0,
(<span class="kr">fun</span> <span class="nv">P0</span> : projT1 x -&gt; <span class="kt">Prop</span> =&gt;
 <span class="kr">exists</span> ! x0 : projT1 x, P0 x0)
  (projT1 (projT2 x))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A0, B0 x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A0, R0 x (f x)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">exists</span> ! x : A, P x</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">P
  (f
     (existT
        (<span class="kr">fun</span> <span class="nv">A1</span> : <span class="kt">Type</span> =&gt;
         {P0 : A1 -&gt; <span class="kt">Prop</span> &amp; <span class="kr">exists</span> ! x : A1, P0 x}) A
        (existT
           (<span class="kr">fun</span> <span class="nv">P0</span> : A -&gt; <span class="kt">Prop</span> =&gt; <span class="kr">exists</span> ! x : A, P0 x)
           P H&#39;)))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk116" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk116"><span class="highlight"><span class="nb">pose</span> (Hf&#39; := Hf (existT _ A (existT _ P H&#39;))).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">C</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ConstructiveDefiniteDescription -&gt; C</span></span></span></div><div class="goal-hyp"><span class="hyp-names">FunReify</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalRelReification</span></span></span></div><div class="goal-hyp"><span class="hyp-names">DepFunReify</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">DependentFunctionalRelReification</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A0</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{A1 : <span class="kt">Type</span> &amp;
{P0 : A1 -&gt; <span class="kt">Prop</span> &amp; <span class="kr">exists</span> ! x : A1, P0 x}}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">B0</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">x</span> : A0 =&gt; projT1 x</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A0 -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R0</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x</span> : A0) (<span class="nv">y</span> : B0 x) =&gt; projT1 (projT2 x) y</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A0, B0 x -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">x</span> : A0 =&gt; projT2 (projT2 x)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A0,
(<span class="kr">fun</span> <span class="nv">P0</span> : projT1 x -&gt; <span class="kt">Prop</span> =&gt;
 <span class="kr">exists</span> ! x0 : projT1 x, P0 x0)
  (projT1 (projT2 x))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A0, B0 x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A0, R0 x (f x)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">exists</span> ! x : A, P x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">Hf
  (existT
     (<span class="kr">fun</span> <span class="nv">A1</span> : <span class="kt">Type</span> =&gt;
      {P0 : A1 -&gt; <span class="kt">Prop</span> &amp; <span class="kr">exists</span> ! x : A1, P0 x})
     A
     (existT
        (<span class="kr">fun</span> <span class="nv">P0</span> : A -&gt; <span class="kt">Prop</span> =&gt;
         <span class="kr">exists</span> ! x : A, P0 x) P H&#39;))</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R0
  (existT
     (<span class="kr">fun</span> <span class="nv">A1</span> : <span class="kt">Type</span> =&gt;
      {P0 : A1 -&gt; <span class="kt">Prop</span> &amp; <span class="kr">exists</span> ! x : A1, P0 x})
     A
     (existT
        (<span class="kr">fun</span> <span class="nv">P0</span> : A -&gt; <span class="kt">Prop</span> =&gt;
         <span class="kr">exists</span> ! x : A, P0 x) P H&#39;))
  (f
     (existT
        (<span class="kr">fun</span> <span class="nv">A1</span> : <span class="kt">Type</span> =&gt;
         {P0 : A1 -&gt; <span class="kt">Prop</span> &amp;
         <span class="kr">exists</span> ! x : A1, P0 x}) A
        (existT
           (<span class="kr">fun</span> <span class="nv">P0</span> : A -&gt; <span class="kt">Prop</span> =&gt;
            <span class="kr">exists</span> ! x : A, P0 x) P H&#39;)))</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">P
  (f
     (existT
        (<span class="kr">fun</span> <span class="nv">A1</span> : <span class="kt">Type</span> =&gt;
         {P0 : A1 -&gt; <span class="kt">Prop</span> &amp; <span class="kr">exists</span> ! x : A1, P0 x}) A
        (existT
           (<span class="kr">fun</span> <span class="nv">P0</span> : A -&gt; <span class="kt">Prop</span> =&gt; <span class="kr">exists</span> ! x : A, P0 x)
           P H&#39;)))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">assumption</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk117" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk117"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">constructive_definite_descr_fun_reification</span> :
  ConstructiveDefiniteDescription -&gt; FunctionalRelReification.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">ConstructiveDefiniteDescription -&gt;
FunctionalRelReification</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk118" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk118"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">ConstructiveDefiniteDescription -&gt;
FunctionalRelReification</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk119" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk119"><span class="highlight"><span class="nb">intros</span> DefDescr A B R H.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">DefDescr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ConstructiveDefiniteDescription</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> ! y : B, R x y</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f</span> : A -&gt; B, <span class="kr">forall</span> <span class="nv">x</span> : A, R x (f x)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk11a" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk11a"><span class="highlight"><span class="kr">exists</span> (<span class="nv">fun</span> <span class="nv">x</span> =&gt; proj1_sig (DefDescr B (R x) (H x))).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">DefDescr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ConstructiveDefiniteDescription</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> ! y : B, R x y</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, R x (proj1_sig (DefDescr B (R x) (H x)))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk11b" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk11b"><span class="highlight"><span class="nb">intro</span> x.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">DefDescr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ConstructiveDefiniteDescription</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> ! y : B, R x0 y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">R x (proj1_sig (DefDescr B (R x) (H x)))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">apply</span> (proj2_sig (DefDescr B (R x) (H x))).</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span></span></pre><div class="doc">
Remark, the following corollaries morally hold:

<div class="paragraph"> </div>

Definition In_propositional_context (A:Type) := forall C:Prop, (A -&gt; C) -&gt; C.

<div class="paragraph"> </div>

Corollary constructive_definite_descr_in_prop_context_iff_fun_reification :
   In_propositional_context ConstructiveIndefiniteDescription
   &lt;-&gt; FunctionalChoice.

<div class="paragraph"> </div>

Corollary constructive_definite_descr_in_prop_context_iff_fun_reification :
   In_propositional_context ConstructiveDefiniteDescription
   &lt;-&gt; FunctionalRelReification.

<div class="paragraph"> </div>

but expecting <span class="inlinecode"><span class="id" title="var">FunctionalChoice</span></span> (resp. <span class="inlinecode"><span class="id" title="var">FunctionalRelReification</span></span>) to
be applied on the same Type universes on both sides of the first
(resp. second) equivalence breaks the stratification of universes.

</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-wsp"><span class="highlight"><span class="sd">(**********************************************************************)</span></span></span></pre><div class="doc">
<a name="lab19"></a><h1 class="section">Excluded-middle + definite description =&gt; computational excluded-middle</h1>
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --></pre><div class="doc">
The idea for the following proof comes from <span class="inlinecode">[<span class="id" title="var">ChicliPottierSimpson02</span>]</span>
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --></pre><div class="doc">
Classical logic and axiom of unique choice (i.e. functional
    relation reification), as shown in <span class="inlinecode">[<span class="id" title="var">ChicliPottierSimpson02</span>]</span>,
    implies the double-negation of excluded-middle in <span class="inlinecode"><span class="id" title="keyword">Set</span></span> (which is
    incompatible with the impredicativity of <span class="inlinecode"><span class="id" title="keyword">Set</span></span>).

<div class="paragraph"> </div>

    We adapt the proof to show that constructive definite description
    transports excluded-middle from <span class="inlinecode"><span class="id" title="keyword">Prop</span></span> to <span class="inlinecode"><span class="id" title="keyword">Set</span></span>.

<div class="paragraph"> </div>
<span class="inlinecode">[<span class="id" title="var">ChicliPottierSimpson02</span>]</span> Laurent Chicli, Lo√Øc Pottier, Carlos
    Simpson, Mathematical Quotients and Quotient Types in Coq,
    Proceedings of TYPES 2002, Lecture Notes in Computer Science 2646,
    Springer Verlag.  
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Require Import</span> Setoid.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk11c" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk11c"><span class="highlight"><span class="kn">Theorem</span> <span class="nf">constructive_definite_descr_excluded_middle</span> :
  (<span class="kr">forall</span> <span class="nv">A</span> : <span class="kt">Type</span>, ConstructiveDefiniteDescription_on A) -&gt;
  (<span class="kr">forall</span> <span class="nv">P</span>:<span class="kt">Prop</span>, P \/ ~ P) -&gt; (<span class="kr">forall</span> <span class="nv">P</span>:<span class="kt">Prop</span>, {P} + {~ P}).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">ConstructiveDefiniteDescription -&gt;
(<span class="kr">forall</span> <span class="nv">P</span> : <span class="kt">Prop</span>, P \/ ~ P) -&gt;
<span class="kr">forall</span> <span class="nv">P</span> : <span class="kt">Prop</span>, {P} + {~ P}</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk11d" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk11d"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">ConstructiveDefiniteDescription -&gt;
(<span class="kr">forall</span> <span class="nv">P</span> : <span class="kt">Prop</span>, P \/ ~ P) -&gt;
<span class="kr">forall</span> <span class="nv">P</span> : <span class="kt">Prop</span>, {P} + {~ P}</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk11e" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk11e"><span class="highlight"><span class="nb">intros</span> Descr EM P.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Descr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ConstructiveDefiniteDescription</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EM</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P0</span> : <span class="kt">Prop</span>, P0 \/ ~ P0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">{P} + {~ P}</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk11f" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk11f"><span class="highlight"><span class="nb">pose</span> (select := <span class="kr">fun</span> <span class="nv">b</span>:bool =&gt; <span class="kr">if</span> b <span class="kr">then</span> P <span class="kr">else</span> ~P).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Descr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ConstructiveDefiniteDescription</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EM</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P0</span> : <span class="kt">Prop</span>, P0 \/ ~ P0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">select</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">b</span> : bool =&gt; <span class="kr">if</span> b <span class="kr">then</span> P <span class="kr">else</span> ~ P</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">bool -&gt; <span class="kt">Prop</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">{P} + {~ P}</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk120" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk120"><span class="highlight"><span class="nb">assert</span> { b:bool | select b } <span class="kr">as</span> ([|],HP).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Descr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ConstructiveDefiniteDescription</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EM</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P0</span> : <span class="kt">Prop</span>, P0 \/ ~ P0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">select</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">b</span> : bool =&gt; <span class="kr">if</span> b <span class="kr">then</span> P <span class="kr">else</span> ~ P</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">bool -&gt; <span class="kt">Prop</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">{b : bool | select b}</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk121" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Descr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ConstructiveDefiniteDescription</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EM</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P0</span> : <span class="kt">Prop</span>, P0 \/ ~ P0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">select</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">b</span> : bool =&gt; <span class="kr">if</span> b <span class="kr">then</span> P <span class="kr">else</span> ~ P</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">bool -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">HP</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">select true</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chk121"><hr></label><div class="goal-conclusion"><span class="highlight">{P} + {~ P}</span></div></blockquote><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk122" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Descr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ConstructiveDefiniteDescription</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EM</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P0</span> : <span class="kt">Prop</span>, P0 \/ ~ P0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">select</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">b</span> : bool =&gt; <span class="kr">if</span> b <span class="kr">then</span> P <span class="kr">else</span> ~ P</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">bool -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">HP</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">select false</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chk122"><hr></label><div class="goal-conclusion"><span class="highlight">{P} + {~ P}</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk123" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk123"><span class="highlight"><span class="nb">red</span> <span class="kr">in</span> Descr.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Descr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">A</span> : <span class="kt">Type</span>) (<span class="nv">P0</span> : A -&gt; <span class="kt">Prop</span>),
(<span class="kr">exists</span> ! x : A, P0 x) -&gt; {x : A | P0 x}</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EM</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P0</span> : <span class="kt">Prop</span>, P0 \/ ~ P0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">select</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">b</span> : bool =&gt; <span class="kr">if</span> b <span class="kr">then</span> P <span class="kr">else</span> ~ P</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">bool -&gt; <span class="kt">Prop</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">{b : bool | select b}</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk124" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Descr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ConstructiveDefiniteDescription</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EM</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P0</span> : <span class="kt">Prop</span>, P0 \/ ~ P0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">select</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">b</span> : bool =&gt; <span class="kr">if</span> b <span class="kr">then</span> P <span class="kr">else</span> ~ P</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">bool -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">HP</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">select true</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chk124"><hr></label><div class="goal-conclusion"><span class="highlight">{P} + {~ P}</span></div></blockquote><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk125" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Descr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ConstructiveDefiniteDescription</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EM</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P0</span> : <span class="kt">Prop</span>, P0 \/ ~ P0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">select</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">b</span> : bool =&gt; <span class="kr">if</span> b <span class="kr">then</span> P <span class="kr">else</span> ~ P</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">bool -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">HP</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">select false</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chk125"><hr></label><div class="goal-conclusion"><span class="highlight">{P} + {~ P}</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk126" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk126"><span class="highlight"><span class="nb">apply</span> Descr.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Descr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">A</span> : <span class="kt">Type</span>) (<span class="nv">P0</span> : A -&gt; <span class="kt">Prop</span>),
(<span class="kr">exists</span> ! x : A, P0 x) -&gt; {x : A | P0 x}</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EM</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P0</span> : <span class="kt">Prop</span>, P0 \/ ~ P0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">select</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">b</span> : bool =&gt; <span class="kr">if</span> b <span class="kr">then</span> P <span class="kr">else</span> ~ P</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">bool -&gt; <span class="kt">Prop</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> ! x : bool, select x</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk127" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Descr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ConstructiveDefiniteDescription</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EM</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P0</span> : <span class="kt">Prop</span>, P0 \/ ~ P0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">select</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">b</span> : bool =&gt; <span class="kr">if</span> b <span class="kr">then</span> P <span class="kr">else</span> ~ P</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">bool -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">HP</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">select true</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chk127"><hr></label><div class="goal-conclusion"><span class="highlight">{P} + {~ P}</span></div></blockquote><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk128" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Descr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ConstructiveDefiniteDescription</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EM</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P0</span> : <span class="kt">Prop</span>, P0 \/ ~ P0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">select</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">b</span> : bool =&gt; <span class="kr">if</span> b <span class="kr">then</span> P <span class="kr">else</span> ~ P</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">bool -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">HP</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">select false</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chk128"><hr></label><div class="goal-conclusion"><span class="highlight">{P} + {~ P}</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk129" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk129"><span class="highlight"><span class="nb">rewrite</span> &lt;- unique_existence; <span class="nb">split</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Descr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">A</span> : <span class="kt">Type</span>) (<span class="nv">P0</span> : A -&gt; <span class="kt">Prop</span>),
(<span class="kr">exists</span> ! x : A, P0 x) -&gt; {x : A | P0 x}</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EM</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P0</span> : <span class="kt">Prop</span>, P0 \/ ~ P0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">select</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">b</span> : bool =&gt; <span class="kr">if</span> b <span class="kr">then</span> P <span class="kr">else</span> ~ P</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">bool -&gt; <span class="kt">Prop</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">x</span> : bool, select x</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk12a" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Descr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">A</span> : <span class="kt">Type</span>) (<span class="nv">P0</span> : A -&gt; <span class="kt">Prop</span>),
(<span class="kr">exists</span> ! x : A, P0 x) -&gt; {x : A | P0 x}</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EM</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P0</span> : <span class="kt">Prop</span>, P0 \/ ~ P0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">select</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">b</span> : bool =&gt; <span class="kr">if</span> b <span class="kr">then</span> P <span class="kr">else</span> ~ P</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">bool -&gt; <span class="kt">Prop</span></span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chk12a"><hr></label><div class="goal-conclusion"><span class="highlight">uniqueness select</span></div></blockquote><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk12b" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Descr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ConstructiveDefiniteDescription</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EM</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P0</span> : <span class="kt">Prop</span>, P0 \/ ~ P0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">select</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">b</span> : bool =&gt; <span class="kr">if</span> b <span class="kr">then</span> P <span class="kr">else</span> ~ P</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">bool -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">HP</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">select true</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chk12b"><hr></label><div class="goal-conclusion"><span class="highlight">{P} + {~ P}</span></div></blockquote><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk12c" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Descr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ConstructiveDefiniteDescription</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EM</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P0</span> : <span class="kt">Prop</span>, P0 \/ ~ P0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">select</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">b</span> : bool =&gt; <span class="kr">if</span> b <span class="kr">then</span> P <span class="kr">else</span> ~ P</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">bool -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">HP</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">select false</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chk12c"><hr></label><div class="goal-conclusion"><span class="highlight">{P} + {~ P}</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk12d" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk12d"><span class="highlight"><span class="nb">destruct</span> (EM P).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Descr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">A</span> : <span class="kt">Type</span>) (<span class="nv">P0</span> : A -&gt; <span class="kt">Prop</span>),
(<span class="kr">exists</span> ! x : A, P0 x) -&gt; {x : A | P0 x}</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EM</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P0</span> : <span class="kt">Prop</span>, P0 \/ ~ P0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">select</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">b</span> : bool =&gt; <span class="kr">if</span> b <span class="kr">then</span> P <span class="kr">else</span> ~ P</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">bool -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">P</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">x</span> : bool, select x</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk12e" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Descr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">A</span> : <span class="kt">Type</span>) (<span class="nv">P0</span> : A -&gt; <span class="kt">Prop</span>),
(<span class="kr">exists</span> ! x : A, P0 x) -&gt; {x : A | P0 x}</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EM</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P0</span> : <span class="kt">Prop</span>, P0 \/ ~ P0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">select</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">b</span> : bool =&gt; <span class="kr">if</span> b <span class="kr">then</span> P <span class="kr">else</span> ~ P</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">bool -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ P</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chk12e"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">x</span> : bool, select x</span></div></blockquote><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk12f" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Descr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">A</span> : <span class="kt">Type</span>) (<span class="nv">P0</span> : A -&gt; <span class="kt">Prop</span>),
(<span class="kr">exists</span> ! x : A, P0 x) -&gt; {x : A | P0 x}</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EM</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P0</span> : <span class="kt">Prop</span>, P0 \/ ~ P0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">select</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">b</span> : bool =&gt; <span class="kr">if</span> b <span class="kr">then</span> P <span class="kr">else</span> ~ P</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">bool -&gt; <span class="kt">Prop</span></span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chk12f"><hr></label><div class="goal-conclusion"><span class="highlight">uniqueness select</span></div></blockquote><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk130" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Descr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ConstructiveDefiniteDescription</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EM</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P0</span> : <span class="kt">Prop</span>, P0 \/ ~ P0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">select</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">b</span> : bool =&gt; <span class="kr">if</span> b <span class="kr">then</span> P <span class="kr">else</span> ~ P</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">bool -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">HP</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">select true</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chk130"><hr></label><div class="goal-conclusion"><span class="highlight">{P} + {~ P}</span></div></blockquote><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk131" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Descr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ConstructiveDefiniteDescription</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EM</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P0</span> : <span class="kt">Prop</span>, P0 \/ ~ P0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">select</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">b</span> : bool =&gt; <span class="kr">if</span> b <span class="kr">then</span> P <span class="kr">else</span> ~ P</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">bool -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">HP</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">select false</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chk131"><hr></label><div class="goal-conclusion"><span class="highlight">{P} + {~ P}</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk132" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk132"><span class="highlight"><span class="kr">exists</span> <span class="nv">true</span>; <span class="nb">trivial</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Descr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">A</span> : <span class="kt">Type</span>) (<span class="nv">P0</span> : A -&gt; <span class="kt">Prop</span>),
(<span class="kr">exists</span> ! x : A, P0 x) -&gt; {x : A | P0 x}</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EM</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P0</span> : <span class="kt">Prop</span>, P0 \/ ~ P0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">select</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">b</span> : bool =&gt; <span class="kr">if</span> b <span class="kr">then</span> P <span class="kr">else</span> ~ P</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">bool -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ P</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">x</span> : bool, select x</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk133" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Descr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">A</span> : <span class="kt">Type</span>) (<span class="nv">P0</span> : A -&gt; <span class="kt">Prop</span>),
(<span class="kr">exists</span> ! x : A, P0 x) -&gt; {x : A | P0 x}</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EM</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P0</span> : <span class="kt">Prop</span>, P0 \/ ~ P0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">select</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">b</span> : bool =&gt; <span class="kr">if</span> b <span class="kr">then</span> P <span class="kr">else</span> ~ P</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">bool -&gt; <span class="kt">Prop</span></span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chk133"><hr></label><div class="goal-conclusion"><span class="highlight">uniqueness select</span></div></blockquote><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk134" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Descr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ConstructiveDefiniteDescription</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EM</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P0</span> : <span class="kt">Prop</span>, P0 \/ ~ P0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">select</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">b</span> : bool =&gt; <span class="kr">if</span> b <span class="kr">then</span> P <span class="kr">else</span> ~ P</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">bool -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">HP</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">select true</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chk134"><hr></label><div class="goal-conclusion"><span class="highlight">{P} + {~ P}</span></div></blockquote><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk135" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Descr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ConstructiveDefiniteDescription</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EM</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P0</span> : <span class="kt">Prop</span>, P0 \/ ~ P0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">select</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">b</span> : bool =&gt; <span class="kr">if</span> b <span class="kr">then</span> P <span class="kr">else</span> ~ P</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">bool -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">HP</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">select false</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chk135"><hr></label><div class="goal-conclusion"><span class="highlight">{P} + {~ P}</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk136" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk136"><span class="highlight"><span class="kr">exists</span> <span class="nv">false</span>; <span class="nb">trivial</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Descr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">A</span> : <span class="kt">Type</span>) (<span class="nv">P0</span> : A -&gt; <span class="kt">Prop</span>),
(<span class="kr">exists</span> ! x : A, P0 x) -&gt; {x : A | P0 x}</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EM</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P0</span> : <span class="kt">Prop</span>, P0 \/ ~ P0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">select</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">b</span> : bool =&gt; <span class="kr">if</span> b <span class="kr">then</span> P <span class="kr">else</span> ~ P</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">bool -&gt; <span class="kt">Prop</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">uniqueness select</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk137" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Descr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ConstructiveDefiniteDescription</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EM</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P0</span> : <span class="kt">Prop</span>, P0 \/ ~ P0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">select</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">b</span> : bool =&gt; <span class="kr">if</span> b <span class="kr">then</span> P <span class="kr">else</span> ~ P</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">bool -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">HP</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">select true</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chk137"><hr></label><div class="goal-conclusion"><span class="highlight">{P} + {~ P}</span></div></blockquote><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk138" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Descr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ConstructiveDefiniteDescription</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EM</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P0</span> : <span class="kt">Prop</span>, P0 \/ ~ P0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">select</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">b</span> : bool =&gt; <span class="kr">if</span> b <span class="kr">then</span> P <span class="kr">else</span> ~ P</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">bool -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">HP</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">select false</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chk138"><hr></label><div class="goal-conclusion"><span class="highlight">{P} + {~ P}</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk139" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk139"><span class="highlight"><span class="nb">intros</span> [|] [|] H1 H2; <span class="nb">simpl</span> <span class="kr">in</span> *; <span class="bp">reflexivity</span> || <span class="bp">contradiction</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Descr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ConstructiveDefiniteDescription</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EM</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P0</span> : <span class="kt">Prop</span>, P0 \/ ~ P0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">select</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">b</span> : bool =&gt; <span class="kr">if</span> b <span class="kr">then</span> P <span class="kr">else</span> ~ P</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">bool -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">HP</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">select true</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">{P} + {~ P}</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk13a" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Descr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ConstructiveDefiniteDescription</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EM</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P0</span> : <span class="kt">Prop</span>, P0 \/ ~ P0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">select</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">b</span> : bool =&gt; <span class="kr">if</span> b <span class="kr">then</span> P <span class="kr">else</span> ~ P</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">bool -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">HP</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">select false</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chk13a"><hr></label><div class="goal-conclusion"><span class="highlight">{P} + {~ P}</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk13b" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk13b"><span class="highlight"><span class="nb">left</span>; <span class="nb">trivial</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Descr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ConstructiveDefiniteDescription</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EM</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P0</span> : <span class="kt">Prop</span>, P0 \/ ~ P0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">select</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">b</span> : bool =&gt; <span class="kr">if</span> b <span class="kr">then</span> P <span class="kr">else</span> ~ P</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">bool -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">HP</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">select false</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">{P} + {~ P}</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">right</span>; <span class="nb">trivial</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk13c" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk13c"><span class="highlight"><span class="kn">Corollary</span> <span class="nf">fun_reification_descr_computational_excluded_middle_in_prop_context</span> :
  FunctionalRelReification -&gt;
  (<span class="kr">forall</span> <span class="nv">P</span>:<span class="kt">Prop</span>, P \/ ~ P) -&gt;
  <span class="kr">forall</span> <span class="nv">C</span>:<span class="kt">Prop</span>, ((<span class="kr">forall</span> <span class="nv">P</span>:<span class="kt">Prop</span>, {P} + {~ P}) -&gt; C) -&gt; C.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">FunctionalRelReification -&gt;
(<span class="kr">forall</span> <span class="nv">P</span> : <span class="kt">Prop</span>, P \/ ~ P) -&gt;
<span class="kr">forall</span> <span class="nv">C</span> : <span class="kt">Prop</span>,
((<span class="kr">forall</span> <span class="nv">P</span> : <span class="kt">Prop</span>, {P} + {~ P}) -&gt; C) -&gt; C</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk13d" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk13d"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">FunctionalRelReification -&gt;
(<span class="kr">forall</span> <span class="nv">P</span> : <span class="kt">Prop</span>, P \/ ~ P) -&gt;
<span class="kr">forall</span> <span class="nv">C</span> : <span class="kt">Prop</span>,
((<span class="kr">forall</span> <span class="nv">P</span> : <span class="kt">Prop</span>, {P} + {~ P}) -&gt; C) -&gt; C</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk13e" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk13e"><span class="highlight"><span class="nb">intros</span> FunReify EM C H.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunReify</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalRelReification</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EM</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : <span class="kt">Prop</span>, P \/ ~ P</span></span></span></div><div class="goal-hyp"><span class="hyp-names">C</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(<span class="kr">forall</span> <span class="nv">P</span> : <span class="kt">Prop</span>, {P} + {~ P}) -&gt; C</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">C</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">intuition</span> <span class="nb">auto using</span>
    constructive_definite_descr_excluded_middle,
    (relative_non_contradiction_of_definite_descr (C:=C)).</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
<span class="sd">(**********************************************************************)</span></span></span></pre><div class="doc">
<a name="lab20"></a><h1 class="section">Choice =&gt; Dependent choice =&gt; Countable choice</h1>
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-wsp"><span class="highlight"><span class="c">(* The implications below are standard *)</span>

</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Require Import</span> Arith.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk13f" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk13f"><span class="highlight"><span class="kn">Theorem</span> <span class="nf">functional_choice_imp_functional_dependent_choice</span> :
   FunctionalChoice -&gt; FunctionalDependentChoice.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">FunctionalChoice -&gt; FunctionalDependentChoice</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk140" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk140"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">FunctionalChoice -&gt; FunctionalDependentChoice</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk141" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk141"><span class="highlight"><span class="nb">intros</span> FunChoice A R HRfun x0.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">HRfun</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : A, R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f</span> : nat -&gt; A,
  f <span class="mi">0</span> = x0 /\ (<span class="kr">forall</span> <span class="nv">n</span> : nat, R (f n) (f (S n)))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk142" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk142"><span class="highlight"><span class="nb">apply</span> FunChoice <span class="kr">in</span> HRfun <span class="kr">as</span> (g,Rg).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rg</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, R x (g x)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f</span> : nat -&gt; A,
  f <span class="mi">0</span> = x0 /\ (<span class="kr">forall</span> <span class="nv">n</span> : nat, R (f n) (f (S n)))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk143" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk143"><span class="highlight"><span class="nb">set</span> (f:=<span class="kr">fix</span> f n := <span class="kr">match</span> n <span class="kr">with</span> <span class="mi">0</span> =&gt; x0 | S n&#39; =&gt; g (f n&#39;) <span class="kr">end</span>).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rg</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, R x (g x)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fix</span> f0 (n : nat) : A :=
  <span class="kr">match</span> n <span class="kr">with</span>
  | <span class="mi">0</span> =&gt; x0
  | S n&#39; =&gt; g (f0 n&#39;)
  <span class="kr">end</span></span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat -&gt; A</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f0</span> : nat -&gt; A,
  f0 <span class="mi">0</span> = x0 /\ (<span class="kr">forall</span> <span class="nv">n</span> : nat, R (f0 n) (f0 (S n)))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kr">exists</span> <span class="nv">f</span>; <span class="nb">firstorder</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk144" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk144"><span class="highlight"><span class="kn">Theorem</span> <span class="nf">functional_dependent_choice_imp_functional_countable_choice</span> :
   FunctionalDependentChoice -&gt; FunctionalCountableChoice.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">FunctionalDependentChoice -&gt; FunctionalCountableChoice</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk145" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk145"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">FunctionalDependentChoice -&gt; FunctionalCountableChoice</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk146" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk146"><span class="highlight"><span class="nb">intros</span> H A R H0.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalDependentChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">n</span> : nat, <span class="kr">exists</span> <span class="nv">y</span> : A, R n y</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f</span> : nat -&gt; A, <span class="kr">forall</span> <span class="nv">n</span> : nat, R n (f n)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk147" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk147"><span class="highlight"><span class="nb">set</span> (R&#39; (p q:nat*A) := fst q = S (fst p) /\ R (fst p) (snd q)).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalDependentChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">n</span> : nat, <span class="kr">exists</span> <span class="nv">y</span> : A, R n y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">p</span> <span class="nv">q</span> : nat * A =&gt;
fst q = S (fst p) /\ R (fst p) (snd q)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat * A -&gt; nat * A -&gt; <span class="kt">Prop</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f</span> : nat -&gt; A, <span class="kr">forall</span> <span class="nv">n</span> : nat, R n (f n)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk148" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk148"><span class="highlight"><span class="nb">destruct</span> (H0 <span class="mi">0</span>) <span class="kr">as</span> (y0,Hy0).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalDependentChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">n</span> : nat, <span class="kr">exists</span> <span class="nv">y</span> : A, R n y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">p</span> <span class="nv">q</span> : nat * A =&gt;
fst q = S (fst p) /\ R (fst p) (snd q)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat * A -&gt; nat * A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hy0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R <span class="mi">0</span> y0</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f</span> : nat -&gt; A, <span class="kr">forall</span> <span class="nv">n</span> : nat, R n (f n)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk149" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk149"><span class="highlight"><span class="nb">destruct</span> H <span class="kr">with</span> (R:=R&#39;) (x0:=(<span class="mi">0</span>,y0)) <span class="kr">as</span> (f,(Hf0,HfS)).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalDependentChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">n</span> : nat, <span class="kr">exists</span> <span class="nv">y</span> : A, R n y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">p</span> <span class="nv">q</span> : nat * A =&gt;
fst q = S (fst p) /\ R (fst p) (snd q)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat * A -&gt; nat * A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hy0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R <span class="mi">0</span> y0</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : nat * A, <span class="kr">exists</span> <span class="nv">y</span> : nat * A, R&#39; x y</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk14a" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalDependentChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">n</span> : nat, <span class="kr">exists</span> <span class="nv">y</span> : A, R n y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">p</span> <span class="nv">q</span> : nat * A =&gt;
fst q = S (fst p) /\ R (fst p) (snd q)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat * A -&gt; nat * A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hy0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R <span class="mi">0</span> y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat -&gt; nat * A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">f <span class="mi">0</span> = (<span class="mi">0</span>, y0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">HfS</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">n</span> : nat, R&#39; (f n) (f (S n))</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chk14a"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f0</span> : nat -&gt; A, <span class="kr">forall</span> <span class="nv">n</span> : nat, R n (f0 n)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk14b" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk14b"><span class="highlight"><span class="nb">intro</span> x; <span class="nb">destruct</span> (H0 (fst x)) <span class="kr">as</span> (y,Hy).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalDependentChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">n</span> : nat, <span class="kr">exists</span> <span class="nv">y1</span> : A, R n y1</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">p</span> <span class="nv">q</span> : nat * A =&gt;
fst q = S (fst p) /\ R (fst p) (snd q)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat * A -&gt; nat * A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hy0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R <span class="mi">0</span> y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(nat * A)%type</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R (fst x) y</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">y1</span> : nat * A, R&#39; x y1</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk14c" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalDependentChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">n</span> : nat, <span class="kr">exists</span> <span class="nv">y</span> : A, R n y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">p</span> <span class="nv">q</span> : nat * A =&gt;
fst q = S (fst p) /\ R (fst p) (snd q)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat * A -&gt; nat * A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hy0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R <span class="mi">0</span> y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat -&gt; nat * A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">f <span class="mi">0</span> = (<span class="mi">0</span>, y0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">HfS</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">n</span> : nat, R&#39; (f n) (f (S n))</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chk14c"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f0</span> : nat -&gt; A, <span class="kr">forall</span> <span class="nv">n</span> : nat, R n (f0 n)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk14d" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk14d"><span class="highlight"><span class="kr">exists</span> (<span class="nv">S</span> (fst x),y).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalDependentChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">n</span> : nat, <span class="kr">exists</span> <span class="nv">y1</span> : A, R n y1</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">p</span> <span class="nv">q</span> : nat * A =&gt;
fst q = S (fst p) /\ R (fst p) (snd q)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat * A -&gt; nat * A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hy0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R <span class="mi">0</span> y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(nat * A)%type</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R (fst x) y</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">R&#39; x (S (fst x), y)</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk14e" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalDependentChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">n</span> : nat, <span class="kr">exists</span> <span class="nv">y</span> : A, R n y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">p</span> <span class="nv">q</span> : nat * A =&gt;
fst q = S (fst p) /\ R (fst p) (snd q)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat * A -&gt; nat * A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hy0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R <span class="mi">0</span> y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat -&gt; nat * A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">f <span class="mi">0</span> = (<span class="mi">0</span>, y0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">HfS</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">n</span> : nat, R&#39; (f n) (f (S n))</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chk14e"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f0</span> : nat -&gt; A, <span class="kr">forall</span> <span class="nv">n</span> : nat, R n (f0 n)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk14f" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk14f"><span class="highlight"><span class="nb">red</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalDependentChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">n</span> : nat, <span class="kr">exists</span> <span class="nv">y1</span> : A, R n y1</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">p</span> <span class="nv">q</span> : nat * A =&gt;
fst q = S (fst p) /\ R (fst p) (snd q)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat * A -&gt; nat * A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hy0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R <span class="mi">0</span> y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(nat * A)%type</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R (fst x) y</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">fst (S (fst x), y) = S (fst x) /\
R (fst x) (snd (S (fst x), y))</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk150" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalDependentChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">n</span> : nat, <span class="kr">exists</span> <span class="nv">y</span> : A, R n y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">p</span> <span class="nv">q</span> : nat * A =&gt;
fst q = S (fst p) /\ R (fst p) (snd q)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat * A -&gt; nat * A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hy0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R <span class="mi">0</span> y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat -&gt; nat * A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">f <span class="mi">0</span> = (<span class="mi">0</span>, y0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">HfS</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">n</span> : nat, R&#39; (f n) (f (S n))</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chk150"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f0</span> : nat -&gt; A, <span class="kr">forall</span> <span class="nv">n</span> : nat, R n (f0 n)</span></div></blockquote></div></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk151" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk151"><span class="highlight"><span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalDependentChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">n</span> : nat, <span class="kr">exists</span> <span class="nv">y</span> : A, R n y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">p</span> <span class="nv">q</span> : nat * A =&gt;
fst q = S (fst p) /\ R (fst p) (snd q)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat * A -&gt; nat * A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hy0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R <span class="mi">0</span> y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat -&gt; nat * A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">f <span class="mi">0</span> = (<span class="mi">0</span>, y0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">HfS</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">n</span> : nat, R&#39; (f n) (f (S n))</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f0</span> : nat -&gt; A, <span class="kr">forall</span> <span class="nv">n</span> : nat, R n (f0 n)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk152" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk152"><span class="highlight"><span class="nb">assert</span> (Heq:<span class="kr">forall</span> <span class="nv">n</span>, fst (f n) = n).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalDependentChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">n</span> : nat, <span class="kr">exists</span> <span class="nv">y</span> : A, R n y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">p</span> <span class="nv">q</span> : nat * A =&gt;
fst q = S (fst p) /\ R (fst p) (snd q)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat * A -&gt; nat * A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hy0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R <span class="mi">0</span> y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat -&gt; nat * A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">f <span class="mi">0</span> = (<span class="mi">0</span>, y0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">HfS</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">n</span> : nat, R&#39; (f n) (f (S n))</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">n</span> : nat, fst (f n) = n</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk153" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalDependentChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">n</span> : nat, <span class="kr">exists</span> <span class="nv">y</span> : A, R n y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">p</span> <span class="nv">q</span> : nat * A =&gt;
fst q = S (fst p) /\ R (fst p) (snd q)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat * A -&gt; nat * A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hy0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R <span class="mi">0</span> y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat -&gt; nat * A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">f <span class="mi">0</span> = (<span class="mi">0</span>, y0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">HfS</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">n</span> : nat, R&#39; (f n) (f (S n))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">n</span> : nat, fst (f n) = n</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chk153"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f0</span> : nat -&gt; A, <span class="kr">forall</span> <span class="nv">n</span> : nat, R n (f0 n)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk154" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk154"><span class="highlight"><span class="nb">induction</span> n.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalDependentChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">n</span> : nat, <span class="kr">exists</span> <span class="nv">y</span> : A, R n y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">p</span> <span class="nv">q</span> : nat * A =&gt;
fst q = S (fst p) /\ R (fst p) (snd q)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat * A -&gt; nat * A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hy0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R <span class="mi">0</span> y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat -&gt; nat * A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">f <span class="mi">0</span> = (<span class="mi">0</span>, y0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">HfS</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">n</span> : nat, R&#39; (f n) (f (S n))</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">fst (f <span class="mi">0</span>) = <span class="mi">0</span></span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk155" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalDependentChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">n0</span> : nat, <span class="kr">exists</span> <span class="nv">y</span> : A, R n0 y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">p</span> <span class="nv">q</span> : nat * A =&gt;
fst q = S (fst p) /\ R (fst p) (snd q)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat * A -&gt; nat * A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hy0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R <span class="mi">0</span> y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat -&gt; nat * A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">f <span class="mi">0</span> = (<span class="mi">0</span>, y0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">HfS</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">n0</span> : nat, R&#39; (f n0) (f (S n0))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHn</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">fst (f n) = n</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chk155"><hr></label><div class="goal-conclusion"><span class="highlight">fst (f (S n)) = S n</span></div></blockquote><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk156" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalDependentChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">n</span> : nat, <span class="kr">exists</span> <span class="nv">y</span> : A, R n y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">p</span> <span class="nv">q</span> : nat * A =&gt;
fst q = S (fst p) /\ R (fst p) (snd q)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat * A -&gt; nat * A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hy0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R <span class="mi">0</span> y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat -&gt; nat * A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">f <span class="mi">0</span> = (<span class="mi">0</span>, y0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">HfS</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">n</span> : nat, R&#39; (f n) (f (S n))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">n</span> : nat, fst (f n) = n</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chk156"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f0</span> : nat -&gt; A, <span class="kr">forall</span> <span class="nv">n</span> : nat, R n (f0 n)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">      </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk157" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk157"><span class="highlight"><span class="nb">rewrite</span> Hf0; <span class="bp">reflexivity</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalDependentChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">n0</span> : nat, <span class="kr">exists</span> <span class="nv">y</span> : A, R n0 y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">p</span> <span class="nv">q</span> : nat * A =&gt;
fst q = S (fst p) /\ R (fst p) (snd q)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat * A -&gt; nat * A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hy0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R <span class="mi">0</span> y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat -&gt; nat * A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">f <span class="mi">0</span> = (<span class="mi">0</span>, y0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">HfS</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">n0</span> : nat, R&#39; (f n0) (f (S n0))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHn</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">fst (f n) = n</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">fst (f (S n)) = S n</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk158" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalDependentChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">n</span> : nat, <span class="kr">exists</span> <span class="nv">y</span> : A, R n y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">p</span> <span class="nv">q</span> : nat * A =&gt;
fst q = S (fst p) /\ R (fst p) (snd q)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat * A -&gt; nat * A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hy0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R <span class="mi">0</span> y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat -&gt; nat * A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">f <span class="mi">0</span> = (<span class="mi">0</span>, y0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">HfS</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">n</span> : nat, R&#39; (f n) (f (S n))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">n</span> : nat, fst (f n) = n</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chk158"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f0</span> : nat -&gt; A, <span class="kr">forall</span> <span class="nv">n</span> : nat, R n (f0 n)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">      </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk159" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk159"><span class="highlight"><span class="nb">specialize</span> HfS <span class="kr">with</span> n; <span class="nb">destruct</span> HfS <span class="kr">as</span> (-&gt;,_); <span class="bp">congruence</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalDependentChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">n</span> : nat, <span class="kr">exists</span> <span class="nv">y</span> : A, R n y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">p</span> <span class="nv">q</span> : nat * A =&gt;
fst q = S (fst p) /\ R (fst p) (snd q)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat * A -&gt; nat * A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hy0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R <span class="mi">0</span> y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat -&gt; nat * A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">f <span class="mi">0</span> = (<span class="mi">0</span>, y0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">HfS</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">n</span> : nat, R&#39; (f n) (f (S n))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">n</span> : nat, fst (f n) = n</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f0</span> : nat -&gt; A, <span class="kr">forall</span> <span class="nv">n</span> : nat, R n (f0 n)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk15a" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk15a"><span class="highlight"><span class="kr">exists</span> (<span class="nv">fun</span> <span class="nv">n</span> =&gt; snd (f (S n))).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalDependentChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">n</span> : nat, <span class="kr">exists</span> <span class="nv">y</span> : A, R n y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">p</span> <span class="nv">q</span> : nat * A =&gt;
fst q = S (fst p) /\ R (fst p) (snd q)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat * A -&gt; nat * A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hy0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R <span class="mi">0</span> y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat -&gt; nat * A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">f <span class="mi">0</span> = (<span class="mi">0</span>, y0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">HfS</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">n</span> : nat, R&#39; (f n) (f (S n))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">n</span> : nat, fst (f n) = n</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">n</span> : nat, R n (snd (f (S n)))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk15b" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk15b"><span class="highlight"><span class="nb">intro</span> n&#39;.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalDependentChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">n</span> : nat, <span class="kr">exists</span> <span class="nv">y</span> : A, R n y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">p</span> <span class="nv">q</span> : nat * A =&gt;
fst q = S (fst p) /\ R (fst p) (snd q)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat * A -&gt; nat * A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hy0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R <span class="mi">0</span> y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat -&gt; nat * A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">f <span class="mi">0</span> = (<span class="mi">0</span>, y0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">HfS</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">n</span> : nat, R&#39; (f n) (f (S n))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">n</span> : nat, fst (f n) = n</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">R n&#39; (snd (f (S n&#39;)))</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk15c" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk15c"><span class="highlight"><span class="nb">specialize</span> HfS <span class="kr">with</span> n&#39;.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalDependentChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">n</span> : nat, <span class="kr">exists</span> <span class="nv">y</span> : A, R n y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">p</span> <span class="nv">q</span> : nat * A =&gt;
fst q = S (fst p) /\ R (fst p) (snd q)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat * A -&gt; nat * A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hy0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R <span class="mi">0</span> y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat -&gt; nat * A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">f <span class="mi">0</span> = (<span class="mi">0</span>, y0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">HfS</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R&#39; (f n&#39;) (f (S n&#39;))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">n</span> : nat, fst (f n) = n</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">R n&#39; (snd (f (S n&#39;)))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk15d" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk15d"><span class="highlight"><span class="nb">destruct</span> HfS <span class="kr">as</span> (_,HR).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalDependentChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">n</span> : nat, <span class="kr">exists</span> <span class="nv">y</span> : A, R n y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">p</span> <span class="nv">q</span> : nat * A =&gt;
fst q = S (fst p) /\ R (fst p) (snd q)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat * A -&gt; nat * A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hy0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R <span class="mi">0</span> y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat -&gt; nat * A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">f <span class="mi">0</span> = (<span class="mi">0</span>, y0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">HR</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R (fst (f n&#39;)) (snd (f (S n&#39;)))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">n</span> : nat, fst (f n) = n</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">R n&#39; (snd (f (S n&#39;)))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk15e" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk15e"><span class="highlight"><span class="nb">rewrite</span> Heq <span class="kr">in</span> HR.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalDependentChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">n</span> : nat, <span class="kr">exists</span> <span class="nv">y</span> : A, R n y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">p</span> <span class="nv">q</span> : nat * A =&gt;
fst q = S (fst p) /\ R (fst p) (snd q)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat * A -&gt; nat * A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hy0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R <span class="mi">0</span> y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat -&gt; nat * A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">f <span class="mi">0</span> = (<span class="mi">0</span>, y0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">HR</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R n&#39; (snd (f (S n&#39;)))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">n</span> : nat, fst (f n) = n</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">R n&#39; (snd (f (S n&#39;)))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">assumption</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
<span class="sd">(**********************************************************************)</span></span></span></pre><div class="doc">
<a name="lab21"></a><h1 class="section">About the axiom of choice over setoids</h1>
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Require Import</span> ClassicalFacts PropExtensionalityFacts.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
<span class="sd">(**********************************************************************)</span></span></span></pre><div class="doc">
<a name="lab22"></a><h2 class="section">Consequences of the choice of a representative in an equivalence class</h2>
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk15f" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk15f"><span class="highlight"><span class="kn">Theorem</span> <span class="nf">repr_fun_choice_imp_ext_prop_repr</span> :
  RepresentativeFunctionalChoice -&gt; ExtensionalPropositionRepresentative.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">RepresentativeFunctionalChoice -&gt;
<span class="kt">Type</span> -&gt;
<span class="kr">exists</span> <span class="nv">h</span> : <span class="kt">Prop</span> -&gt; <span class="kt">Prop</span>,
  <span class="kr">forall</span> <span class="nv">P</span> : <span class="kt">Prop</span>,
  (P &lt;-&gt; h P) /\
  (<span class="kr">forall</span> <span class="nv">Q</span> : <span class="kt">Prop</span>, P &lt;-&gt; Q -&gt; h P = h Q)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk160" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk160"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">RepresentativeFunctionalChoice -&gt;
<span class="kt">Type</span> -&gt;
<span class="kr">exists</span> <span class="nv">h</span> : <span class="kt">Prop</span> -&gt; <span class="kt">Prop</span>,
  <span class="kr">forall</span> <span class="nv">P</span> : <span class="kt">Prop</span>,
  (P &lt;-&gt; h P) /\
  (<span class="kr">forall</span> <span class="nv">Q</span> : <span class="kt">Prop</span>, P &lt;-&gt; Q -&gt; h P = h Q)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk161" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk161"><span class="highlight"><span class="nb">intros</span> ReprFunChoice A.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">h</span> : <span class="kt">Prop</span> -&gt; <span class="kt">Prop</span>,
  <span class="kr">forall</span> <span class="nv">P</span> : <span class="kt">Prop</span>,
  (P &lt;-&gt; h P) /\
  (<span class="kr">forall</span> <span class="nv">Q</span> : <span class="kt">Prop</span>, P &lt;-&gt; Q -&gt; h P = h Q)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk162" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk162"><span class="highlight"><span class="nb">pose</span> (R P Q := P &lt;-&gt; Q).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">P</span> <span class="nv">Q</span> : <span class="kt">Prop</span> =&gt; P &lt;-&gt; Q</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span> -&gt; <span class="kt">Prop</span> -&gt; <span class="kt">Prop</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">h</span> : <span class="kt">Prop</span> -&gt; <span class="kt">Prop</span>,
  <span class="kr">forall</span> <span class="nv">P</span> : <span class="kt">Prop</span>,
  (P &lt;-&gt; h P) /\
  (<span class="kr">forall</span> <span class="nv">Q</span> : <span class="kt">Prop</span>, P &lt;-&gt; Q -&gt; h P = h Q)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk163" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk163"><span class="highlight"><span class="nb">assert</span> (Hequiv:Equivalence R) <span class="bp">by</span> (<span class="nb">split</span>; <span class="nb">firstorder</span>).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">P</span> <span class="nv">Q</span> : <span class="kt">Prop</span> =&gt; P &lt;-&gt; Q</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span> -&gt; <span class="kt">Prop</span> -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hequiv</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence R</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">h</span> : <span class="kt">Prop</span> -&gt; <span class="kt">Prop</span>,
  <span class="kr">forall</span> <span class="nv">P</span> : <span class="kt">Prop</span>,
  (P &lt;-&gt; h P) /\
  (<span class="kr">forall</span> <span class="nv">Q</span> : <span class="kt">Prop</span>, P &lt;-&gt; Q -&gt; h P = h Q)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">apply</span> (ReprFunChoice _ R Hequiv).</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk164" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk164"><span class="highlight"><span class="kn">Theorem</span> <span class="nf">repr_fun_choice_imp_ext_pred_repr</span> :
  RepresentativeFunctionalChoice -&gt; ExtensionalPredicateRepresentative.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">RepresentativeFunctionalChoice -&gt;
ExtensionalPredicateRepresentative</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk165" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk165"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">RepresentativeFunctionalChoice -&gt;
ExtensionalPredicateRepresentative</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk166" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk166"><span class="highlight"><span class="nb">intros</span> ReprFunChoice A.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">h</span> : (A -&gt; <span class="kt">Prop</span>) -&gt; A -&gt; <span class="kt">Prop</span>,
  <span class="kr">forall</span> <span class="nv">P</span> : A -&gt; <span class="kt">Prop</span>,
  (<span class="kr">forall</span> <span class="nv">x</span> : A, P x &lt;-&gt; h P x) /\
  (<span class="kr">forall</span> <span class="nv">Q</span> : A -&gt; <span class="kt">Prop</span>,
   (<span class="kr">forall</span> <span class="nv">x</span> : A, P x &lt;-&gt; Q x) -&gt; h P = h Q)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk167" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk167"><span class="highlight"><span class="nb">pose</span> (R P Q := <span class="kr">forall</span> <span class="nv">x</span> : A, P x &lt;-&gt; Q x).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">P</span> <span class="nv">Q</span> : A -&gt; <span class="kt">Prop</span> =&gt; <span class="kr">forall</span> <span class="nv">x</span> : A, P x &lt;-&gt; Q x</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; <span class="kt">Prop</span>) -&gt; (A -&gt; <span class="kt">Prop</span>) -&gt; <span class="kt">Prop</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">h</span> : (A -&gt; <span class="kt">Prop</span>) -&gt; A -&gt; <span class="kt">Prop</span>,
  <span class="kr">forall</span> <span class="nv">P</span> : A -&gt; <span class="kt">Prop</span>,
  (<span class="kr">forall</span> <span class="nv">x</span> : A, P x &lt;-&gt; h P x) /\
  (<span class="kr">forall</span> <span class="nv">Q</span> : A -&gt; <span class="kt">Prop</span>,
   (<span class="kr">forall</span> <span class="nv">x</span> : A, P x &lt;-&gt; Q x) -&gt; h P = h Q)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk168" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk168"><span class="highlight"><span class="nb">assert</span> (Hequiv:Equivalence R) <span class="bp">by</span> (<span class="nb">split</span>; <span class="nb">firstorder</span>).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">P</span> <span class="nv">Q</span> : A -&gt; <span class="kt">Prop</span> =&gt; <span class="kr">forall</span> <span class="nv">x</span> : A, P x &lt;-&gt; Q x</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; <span class="kt">Prop</span>) -&gt; (A -&gt; <span class="kt">Prop</span>) -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hequiv</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence R</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">h</span> : (A -&gt; <span class="kt">Prop</span>) -&gt; A -&gt; <span class="kt">Prop</span>,
  <span class="kr">forall</span> <span class="nv">P</span> : A -&gt; <span class="kt">Prop</span>,
  (<span class="kr">forall</span> <span class="nv">x</span> : A, P x &lt;-&gt; h P x) /\
  (<span class="kr">forall</span> <span class="nv">Q</span> : A -&gt; <span class="kt">Prop</span>,
   (<span class="kr">forall</span> <span class="nv">x</span> : A, P x &lt;-&gt; Q x) -&gt; h P = h Q)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">apply</span> (ReprFunChoice _ R Hequiv).</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk169" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk169"><span class="highlight"><span class="kn">Theorem</span> <span class="nf">repr_fun_choice_imp_ext_function_repr</span> :
  RepresentativeFunctionalChoice -&gt; ExtensionalFunctionRepresentative.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">RepresentativeFunctionalChoice -&gt;
ExtensionalFunctionRepresentative</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk16a" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk16a"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">RepresentativeFunctionalChoice -&gt;
ExtensionalFunctionRepresentative</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk16b" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk16b"><span class="highlight"><span class="nb">intros</span> ReprFunChoice A B.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">h</span> : (A -&gt; B) -&gt; A -&gt; B,
  <span class="kr">forall</span> <span class="nv">f</span> : A -&gt; B,
  (<span class="kr">forall</span> <span class="nv">x</span> : A, f x = h f x) /\
  (<span class="kr">forall</span> <span class="nv">g</span> : A -&gt; B,
   (<span class="kr">forall</span> <span class="nv">x</span> : A, f x = g x) -&gt; h f = h g)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk16c" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk16c"><span class="highlight"><span class="nb">pose</span> (R (f g : A -&gt; B) := <span class="kr">forall</span> <span class="nv">x</span> : A, f x = g x).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">f</span> <span class="nv">g</span> : A -&gt; B =&gt; <span class="kr">forall</span> <span class="nv">x</span> : A, f x = g x</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; B) -&gt; (A -&gt; B) -&gt; <span class="kt">Prop</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">h</span> : (A -&gt; B) -&gt; A -&gt; B,
  <span class="kr">forall</span> <span class="nv">f</span> : A -&gt; B,
  (<span class="kr">forall</span> <span class="nv">x</span> : A, f x = h f x) /\
  (<span class="kr">forall</span> <span class="nv">g</span> : A -&gt; B,
   (<span class="kr">forall</span> <span class="nv">x</span> : A, f x = g x) -&gt; h f = h g)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk16d" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk16d"><span class="highlight"><span class="nb">assert</span> (Hequiv:Equivalence R).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">f</span> <span class="nv">g</span> : A -&gt; B =&gt; <span class="kr">forall</span> <span class="nv">x</span> : A, f x = g x</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; B) -&gt; (A -&gt; B) -&gt; <span class="kt">Prop</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Equivalence R</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk16e" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">f</span> <span class="nv">g</span> : A -&gt; B =&gt; <span class="kr">forall</span> <span class="nv">x</span> : A, f x = g x</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; B) -&gt; (A -&gt; B) -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hequiv</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence R</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chk16e"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">h</span> : (A -&gt; B) -&gt; A -&gt; B,
  <span class="kr">forall</span> <span class="nv">f</span> : A -&gt; B,
  (<span class="kr">forall</span> <span class="nv">x</span> : A, f x = h f x) /\
  (<span class="kr">forall</span> <span class="nv">g</span> : A -&gt; B,
   (<span class="kr">forall</span> <span class="nv">x</span> : A, f x = g x) -&gt; h f = h g)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk16f" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk16f"><span class="highlight">{</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">f</span> <span class="nv">g</span> : A -&gt; B =&gt; <span class="kr">forall</span> <span class="nv">x</span> : A, f x = g x</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; B) -&gt; (A -&gt; B) -&gt; <span class="kt">Prop</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Equivalence R</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk170" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk170"><span class="highlight"><span class="nb">split</span>; <span class="kp">try</span> <span class="bp">easy</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">f</span> <span class="nv">g</span> : A -&gt; B =&gt; <span class="kr">forall</span> <span class="nv">x</span> : A, f x = g x</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; B) -&gt; (A -&gt; B) -&gt; <span class="kt">Prop</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Transitive R</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">firstorder using</span> eq_trans.</span></span><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk171" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk171"><span class="highlight">}</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">f</span> <span class="nv">g</span> : A -&gt; B =&gt; <span class="kr">forall</span> <span class="nv">x</span> : A, f x = g x</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; B) -&gt; (A -&gt; B) -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hequiv</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence R</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">h</span> : (A -&gt; B) -&gt; A -&gt; B,
  <span class="kr">forall</span> <span class="nv">f</span> : A -&gt; B,
  (<span class="kr">forall</span> <span class="nv">x</span> : A, f x = h f x) /\
  (<span class="kr">forall</span> <span class="nv">g</span> : A -&gt; B,
   (<span class="kr">forall</span> <span class="nv">x</span> : A, f x = g x) -&gt; h f = h g)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">apply</span> (ReprFunChoice _ R Hequiv).</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span></span></pre><div class="doc">
<a name="lab23"></a><h3 class="section">This is a variant of Diaconescu and Goodman-Myhill theorems</h3>
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk172" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk172"><span class="highlight"><span class="kn">Theorem</span> <span class="nf">repr_fun_choice_imp_excluded_middle</span> :
  RepresentativeFunctionalChoice -&gt; ExcludedMiddle.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">RepresentativeFunctionalChoice -&gt; ExcludedMiddle</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk173" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk173"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">RepresentativeFunctionalChoice -&gt; ExcludedMiddle</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk174" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk174"><span class="highlight"><span class="nb">intros</span> ReprFunChoice.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">ExcludedMiddle</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">apply</span> representative_boolean_partition_imp_excluded_middle, ReprFunChoice.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk175" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk175"><span class="highlight"><span class="kn">Theorem</span> <span class="nf">repr_fun_choice_imp_relational_choice</span> :
  RepresentativeFunctionalChoice -&gt; RelationalChoice.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">RepresentativeFunctionalChoice -&gt; RelationalChoice</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk176" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk176"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">RepresentativeFunctionalChoice -&gt; RelationalChoice</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk177" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk177"><span class="highlight"><span class="nb">intros</span> ReprFunChoice A B T Hexists.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, T x y</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">R&#39;</span> : A -&gt; B -&gt; <span class="kt">Prop</span>,
  subrelation R&#39; T /\
  (<span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> ! y : B, R&#39; x y)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk178" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk178"><span class="highlight"><span class="nb">pose</span> (D := (A*B)%type).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, T x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">(A * B)%type</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">R&#39;</span> : A -&gt; B -&gt; <span class="kt">Prop</span>,
  subrelation R&#39; T /\
  (<span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> ! y : B, R&#39; x y)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk179" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk179"><span class="highlight"><span class="nb">pose</span> (R (z z&#39;:D) :=
    <span class="kr">let</span> <span class="nv">x</span> := fst z <span class="kr">in</span>
    <span class="kr">let</span> <span class="nv">x&#39;</span> := fst z&#39; <span class="kr">in</span>
    <span class="kr">let</span> <span class="nv">y</span> := snd z <span class="kr">in</span>
    <span class="kr">let</span> <span class="nv">y&#39;</span> := snd z&#39; <span class="kr">in</span>
    x = x&#39; /\ (T x y -&gt; y = y&#39; \/ T x y&#39;) /\ (T x y&#39; -&gt; y = y&#39; \/ T x y)).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, T x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">(A * B)%type</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">z</span> <span class="nv">z&#39;</span> : D =&gt;
<span class="kr">let</span> <span class="nv">x</span> := fst z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">x&#39;</span> := fst z&#39; <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y</span> := snd z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y&#39;</span> := snd z&#39; <span class="kr">in</span>
x = x&#39; /\
(T x y -&gt; y = y&#39; \/ T x y&#39;) /\
(T x y&#39; -&gt; y = y&#39; \/ T x y)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D -&gt; <span class="kt">Prop</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">R&#39;</span> : A -&gt; B -&gt; <span class="kt">Prop</span>,
  subrelation R&#39; T /\
  (<span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> ! y : B, R&#39; x y)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk17a" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk17a"><span class="highlight"><span class="nb">assert</span> (Hequiv : Equivalence R).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, T x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">(A * B)%type</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">z</span> <span class="nv">z&#39;</span> : D =&gt;
<span class="kr">let</span> <span class="nv">x</span> := fst z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">x&#39;</span> := fst z&#39; <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y</span> := snd z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y&#39;</span> := snd z&#39; <span class="kr">in</span>
x = x&#39; /\
(T x y -&gt; y = y&#39; \/ T x y&#39;) /\
(T x y&#39; -&gt; y = y&#39; \/ T x y)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D -&gt; <span class="kt">Prop</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Equivalence R</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk17b" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, T x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">(A * B)%type</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">z</span> <span class="nv">z&#39;</span> : D =&gt;
<span class="kr">let</span> <span class="nv">x</span> := fst z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">x&#39;</span> := fst z&#39; <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y</span> := snd z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y&#39;</span> := snd z&#39; <span class="kr">in</span>
x = x&#39; /\
(T x y -&gt; y = y&#39; \/ T x y&#39;) /\
(T x y&#39; -&gt; y = y&#39; \/ T x y)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hequiv</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence R</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chk17b"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">R&#39;</span> : A -&gt; B -&gt; <span class="kt">Prop</span>,
  subrelation R&#39; T /\
  (<span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> ! y : B, R&#39; x y)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk17c" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk17c"><span class="highlight">{</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, T x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">(A * B)%type</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">z</span> <span class="nv">z&#39;</span> : D =&gt;
<span class="kr">let</span> <span class="nv">x</span> := fst z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">x&#39;</span> := fst z&#39; <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y</span> := snd z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y&#39;</span> := snd z&#39; <span class="kr">in</span>
x = x&#39; /\
(T x y -&gt; y = y&#39; \/ T x y&#39;) /\
(T x y&#39; -&gt; y = y&#39; \/ T x y)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D -&gt; <span class="kt">Prop</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Equivalence R</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk17d" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk17d"><span class="highlight"><span class="nb">split</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, T x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">(A * B)%type</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">z</span> <span class="nv">z&#39;</span> : D =&gt;
<span class="kr">let</span> <span class="nv">x</span> := fst z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">x&#39;</span> := fst z&#39; <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y</span> := snd z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y&#39;</span> := snd z&#39; <span class="kr">in</span>
x = x&#39; /\
(T x y -&gt; y = y&#39; \/ T x y&#39;) /\
(T x y&#39; -&gt; y = y&#39; \/ T x y)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D -&gt; <span class="kt">Prop</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Reflexive R</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk17e" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, T x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">(A * B)%type</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">z</span> <span class="nv">z&#39;</span> : D =&gt;
<span class="kr">let</span> <span class="nv">x</span> := fst z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">x&#39;</span> := fst z&#39; <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y</span> := snd z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y&#39;</span> := snd z&#39; <span class="kr">in</span>
x = x&#39; /\
(T x y -&gt; y = y&#39; \/ T x y&#39;) /\
(T x y&#39; -&gt; y = y&#39; \/ T x y)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D -&gt; <span class="kt">Prop</span></span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chk17e"><hr></label><div class="goal-conclusion"><span class="highlight">Symmetric R</span></div></blockquote><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk17f" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, T x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">(A * B)%type</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">z</span> <span class="nv">z&#39;</span> : D =&gt;
<span class="kr">let</span> <span class="nv">x</span> := fst z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">x&#39;</span> := fst z&#39; <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y</span> := snd z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y&#39;</span> := snd z&#39; <span class="kr">in</span>
x = x&#39; /\
(T x y -&gt; y = y&#39; \/ T x y&#39;) /\
(T x y&#39; -&gt; y = y&#39; \/ T x y)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D -&gt; <span class="kt">Prop</span></span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chk17f"><hr></label><div class="goal-conclusion"><span class="highlight">Transitive R</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk180" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk180"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, T x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">(A * B)%type</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">z</span> <span class="nv">z&#39;</span> : D =&gt;
<span class="kr">let</span> <span class="nv">x</span> := fst z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">x&#39;</span> := fst z&#39; <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y</span> := snd z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y&#39;</span> := snd z&#39; <span class="kr">in</span>
x = x&#39; /\
(T x y -&gt; y = y&#39; \/ T x y&#39;) /\
(T x y&#39; -&gt; y = y&#39; \/ T x y)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D -&gt; <span class="kt">Prop</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Reflexive R</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk181" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk181"><span class="highlight"><span class="nb">split</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, T x0 y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">(A * B)%type</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">z</span> <span class="nv">z&#39;</span> : D =&gt;
<span class="kr">let</span> <span class="nv">x0</span> := fst z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">x&#39;</span> := fst z&#39; <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y</span> := snd z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y&#39;</span> := snd z&#39; <span class="kr">in</span>
x0 = x&#39; /\
(T x0 y -&gt; y = y&#39; \/ T x0 y&#39;) /\
(T x0 y&#39; -&gt; y = y&#39; \/ T x0 y)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">fst x = fst x</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk182" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, T x0 y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">(A * B)%type</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">z</span> <span class="nv">z&#39;</span> : D =&gt;
<span class="kr">let</span> <span class="nv">x0</span> := fst z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">x&#39;</span> := fst z&#39; <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y</span> := snd z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y&#39;</span> := snd z&#39; <span class="kr">in</span>
x0 = x&#39; /\
(T x0 y -&gt; y = y&#39; \/ T x0 y&#39;) /\
(T x0 y&#39; -&gt; y = y&#39; \/ T x0 y)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chk182"><hr></label><div class="goal-conclusion"><span class="highlight">(T (fst x) (snd x) -&gt;
 snd x = snd x \/ T (fst x) (snd x)) /\
(T (fst x) (snd x) -&gt;
 snd x = snd x \/ T (fst x) (snd x))</span></div></blockquote></div></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk183" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk183"><span class="highlight"><span class="bp">easy</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, T x0 y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">(A * B)%type</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">z</span> <span class="nv">z&#39;</span> : D =&gt;
<span class="kr">let</span> <span class="nv">x0</span> := fst z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">x&#39;</span> := fst z&#39; <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y</span> := snd z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y&#39;</span> := snd z&#39; <span class="kr">in</span>
x0 = x&#39; /\
(T x0 y -&gt; y = y&#39; \/ T x0 y&#39;) /\
(T x0 y&#39; -&gt; y = y&#39; \/ T x0 y)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(T (fst x) (snd x) -&gt;
 snd x = snd x \/ T (fst x) (snd x)) /\
(T (fst x) (snd x) -&gt;
 snd x = snd x \/ T (fst x) (snd x))</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">firstorder</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk184" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk184"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, T x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">(A * B)%type</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">z</span> <span class="nv">z&#39;</span> : D =&gt;
<span class="kr">let</span> <span class="nv">x</span> := fst z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">x&#39;</span> := fst z&#39; <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y</span> := snd z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y&#39;</span> := snd z&#39; <span class="kr">in</span>
x = x&#39; /\
(T x y -&gt; y = y&#39; \/ T x y&#39;) /\
(T x y&#39; -&gt; y = y&#39; \/ T x y)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D -&gt; <span class="kt">Prop</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Symmetric R</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk185" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk185"><span class="highlight"><span class="nb">intros</span> (x,y) (x&#39;,y&#39;) (H1,(H2,H2&#39;)).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y0</span> : B, T x0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">(A * B)%type</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">z</span> <span class="nv">z&#39;</span> : D =&gt;
<span class="kr">let</span> <span class="nv">x0</span> := fst z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">x&#39;0</span> := fst z&#39; <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y0</span> := snd z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y&#39;0</span> := snd z&#39; <span class="kr">in</span>
x0 = x&#39;0 /\
(T x0 y0 -&gt; y0 = y&#39;0 \/ T x0 y&#39;0) /\
(T x0 y&#39;0 -&gt; y0 = y&#39;0 \/ T x0 y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">fst (x, y) = fst (x&#39;, y&#39;)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T (fst (x, y)) (snd (x, y)) -&gt;
snd (x, y) = snd (x&#39;, y&#39;) \/
T (fst (x, y)) (snd (x&#39;, y&#39;))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T (fst (x, y)) (snd (x&#39;, y&#39;)) -&gt;
snd (x, y) = snd (x&#39;, y&#39;) \/
T (fst (x, y)) (snd (x, y))</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">R (x&#39;, y&#39;) (x, y)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk186" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk186"><span class="highlight"><span class="nb">split</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y0</span> : B, T x0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">(A * B)%type</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">z</span> <span class="nv">z&#39;</span> : D =&gt;
<span class="kr">let</span> <span class="nv">x0</span> := fst z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">x&#39;0</span> := fst z&#39; <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y0</span> := snd z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y&#39;0</span> := snd z&#39; <span class="kr">in</span>
x0 = x&#39;0 /\
(T x0 y0 -&gt; y0 = y&#39;0 \/ T x0 y&#39;0) /\
(T x0 y&#39;0 -&gt; y0 = y&#39;0 \/ T x0 y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">fst (x, y) = fst (x&#39;, y&#39;)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T (fst (x, y)) (snd (x, y)) -&gt;
snd (x, y) = snd (x&#39;, y&#39;) \/
T (fst (x, y)) (snd (x&#39;, y&#39;))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T (fst (x, y)) (snd (x&#39;, y&#39;)) -&gt;
snd (x, y) = snd (x&#39;, y&#39;) \/
T (fst (x, y)) (snd (x, y))</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">fst (x&#39;, y&#39;) = fst (x, y)</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk187" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y0</span> : B, T x0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">(A * B)%type</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">z</span> <span class="nv">z&#39;</span> : D =&gt;
<span class="kr">let</span> <span class="nv">x0</span> := fst z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">x&#39;0</span> := fst z&#39; <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y0</span> := snd z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y&#39;0</span> := snd z&#39; <span class="kr">in</span>
x0 = x&#39;0 /\
(T x0 y0 -&gt; y0 = y&#39;0 \/ T x0 y&#39;0) /\
(T x0 y&#39;0 -&gt; y0 = y&#39;0 \/ T x0 y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">fst (x, y) = fst (x&#39;, y&#39;)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T (fst (x, y)) (snd (x, y)) -&gt;
snd (x, y) = snd (x&#39;, y&#39;) \/
T (fst (x, y)) (snd (x&#39;, y&#39;))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T (fst (x, y)) (snd (x&#39;, y&#39;)) -&gt;
snd (x, y) = snd (x&#39;, y&#39;) \/
T (fst (x, y)) (snd (x, y))</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chk187"><hr></label><div class="goal-conclusion"><span class="highlight">(T (fst (x&#39;, y&#39;)) (snd (x&#39;, y&#39;)) -&gt;
 snd (x&#39;, y&#39;) = snd (x, y) \/
 T (fst (x&#39;, y&#39;)) (snd (x, y))) /\
(T (fst (x&#39;, y&#39;)) (snd (x, y)) -&gt;
 snd (x&#39;, y&#39;) = snd (x, y) \/
 T (fst (x&#39;, y&#39;)) (snd (x&#39;, y&#39;)))</span></div></blockquote></div></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk188" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk188"><span class="highlight"><span class="bp">easy</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y0</span> : B, T x0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">(A * B)%type</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">z</span> <span class="nv">z&#39;</span> : D =&gt;
<span class="kr">let</span> <span class="nv">x0</span> := fst z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">x&#39;0</span> := fst z&#39; <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y0</span> := snd z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y&#39;0</span> := snd z&#39; <span class="kr">in</span>
x0 = x&#39;0 /\
(T x0 y0 -&gt; y0 = y&#39;0 \/ T x0 y&#39;0) /\
(T x0 y&#39;0 -&gt; y0 = y&#39;0 \/ T x0 y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">fst (x, y) = fst (x&#39;, y&#39;)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T (fst (x, y)) (snd (x, y)) -&gt;
snd (x, y) = snd (x&#39;, y&#39;) \/
T (fst (x, y)) (snd (x&#39;, y&#39;))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T (fst (x, y)) (snd (x&#39;, y&#39;)) -&gt;
snd (x, y) = snd (x&#39;, y&#39;) \/
T (fst (x, y)) (snd (x, y))</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(T (fst (x&#39;, y&#39;)) (snd (x&#39;, y&#39;)) -&gt;
 snd (x&#39;, y&#39;) = snd (x, y) \/
 T (fst (x&#39;, y&#39;)) (snd (x, y))) /\
(T (fst (x&#39;, y&#39;)) (snd (x, y)) -&gt;
 snd (x&#39;, y&#39;) = snd (x, y) \/
 T (fst (x&#39;, y&#39;)) (snd (x&#39;, y&#39;)))</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk189" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk189"><span class="highlight"><span class="nb">simpl</span> fst <span class="kr">in</span> *.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y0</span> : B, T x0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">(A * B)%type</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">z</span> <span class="nv">z&#39;</span> : D =&gt;
<span class="kr">let</span> <span class="nv">x0</span> := fst z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">x&#39;0</span> := fst z&#39; <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y0</span> := snd z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y&#39;0</span> := snd z&#39; <span class="kr">in</span>
x0 = x&#39;0 /\
(T x0 y0 -&gt; y0 = y&#39;0 \/ T x0 y&#39;0) /\
(T x0 y&#39;0 -&gt; y0 = y&#39;0 \/ T x0 y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">x = x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x (snd (x, y)) -&gt;
snd (x, y) = snd (x&#39;, y&#39;) \/ T x (snd (x&#39;, y&#39;))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x (snd (x&#39;, y&#39;)) -&gt;
snd (x, y) = snd (x&#39;, y&#39;) \/ T x (snd (x, y))</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(T x&#39; (snd (x&#39;, y&#39;)) -&gt;
 snd (x&#39;, y&#39;) = snd (x, y) \/ T x&#39; (snd (x, y))) /\
(T x&#39; (snd (x, y)) -&gt;
 snd (x&#39;, y&#39;) = snd (x, y) \/ T x&#39; (snd (x&#39;, y&#39;)))</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk18a" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk18a"><span class="highlight"><span class="nb">simpl</span> snd <span class="kr">in</span> *.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y0</span> : B, T x0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">(A * B)%type</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">z</span> <span class="nv">z&#39;</span> : D =&gt;
<span class="kr">let</span> <span class="nv">x0</span> := fst z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">x&#39;0</span> := fst z&#39; <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y0</span> := snd z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y&#39;0</span> := snd z&#39; <span class="kr">in</span>
x0 = x&#39;0 /\
(T x0 y0 -&gt; y0 = y&#39;0 \/ T x0 y&#39;0) /\
(T x0 y&#39;0 -&gt; y0 = y&#39;0 \/ T x0 y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">x = x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y -&gt; y = y&#39; \/ T x y&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y&#39; -&gt; y = y&#39; \/ T x y</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(T x&#39; y&#39; -&gt; y&#39; = y \/ T x&#39; y) /\
(T x&#39; y -&gt; y&#39; = y \/ T x&#39; y&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">      </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk18b" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk18b"><span class="highlight"><span class="nb">subst</span> x&#39;.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y0</span> : B, T x0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">(A * B)%type</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">z</span> <span class="nv">z&#39;</span> : D =&gt;
<span class="kr">let</span> <span class="nv">x0</span> := fst z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">x&#39;</span> := fst z&#39; <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y0</span> := snd z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y&#39;0</span> := snd z&#39; <span class="kr">in</span>
x0 = x&#39; /\
(T x0 y0 -&gt; y0 = y&#39;0 \/ T x0 y&#39;0) /\
(T x0 y&#39;0 -&gt; y0 = y&#39;0 \/ T x0 y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y, y'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y -&gt; y = y&#39; \/ T x y&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y&#39; -&gt; y = y&#39; \/ T x y</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(T x y&#39; -&gt; y&#39; = y \/ T x y) /\
(T x y -&gt; y&#39; = y \/ T x y&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk18c" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk18c"><span class="highlight"><span class="nb">split</span>; <span class="nb">intro</span> H.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y0</span> : B, T x0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">(A * B)%type</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">z</span> <span class="nv">z&#39;</span> : D =&gt;
<span class="kr">let</span> <span class="nv">x0</span> := fst z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">x&#39;</span> := fst z&#39; <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y0</span> := snd z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y&#39;0</span> := snd z&#39; <span class="kr">in</span>
x0 = x&#39; /\
(T x0 y0 -&gt; y0 = y&#39;0 \/ T x0 y&#39;0) /\
(T x0 y&#39;0 -&gt; y0 = y&#39;0 \/ T x0 y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y, y'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y -&gt; y = y&#39; \/ T x y&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y&#39; -&gt; y = y&#39; \/ T x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">y&#39; = y \/ T x y</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk18d" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y0</span> : B, T x0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">(A * B)%type</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">z</span> <span class="nv">z&#39;</span> : D =&gt;
<span class="kr">let</span> <span class="nv">x0</span> := fst z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">x&#39;</span> := fst z&#39; <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y0</span> := snd z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y&#39;0</span> := snd z&#39; <span class="kr">in</span>
x0 = x&#39; /\
(T x0 y0 -&gt; y0 = y&#39;0 \/ T x0 y&#39;0) /\
(T x0 y&#39;0 -&gt; y0 = y&#39;0 \/ T x0 y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y, y'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y -&gt; y = y&#39; \/ T x y&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y&#39; -&gt; y = y&#39; \/ T x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chk18d"><hr></label><div class="goal-conclusion"><span class="highlight">y&#39; = y \/ T x y&#39;</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">      </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk18e" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk18e"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y0</span> : B, T x0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">(A * B)%type</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">z</span> <span class="nv">z&#39;</span> : D =&gt;
<span class="kr">let</span> <span class="nv">x0</span> := fst z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">x&#39;</span> := fst z&#39; <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y0</span> := snd z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y&#39;0</span> := snd z&#39; <span class="kr">in</span>
x0 = x&#39; /\
(T x0 y0 -&gt; y0 = y&#39;0 \/ T x0 y&#39;0) /\
(T x0 y&#39;0 -&gt; y0 = y&#39;0 \/ T x0 y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y, y'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y -&gt; y = y&#39; \/ T x y&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y&#39; -&gt; y = y&#39; \/ T x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">y&#39; = y \/ T x y</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">destruct</span> (H2&#39; H); <span class="nb">firstorder</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">      </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk18f" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk18f"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y0</span> : B, T x0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">(A * B)%type</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">z</span> <span class="nv">z&#39;</span> : D =&gt;
<span class="kr">let</span> <span class="nv">x0</span> := fst z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">x&#39;</span> := fst z&#39; <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y0</span> := snd z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y&#39;0</span> := snd z&#39; <span class="kr">in</span>
x0 = x&#39; /\
(T x0 y0 -&gt; y0 = y&#39;0 \/ T x0 y&#39;0) /\
(T x0 y&#39;0 -&gt; y0 = y&#39;0 \/ T x0 y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y, y'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y -&gt; y = y&#39; \/ T x y&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y&#39; -&gt; y = y&#39; \/ T x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">y&#39; = y \/ T x y&#39;</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">destruct</span> (H2 H); <span class="nb">firstorder</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk190" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk190"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, T x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">(A * B)%type</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">z</span> <span class="nv">z&#39;</span> : D =&gt;
<span class="kr">let</span> <span class="nv">x</span> := fst z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">x&#39;</span> := fst z&#39; <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y</span> := snd z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y&#39;</span> := snd z&#39; <span class="kr">in</span>
x = x&#39; /\
(T x y -&gt; y = y&#39; \/ T x y&#39;) /\
(T x y&#39; -&gt; y = y&#39; \/ T x y)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D -&gt; <span class="kt">Prop</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Transitive R</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk191" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk191"><span class="highlight"><span class="nb">intros</span> (x,y) (x&#39;,y&#39;) (x&#39;&#39;,y&#39;&#39;) (H1,(H2,H2&#39;)) (H3,(H4,H4&#39;)).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y0</span> : B, T x0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">(A * B)%type</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">z</span> <span class="nv">z&#39;</span> : D =&gt;
<span class="kr">let</span> <span class="nv">x0</span> := fst z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">x&#39;0</span> := fst z&#39; <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y0</span> := snd z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y&#39;0</span> := snd z&#39; <span class="kr">in</span>
x0 = x&#39;0 /\
(T x0 y0 -&gt; y0 = y&#39;0 \/ T x0 y&#39;0) /\
(T x0 y&#39;0 -&gt; y0 = y&#39;0 \/ T x0 y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">fst (x, y) = fst (x&#39;, y&#39;)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T (fst (x, y)) (snd (x, y)) -&gt;
snd (x, y) = snd (x&#39;, y&#39;) \/
T (fst (x, y)) (snd (x&#39;, y&#39;))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T (fst (x, y)) (snd (x&#39;, y&#39;)) -&gt;
snd (x, y) = snd (x&#39;, y&#39;) \/
T (fst (x, y)) (snd (x, y))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">fst (x&#39;, y&#39;) = fst (x&#39;&#39;, y&#39;&#39;)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H4</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T (fst (x&#39;, y&#39;)) (snd (x&#39;, y&#39;)) -&gt;
snd (x&#39;, y&#39;) = snd (x&#39;&#39;, y&#39;&#39;) \/
T (fst (x&#39;, y&#39;)) (snd (x&#39;&#39;, y&#39;&#39;))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H4'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T (fst (x&#39;, y&#39;)) (snd (x&#39;&#39;, y&#39;&#39;)) -&gt;
snd (x&#39;, y&#39;) = snd (x&#39;&#39;, y&#39;&#39;) \/
T (fst (x&#39;, y&#39;)) (snd (x&#39;, y&#39;))</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">R (x, y) (x&#39;&#39;, y&#39;&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">      </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk192" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk192"><span class="highlight"><span class="nb">simpl</span> fst <span class="kr">in</span> *.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y0</span> : B, T x0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">(A * B)%type</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">z</span> <span class="nv">z&#39;</span> : D =&gt;
<span class="kr">let</span> <span class="nv">x0</span> := fst z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">x&#39;0</span> := fst z&#39; <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y0</span> := snd z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y&#39;0</span> := snd z&#39; <span class="kr">in</span>
x0 = x&#39;0 /\
(T x0 y0 -&gt; y0 = y&#39;0 \/ T x0 y&#39;0) /\
(T x0 y&#39;0 -&gt; y0 = y&#39;0 \/ T x0 y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">x = x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x (snd (x, y)) -&gt;
snd (x, y) = snd (x&#39;, y&#39;) \/ T x (snd (x&#39;, y&#39;))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x (snd (x&#39;, y&#39;)) -&gt;
snd (x, y) = snd (x&#39;, y&#39;) \/ T x (snd (x, y))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">x&#39; = x&#39;&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H4</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x&#39; (snd (x&#39;, y&#39;)) -&gt;
snd (x&#39;, y&#39;) = snd (x&#39;&#39;, y&#39;&#39;) \/
T x&#39; (snd (x&#39;&#39;, y&#39;&#39;))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H4'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x&#39; (snd (x&#39;&#39;, y&#39;&#39;)) -&gt;
snd (x&#39;, y&#39;) = snd (x&#39;&#39;, y&#39;&#39;) \/
T x&#39; (snd (x&#39;, y&#39;))</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">R (x, y) (x&#39;&#39;, y&#39;&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk193" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk193"><span class="highlight"><span class="nb">simpl</span> snd <span class="kr">in</span> *.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y0</span> : B, T x0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">(A * B)%type</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">z</span> <span class="nv">z&#39;</span> : D =&gt;
<span class="kr">let</span> <span class="nv">x0</span> := fst z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">x&#39;0</span> := fst z&#39; <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y0</span> := snd z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y&#39;0</span> := snd z&#39; <span class="kr">in</span>
x0 = x&#39;0 /\
(T x0 y0 -&gt; y0 = y&#39;0 \/ T x0 y&#39;0) /\
(T x0 y&#39;0 -&gt; y0 = y&#39;0 \/ T x0 y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">x = x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y -&gt; y = y&#39; \/ T x y&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y&#39; -&gt; y = y&#39; \/ T x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">x&#39; = x&#39;&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H4</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x&#39; y&#39; -&gt; y&#39; = y&#39;&#39; \/ T x&#39; y&#39;&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H4'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x&#39; y&#39;&#39; -&gt; y&#39; = y&#39;&#39; \/ T x&#39; y&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">R (x, y) (x&#39;&#39;, y&#39;&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk194" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk194"><span class="highlight"><span class="nb">subst</span> x&#39;&#39; x&#39;.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y0</span> : B, T x0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">(A * B)%type</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">z</span> <span class="nv">z&#39;</span> : D =&gt;
<span class="kr">let</span> <span class="nv">x0</span> := fst z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">x&#39;</span> := fst z&#39; <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y0</span> := snd z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y&#39;0</span> := snd z&#39; <span class="kr">in</span>
x0 = x&#39; /\
(T x0 y0 -&gt; y0 = y&#39;0 \/ T x0 y&#39;0) /\
(T x0 y&#39;0 -&gt; y0 = y&#39;0 \/ T x0 y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y, y', y''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y -&gt; y = y&#39; \/ T x y&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y&#39; -&gt; y = y&#39; \/ T x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H4'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y&#39;&#39; -&gt; y&#39; = y&#39;&#39; \/ T x y&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H4</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y&#39; -&gt; y&#39; = y&#39;&#39; \/ T x y&#39;&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">R (x, y) (x, y&#39;&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk195" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk195"><span class="highlight"><span class="nb">split</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y0</span> : B, T x0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">(A * B)%type</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">z</span> <span class="nv">z&#39;</span> : D =&gt;
<span class="kr">let</span> <span class="nv">x0</span> := fst z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">x&#39;</span> := fst z&#39; <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y0</span> := snd z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y&#39;0</span> := snd z&#39; <span class="kr">in</span>
x0 = x&#39; /\
(T x0 y0 -&gt; y0 = y&#39;0 \/ T x0 y&#39;0) /\
(T x0 y&#39;0 -&gt; y0 = y&#39;0 \/ T x0 y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y, y', y''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y -&gt; y = y&#39; \/ T x y&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y&#39; -&gt; y = y&#39; \/ T x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H4'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y&#39;&#39; -&gt; y&#39; = y&#39;&#39; \/ T x y&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H4</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y&#39; -&gt; y&#39; = y&#39;&#39; \/ T x y&#39;&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">fst (x, y) = fst (x, y&#39;&#39;)</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk196" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y0</span> : B, T x0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">(A * B)%type</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">z</span> <span class="nv">z&#39;</span> : D =&gt;
<span class="kr">let</span> <span class="nv">x0</span> := fst z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">x&#39;</span> := fst z&#39; <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y0</span> := snd z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y&#39;0</span> := snd z&#39; <span class="kr">in</span>
x0 = x&#39; /\
(T x0 y0 -&gt; y0 = y&#39;0 \/ T x0 y&#39;0) /\
(T x0 y&#39;0 -&gt; y0 = y&#39;0 \/ T x0 y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y, y', y''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y -&gt; y = y&#39; \/ T x y&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y&#39; -&gt; y = y&#39; \/ T x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H4'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y&#39;&#39; -&gt; y&#39; = y&#39;&#39; \/ T x y&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H4</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y&#39; -&gt; y&#39; = y&#39;&#39; \/ T x y&#39;&#39;</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chk196"><hr></label><div class="goal-conclusion"><span class="highlight">(T (fst (x, y)) (snd (x, y)) -&gt;
 snd (x, y) = snd (x, y&#39;&#39;) \/
 T (fst (x, y)) (snd (x, y&#39;&#39;))) /\
(T (fst (x, y)) (snd (x, y&#39;&#39;)) -&gt;
 snd (x, y) = snd (x, y&#39;&#39;) \/
 T (fst (x, y)) (snd (x, y)))</span></div></blockquote></div></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk197" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk197"><span class="highlight"><span class="bp">easy</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y0</span> : B, T x0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">(A * B)%type</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">z</span> <span class="nv">z&#39;</span> : D =&gt;
<span class="kr">let</span> <span class="nv">x0</span> := fst z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">x&#39;</span> := fst z&#39; <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y0</span> := snd z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y&#39;0</span> := snd z&#39; <span class="kr">in</span>
x0 = x&#39; /\
(T x0 y0 -&gt; y0 = y&#39;0 \/ T x0 y&#39;0) /\
(T x0 y&#39;0 -&gt; y0 = y&#39;0 \/ T x0 y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y, y', y''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y -&gt; y = y&#39; \/ T x y&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y&#39; -&gt; y = y&#39; \/ T x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H4'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y&#39;&#39; -&gt; y&#39; = y&#39;&#39; \/ T x y&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H4</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y&#39; -&gt; y&#39; = y&#39;&#39; \/ T x y&#39;&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(T (fst (x, y)) (snd (x, y)) -&gt;
 snd (x, y) = snd (x, y&#39;&#39;) \/
 T (fst (x, y)) (snd (x, y&#39;&#39;))) /\
(T (fst (x, y)) (snd (x, y&#39;&#39;)) -&gt;
 snd (x, y) = snd (x, y&#39;&#39;) \/
 T (fst (x, y)) (snd (x, y)))</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk198" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk198"><span class="highlight"><span class="nb">split</span>; <span class="nb">intro</span> H.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y0</span> : B, T x0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">(A * B)%type</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">z</span> <span class="nv">z&#39;</span> : D =&gt;
<span class="kr">let</span> <span class="nv">x0</span> := fst z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">x&#39;</span> := fst z&#39; <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y0</span> := snd z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y&#39;0</span> := snd z&#39; <span class="kr">in</span>
x0 = x&#39; /\
(T x0 y0 -&gt; y0 = y&#39;0 \/ T x0 y&#39;0) /\
(T x0 y&#39;0 -&gt; y0 = y&#39;0 \/ T x0 y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y, y', y''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y -&gt; y = y&#39; \/ T x y&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y&#39; -&gt; y = y&#39; \/ T x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H4'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y&#39;&#39; -&gt; y&#39; = y&#39;&#39; \/ T x y&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H4</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y&#39; -&gt; y&#39; = y&#39;&#39; \/ T x y&#39;&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T (fst (x, y)) (snd (x, y))</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">snd (x, y) = snd (x, y&#39;&#39;) \/
T (fst (x, y)) (snd (x, y&#39;&#39;))</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk199" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y0</span> : B, T x0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">(A * B)%type</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">z</span> <span class="nv">z&#39;</span> : D =&gt;
<span class="kr">let</span> <span class="nv">x0</span> := fst z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">x&#39;</span> := fst z&#39; <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y0</span> := snd z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y&#39;0</span> := snd z&#39; <span class="kr">in</span>
x0 = x&#39; /\
(T x0 y0 -&gt; y0 = y&#39;0 \/ T x0 y&#39;0) /\
(T x0 y&#39;0 -&gt; y0 = y&#39;0 \/ T x0 y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y, y', y''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y -&gt; y = y&#39; \/ T x y&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y&#39; -&gt; y = y&#39; \/ T x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H4'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y&#39;&#39; -&gt; y&#39; = y&#39;&#39; \/ T x y&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H4</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y&#39; -&gt; y&#39; = y&#39;&#39; \/ T x y&#39;&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T (fst (x, y)) (snd (x, y&#39;&#39;))</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chk199"><hr></label><div class="goal-conclusion"><span class="highlight">snd (x, y) = snd (x, y&#39;&#39;) \/
T (fst (x, y)) (snd (x, y))</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">      </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk19a" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk19a"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y0</span> : B, T x0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">(A * B)%type</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">z</span> <span class="nv">z&#39;</span> : D =&gt;
<span class="kr">let</span> <span class="nv">x0</span> := fst z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">x&#39;</span> := fst z&#39; <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y0</span> := snd z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y&#39;0</span> := snd z&#39; <span class="kr">in</span>
x0 = x&#39; /\
(T x0 y0 -&gt; y0 = y&#39;0 \/ T x0 y&#39;0) /\
(T x0 y&#39;0 -&gt; y0 = y&#39;0 \/ T x0 y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y, y', y''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y -&gt; y = y&#39; \/ T x y&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y&#39; -&gt; y = y&#39; \/ T x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H4'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y&#39;&#39; -&gt; y&#39; = y&#39;&#39; \/ T x y&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H4</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y&#39; -&gt; y&#39; = y&#39;&#39; \/ T x y&#39;&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T (fst (x, y)) (snd (x, y))</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">snd (x, y) = snd (x, y&#39;&#39;) \/
T (fst (x, y)) (snd (x, y&#39;&#39;))</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk19b" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk19b"><span class="highlight"><span class="nb">simpl</span> fst <span class="kr">in</span> *.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y0</span> : B, T x0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">(A * B)%type</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">z</span> <span class="nv">z&#39;</span> : D =&gt;
<span class="kr">let</span> <span class="nv">x0</span> := fst z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">x&#39;</span> := fst z&#39; <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y0</span> := snd z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y&#39;0</span> := snd z&#39; <span class="kr">in</span>
x0 = x&#39; /\
(T x0 y0 -&gt; y0 = y&#39;0 \/ T x0 y&#39;0) /\
(T x0 y&#39;0 -&gt; y0 = y&#39;0 \/ T x0 y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y, y', y''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y -&gt; y = y&#39; \/ T x y&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y&#39; -&gt; y = y&#39; \/ T x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H4'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y&#39;&#39; -&gt; y&#39; = y&#39;&#39; \/ T x y&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H4</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y&#39; -&gt; y&#39; = y&#39;&#39; \/ T x y&#39;&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x (snd (x, y))</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">snd (x, y) = snd (x, y&#39;&#39;) \/ T x (snd (x, y&#39;&#39;))</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk19c" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk19c"><span class="highlight"><span class="nb">simpl</span> snd <span class="kr">in</span> *.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y0</span> : B, T x0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">(A * B)%type</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">z</span> <span class="nv">z&#39;</span> : D =&gt;
<span class="kr">let</span> <span class="nv">x0</span> := fst z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">x&#39;</span> := fst z&#39; <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y0</span> := snd z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y&#39;0</span> := snd z&#39; <span class="kr">in</span>
x0 = x&#39; /\
(T x0 y0 -&gt; y0 = y&#39;0 \/ T x0 y&#39;0) /\
(T x0 y&#39;0 -&gt; y0 = y&#39;0 \/ T x0 y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y, y', y''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y -&gt; y = y&#39; \/ T x y&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y&#39; -&gt; y = y&#39; \/ T x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H4'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y&#39;&#39; -&gt; y&#39; = y&#39;&#39; \/ T x y&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H4</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y&#39; -&gt; y&#39; = y&#39;&#39; \/ T x y&#39;&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">y = y&#39;&#39; \/ T x y&#39;&#39;</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk19d" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk19d"><span class="highlight"><span class="nb">destruct</span> (H2 H) <span class="kr">as</span> [&lt;-|H0].</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y0</span> : B, T x0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">(A * B)%type</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">z</span> <span class="nv">z&#39;</span> : D =&gt;
<span class="kr">let</span> <span class="nv">x0</span> := fst z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">x&#39;</span> := fst z&#39; <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y0</span> := snd z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y&#39;</span> := snd z&#39; <span class="kr">in</span>
x0 = x&#39; /\
(T x0 y0 -&gt; y0 = y&#39; \/ T x0 y&#39;) /\
(T x0 y&#39; -&gt; y0 = y&#39; \/ T x0 y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y, y''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H4</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y -&gt; y = y&#39;&#39; \/ T x y&#39;&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H4'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y&#39;&#39; -&gt; y = y&#39;&#39; \/ T x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2', H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y -&gt; y = y \/ T x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">y = y&#39;&#39; \/ T x y&#39;&#39;</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk19e" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y0</span> : B, T x0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">(A * B)%type</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">z</span> <span class="nv">z&#39;</span> : D =&gt;
<span class="kr">let</span> <span class="nv">x0</span> := fst z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">x&#39;</span> := fst z&#39; <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y0</span> := snd z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y&#39;0</span> := snd z&#39; <span class="kr">in</span>
x0 = x&#39; /\
(T x0 y0 -&gt; y0 = y&#39;0 \/ T x0 y&#39;0) /\
(T x0 y&#39;0 -&gt; y0 = y&#39;0 \/ T x0 y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y, y', y''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y -&gt; y = y&#39; \/ T x y&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y&#39; -&gt; y = y&#39; \/ T x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H4'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y&#39;&#39; -&gt; y&#39; = y&#39;&#39; \/ T x y&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H4</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y&#39; -&gt; y&#39; = y&#39;&#39; \/ T x y&#39;&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y&#39;</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chk19e"><hr></label><div class="goal-conclusion"><span class="highlight">y = y&#39;&#39; \/ T x y&#39;&#39;</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">        </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk19f" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk19f"><span class="highlight">*</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y0</span> : B, T x0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">(A * B)%type</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">z</span> <span class="nv">z&#39;</span> : D =&gt;
<span class="kr">let</span> <span class="nv">x0</span> := fst z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">x&#39;</span> := fst z&#39; <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y0</span> := snd z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y&#39;</span> := snd z&#39; <span class="kr">in</span>
x0 = x&#39; /\
(T x0 y0 -&gt; y0 = y&#39; \/ T x0 y&#39;) /\
(T x0 y&#39; -&gt; y0 = y&#39; \/ T x0 y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y, y''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H4</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y -&gt; y = y&#39;&#39; \/ T x y&#39;&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H4'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y&#39;&#39; -&gt; y = y&#39;&#39; \/ T x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2', H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y -&gt; y = y \/ T x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">y = y&#39;&#39; \/ T x y&#39;&#39;</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">destruct</span> (H4 H); <span class="nb">firstorder</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">        </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk1a0" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk1a0"><span class="highlight">*</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y0</span> : B, T x0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">(A * B)%type</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">z</span> <span class="nv">z&#39;</span> : D =&gt;
<span class="kr">let</span> <span class="nv">x0</span> := fst z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">x&#39;</span> := fst z&#39; <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y0</span> := snd z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y&#39;0</span> := snd z&#39; <span class="kr">in</span>
x0 = x&#39; /\
(T x0 y0 -&gt; y0 = y&#39;0 \/ T x0 y&#39;0) /\
(T x0 y&#39;0 -&gt; y0 = y&#39;0 \/ T x0 y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y, y', y''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y -&gt; y = y&#39; \/ T x y&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y&#39; -&gt; y = y&#39; \/ T x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H4'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y&#39;&#39; -&gt; y&#39; = y&#39;&#39; \/ T x y&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H4</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y&#39; -&gt; y&#39; = y&#39;&#39; \/ T x y&#39;&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">y = y&#39;&#39; \/ T x y&#39;&#39;</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">destruct</span> (H2&#39; H0), (H4 H0); <span class="kp">try</span> <span class="nb">subst</span> y&#39;; <span class="kp">try</span> <span class="nb">subst</span> y&#39;&#39;; <span class="kp">try</span> <span class="nb">firstorder</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">      </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk1a1" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk1a1"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y0</span> : B, T x0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">(A * B)%type</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">z</span> <span class="nv">z&#39;</span> : D =&gt;
<span class="kr">let</span> <span class="nv">x0</span> := fst z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">x&#39;</span> := fst z&#39; <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y0</span> := snd z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y&#39;0</span> := snd z&#39; <span class="kr">in</span>
x0 = x&#39; /\
(T x0 y0 -&gt; y0 = y&#39;0 \/ T x0 y&#39;0) /\
(T x0 y&#39;0 -&gt; y0 = y&#39;0 \/ T x0 y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y, y', y''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y -&gt; y = y&#39; \/ T x y&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y&#39; -&gt; y = y&#39; \/ T x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H4'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y&#39;&#39; -&gt; y&#39; = y&#39;&#39; \/ T x y&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H4</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y&#39; -&gt; y&#39; = y&#39;&#39; \/ T x y&#39;&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T (fst (x, y)) (snd (x, y&#39;&#39;))</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">snd (x, y) = snd (x, y&#39;&#39;) \/
T (fst (x, y)) (snd (x, y))</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk1a2" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk1a2"><span class="highlight"><span class="nb">simpl</span> fst <span class="kr">in</span> *.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y0</span> : B, T x0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">(A * B)%type</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">z</span> <span class="nv">z&#39;</span> : D =&gt;
<span class="kr">let</span> <span class="nv">x0</span> := fst z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">x&#39;</span> := fst z&#39; <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y0</span> := snd z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y&#39;0</span> := snd z&#39; <span class="kr">in</span>
x0 = x&#39; /\
(T x0 y0 -&gt; y0 = y&#39;0 \/ T x0 y&#39;0) /\
(T x0 y&#39;0 -&gt; y0 = y&#39;0 \/ T x0 y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y, y', y''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y -&gt; y = y&#39; \/ T x y&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y&#39; -&gt; y = y&#39; \/ T x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H4'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y&#39;&#39; -&gt; y&#39; = y&#39;&#39; \/ T x y&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H4</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y&#39; -&gt; y&#39; = y&#39;&#39; \/ T x y&#39;&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x (snd (x, y&#39;&#39;))</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">snd (x, y) = snd (x, y&#39;&#39;) \/ T x (snd (x, y))</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk1a3" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk1a3"><span class="highlight"><span class="nb">simpl</span> snd <span class="kr">in</span> *.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y0</span> : B, T x0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">(A * B)%type</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">z</span> <span class="nv">z&#39;</span> : D =&gt;
<span class="kr">let</span> <span class="nv">x0</span> := fst z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">x&#39;</span> := fst z&#39; <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y0</span> := snd z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y&#39;0</span> := snd z&#39; <span class="kr">in</span>
x0 = x&#39; /\
(T x0 y0 -&gt; y0 = y&#39;0 \/ T x0 y&#39;0) /\
(T x0 y&#39;0 -&gt; y0 = y&#39;0 \/ T x0 y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y, y', y''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y -&gt; y = y&#39; \/ T x y&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y&#39; -&gt; y = y&#39; \/ T x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H4'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y&#39;&#39; -&gt; y&#39; = y&#39;&#39; \/ T x y&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H4</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y&#39; -&gt; y&#39; = y&#39;&#39; \/ T x y&#39;&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y&#39;&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">y = y&#39;&#39; \/ T x y</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk1a4" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk1a4"><span class="highlight"><span class="nb">destruct</span> (H4&#39; H) <span class="kr">as</span> [&lt;-|H0].</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y0</span> : B, T x0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">(A * B)%type</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">z</span> <span class="nv">z&#39;</span> : D =&gt;
<span class="kr">let</span> <span class="nv">x0</span> := fst z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">x&#39;</span> := fst z&#39; <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y0</span> := snd z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y&#39;0</span> := snd z&#39; <span class="kr">in</span>
x0 = x&#39; /\
(T x0 y0 -&gt; y0 = y&#39;0 \/ T x0 y&#39;0) /\
(T x0 y&#39;0 -&gt; y0 = y&#39;0 \/ T x0 y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y, y'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y -&gt; y = y&#39; \/ T x y&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y&#39; -&gt; y = y&#39; \/ T x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H4, H4'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y&#39; -&gt; y&#39; = y&#39; \/ T x y&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">y = y&#39; \/ T x y</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk1a5" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y0</span> : B, T x0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">(A * B)%type</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">z</span> <span class="nv">z&#39;</span> : D =&gt;
<span class="kr">let</span> <span class="nv">x0</span> := fst z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">x&#39;</span> := fst z&#39; <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y0</span> := snd z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y&#39;0</span> := snd z&#39; <span class="kr">in</span>
x0 = x&#39; /\
(T x0 y0 -&gt; y0 = y&#39;0 \/ T x0 y&#39;0) /\
(T x0 y&#39;0 -&gt; y0 = y&#39;0 \/ T x0 y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y, y', y''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y -&gt; y = y&#39; \/ T x y&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y&#39; -&gt; y = y&#39; \/ T x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H4'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y&#39;&#39; -&gt; y&#39; = y&#39;&#39; \/ T x y&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H4</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y&#39; -&gt; y&#39; = y&#39;&#39; \/ T x y&#39;&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y&#39;&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y&#39;</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chk1a5"><hr></label><div class="goal-conclusion"><span class="highlight">y = y&#39;&#39; \/ T x y</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">        </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk1a6" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk1a6"><span class="highlight">*</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y0</span> : B, T x0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">(A * B)%type</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">z</span> <span class="nv">z&#39;</span> : D =&gt;
<span class="kr">let</span> <span class="nv">x0</span> := fst z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">x&#39;</span> := fst z&#39; <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y0</span> := snd z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y&#39;0</span> := snd z&#39; <span class="kr">in</span>
x0 = x&#39; /\
(T x0 y0 -&gt; y0 = y&#39;0 \/ T x0 y&#39;0) /\
(T x0 y&#39;0 -&gt; y0 = y&#39;0 \/ T x0 y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y, y'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y -&gt; y = y&#39; \/ T x y&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y&#39; -&gt; y = y&#39; \/ T x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H4, H4'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y&#39; -&gt; y&#39; = y&#39; \/ T x y&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">y = y&#39; \/ T x y</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">destruct</span> (H2&#39; H); <span class="nb">firstorder</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">        </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk1a7" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk1a7"><span class="highlight">*</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y0</span> : B, T x0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">(A * B)%type</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">z</span> <span class="nv">z&#39;</span> : D =&gt;
<span class="kr">let</span> <span class="nv">x0</span> := fst z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">x&#39;</span> := fst z&#39; <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y0</span> := snd z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y&#39;0</span> := snd z&#39; <span class="kr">in</span>
x0 = x&#39; /\
(T x0 y0 -&gt; y0 = y&#39;0 \/ T x0 y&#39;0) /\
(T x0 y&#39;0 -&gt; y0 = y&#39;0 \/ T x0 y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y, y', y''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y -&gt; y = y&#39; \/ T x y&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y&#39; -&gt; y = y&#39; \/ T x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H4'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y&#39;&#39; -&gt; y&#39; = y&#39;&#39; \/ T x y&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H4</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y&#39; -&gt; y&#39; = y&#39;&#39; \/ T x y&#39;&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y&#39;&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">y = y&#39;&#39; \/ T x y</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">destruct</span> (H2&#39; H0), (H4 H0); <span class="kp">try</span> <span class="nb">subst</span> y&#39;; <span class="kp">try</span> <span class="nb">subst</span> y&#39;&#39;; <span class="kp">try</span> <span class="nb">firstorder</span>.</span></span><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk1a8" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk1a8"><span class="highlight">}</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, T x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">(A * B)%type</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">z</span> <span class="nv">z&#39;</span> : D =&gt;
<span class="kr">let</span> <span class="nv">x</span> := fst z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">x&#39;</span> := fst z&#39; <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y</span> := snd z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y&#39;</span> := snd z&#39; <span class="kr">in</span>
x = x&#39; /\
(T x y -&gt; y = y&#39; \/ T x y&#39;) /\
(T x y&#39; -&gt; y = y&#39; \/ T x y)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hequiv</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence R</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">R&#39;</span> : A -&gt; B -&gt; <span class="kt">Prop</span>,
  subrelation R&#39; T /\
  (<span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> ! y : B, R&#39; x y)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk1a9" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk1a9"><span class="highlight"><span class="nb">destruct</span> (ReprFunChoice D R Hequiv) <span class="kr">as</span> (g,Hg).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, T x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">(A * B)%type</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">z</span> <span class="nv">z&#39;</span> : D =&gt;
<span class="kr">let</span> <span class="nv">x</span> := fst z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">x&#39;</span> := fst z&#39; <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y</span> := snd z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y&#39;</span> := snd z&#39; <span class="kr">in</span>
x = x&#39; /\
(T x y -&gt; y = y&#39; \/ T x y&#39;) /\
(T x y&#39; -&gt; y = y&#39; \/ T x y)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hequiv</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hg</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : D,
R x (g x) /\
(<span class="kr">forall</span> <span class="nv">x&#39;</span> : D, R x x&#39; -&gt; g x = g x&#39;)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">R&#39;</span> : A -&gt; B -&gt; <span class="kt">Prop</span>,
  subrelation R&#39; T /\
  (<span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> ! y : B, R&#39; x y)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk1aa" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk1aa"><span class="highlight"><span class="nb">set</span> (T&#39; x y := T x y /\ <span class="kr">exists</span> <span class="nv">y&#39;</span>, T x y&#39; /\ g (x,y&#39;) = (x,y)).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, T x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">(A * B)%type</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">z</span> <span class="nv">z&#39;</span> : D =&gt;
<span class="kr">let</span> <span class="nv">x</span> := fst z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">x&#39;</span> := fst z&#39; <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y</span> := snd z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y&#39;</span> := snd z&#39; <span class="kr">in</span>
x = x&#39; /\
(T x y -&gt; y = y&#39; \/ T x y&#39;) /\
(T x y&#39; -&gt; y = y&#39; \/ T x y)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hequiv</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hg</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : D,
R x (g x) /\
(<span class="kr">forall</span> <span class="nv">x&#39;</span> : D, R x x&#39; -&gt; g x = g x&#39;)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">T'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x</span> : A) (<span class="nv">y</span> : B) =&gt;
T x y /\
(<span class="kr">exists</span> <span class="nv">y&#39;</span> : B, T x y&#39; /\ g (x, y&#39;) = (x, y))</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">R&#39;</span> : A -&gt; B -&gt; <span class="kt">Prop</span>,
  subrelation R&#39; T /\
  (<span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> ! y : B, R&#39; x y)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk1ab" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk1ab"><span class="highlight"><span class="kr">exists</span> <span class="nv">T&#39;</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, T x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">(A * B)%type</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">z</span> <span class="nv">z&#39;</span> : D =&gt;
<span class="kr">let</span> <span class="nv">x</span> := fst z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">x&#39;</span> := fst z&#39; <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y</span> := snd z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y&#39;</span> := snd z&#39; <span class="kr">in</span>
x = x&#39; /\
(T x y -&gt; y = y&#39; \/ T x y&#39;) /\
(T x y&#39; -&gt; y = y&#39; \/ T x y)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hequiv</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hg</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : D,
R x (g x) /\
(<span class="kr">forall</span> <span class="nv">x&#39;</span> : D, R x x&#39; -&gt; g x = g x&#39;)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">T'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x</span> : A) (<span class="nv">y</span> : B) =&gt;
T x y /\
(<span class="kr">exists</span> <span class="nv">y&#39;</span> : B, T x y&#39; /\ g (x, y&#39;) = (x, y))</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">subrelation T&#39; T /\
(<span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> ! y : B, T&#39; x y)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk1ac" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk1ac"><span class="highlight"><span class="nb">split</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, T x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">(A * B)%type</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">z</span> <span class="nv">z&#39;</span> : D =&gt;
<span class="kr">let</span> <span class="nv">x</span> := fst z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">x&#39;</span> := fst z&#39; <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y</span> := snd z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y&#39;</span> := snd z&#39; <span class="kr">in</span>
x = x&#39; /\
(T x y -&gt; y = y&#39; \/ T x y&#39;) /\
(T x y&#39; -&gt; y = y&#39; \/ T x y)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hequiv</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hg</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : D,
R x (g x) /\
(<span class="kr">forall</span> <span class="nv">x&#39;</span> : D, R x x&#39; -&gt; g x = g x&#39;)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">T'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x</span> : A) (<span class="nv">y</span> : B) =&gt;
T x y /\
(<span class="kr">exists</span> <span class="nv">y&#39;</span> : B, T x y&#39; /\ g (x, y&#39;) = (x, y))</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">subrelation T&#39; T</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk1ad" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, T x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">(A * B)%type</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">z</span> <span class="nv">z&#39;</span> : D =&gt;
<span class="kr">let</span> <span class="nv">x</span> := fst z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">x&#39;</span> := fst z&#39; <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y</span> := snd z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y&#39;</span> := snd z&#39; <span class="kr">in</span>
x = x&#39; /\
(T x y -&gt; y = y&#39; \/ T x y&#39;) /\
(T x y&#39; -&gt; y = y&#39; \/ T x y)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hequiv</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hg</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : D,
R x (g x) /\
(<span class="kr">forall</span> <span class="nv">x&#39;</span> : D, R x x&#39; -&gt; g x = g x&#39;)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">T'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x</span> : A) (<span class="nv">y</span> : B) =&gt;
T x y /\
(<span class="kr">exists</span> <span class="nv">y&#39;</span> : B, T x y&#39; /\ g (x, y&#39;) = (x, y))</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chk1ad"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> ! y : B, T&#39; x y</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk1ae" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk1ae"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, T x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">(A * B)%type</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">z</span> <span class="nv">z&#39;</span> : D =&gt;
<span class="kr">let</span> <span class="nv">x</span> := fst z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">x&#39;</span> := fst z&#39; <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y</span> := snd z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y&#39;</span> := snd z&#39; <span class="kr">in</span>
x = x&#39; /\
(T x y -&gt; y = y&#39; \/ T x y&#39;) /\
(T x y&#39; -&gt; y = y&#39; \/ T x y)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hequiv</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hg</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : D,
R x (g x) /\
(<span class="kr">forall</span> <span class="nv">x&#39;</span> : D, R x x&#39; -&gt; g x = g x&#39;)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">T'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x</span> : A) (<span class="nv">y</span> : B) =&gt;
T x y /\
(<span class="kr">exists</span> <span class="nv">y&#39;</span> : B, T x y&#39; /\ g (x, y&#39;) = (x, y))</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">subrelation T&#39; T</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">intros</span> x y (H,_); <span class="bp">easy</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk1af" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk1af"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, T x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">(A * B)%type</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">z</span> <span class="nv">z&#39;</span> : D =&gt;
<span class="kr">let</span> <span class="nv">x</span> := fst z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">x&#39;</span> := fst z&#39; <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y</span> := snd z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y&#39;</span> := snd z&#39; <span class="kr">in</span>
x = x&#39; /\
(T x y -&gt; y = y&#39; \/ T x y&#39;) /\
(T x y&#39; -&gt; y = y&#39; \/ T x y)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hequiv</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hg</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : D,
R x (g x) /\
(<span class="kr">forall</span> <span class="nv">x&#39;</span> : D, R x x&#39; -&gt; g x = g x&#39;)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">T'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x</span> : A) (<span class="nv">y</span> : B) =&gt;
T x y /\
(<span class="kr">exists</span> <span class="nv">y&#39;</span> : B, T x y&#39; /\ g (x, y&#39;) = (x, y))</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> ! y : B, T&#39; x y</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk1b0" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk1b0"><span class="highlight"><span class="nb">intro</span> x.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, T x0 y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">(A * B)%type</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">z</span> <span class="nv">z&#39;</span> : D =&gt;
<span class="kr">let</span> <span class="nv">x0</span> := fst z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">x&#39;</span> := fst z&#39; <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y</span> := snd z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y&#39;</span> := snd z&#39; <span class="kr">in</span>
x0 = x&#39; /\
(T x0 y -&gt; y = y&#39; \/ T x0 y&#39;) /\
(T x0 y&#39; -&gt; y = y&#39; \/ T x0 y)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hequiv</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hg</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : D,
R x0 (g x0) /\
(<span class="kr">forall</span> <span class="nv">x&#39;</span> : D, R x0 x&#39; -&gt; g x0 = g x&#39;)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">T'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x0</span> : A) (<span class="nv">y</span> : B) =&gt;
T x0 y /\
(<span class="kr">exists</span> <span class="nv">y&#39;</span> : B, T x0 y&#39; /\ g (x0, y&#39;) = (x0, y))</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> ! y : B, T&#39; x y</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk1b1" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk1b1"><span class="highlight"><span class="nb">destruct</span> (Hexists x) <span class="kr">as</span> (y,Hy).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y0</span> : B, T x0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">(A * B)%type</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">z</span> <span class="nv">z&#39;</span> : D =&gt;
<span class="kr">let</span> <span class="nv">x0</span> := fst z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">x&#39;</span> := fst z&#39; <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y0</span> := snd z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y&#39;</span> := snd z&#39; <span class="kr">in</span>
x0 = x&#39; /\
(T x0 y0 -&gt; y0 = y&#39; \/ T x0 y&#39;) /\
(T x0 y&#39; -&gt; y0 = y&#39; \/ T x0 y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hequiv</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hg</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : D,
R x0 (g x0) /\
(<span class="kr">forall</span> <span class="nv">x&#39;</span> : D, R x0 x&#39; -&gt; g x0 = g x&#39;)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">T'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x0</span> : A) (<span class="nv">y0</span> : B) =&gt;
T x0 y0 /\
(<span class="kr">exists</span> <span class="nv">y&#39;</span> : B, T x0 y&#39; /\ g (x0, y&#39;) = (x0, y0))</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> ! y0 : B, T&#39; x y0</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk1b2" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk1b2"><span class="highlight"><span class="kr">exists</span> (<span class="nv">snd</span> (g (x,y))).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y0</span> : B, T x0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">(A * B)%type</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">z</span> <span class="nv">z&#39;</span> : D =&gt;
<span class="kr">let</span> <span class="nv">x0</span> := fst z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">x&#39;</span> := fst z&#39; <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y0</span> := snd z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y&#39;</span> := snd z&#39; <span class="kr">in</span>
x0 = x&#39; /\
(T x0 y0 -&gt; y0 = y&#39; \/ T x0 y&#39;) /\
(T x0 y&#39; -&gt; y0 = y&#39; \/ T x0 y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hequiv</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hg</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : D,
R x0 (g x0) /\
(<span class="kr">forall</span> <span class="nv">x&#39;</span> : D, R x0 x&#39; -&gt; g x0 = g x&#39;)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">T'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x0</span> : A) (<span class="nv">y0</span> : B) =&gt;
T x0 y0 /\
(<span class="kr">exists</span> <span class="nv">y&#39;</span> : B, T x0 y&#39; /\ g (x0, y&#39;) = (x0, y0))</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">unique (<span class="kr">fun</span> <span class="nv">y0</span> : B =&gt; T&#39; x y0) (snd (g (x, y)))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk1b3" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk1b3"><span class="highlight"><span class="nb">destruct</span> (Hg (x,y)) <span class="kr">as</span> ((Heq1,(H&#39;,H&#39;&#39;)),Hgxyuniq); <span class="nb">clear</span> Hg.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y0</span> : B, T x0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">(A * B)%type</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">z</span> <span class="nv">z&#39;</span> : D =&gt;
<span class="kr">let</span> <span class="nv">x0</span> := fst z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">x&#39;</span> := fst z&#39; <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y0</span> := snd z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y&#39;</span> := snd z&#39; <span class="kr">in</span>
x0 = x&#39; /\
(T x0 y0 -&gt; y0 = y&#39; \/ T x0 y&#39;) /\
(T x0 y&#39; -&gt; y0 = y&#39; \/ T x0 y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hequiv</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D</span></span></span></div><div class="goal-hyp"><span class="hyp-names">T'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x0</span> : A) (<span class="nv">y0</span> : B) =&gt;
T x0 y0 /\
(<span class="kr">exists</span> <span class="nv">y&#39;</span> : B, T x0 y&#39; /\ g (x0, y&#39;) = (x0, y0))</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">fst (x, y) = fst (g (x, y))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T (fst (x, y)) (snd (x, y)) -&gt;
snd (x, y) = snd (g (x, y)) \/
T (fst (x, y)) (snd (g (x, y)))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T (fst (x, y)) (snd (g (x, y))) -&gt;
snd (x, y) = snd (g (x, y)) \/
T (fst (x, y)) (snd (x, y))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hgxyuniq</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x&#39;</span> : D,
R (x, y) x&#39; -&gt; g (x, y) = g x&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">unique (<span class="kr">fun</span> <span class="nv">y0</span> : B =&gt; T&#39; x y0) (snd (g (x, y)))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk1b4" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk1b4"><span class="highlight"><span class="nb">destruct</span> (H&#39; Hy) <span class="kr">as</span> [Heq2|Hgy]; <span class="nb">clear</span> H&#39;.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y0</span> : B, T x0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">(A * B)%type</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">z</span> <span class="nv">z&#39;</span> : D =&gt;
<span class="kr">let</span> <span class="nv">x0</span> := fst z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">x&#39;</span> := fst z&#39; <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y0</span> := snd z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y&#39;</span> := snd z&#39; <span class="kr">in</span>
x0 = x&#39; /\
(T x0 y0 -&gt; y0 = y&#39; \/ T x0 y&#39;) /\
(T x0 y&#39; -&gt; y0 = y&#39; \/ T x0 y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hequiv</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D</span></span></span></div><div class="goal-hyp"><span class="hyp-names">T'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x0</span> : A) (<span class="nv">y0</span> : B) =&gt;
T x0 y0 /\
(<span class="kr">exists</span> <span class="nv">y&#39;</span> : B, T x0 y&#39; /\ g (x0, y&#39;) = (x0, y0))</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">fst (x, y) = fst (g (x, y))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T (fst (x, y)) (snd (g (x, y))) -&gt;
snd (x, y) = snd (g (x, y)) \/
T (fst (x, y)) (snd (x, y))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hgxyuniq</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x&#39;</span> : D,
R (x, y) x&#39; -&gt; g (x, y) = g x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">snd (x, y) = snd (g (x, y))</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">unique (<span class="kr">fun</span> <span class="nv">y0</span> : B =&gt; T&#39; x y0) (snd (g (x, y)))</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk1b5" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y0</span> : B, T x0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">(A * B)%type</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">z</span> <span class="nv">z&#39;</span> : D =&gt;
<span class="kr">let</span> <span class="nv">x0</span> := fst z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">x&#39;</span> := fst z&#39; <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y0</span> := snd z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y&#39;</span> := snd z&#39; <span class="kr">in</span>
x0 = x&#39; /\
(T x0 y0 -&gt; y0 = y&#39; \/ T x0 y&#39;) /\
(T x0 y&#39; -&gt; y0 = y&#39; \/ T x0 y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hequiv</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D</span></span></span></div><div class="goal-hyp"><span class="hyp-names">T'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x0</span> : A) (<span class="nv">y0</span> : B) =&gt;
T x0 y0 /\
(<span class="kr">exists</span> <span class="nv">y&#39;</span> : B, T x0 y&#39; /\ g (x0, y&#39;) = (x0, y0))</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">fst (x, y) = fst (g (x, y))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T (fst (x, y)) (snd (g (x, y))) -&gt;
snd (x, y) = snd (g (x, y)) \/
T (fst (x, y)) (snd (x, y))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hgxyuniq</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x&#39;</span> : D,
R (x, y) x&#39; -&gt; g (x, y) = g x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hgy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T (fst (x, y)) (snd (g (x, y)))</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chk1b5"><hr></label><div class="goal-conclusion"><span class="highlight">unique (<span class="kr">fun</span> <span class="nv">y0</span> : B =&gt; T&#39; x y0) (snd (g (x, y)))</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk1b6" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk1b6"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y0</span> : B, T x0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">(A * B)%type</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">z</span> <span class="nv">z&#39;</span> : D =&gt;
<span class="kr">let</span> <span class="nv">x0</span> := fst z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">x&#39;</span> := fst z&#39; <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y0</span> := snd z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y&#39;</span> := snd z&#39; <span class="kr">in</span>
x0 = x&#39; /\
(T x0 y0 -&gt; y0 = y&#39; \/ T x0 y&#39;) /\
(T x0 y&#39; -&gt; y0 = y&#39; \/ T x0 y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hequiv</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D</span></span></span></div><div class="goal-hyp"><span class="hyp-names">T'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x0</span> : A) (<span class="nv">y0</span> : B) =&gt;
T x0 y0 /\
(<span class="kr">exists</span> <span class="nv">y&#39;</span> : B, T x0 y&#39; /\ g (x0, y&#39;) = (x0, y0))</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">fst (x, y) = fst (g (x, y))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T (fst (x, y)) (snd (g (x, y))) -&gt;
snd (x, y) = snd (g (x, y)) \/
T (fst (x, y)) (snd (x, y))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hgxyuniq</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x&#39;</span> : D,
R (x, y) x&#39; -&gt; g (x, y) = g x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">snd (x, y) = snd (g (x, y))</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">unique (<span class="kr">fun</span> <span class="nv">y0</span> : B =&gt; T&#39; x y0) (snd (g (x, y)))</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk1b7" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk1b7"><span class="highlight"><span class="nb">split</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y0</span> : B, T x0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">(A * B)%type</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">z</span> <span class="nv">z&#39;</span> : D =&gt;
<span class="kr">let</span> <span class="nv">x0</span> := fst z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">x&#39;</span> := fst z&#39; <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y0</span> := snd z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y&#39;</span> := snd z&#39; <span class="kr">in</span>
x0 = x&#39; /\
(T x0 y0 -&gt; y0 = y&#39; \/ T x0 y&#39;) /\
(T x0 y&#39; -&gt; y0 = y&#39; \/ T x0 y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hequiv</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D</span></span></span></div><div class="goal-hyp"><span class="hyp-names">T'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x0</span> : A) (<span class="nv">y0</span> : B) =&gt;
T x0 y0 /\
(<span class="kr">exists</span> <span class="nv">y&#39;</span> : B, T x0 y&#39; /\ g (x0, y&#39;) = (x0, y0))</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">fst (x, y) = fst (g (x, y))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T (fst (x, y)) (snd (g (x, y))) -&gt;
snd (x, y) = snd (g (x, y)) \/
T (fst (x, y)) (snd (x, y))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hgxyuniq</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x&#39;</span> : D,
R (x, y) x&#39; -&gt; g (x, y) = g x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">snd (x, y) = snd (g (x, y))</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">T&#39; x (snd (g (x, y)))</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk1b8" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y0</span> : B, T x0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">(A * B)%type</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">z</span> <span class="nv">z&#39;</span> : D =&gt;
<span class="kr">let</span> <span class="nv">x0</span> := fst z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">x&#39;</span> := fst z&#39; <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y0</span> := snd z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y&#39;</span> := snd z&#39; <span class="kr">in</span>
x0 = x&#39; /\
(T x0 y0 -&gt; y0 = y&#39; \/ T x0 y&#39;) /\
(T x0 y&#39; -&gt; y0 = y&#39; \/ T x0 y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hequiv</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D</span></span></span></div><div class="goal-hyp"><span class="hyp-names">T'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x0</span> : A) (<span class="nv">y0</span> : B) =&gt;
T x0 y0 /\
(<span class="kr">exists</span> <span class="nv">y&#39;</span> : B, T x0 y&#39; /\ g (x0, y&#39;) = (x0, y0))</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">fst (x, y) = fst (g (x, y))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T (fst (x, y)) (snd (g (x, y))) -&gt;
snd (x, y) = snd (g (x, y)) \/
T (fst (x, y)) (snd (x, y))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hgxyuniq</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x&#39;</span> : D,
R (x, y) x&#39; -&gt; g (x, y) = g x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">snd (x, y) = snd (g (x, y))</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chk1b8"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x&#39;</span> : B, T&#39; x x&#39; -&gt; snd (g (x, y)) = x&#39;</span></div></blockquote></div></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk1b9" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk1b9"><span class="highlight"><span class="nb">split</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y0</span> : B, T x0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">(A * B)%type</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">z</span> <span class="nv">z&#39;</span> : D =&gt;
<span class="kr">let</span> <span class="nv">x0</span> := fst z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">x&#39;</span> := fst z&#39; <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y0</span> := snd z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y&#39;</span> := snd z&#39; <span class="kr">in</span>
x0 = x&#39; /\
(T x0 y0 -&gt; y0 = y&#39; \/ T x0 y&#39;) /\
(T x0 y&#39; -&gt; y0 = y&#39; \/ T x0 y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hequiv</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D</span></span></span></div><div class="goal-hyp"><span class="hyp-names">T'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x0</span> : A) (<span class="nv">y0</span> : B) =&gt;
T x0 y0 /\
(<span class="kr">exists</span> <span class="nv">y&#39;</span> : B, T x0 y&#39; /\ g (x0, y&#39;) = (x0, y0))</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">fst (x, y) = fst (g (x, y))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T (fst (x, y)) (snd (g (x, y))) -&gt;
snd (x, y) = snd (g (x, y)) \/
T (fst (x, y)) (snd (x, y))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hgxyuniq</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x&#39;</span> : D,
R (x, y) x&#39; -&gt; g (x, y) = g x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">snd (x, y) = snd (g (x, y))</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">T x (snd (g (x, y)))</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk1ba" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y0</span> : B, T x0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">(A * B)%type</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">z</span> <span class="nv">z&#39;</span> : D =&gt;
<span class="kr">let</span> <span class="nv">x0</span> := fst z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">x&#39;</span> := fst z&#39; <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y0</span> := snd z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y&#39;</span> := snd z&#39; <span class="kr">in</span>
x0 = x&#39; /\
(T x0 y0 -&gt; y0 = y&#39; \/ T x0 y&#39;) /\
(T x0 y&#39; -&gt; y0 = y&#39; \/ T x0 y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hequiv</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D</span></span></span></div><div class="goal-hyp"><span class="hyp-names">T'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x0</span> : A) (<span class="nv">y0</span> : B) =&gt;
T x0 y0 /\
(<span class="kr">exists</span> <span class="nv">y&#39;</span> : B, T x0 y&#39; /\ g (x0, y&#39;) = (x0, y0))</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">fst (x, y) = fst (g (x, y))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T (fst (x, y)) (snd (g (x, y))) -&gt;
snd (x, y) = snd (g (x, y)) \/
T (fst (x, y)) (snd (x, y))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hgxyuniq</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x&#39;</span> : D,
R (x, y) x&#39; -&gt; g (x, y) = g x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">snd (x, y) = snd (g (x, y))</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chk1ba"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">y&#39;</span> : B,
  T x y&#39; /\ g (x, y&#39;) = (x, snd (g (x, y)))</span></div></blockquote><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk1bb" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y0</span> : B, T x0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">(A * B)%type</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">z</span> <span class="nv">z&#39;</span> : D =&gt;
<span class="kr">let</span> <span class="nv">x0</span> := fst z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">x&#39;</span> := fst z&#39; <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y0</span> := snd z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y&#39;</span> := snd z&#39; <span class="kr">in</span>
x0 = x&#39; /\
(T x0 y0 -&gt; y0 = y&#39; \/ T x0 y&#39;) /\
(T x0 y&#39; -&gt; y0 = y&#39; \/ T x0 y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hequiv</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D</span></span></span></div><div class="goal-hyp"><span class="hyp-names">T'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x0</span> : A) (<span class="nv">y0</span> : B) =&gt;
T x0 y0 /\
(<span class="kr">exists</span> <span class="nv">y&#39;</span> : B, T x0 y&#39; /\ g (x0, y&#39;) = (x0, y0))</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">fst (x, y) = fst (g (x, y))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T (fst (x, y)) (snd (g (x, y))) -&gt;
snd (x, y) = snd (g (x, y)) \/
T (fst (x, y)) (snd (x, y))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hgxyuniq</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x&#39;</span> : D,
R (x, y) x&#39; -&gt; g (x, y) = g x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">snd (x, y) = snd (g (x, y))</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chk1bb"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x&#39;</span> : B, T&#39; x x&#39; -&gt; snd (g (x, y)) = x&#39;</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">      </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk1bc" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk1bc"><span class="highlight">*</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y0</span> : B, T x0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">(A * B)%type</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">z</span> <span class="nv">z&#39;</span> : D =&gt;
<span class="kr">let</span> <span class="nv">x0</span> := fst z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">x&#39;</span> := fst z&#39; <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y0</span> := snd z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y&#39;</span> := snd z&#39; <span class="kr">in</span>
x0 = x&#39; /\
(T x0 y0 -&gt; y0 = y&#39; \/ T x0 y&#39;) /\
(T x0 y&#39; -&gt; y0 = y&#39; \/ T x0 y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hequiv</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D</span></span></span></div><div class="goal-hyp"><span class="hyp-names">T'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x0</span> : A) (<span class="nv">y0</span> : B) =&gt;
T x0 y0 /\
(<span class="kr">exists</span> <span class="nv">y&#39;</span> : B, T x0 y&#39; /\ g (x0, y&#39;) = (x0, y0))</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">fst (x, y) = fst (g (x, y))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T (fst (x, y)) (snd (g (x, y))) -&gt;
snd (x, y) = snd (g (x, y)) \/
T (fst (x, y)) (snd (x, y))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hgxyuniq</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x&#39;</span> : D,
R (x, y) x&#39; -&gt; g (x, y) = g x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">snd (x, y) = snd (g (x, y))</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">T x (snd (g (x, y)))</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk1bd" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk1bd"><span class="highlight"><span class="nb">rewrite</span> &lt;- Heq2.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y0</span> : B, T x0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">(A * B)%type</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">z</span> <span class="nv">z&#39;</span> : D =&gt;
<span class="kr">let</span> <span class="nv">x0</span> := fst z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">x&#39;</span> := fst z&#39; <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y0</span> := snd z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y&#39;</span> := snd z&#39; <span class="kr">in</span>
x0 = x&#39; /\
(T x0 y0 -&gt; y0 = y&#39; \/ T x0 y&#39;) /\
(T x0 y&#39; -&gt; y0 = y&#39; \/ T x0 y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hequiv</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D</span></span></span></div><div class="goal-hyp"><span class="hyp-names">T'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x0</span> : A) (<span class="nv">y0</span> : B) =&gt;
T x0 y0 /\
(<span class="kr">exists</span> <span class="nv">y&#39;</span> : B, T x0 y&#39; /\ g (x0, y&#39;) = (x0, y0))</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">fst (x, y) = fst (g (x, y))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T (fst (x, y)) (snd (g (x, y))) -&gt;
snd (x, y) = snd (g (x, y)) \/
T (fst (x, y)) (snd (x, y))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hgxyuniq</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x&#39;</span> : D,
R (x, y) x&#39; -&gt; g (x, y) = g x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">snd (x, y) = snd (g (x, y))</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">T x (snd (x, y))</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">assumption</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">      </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk1be" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk1be"><span class="highlight">*</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y0</span> : B, T x0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">(A * B)%type</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">z</span> <span class="nv">z&#39;</span> : D =&gt;
<span class="kr">let</span> <span class="nv">x0</span> := fst z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">x&#39;</span> := fst z&#39; <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y0</span> := snd z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y&#39;</span> := snd z&#39; <span class="kr">in</span>
x0 = x&#39; /\
(T x0 y0 -&gt; y0 = y&#39; \/ T x0 y&#39;) /\
(T x0 y&#39; -&gt; y0 = y&#39; \/ T x0 y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hequiv</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D</span></span></span></div><div class="goal-hyp"><span class="hyp-names">T'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x0</span> : A) (<span class="nv">y0</span> : B) =&gt;
T x0 y0 /\
(<span class="kr">exists</span> <span class="nv">y&#39;</span> : B, T x0 y&#39; /\ g (x0, y&#39;) = (x0, y0))</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">fst (x, y) = fst (g (x, y))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T (fst (x, y)) (snd (g (x, y))) -&gt;
snd (x, y) = snd (g (x, y)) \/
T (fst (x, y)) (snd (x, y))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hgxyuniq</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x&#39;</span> : D,
R (x, y) x&#39; -&gt; g (x, y) = g x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">snd (x, y) = snd (g (x, y))</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">y&#39;</span> : B,
  T x y&#39; /\ g (x, y&#39;) = (x, snd (g (x, y)))</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk1bf" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk1bf"><span class="highlight"><span class="kr">exists</span> <span class="nv">y</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y0</span> : B, T x0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">(A * B)%type</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">z</span> <span class="nv">z&#39;</span> : D =&gt;
<span class="kr">let</span> <span class="nv">x0</span> := fst z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">x&#39;</span> := fst z&#39; <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y0</span> := snd z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y&#39;</span> := snd z&#39; <span class="kr">in</span>
x0 = x&#39; /\
(T x0 y0 -&gt; y0 = y&#39; \/ T x0 y&#39;) /\
(T x0 y&#39; -&gt; y0 = y&#39; \/ T x0 y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hequiv</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D</span></span></span></div><div class="goal-hyp"><span class="hyp-names">T'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x0</span> : A) (<span class="nv">y0</span> : B) =&gt;
T x0 y0 /\
(<span class="kr">exists</span> <span class="nv">y&#39;</span> : B, T x0 y&#39; /\ g (x0, y&#39;) = (x0, y0))</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">fst (x, y) = fst (g (x, y))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T (fst (x, y)) (snd (g (x, y))) -&gt;
snd (x, y) = snd (g (x, y)) \/
T (fst (x, y)) (snd (x, y))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hgxyuniq</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x&#39;</span> : D,
R (x, y) x&#39; -&gt; g (x, y) = g x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">snd (x, y) = snd (g (x, y))</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">T x y /\ g (x, y) = (x, snd (g (x, y)))</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk1c0" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk1c0"><span class="highlight"><span class="nb">destruct</span> (g (x,y)) <span class="kr">as</span> (x&#39;,y&#39;).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y0</span> : B, T x0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">(A * B)%type</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">z</span> <span class="nv">z&#39;</span> : D =&gt;
<span class="kr">let</span> <span class="nv">x0</span> := fst z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">x&#39;0</span> := fst z&#39; <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y0</span> := snd z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y&#39;0</span> := snd z&#39; <span class="kr">in</span>
x0 = x&#39;0 /\
(T x0 y0 -&gt; y0 = y&#39;0 \/ T x0 y&#39;0) /\
(T x0 y&#39;0 -&gt; y0 = y&#39;0 \/ T x0 y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hequiv</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D</span></span></span></div><div class="goal-hyp"><span class="hyp-names">T'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x0</span> : A) (<span class="nv">y0</span> : B) =&gt;
T x0 y0 /\
(<span class="kr">exists</span> <span class="nv">y&#39;0</span> : B,
   T x0 y&#39;0 /\ g (x0, y&#39;0) = (x0, y0))</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">fst (x, y) = fst (x&#39;, y&#39;)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T (fst (x, y)) (snd (x&#39;, y&#39;)) -&gt;
snd (x, y) = snd (x&#39;, y&#39;) \/
T (fst (x, y)) (snd (x, y))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hgxyuniq</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x&#39;0</span> : D,
R (x, y) x&#39;0 -&gt; (x&#39;, y&#39;) = g x&#39;0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">snd (x, y) = snd (x&#39;, y&#39;)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">T x y /\ (x&#39;, y&#39;) = (x, snd (x&#39;, y&#39;))</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk1c1" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk1c1"><span class="highlight"><span class="nb">simpl</span> <span class="kr">in</span> Heq1, Heq2.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y0</span> : B, T x0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">(A * B)%type</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">z</span> <span class="nv">z&#39;</span> : D =&gt;
<span class="kr">let</span> <span class="nv">x0</span> := fst z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">x&#39;0</span> := fst z&#39; <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y0</span> := snd z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y&#39;0</span> := snd z&#39; <span class="kr">in</span>
x0 = x&#39;0 /\
(T x0 y0 -&gt; y0 = y&#39;0 \/ T x0 y&#39;0) /\
(T x0 y&#39;0 -&gt; y0 = y&#39;0 \/ T x0 y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hequiv</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D</span></span></span></div><div class="goal-hyp"><span class="hyp-names">T'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x0</span> : A) (<span class="nv">y0</span> : B) =&gt;
T x0 y0 /\
(<span class="kr">exists</span> <span class="nv">y&#39;0</span> : B,
   T x0 y&#39;0 /\ g (x0, y&#39;0) = (x0, y0))</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">x = x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T (fst (x, y)) (snd (x&#39;, y&#39;)) -&gt;
snd (x, y) = snd (x&#39;, y&#39;) \/
T (fst (x, y)) (snd (x, y))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hgxyuniq</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x&#39;0</span> : D,
R (x, y) x&#39;0 -&gt; (x&#39;, y&#39;) = g x&#39;0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">y = y&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">T x y /\ (x&#39;, y&#39;) = (x, snd (x&#39;, y&#39;))</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">subst</span>; <span class="bp">easy</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">      </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk1c2" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk1c2"><span class="highlight">*</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y0</span> : B, T x0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">(A * B)%type</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">z</span> <span class="nv">z&#39;</span> : D =&gt;
<span class="kr">let</span> <span class="nv">x0</span> := fst z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">x&#39;</span> := fst z&#39; <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y0</span> := snd z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y&#39;</span> := snd z&#39; <span class="kr">in</span>
x0 = x&#39; /\
(T x0 y0 -&gt; y0 = y&#39; \/ T x0 y&#39;) /\
(T x0 y&#39; -&gt; y0 = y&#39; \/ T x0 y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hequiv</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D</span></span></span></div><div class="goal-hyp"><span class="hyp-names">T'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x0</span> : A) (<span class="nv">y0</span> : B) =&gt;
T x0 y0 /\
(<span class="kr">exists</span> <span class="nv">y&#39;</span> : B, T x0 y&#39; /\ g (x0, y&#39;) = (x0, y0))</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">fst (x, y) = fst (g (x, y))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T (fst (x, y)) (snd (g (x, y))) -&gt;
snd (x, y) = snd (g (x, y)) \/
T (fst (x, y)) (snd (x, y))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hgxyuniq</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x&#39;</span> : D,
R (x, y) x&#39; -&gt; g (x, y) = g x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">snd (x, y) = snd (g (x, y))</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x&#39;</span> : B, T&#39; x x&#39; -&gt; snd (g (x, y)) = x&#39;</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk1c3" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk1c3"><span class="highlight"><span class="nb">intros</span> y&#39; (Hy&#39;,(y&#39;&#39;,(Hy&#39;&#39;,Heq))).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y0</span> : B, T x0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">(A * B)%type</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">z</span> <span class="nv">z&#39;</span> : D =&gt;
<span class="kr">let</span> <span class="nv">x0</span> := fst z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">x&#39;</span> := fst z&#39; <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y0</span> := snd z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y&#39;0</span> := snd z&#39; <span class="kr">in</span>
x0 = x&#39; /\
(T x0 y0 -&gt; y0 = y&#39;0 \/ T x0 y&#39;0) /\
(T x0 y&#39;0 -&gt; y0 = y&#39;0 \/ T x0 y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hequiv</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D</span></span></span></div><div class="goal-hyp"><span class="hyp-names">T'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x0</span> : A) (<span class="nv">y0</span> : B) =&gt;
T x0 y0 /\
(<span class="kr">exists</span> <span class="nv">y&#39;0</span> : B,
   T x0 y&#39;0 /\ g (x0, y&#39;0) = (x0, y0))</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">fst (x, y) = fst (g (x, y))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T (fst (x, y)) (snd (g (x, y))) -&gt;
snd (x, y) = snd (g (x, y)) \/
T (fst (x, y)) (snd (x, y))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hgxyuniq</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x&#39;</span> : D,
R (x, y) x&#39; -&gt; g (x, y) = g x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">snd (x, y) = snd (g (x, y))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hy'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hy''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y&#39;&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">g (x, y&#39;&#39;) = (x, y&#39;)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">snd (g (x, y)) = y&#39;</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">        </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk1c4" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk1c4"><span class="highlight"><span class="nb">rewrite</span> (Hgxyuniq (x,y&#39;&#39;)), Heq.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y0</span> : B, T x0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">(A * B)%type</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">z</span> <span class="nv">z&#39;</span> : D =&gt;
<span class="kr">let</span> <span class="nv">x0</span> := fst z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">x&#39;</span> := fst z&#39; <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y0</span> := snd z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y&#39;0</span> := snd z&#39; <span class="kr">in</span>
x0 = x&#39; /\
(T x0 y0 -&gt; y0 = y&#39;0 \/ T x0 y&#39;0) /\
(T x0 y&#39;0 -&gt; y0 = y&#39;0 \/ T x0 y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hequiv</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D</span></span></span></div><div class="goal-hyp"><span class="hyp-names">T'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x0</span> : A) (<span class="nv">y0</span> : B) =&gt;
T x0 y0 /\
(<span class="kr">exists</span> <span class="nv">y&#39;0</span> : B,
   T x0 y&#39;0 /\ g (x0, y&#39;0) = (x0, y0))</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">fst (x, y) = fst (g (x, y))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T (fst (x, y)) (snd (g (x, y))) -&gt;
snd (x, y) = snd (g (x, y)) \/
T (fst (x, y)) (snd (x, y))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hgxyuniq</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x&#39;</span> : D,
R (x, y) x&#39; -&gt; g (x, y) = g x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">snd (x, y) = snd (g (x, y))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hy'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hy''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y&#39;&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">g (x, y&#39;&#39;) = (x, y&#39;)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">snd (x, y&#39;) = y&#39;</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk1c5" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y0</span> : B, T x0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">(A * B)%type</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">z</span> <span class="nv">z&#39;</span> : D =&gt;
<span class="kr">let</span> <span class="nv">x0</span> := fst z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">x&#39;</span> := fst z&#39; <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y0</span> := snd z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y&#39;0</span> := snd z&#39; <span class="kr">in</span>
x0 = x&#39; /\
(T x0 y0 -&gt; y0 = y&#39;0 \/ T x0 y&#39;0) /\
(T x0 y&#39;0 -&gt; y0 = y&#39;0 \/ T x0 y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hequiv</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D</span></span></span></div><div class="goal-hyp"><span class="hyp-names">T'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x0</span> : A) (<span class="nv">y0</span> : B) =&gt;
T x0 y0 /\
(<span class="kr">exists</span> <span class="nv">y&#39;0</span> : B,
   T x0 y&#39;0 /\ g (x0, y&#39;0) = (x0, y0))</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">fst (x, y) = fst (g (x, y))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T (fst (x, y)) (snd (g (x, y))) -&gt;
snd (x, y) = snd (g (x, y)) \/
T (fst (x, y)) (snd (x, y))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hgxyuniq</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x&#39;</span> : D,
R (x, y) x&#39; -&gt; g (x, y) = g x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">snd (x, y) = snd (g (x, y))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hy'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hy''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y&#39;&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">g (x, y&#39;&#39;) = (x, y&#39;)</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chk1c5"><hr></label><div class="goal-conclusion"><span class="highlight">R (x, y) (x, y&#39;&#39;)</span></div></blockquote></div></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk1c6" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk1c6"><span class="highlight"><span class="bp">easy</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y0</span> : B, T x0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">(A * B)%type</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">z</span> <span class="nv">z&#39;</span> : D =&gt;
<span class="kr">let</span> <span class="nv">x0</span> := fst z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">x&#39;</span> := fst z&#39; <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y0</span> := snd z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y&#39;0</span> := snd z&#39; <span class="kr">in</span>
x0 = x&#39; /\
(T x0 y0 -&gt; y0 = y&#39;0 \/ T x0 y&#39;0) /\
(T x0 y&#39;0 -&gt; y0 = y&#39;0 \/ T x0 y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hequiv</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D</span></span></span></div><div class="goal-hyp"><span class="hyp-names">T'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x0</span> : A) (<span class="nv">y0</span> : B) =&gt;
T x0 y0 /\
(<span class="kr">exists</span> <span class="nv">y&#39;0</span> : B,
   T x0 y&#39;0 /\ g (x0, y&#39;0) = (x0, y0))</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">fst (x, y) = fst (g (x, y))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T (fst (x, y)) (snd (g (x, y))) -&gt;
snd (x, y) = snd (g (x, y)) \/
T (fst (x, y)) (snd (x, y))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hgxyuniq</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x&#39;</span> : D,
R (x, y) x&#39; -&gt; g (x, y) = g x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">snd (x, y) = snd (g (x, y))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hy'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hy''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y&#39;&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">g (x, y&#39;&#39;) = (x, y&#39;)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">R (x, y) (x, y&#39;&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk1c7" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk1c7"><span class="highlight"><span class="nb">split</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y0</span> : B, T x0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">(A * B)%type</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">z</span> <span class="nv">z&#39;</span> : D =&gt;
<span class="kr">let</span> <span class="nv">x0</span> := fst z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">x&#39;</span> := fst z&#39; <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y0</span> := snd z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y&#39;0</span> := snd z&#39; <span class="kr">in</span>
x0 = x&#39; /\
(T x0 y0 -&gt; y0 = y&#39;0 \/ T x0 y&#39;0) /\
(T x0 y&#39;0 -&gt; y0 = y&#39;0 \/ T x0 y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hequiv</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D</span></span></span></div><div class="goal-hyp"><span class="hyp-names">T'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x0</span> : A) (<span class="nv">y0</span> : B) =&gt;
T x0 y0 /\
(<span class="kr">exists</span> <span class="nv">y&#39;0</span> : B,
   T x0 y&#39;0 /\ g (x0, y&#39;0) = (x0, y0))</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">fst (x, y) = fst (g (x, y))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T (fst (x, y)) (snd (g (x, y))) -&gt;
snd (x, y) = snd (g (x, y)) \/
T (fst (x, y)) (snd (x, y))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hgxyuniq</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x&#39;</span> : D,
R (x, y) x&#39; -&gt; g (x, y) = g x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">snd (x, y) = snd (g (x, y))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hy'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hy''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y&#39;&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">g (x, y&#39;&#39;) = (x, y&#39;)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">fst (x, y) = fst (x, y&#39;&#39;)</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk1c8" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y0</span> : B, T x0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">(A * B)%type</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">z</span> <span class="nv">z&#39;</span> : D =&gt;
<span class="kr">let</span> <span class="nv">x0</span> := fst z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">x&#39;</span> := fst z&#39; <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y0</span> := snd z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y&#39;0</span> := snd z&#39; <span class="kr">in</span>
x0 = x&#39; /\
(T x0 y0 -&gt; y0 = y&#39;0 \/ T x0 y&#39;0) /\
(T x0 y&#39;0 -&gt; y0 = y&#39;0 \/ T x0 y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hequiv</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D</span></span></span></div><div class="goal-hyp"><span class="hyp-names">T'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x0</span> : A) (<span class="nv">y0</span> : B) =&gt;
T x0 y0 /\
(<span class="kr">exists</span> <span class="nv">y&#39;0</span> : B,
   T x0 y&#39;0 /\ g (x0, y&#39;0) = (x0, y0))</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">fst (x, y) = fst (g (x, y))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T (fst (x, y)) (snd (g (x, y))) -&gt;
snd (x, y) = snd (g (x, y)) \/
T (fst (x, y)) (snd (x, y))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hgxyuniq</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x&#39;</span> : D,
R (x, y) x&#39; -&gt; g (x, y) = g x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">snd (x, y) = snd (g (x, y))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hy'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hy''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y&#39;&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">g (x, y&#39;&#39;) = (x, y&#39;)</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chk1c8"><hr></label><div class="goal-conclusion"><span class="highlight">(T (fst (x, y)) (snd (x, y)) -&gt;
 snd (x, y) = snd (x, y&#39;&#39;) \/
 T (fst (x, y)) (snd (x, y&#39;&#39;))) /\
(T (fst (x, y)) (snd (x, y&#39;&#39;)) -&gt;
 snd (x, y) = snd (x, y&#39;&#39;) \/
 T (fst (x, y)) (snd (x, y)))</span></div></blockquote></div></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk1c9" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk1c9"><span class="highlight"><span class="bp">easy</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y0</span> : B, T x0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">(A * B)%type</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">z</span> <span class="nv">z&#39;</span> : D =&gt;
<span class="kr">let</span> <span class="nv">x0</span> := fst z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">x&#39;</span> := fst z&#39; <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y0</span> := snd z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y&#39;0</span> := snd z&#39; <span class="kr">in</span>
x0 = x&#39; /\
(T x0 y0 -&gt; y0 = y&#39;0 \/ T x0 y&#39;0) /\
(T x0 y&#39;0 -&gt; y0 = y&#39;0 \/ T x0 y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hequiv</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D</span></span></span></div><div class="goal-hyp"><span class="hyp-names">T'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x0</span> : A) (<span class="nv">y0</span> : B) =&gt;
T x0 y0 /\
(<span class="kr">exists</span> <span class="nv">y&#39;0</span> : B,
   T x0 y&#39;0 /\ g (x0, y&#39;0) = (x0, y0))</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">fst (x, y) = fst (g (x, y))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T (fst (x, y)) (snd (g (x, y))) -&gt;
snd (x, y) = snd (g (x, y)) \/
T (fst (x, y)) (snd (x, y))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hgxyuniq</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x&#39;</span> : D,
R (x, y) x&#39; -&gt; g (x, y) = g x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">snd (x, y) = snd (g (x, y))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hy'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hy''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y&#39;&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">g (x, y&#39;&#39;) = (x, y&#39;)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(T (fst (x, y)) (snd (x, y)) -&gt;
 snd (x, y) = snd (x, y&#39;&#39;) \/
 T (fst (x, y)) (snd (x, y&#39;&#39;))) /\
(T (fst (x, y)) (snd (x, y&#39;&#39;)) -&gt;
 snd (x, y) = snd (x, y&#39;&#39;) \/
 T (fst (x, y)) (snd (x, y)))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">        </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">split</span>; <span class="nb">right</span>; <span class="bp">easy</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk1ca" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk1ca"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y0</span> : B, T x0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">(A * B)%type</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">z</span> <span class="nv">z&#39;</span> : D =&gt;
<span class="kr">let</span> <span class="nv">x0</span> := fst z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">x&#39;</span> := fst z&#39; <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y0</span> := snd z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y&#39;</span> := snd z&#39; <span class="kr">in</span>
x0 = x&#39; /\
(T x0 y0 -&gt; y0 = y&#39; \/ T x0 y&#39;) /\
(T x0 y&#39; -&gt; y0 = y&#39; \/ T x0 y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hequiv</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D</span></span></span></div><div class="goal-hyp"><span class="hyp-names">T'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x0</span> : A) (<span class="nv">y0</span> : B) =&gt;
T x0 y0 /\
(<span class="kr">exists</span> <span class="nv">y&#39;</span> : B, T x0 y&#39; /\ g (x0, y&#39;) = (x0, y0))</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">fst (x, y) = fst (g (x, y))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T (fst (x, y)) (snd (g (x, y))) -&gt;
snd (x, y) = snd (g (x, y)) \/
T (fst (x, y)) (snd (x, y))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hgxyuniq</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x&#39;</span> : D,
R (x, y) x&#39; -&gt; g (x, y) = g x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hgy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T (fst (x, y)) (snd (g (x, y)))</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">unique (<span class="kr">fun</span> <span class="nv">y0</span> : B =&gt; T&#39; x y0) (snd (g (x, y)))</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk1cb" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk1cb"><span class="highlight"><span class="nb">split</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y0</span> : B, T x0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">(A * B)%type</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">z</span> <span class="nv">z&#39;</span> : D =&gt;
<span class="kr">let</span> <span class="nv">x0</span> := fst z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">x&#39;</span> := fst z&#39; <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y0</span> := snd z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y&#39;</span> := snd z&#39; <span class="kr">in</span>
x0 = x&#39; /\
(T x0 y0 -&gt; y0 = y&#39; \/ T x0 y&#39;) /\
(T x0 y&#39; -&gt; y0 = y&#39; \/ T x0 y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hequiv</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D</span></span></span></div><div class="goal-hyp"><span class="hyp-names">T'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x0</span> : A) (<span class="nv">y0</span> : B) =&gt;
T x0 y0 /\
(<span class="kr">exists</span> <span class="nv">y&#39;</span> : B, T x0 y&#39; /\ g (x0, y&#39;) = (x0, y0))</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">fst (x, y) = fst (g (x, y))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T (fst (x, y)) (snd (g (x, y))) -&gt;
snd (x, y) = snd (g (x, y)) \/
T (fst (x, y)) (snd (x, y))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hgxyuniq</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x&#39;</span> : D,
R (x, y) x&#39; -&gt; g (x, y) = g x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hgy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T (fst (x, y)) (snd (g (x, y)))</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">T&#39; x (snd (g (x, y)))</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk1cc" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y0</span> : B, T x0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">(A * B)%type</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">z</span> <span class="nv">z&#39;</span> : D =&gt;
<span class="kr">let</span> <span class="nv">x0</span> := fst z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">x&#39;</span> := fst z&#39; <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y0</span> := snd z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y&#39;</span> := snd z&#39; <span class="kr">in</span>
x0 = x&#39; /\
(T x0 y0 -&gt; y0 = y&#39; \/ T x0 y&#39;) /\
(T x0 y&#39; -&gt; y0 = y&#39; \/ T x0 y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hequiv</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D</span></span></span></div><div class="goal-hyp"><span class="hyp-names">T'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x0</span> : A) (<span class="nv">y0</span> : B) =&gt;
T x0 y0 /\
(<span class="kr">exists</span> <span class="nv">y&#39;</span> : B, T x0 y&#39; /\ g (x0, y&#39;) = (x0, y0))</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">fst (x, y) = fst (g (x, y))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T (fst (x, y)) (snd (g (x, y))) -&gt;
snd (x, y) = snd (g (x, y)) \/
T (fst (x, y)) (snd (x, y))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hgxyuniq</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x&#39;</span> : D,
R (x, y) x&#39; -&gt; g (x, y) = g x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hgy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T (fst (x, y)) (snd (g (x, y)))</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chk1cc"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x&#39;</span> : B, T&#39; x x&#39; -&gt; snd (g (x, y)) = x&#39;</span></div></blockquote></div></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk1cd" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk1cd"><span class="highlight"><span class="nb">split</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y0</span> : B, T x0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">(A * B)%type</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">z</span> <span class="nv">z&#39;</span> : D =&gt;
<span class="kr">let</span> <span class="nv">x0</span> := fst z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">x&#39;</span> := fst z&#39; <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y0</span> := snd z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y&#39;</span> := snd z&#39; <span class="kr">in</span>
x0 = x&#39; /\
(T x0 y0 -&gt; y0 = y&#39; \/ T x0 y&#39;) /\
(T x0 y&#39; -&gt; y0 = y&#39; \/ T x0 y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hequiv</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D</span></span></span></div><div class="goal-hyp"><span class="hyp-names">T'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x0</span> : A) (<span class="nv">y0</span> : B) =&gt;
T x0 y0 /\
(<span class="kr">exists</span> <span class="nv">y&#39;</span> : B, T x0 y&#39; /\ g (x0, y&#39;) = (x0, y0))</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">fst (x, y) = fst (g (x, y))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T (fst (x, y)) (snd (g (x, y))) -&gt;
snd (x, y) = snd (g (x, y)) \/
T (fst (x, y)) (snd (x, y))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hgxyuniq</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x&#39;</span> : D,
R (x, y) x&#39; -&gt; g (x, y) = g x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hgy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T (fst (x, y)) (snd (g (x, y)))</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">T x (snd (g (x, y)))</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk1ce" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y0</span> : B, T x0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">(A * B)%type</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">z</span> <span class="nv">z&#39;</span> : D =&gt;
<span class="kr">let</span> <span class="nv">x0</span> := fst z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">x&#39;</span> := fst z&#39; <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y0</span> := snd z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y&#39;</span> := snd z&#39; <span class="kr">in</span>
x0 = x&#39; /\
(T x0 y0 -&gt; y0 = y&#39; \/ T x0 y&#39;) /\
(T x0 y&#39; -&gt; y0 = y&#39; \/ T x0 y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hequiv</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D</span></span></span></div><div class="goal-hyp"><span class="hyp-names">T'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x0</span> : A) (<span class="nv">y0</span> : B) =&gt;
T x0 y0 /\
(<span class="kr">exists</span> <span class="nv">y&#39;</span> : B, T x0 y&#39; /\ g (x0, y&#39;) = (x0, y0))</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">fst (x, y) = fst (g (x, y))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T (fst (x, y)) (snd (g (x, y))) -&gt;
snd (x, y) = snd (g (x, y)) \/
T (fst (x, y)) (snd (x, y))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hgxyuniq</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x&#39;</span> : D,
R (x, y) x&#39; -&gt; g (x, y) = g x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hgy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T (fst (x, y)) (snd (g (x, y)))</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chk1ce"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">y&#39;</span> : B,
  T x y&#39; /\ g (x, y&#39;) = (x, snd (g (x, y)))</span></div></blockquote><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk1cf" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y0</span> : B, T x0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">(A * B)%type</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">z</span> <span class="nv">z&#39;</span> : D =&gt;
<span class="kr">let</span> <span class="nv">x0</span> := fst z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">x&#39;</span> := fst z&#39; <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y0</span> := snd z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y&#39;</span> := snd z&#39; <span class="kr">in</span>
x0 = x&#39; /\
(T x0 y0 -&gt; y0 = y&#39; \/ T x0 y&#39;) /\
(T x0 y&#39; -&gt; y0 = y&#39; \/ T x0 y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hequiv</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D</span></span></span></div><div class="goal-hyp"><span class="hyp-names">T'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x0</span> : A) (<span class="nv">y0</span> : B) =&gt;
T x0 y0 /\
(<span class="kr">exists</span> <span class="nv">y&#39;</span> : B, T x0 y&#39; /\ g (x0, y&#39;) = (x0, y0))</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">fst (x, y) = fst (g (x, y))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T (fst (x, y)) (snd (g (x, y))) -&gt;
snd (x, y) = snd (g (x, y)) \/
T (fst (x, y)) (snd (x, y))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hgxyuniq</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x&#39;</span> : D,
R (x, y) x&#39; -&gt; g (x, y) = g x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hgy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T (fst (x, y)) (snd (g (x, y)))</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chk1cf"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x&#39;</span> : B, T&#39; x x&#39; -&gt; snd (g (x, y)) = x&#39;</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">      </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk1d0" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk1d0"><span class="highlight">*</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y0</span> : B, T x0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">(A * B)%type</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">z</span> <span class="nv">z&#39;</span> : D =&gt;
<span class="kr">let</span> <span class="nv">x0</span> := fst z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">x&#39;</span> := fst z&#39; <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y0</span> := snd z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y&#39;</span> := snd z&#39; <span class="kr">in</span>
x0 = x&#39; /\
(T x0 y0 -&gt; y0 = y&#39; \/ T x0 y&#39;) /\
(T x0 y&#39; -&gt; y0 = y&#39; \/ T x0 y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hequiv</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D</span></span></span></div><div class="goal-hyp"><span class="hyp-names">T'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x0</span> : A) (<span class="nv">y0</span> : B) =&gt;
T x0 y0 /\
(<span class="kr">exists</span> <span class="nv">y&#39;</span> : B, T x0 y&#39; /\ g (x0, y&#39;) = (x0, y0))</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">fst (x, y) = fst (g (x, y))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T (fst (x, y)) (snd (g (x, y))) -&gt;
snd (x, y) = snd (g (x, y)) \/
T (fst (x, y)) (snd (x, y))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hgxyuniq</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x&#39;</span> : D,
R (x, y) x&#39; -&gt; g (x, y) = g x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hgy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T (fst (x, y)) (snd (g (x, y)))</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">T x (snd (g (x, y)))</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">assumption</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">      </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk1d1" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk1d1"><span class="highlight">*</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y0</span> : B, T x0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">(A * B)%type</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">z</span> <span class="nv">z&#39;</span> : D =&gt;
<span class="kr">let</span> <span class="nv">x0</span> := fst z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">x&#39;</span> := fst z&#39; <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y0</span> := snd z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y&#39;</span> := snd z&#39; <span class="kr">in</span>
x0 = x&#39; /\
(T x0 y0 -&gt; y0 = y&#39; \/ T x0 y&#39;) /\
(T x0 y&#39; -&gt; y0 = y&#39; \/ T x0 y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hequiv</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D</span></span></span></div><div class="goal-hyp"><span class="hyp-names">T'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x0</span> : A) (<span class="nv">y0</span> : B) =&gt;
T x0 y0 /\
(<span class="kr">exists</span> <span class="nv">y&#39;</span> : B, T x0 y&#39; /\ g (x0, y&#39;) = (x0, y0))</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">fst (x, y) = fst (g (x, y))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T (fst (x, y)) (snd (g (x, y))) -&gt;
snd (x, y) = snd (g (x, y)) \/
T (fst (x, y)) (snd (x, y))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hgxyuniq</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x&#39;</span> : D,
R (x, y) x&#39; -&gt; g (x, y) = g x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hgy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T (fst (x, y)) (snd (g (x, y)))</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">y&#39;</span> : B,
  T x y&#39; /\ g (x, y&#39;) = (x, snd (g (x, y)))</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk1d2" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk1d2"><span class="highlight"><span class="kr">exists</span> <span class="nv">y</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y0</span> : B, T x0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">(A * B)%type</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">z</span> <span class="nv">z&#39;</span> : D =&gt;
<span class="kr">let</span> <span class="nv">x0</span> := fst z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">x&#39;</span> := fst z&#39; <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y0</span> := snd z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y&#39;</span> := snd z&#39; <span class="kr">in</span>
x0 = x&#39; /\
(T x0 y0 -&gt; y0 = y&#39; \/ T x0 y&#39;) /\
(T x0 y&#39; -&gt; y0 = y&#39; \/ T x0 y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hequiv</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D</span></span></span></div><div class="goal-hyp"><span class="hyp-names">T'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x0</span> : A) (<span class="nv">y0</span> : B) =&gt;
T x0 y0 /\
(<span class="kr">exists</span> <span class="nv">y&#39;</span> : B, T x0 y&#39; /\ g (x0, y&#39;) = (x0, y0))</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">fst (x, y) = fst (g (x, y))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T (fst (x, y)) (snd (g (x, y))) -&gt;
snd (x, y) = snd (g (x, y)) \/
T (fst (x, y)) (snd (x, y))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hgxyuniq</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x&#39;</span> : D,
R (x, y) x&#39; -&gt; g (x, y) = g x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hgy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T (fst (x, y)) (snd (g (x, y)))</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">T x y /\ g (x, y) = (x, snd (g (x, y)))</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk1d3" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk1d3"><span class="highlight"><span class="nb">destruct</span> (g (x,y)) <span class="kr">as</span> (x&#39;,y&#39;).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y0</span> : B, T x0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">(A * B)%type</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">z</span> <span class="nv">z&#39;</span> : D =&gt;
<span class="kr">let</span> <span class="nv">x0</span> := fst z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">x&#39;0</span> := fst z&#39; <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y0</span> := snd z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y&#39;0</span> := snd z&#39; <span class="kr">in</span>
x0 = x&#39;0 /\
(T x0 y0 -&gt; y0 = y&#39;0 \/ T x0 y&#39;0) /\
(T x0 y&#39;0 -&gt; y0 = y&#39;0 \/ T x0 y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hequiv</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D</span></span></span></div><div class="goal-hyp"><span class="hyp-names">T'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x0</span> : A) (<span class="nv">y0</span> : B) =&gt;
T x0 y0 /\
(<span class="kr">exists</span> <span class="nv">y&#39;0</span> : B,
   T x0 y&#39;0 /\ g (x0, y&#39;0) = (x0, y0))</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">fst (x, y) = fst (x&#39;, y&#39;)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T (fst (x, y)) (snd (x&#39;, y&#39;)) -&gt;
snd (x, y) = snd (x&#39;, y&#39;) \/
T (fst (x, y)) (snd (x, y))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hgxyuniq</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x&#39;0</span> : D,
R (x, y) x&#39;0 -&gt; (x&#39;, y&#39;) = g x&#39;0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hgy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T (fst (x, y)) (snd (x&#39;, y&#39;))</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">T x y /\ (x&#39;, y&#39;) = (x, snd (x&#39;, y&#39;))</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk1d4" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk1d4"><span class="highlight"><span class="nb">simpl</span> <span class="kr">in</span> Heq1.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y0</span> : B, T x0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">(A * B)%type</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">z</span> <span class="nv">z&#39;</span> : D =&gt;
<span class="kr">let</span> <span class="nv">x0</span> := fst z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">x&#39;0</span> := fst z&#39; <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y0</span> := snd z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y&#39;0</span> := snd z&#39; <span class="kr">in</span>
x0 = x&#39;0 /\
(T x0 y0 -&gt; y0 = y&#39;0 \/ T x0 y&#39;0) /\
(T x0 y&#39;0 -&gt; y0 = y&#39;0 \/ T x0 y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hequiv</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D</span></span></span></div><div class="goal-hyp"><span class="hyp-names">T'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x0</span> : A) (<span class="nv">y0</span> : B) =&gt;
T x0 y0 /\
(<span class="kr">exists</span> <span class="nv">y&#39;0</span> : B,
   T x0 y&#39;0 /\ g (x0, y&#39;0) = (x0, y0))</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">x = x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T (fst (x, y)) (snd (x&#39;, y&#39;)) -&gt;
snd (x, y) = snd (x&#39;, y&#39;) \/
T (fst (x, y)) (snd (x, y))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hgxyuniq</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x&#39;0</span> : D,
R (x, y) x&#39;0 -&gt; (x&#39;, y&#39;) = g x&#39;0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hgy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T (fst (x, y)) (snd (x&#39;, y&#39;))</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">T x y /\ (x&#39;, y&#39;) = (x, snd (x&#39;, y&#39;))</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">subst</span> x&#39;; <span class="bp">easy</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">      </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk1d5" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk1d5"><span class="highlight">*</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y0</span> : B, T x0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">(A * B)%type</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">z</span> <span class="nv">z&#39;</span> : D =&gt;
<span class="kr">let</span> <span class="nv">x0</span> := fst z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">x&#39;</span> := fst z&#39; <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y0</span> := snd z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y&#39;</span> := snd z&#39; <span class="kr">in</span>
x0 = x&#39; /\
(T x0 y0 -&gt; y0 = y&#39; \/ T x0 y&#39;) /\
(T x0 y&#39; -&gt; y0 = y&#39; \/ T x0 y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hequiv</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D</span></span></span></div><div class="goal-hyp"><span class="hyp-names">T'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x0</span> : A) (<span class="nv">y0</span> : B) =&gt;
T x0 y0 /\
(<span class="kr">exists</span> <span class="nv">y&#39;</span> : B, T x0 y&#39; /\ g (x0, y&#39;) = (x0, y0))</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">fst (x, y) = fst (g (x, y))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T (fst (x, y)) (snd (g (x, y))) -&gt;
snd (x, y) = snd (g (x, y)) \/
T (fst (x, y)) (snd (x, y))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hgxyuniq</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x&#39;</span> : D,
R (x, y) x&#39; -&gt; g (x, y) = g x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hgy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T (fst (x, y)) (snd (g (x, y)))</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x&#39;</span> : B, T&#39; x x&#39; -&gt; snd (g (x, y)) = x&#39;</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk1d6" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk1d6"><span class="highlight"><span class="nb">intros</span> y&#39; (Hy&#39;,(y&#39;&#39;,(Hy&#39;&#39;,Heq))).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y0</span> : B, T x0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">(A * B)%type</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">z</span> <span class="nv">z&#39;</span> : D =&gt;
<span class="kr">let</span> <span class="nv">x0</span> := fst z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">x&#39;</span> := fst z&#39; <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y0</span> := snd z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y&#39;0</span> := snd z&#39; <span class="kr">in</span>
x0 = x&#39; /\
(T x0 y0 -&gt; y0 = y&#39;0 \/ T x0 y&#39;0) /\
(T x0 y&#39;0 -&gt; y0 = y&#39;0 \/ T x0 y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hequiv</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D</span></span></span></div><div class="goal-hyp"><span class="hyp-names">T'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x0</span> : A) (<span class="nv">y0</span> : B) =&gt;
T x0 y0 /\
(<span class="kr">exists</span> <span class="nv">y&#39;0</span> : B,
   T x0 y&#39;0 /\ g (x0, y&#39;0) = (x0, y0))</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">fst (x, y) = fst (g (x, y))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T (fst (x, y)) (snd (g (x, y))) -&gt;
snd (x, y) = snd (g (x, y)) \/
T (fst (x, y)) (snd (x, y))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hgxyuniq</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x&#39;</span> : D,
R (x, y) x&#39; -&gt; g (x, y) = g x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hgy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T (fst (x, y)) (snd (g (x, y)))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hy'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hy''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y&#39;&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">g (x, y&#39;&#39;) = (x, y&#39;)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">snd (g (x, y)) = y&#39;</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">        </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk1d7" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk1d7"><span class="highlight"><span class="nb">rewrite</span> (Hgxyuniq (x,y&#39;&#39;)), Heq.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y0</span> : B, T x0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">(A * B)%type</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">z</span> <span class="nv">z&#39;</span> : D =&gt;
<span class="kr">let</span> <span class="nv">x0</span> := fst z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">x&#39;</span> := fst z&#39; <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y0</span> := snd z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y&#39;0</span> := snd z&#39; <span class="kr">in</span>
x0 = x&#39; /\
(T x0 y0 -&gt; y0 = y&#39;0 \/ T x0 y&#39;0) /\
(T x0 y&#39;0 -&gt; y0 = y&#39;0 \/ T x0 y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hequiv</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D</span></span></span></div><div class="goal-hyp"><span class="hyp-names">T'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x0</span> : A) (<span class="nv">y0</span> : B) =&gt;
T x0 y0 /\
(<span class="kr">exists</span> <span class="nv">y&#39;0</span> : B,
   T x0 y&#39;0 /\ g (x0, y&#39;0) = (x0, y0))</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">fst (x, y) = fst (g (x, y))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T (fst (x, y)) (snd (g (x, y))) -&gt;
snd (x, y) = snd (g (x, y)) \/
T (fst (x, y)) (snd (x, y))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hgxyuniq</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x&#39;</span> : D,
R (x, y) x&#39; -&gt; g (x, y) = g x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hgy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T (fst (x, y)) (snd (g (x, y)))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hy'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hy''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y&#39;&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">g (x, y&#39;&#39;) = (x, y&#39;)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">snd (x, y&#39;) = y&#39;</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk1d8" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y0</span> : B, T x0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">(A * B)%type</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">z</span> <span class="nv">z&#39;</span> : D =&gt;
<span class="kr">let</span> <span class="nv">x0</span> := fst z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">x&#39;</span> := fst z&#39; <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y0</span> := snd z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y&#39;0</span> := snd z&#39; <span class="kr">in</span>
x0 = x&#39; /\
(T x0 y0 -&gt; y0 = y&#39;0 \/ T x0 y&#39;0) /\
(T x0 y&#39;0 -&gt; y0 = y&#39;0 \/ T x0 y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hequiv</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D</span></span></span></div><div class="goal-hyp"><span class="hyp-names">T'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x0</span> : A) (<span class="nv">y0</span> : B) =&gt;
T x0 y0 /\
(<span class="kr">exists</span> <span class="nv">y&#39;0</span> : B,
   T x0 y&#39;0 /\ g (x0, y&#39;0) = (x0, y0))</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">fst (x, y) = fst (g (x, y))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T (fst (x, y)) (snd (g (x, y))) -&gt;
snd (x, y) = snd (g (x, y)) \/
T (fst (x, y)) (snd (x, y))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hgxyuniq</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x&#39;</span> : D,
R (x, y) x&#39; -&gt; g (x, y) = g x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hgy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T (fst (x, y)) (snd (g (x, y)))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hy'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hy''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y&#39;&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">g (x, y&#39;&#39;) = (x, y&#39;)</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chk1d8"><hr></label><div class="goal-conclusion"><span class="highlight">R (x, y) (x, y&#39;&#39;)</span></div></blockquote></div></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk1d9" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk1d9"><span class="highlight"><span class="bp">easy</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y0</span> : B, T x0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">(A * B)%type</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">z</span> <span class="nv">z&#39;</span> : D =&gt;
<span class="kr">let</span> <span class="nv">x0</span> := fst z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">x&#39;</span> := fst z&#39; <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y0</span> := snd z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y&#39;0</span> := snd z&#39; <span class="kr">in</span>
x0 = x&#39; /\
(T x0 y0 -&gt; y0 = y&#39;0 \/ T x0 y&#39;0) /\
(T x0 y&#39;0 -&gt; y0 = y&#39;0 \/ T x0 y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hequiv</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D</span></span></span></div><div class="goal-hyp"><span class="hyp-names">T'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x0</span> : A) (<span class="nv">y0</span> : B) =&gt;
T x0 y0 /\
(<span class="kr">exists</span> <span class="nv">y&#39;0</span> : B,
   T x0 y&#39;0 /\ g (x0, y&#39;0) = (x0, y0))</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">fst (x, y) = fst (g (x, y))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T (fst (x, y)) (snd (g (x, y))) -&gt;
snd (x, y) = snd (g (x, y)) \/
T (fst (x, y)) (snd (x, y))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hgxyuniq</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x&#39;</span> : D,
R (x, y) x&#39; -&gt; g (x, y) = g x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hgy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T (fst (x, y)) (snd (g (x, y)))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hy'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hy''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y&#39;&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">g (x, y&#39;&#39;) = (x, y&#39;)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">R (x, y) (x, y&#39;&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk1da" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk1da"><span class="highlight"><span class="nb">split</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y0</span> : B, T x0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">(A * B)%type</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">z</span> <span class="nv">z&#39;</span> : D =&gt;
<span class="kr">let</span> <span class="nv">x0</span> := fst z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">x&#39;</span> := fst z&#39; <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y0</span> := snd z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y&#39;0</span> := snd z&#39; <span class="kr">in</span>
x0 = x&#39; /\
(T x0 y0 -&gt; y0 = y&#39;0 \/ T x0 y&#39;0) /\
(T x0 y&#39;0 -&gt; y0 = y&#39;0 \/ T x0 y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hequiv</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D</span></span></span></div><div class="goal-hyp"><span class="hyp-names">T'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x0</span> : A) (<span class="nv">y0</span> : B) =&gt;
T x0 y0 /\
(<span class="kr">exists</span> <span class="nv">y&#39;0</span> : B,
   T x0 y&#39;0 /\ g (x0, y&#39;0) = (x0, y0))</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">fst (x, y) = fst (g (x, y))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T (fst (x, y)) (snd (g (x, y))) -&gt;
snd (x, y) = snd (g (x, y)) \/
T (fst (x, y)) (snd (x, y))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hgxyuniq</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x&#39;</span> : D,
R (x, y) x&#39; -&gt; g (x, y) = g x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hgy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T (fst (x, y)) (snd (g (x, y)))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hy'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hy''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y&#39;&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">g (x, y&#39;&#39;) = (x, y&#39;)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">fst (x, y) = fst (x, y&#39;&#39;)</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk1db" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y0</span> : B, T x0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">(A * B)%type</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">z</span> <span class="nv">z&#39;</span> : D =&gt;
<span class="kr">let</span> <span class="nv">x0</span> := fst z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">x&#39;</span> := fst z&#39; <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y0</span> := snd z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y&#39;0</span> := snd z&#39; <span class="kr">in</span>
x0 = x&#39; /\
(T x0 y0 -&gt; y0 = y&#39;0 \/ T x0 y&#39;0) /\
(T x0 y&#39;0 -&gt; y0 = y&#39;0 \/ T x0 y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hequiv</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D</span></span></span></div><div class="goal-hyp"><span class="hyp-names">T'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x0</span> : A) (<span class="nv">y0</span> : B) =&gt;
T x0 y0 /\
(<span class="kr">exists</span> <span class="nv">y&#39;0</span> : B,
   T x0 y&#39;0 /\ g (x0, y&#39;0) = (x0, y0))</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">fst (x, y) = fst (g (x, y))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T (fst (x, y)) (snd (g (x, y))) -&gt;
snd (x, y) = snd (g (x, y)) \/
T (fst (x, y)) (snd (x, y))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hgxyuniq</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x&#39;</span> : D,
R (x, y) x&#39; -&gt; g (x, y) = g x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hgy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T (fst (x, y)) (snd (g (x, y)))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hy'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hy''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y&#39;&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">g (x, y&#39;&#39;) = (x, y&#39;)</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chk1db"><hr></label><div class="goal-conclusion"><span class="highlight">(T (fst (x, y)) (snd (x, y)) -&gt;
 snd (x, y) = snd (x, y&#39;&#39;) \/
 T (fst (x, y)) (snd (x, y&#39;&#39;))) /\
(T (fst (x, y)) (snd (x, y&#39;&#39;)) -&gt;
 snd (x, y) = snd (x, y&#39;&#39;) \/
 T (fst (x, y)) (snd (x, y)))</span></div></blockquote></div></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk1dc" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk1dc"><span class="highlight"><span class="bp">easy</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y0</span> : B, T x0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">(A * B)%type</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">z</span> <span class="nv">z&#39;</span> : D =&gt;
<span class="kr">let</span> <span class="nv">x0</span> := fst z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">x&#39;</span> := fst z&#39; <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y0</span> := snd z <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">y&#39;0</span> := snd z&#39; <span class="kr">in</span>
x0 = x&#39; /\
(T x0 y0 -&gt; y0 = y&#39;0 \/ T x0 y&#39;0) /\
(T x0 y&#39;0 -&gt; y0 = y&#39;0 \/ T x0 y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hequiv</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">D -&gt; D</span></span></span></div><div class="goal-hyp"><span class="hyp-names">T'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x0</span> : A) (<span class="nv">y0</span> : B) =&gt;
T x0 y0 /\
(<span class="kr">exists</span> <span class="nv">y&#39;0</span> : B,
   T x0 y&#39;0 /\ g (x0, y&#39;0) = (x0, y0))</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">fst (x, y) = fst (g (x, y))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T (fst (x, y)) (snd (g (x, y))) -&gt;
snd (x, y) = snd (g (x, y)) \/
T (fst (x, y)) (snd (x, y))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hgxyuniq</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x&#39;</span> : D,
R (x, y) x&#39; -&gt; g (x, y) = g x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hgy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T (fst (x, y)) (snd (g (x, y)))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hy'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hy''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x y&#39;&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">g (x, y&#39;&#39;) = (x, y&#39;)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(T (fst (x, y)) (snd (x, y)) -&gt;
 snd (x, y) = snd (x, y&#39;&#39;) \/
 T (fst (x, y)) (snd (x, y&#39;&#39;))) /\
(T (fst (x, y)) (snd (x, y&#39;&#39;)) -&gt;
 snd (x, y) = snd (x, y&#39;&#39;) \/
 T (fst (x, y)) (snd (x, y)))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">        </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">split</span>; <span class="nb">right</span>; <span class="bp">easy</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
<span class="sd">(**********************************************************************)</span></span></span></pre><div class="doc">
<a name="lab24"></a><h2 class="section">AC_fun_setoid = AC_fun_setoid_gen = AC_fun_setoid_simple</h2>
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk1dd" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk1dd"><span class="highlight"><span class="kn">Theorem</span> <span class="nf">gen_setoid_fun_choice_imp_setoid_fun_choice</span>  :
  <span class="kr">forall</span> <span class="nv">A</span> <span class="nv">B</span>, GeneralizedSetoidFunctionalChoice_on A B -&gt; SetoidFunctionalChoice_on A B.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">A</span> <span class="nv">B</span> : <span class="kt">Type</span>,
GeneralizedSetoidFunctionalChoice_on A B -&gt;
SetoidFunctionalChoice_on A B</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk1de" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk1de"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">A</span> <span class="nv">B</span> : <span class="kt">Type</span>,
GeneralizedSetoidFunctionalChoice_on A B -&gt;
SetoidFunctionalChoice_on A B</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk1df" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk1df"><span class="highlight"><span class="nb">intros</span> A B GenSetoidFunChoice R T Hequiv Hcompat Hex.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">GenSetoidFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">GeneralizedSetoidFunctionalChoice_on
  A B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hequiv</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcompat</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x</span> <span class="nv">x&#39;</span> : A) (<span class="nv">y</span> : B),
R x x&#39; -&gt; T x y -&gt; T x&#39; y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hex</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, T x y</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f</span> : A -&gt; B,
  <span class="kr">forall</span> <span class="nv">x</span> : A,
  T x (f x) /\ (<span class="kr">forall</span> <span class="nv">x&#39;</span> : A, R x x&#39; -&gt; f x = f x&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk1e0" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk1e0"><span class="highlight"><span class="nb">apply</span> GenSetoidFunChoice; <span class="kp">try</span> <span class="bp">easy</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">GenSetoidFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">GeneralizedSetoidFunctionalChoice_on
  A B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hequiv</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcompat</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x</span> <span class="nv">x&#39;</span> : A) (<span class="nv">y</span> : B),
R x x&#39; -&gt; T x y -&gt; T x&#39; y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hex</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, T x y</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Equivalence eq</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk1e1" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">GenSetoidFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">GeneralizedSetoidFunctionalChoice_on
  A B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hequiv</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcompat</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x</span> <span class="nv">x&#39;</span> : A) (<span class="nv">y</span> : B),
R x x&#39; -&gt; T x y -&gt; T x&#39; y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hex</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, T x y</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chk1e1"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">x</span> <span class="nv">x&#39;</span> : A) (<span class="nv">y</span> <span class="nv">y&#39;</span> : B),
R x x&#39; -&gt; y = y&#39; -&gt; T x y -&gt; T x&#39; y&#39;</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk1e2" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk1e2"><span class="highlight"><span class="nb">apply</span> eq_equivalence.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">GenSetoidFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">GeneralizedSetoidFunctionalChoice_on
  A B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hequiv</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcompat</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x</span> <span class="nv">x&#39;</span> : A) (<span class="nv">y</span> : B),
R x x&#39; -&gt; T x y -&gt; T x&#39; y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hex</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, T x y</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">x</span> <span class="nv">x&#39;</span> : A) (<span class="nv">y</span> <span class="nv">y&#39;</span> : B),
R x x&#39; -&gt; y = y&#39; -&gt; T x y -&gt; T x&#39; y&#39;</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk1e3" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk1e3"><span class="highlight"><span class="nb">intros</span> * H &lt;-.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">GenSetoidFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">GeneralizedSetoidFunctionalChoice_on
  A B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hequiv</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcompat</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x0</span> <span class="nv">x&#39;0</span> : A) (<span class="nv">y0</span> : B),
R x0 x&#39;0 -&gt; T x0 y0 -&gt; T x&#39;0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hex</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y0</span> : B, T x0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R x x&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">T x y -&gt; T x&#39; y</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">firstorder</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk1e4" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk1e4"><span class="highlight"><span class="kn">Theorem</span> <span class="nf">setoid_fun_choice_imp_gen_setoid_fun_choice</span> :
  <span class="kr">forall</span> <span class="nv">A</span> <span class="nv">B</span>, SetoidFunctionalChoice_on A B -&gt; GeneralizedSetoidFunctionalChoice_on A B.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">A</span> <span class="nv">B</span> : <span class="kt">Type</span>,
SetoidFunctionalChoice_on A B -&gt;
GeneralizedSetoidFunctionalChoice_on A B</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk1e5" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk1e5"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">A</span> <span class="nv">B</span> : <span class="kt">Type</span>,
SetoidFunctionalChoice_on A B -&gt;
GeneralizedSetoidFunctionalChoice_on A B</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk1e6" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk1e6"><span class="highlight"><span class="nb">intros</span> A B SetoidFunChoice R S T HequivR HequivS Hcompat Hex.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">SetoidFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">SetoidFunctionalChoice_on A B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">S</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">HequivR</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">HequivS</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence S</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcompat</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x</span> <span class="nv">x&#39;</span> : A) (<span class="nv">y</span> <span class="nv">y&#39;</span> : B),
R x x&#39; -&gt; S y y&#39; -&gt; T x y -&gt; T x&#39; y&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hex</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, T x y</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f</span> : A -&gt; B,
  <span class="kr">forall</span> <span class="nv">x</span> : A,
  T x (f x) /\
  (<span class="kr">forall</span> <span class="nv">x&#39;</span> : A, R x x&#39; -&gt; S (f x) (f x&#39;))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk1e7" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk1e7"><span class="highlight"><span class="nb">destruct</span> SetoidFunChoice <span class="kr">with</span> (R:=R) (T:=T) <span class="kr">as</span> (f,Hf); <span class="kp">try</span> <span class="bp">easy</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">SetoidFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">SetoidFunctionalChoice_on A B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">S</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">HequivR</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">HequivS</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence S</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcompat</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x</span> <span class="nv">x&#39;</span> : A) (<span class="nv">y</span> <span class="nv">y&#39;</span> : B),
R x x&#39; -&gt; S y y&#39; -&gt; T x y -&gt; T x&#39; y&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hex</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, T x y</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">x</span> <span class="nv">x&#39;</span> : A) (<span class="nv">y</span> : B), R x x&#39; -&gt; T x y -&gt; T x&#39; y</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk1e8" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">SetoidFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">SetoidFunctionalChoice_on A B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">S</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">HequivR</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">HequivS</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence S</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcompat</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x</span> <span class="nv">x&#39;</span> : A) (<span class="nv">y</span> <span class="nv">y&#39;</span> : B),
R x x&#39; -&gt; S y y&#39; -&gt; T x y -&gt; T x&#39; y&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hex</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, T x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A,
T x (f x) /\
(<span class="kr">forall</span> <span class="nv">x&#39;</span> : A, R x x&#39; -&gt; f x = f x&#39;)</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chk1e8"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f0</span> : A -&gt; B,
  <span class="kr">forall</span> <span class="nv">x</span> : A,
  T x (f0 x) /\
  (<span class="kr">forall</span> <span class="nv">x&#39;</span> : A, R x x&#39; -&gt; S (f0 x) (f0 x&#39;))</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk1e9" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk1e9"><span class="highlight">{</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">SetoidFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">SetoidFunctionalChoice_on A B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">S</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">HequivR</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">HequivS</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence S</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcompat</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x</span> <span class="nv">x&#39;</span> : A) (<span class="nv">y</span> <span class="nv">y&#39;</span> : B),
R x x&#39; -&gt; S y y&#39; -&gt; T x y -&gt; T x&#39; y&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hex</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, T x y</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">x</span> <span class="nv">x&#39;</span> : A) (<span class="nv">y</span> : B), R x x&#39; -&gt; T x y -&gt; T x&#39; y</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">intros</span>; <span class="nb">apply</span> (Hcompat x x&#39; y y); <span class="kp">try</span> <span class="bp">easy</span>.</span></span><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk1ea" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk1ea"><span class="highlight">}</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">SetoidFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">SetoidFunctionalChoice_on A B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">S</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">HequivR</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">HequivS</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence S</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcompat</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x</span> <span class="nv">x&#39;</span> : A) (<span class="nv">y</span> <span class="nv">y&#39;</span> : B),
R x x&#39; -&gt; S y y&#39; -&gt; T x y -&gt; T x&#39; y&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hex</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, T x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A,
T x (f x) /\
(<span class="kr">forall</span> <span class="nv">x&#39;</span> : A, R x x&#39; -&gt; f x = f x&#39;)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f0</span> : A -&gt; B,
  <span class="kr">forall</span> <span class="nv">x</span> : A,
  T x (f0 x) /\
  (<span class="kr">forall</span> <span class="nv">x&#39;</span> : A, R x x&#39; -&gt; S (f0 x) (f0 x&#39;))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk1eb" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk1eb"><span class="highlight"><span class="kr">exists</span> <span class="nv">f</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">SetoidFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">SetoidFunctionalChoice_on A B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">S</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">HequivR</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">HequivS</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence S</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcompat</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x</span> <span class="nv">x&#39;</span> : A) (<span class="nv">y</span> <span class="nv">y&#39;</span> : B),
R x x&#39; -&gt; S y y&#39; -&gt; T x y -&gt; T x&#39; y&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hex</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, T x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A,
T x (f x) /\
(<span class="kr">forall</span> <span class="nv">x&#39;</span> : A, R x x&#39; -&gt; f x = f x&#39;)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A,
T x (f x) /\ (<span class="kr">forall</span> <span class="nv">x&#39;</span> : A, R x x&#39; -&gt; S (f x) (f x&#39;))</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk1ec" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk1ec"><span class="highlight"><span class="nb">intros</span> x; <span class="nb">specialize</span> Hf <span class="kr">with</span> x <span class="kr">as</span> (Hf,Huniq).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">SetoidFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">SetoidFunctionalChoice_on A B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">S</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">HequivR</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">HequivS</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence S</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcompat</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x0</span> <span class="nv">x&#39;</span> : A) (<span class="nv">y</span> <span class="nv">y&#39;</span> : B),
R x0 x&#39; -&gt; S y y&#39; -&gt; T x0 y -&gt; T x&#39; y&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hex</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, T x0 y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x (f x)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Huniq</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x&#39;</span> : A, R x x&#39; -&gt; f x = f x&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">T x (f x) /\ (<span class="kr">forall</span> <span class="nv">x&#39;</span> : A, R x x&#39; -&gt; S (f x) (f x&#39;))</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk1ed" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk1ed"><span class="highlight"><span class="nb">intuition</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">SetoidFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">SetoidFunctionalChoice_on A B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">S</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">HequivR</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">HequivS</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence S</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcompat</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x0</span> <span class="nv">x&#39;0</span> : A) (<span class="nv">y</span> <span class="nv">y&#39;</span> : B),
R x0 x&#39;0 -&gt; S y y&#39; -&gt; T x0 y -&gt; T x&#39;0 y&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hex</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, T x0 y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">T x (f x)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Huniq</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x&#39;0</span> : A, R x x&#39;0 -&gt; f x = f x&#39;0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R x x&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">S (f x) (f x&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">now</span> <span class="nb">erewrite</span> Huniq.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk1ee" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk1ee"><span class="highlight"><span class="kn">Corollary</span> <span class="nf">setoid_fun_choice_iff_gen_setoid_fun_choice</span> :
  <span class="kr">forall</span> <span class="nv">A</span> <span class="nv">B</span>, SetoidFunctionalChoice_on A B &lt;-&gt; GeneralizedSetoidFunctionalChoice_on A B.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">A</span> <span class="nv">B</span> : <span class="kt">Type</span>,
SetoidFunctionalChoice_on A B &lt;-&gt;
GeneralizedSetoidFunctionalChoice_on A B</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk1ef" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk1ef"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">A</span> <span class="nv">B</span> : <span class="kt">Type</span>,
SetoidFunctionalChoice_on A B &lt;-&gt;
GeneralizedSetoidFunctionalChoice_on A B</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">split</span>; <span class="nb">auto using</span> gen_setoid_fun_choice_imp_setoid_fun_choice, setoid_fun_choice_imp_gen_setoid_fun_choice.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk1f0" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk1f0"><span class="highlight"><span class="kn">Theorem</span> <span class="nf">setoid_fun_choice_imp_simple_setoid_fun_choice</span>  :
   <span class="kr">forall</span> <span class="nv">A</span> <span class="nv">B</span>, SetoidFunctionalChoice_on A B -&gt; SimpleSetoidFunctionalChoice_on A B.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">A</span> <span class="nv">B</span> : <span class="kt">Type</span>,
SetoidFunctionalChoice_on A B -&gt;
SimpleSetoidFunctionalChoice_on A B</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk1f1" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk1f1"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">A</span> <span class="nv">B</span> : <span class="kt">Type</span>,
SetoidFunctionalChoice_on A B -&gt;
SimpleSetoidFunctionalChoice_on A B</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk1f2" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk1f2"><span class="highlight"><span class="nb">intros</span> A B SetoidFunChoice R T Hequiv Hexists.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">SetoidFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">SetoidFunctionalChoice_on A B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hequiv</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A,
<span class="kr">exists</span> <span class="nv">y</span> : B,
  <span class="kr">forall</span> <span class="nv">x&#39;</span> : A, R x x&#39; -&gt; T x&#39; y</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f</span> : A -&gt; B,
  <span class="kr">forall</span> <span class="nv">x</span> : A,
  T x (f x) /\ (<span class="kr">forall</span> <span class="nv">x&#39;</span> : A, R x x&#39; -&gt; f x = f x&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk1f3" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk1f3"><span class="highlight"><span class="nb">pose</span> (T&#39; x y := <span class="kr">forall</span> <span class="nv">x&#39;</span>, R x x&#39; -&gt; T x&#39; y).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">SetoidFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">SetoidFunctionalChoice_on A B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hequiv</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A,
<span class="kr">exists</span> <span class="nv">y</span> : B,
  <span class="kr">forall</span> <span class="nv">x&#39;</span> : A, R x x&#39; -&gt; T x&#39; y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">T'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x</span> : A) (<span class="nv">y</span> : B) =&gt;
<span class="kr">forall</span> <span class="nv">x&#39;</span> : A, R x x&#39; -&gt; T x&#39; y</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f</span> : A -&gt; B,
  <span class="kr">forall</span> <span class="nv">x</span> : A,
  T x (f x) /\ (<span class="kr">forall</span> <span class="nv">x&#39;</span> : A, R x x&#39; -&gt; f x = f x&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk1f4" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk1f4"><span class="highlight"><span class="nb">assert</span> (Hcompat : <span class="kr">forall</span> (<span class="nv">x</span> <span class="nv">x&#39;</span> : A) (<span class="nv">y</span> : B), R x x&#39; -&gt; T&#39; x y -&gt; T&#39; x&#39; y) <span class="bp">by</span> <span class="nb">firstorder</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">SetoidFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">SetoidFunctionalChoice_on A B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hequiv</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A,
<span class="kr">exists</span> <span class="nv">y</span> : B,
  <span class="kr">forall</span> <span class="nv">x&#39;</span> : A, R x x&#39; -&gt; T x&#39; y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">T'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x</span> : A) (<span class="nv">y</span> : B) =&gt;
<span class="kr">forall</span> <span class="nv">x&#39;</span> : A, R x x&#39; -&gt; T x&#39; y</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcompat</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x</span> <span class="nv">x&#39;</span> : A) (<span class="nv">y</span> : B),
R x x&#39; -&gt; T&#39; x y -&gt; T&#39; x&#39; y</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f</span> : A -&gt; B,
  <span class="kr">forall</span> <span class="nv">x</span> : A,
  T x (f x) /\ (<span class="kr">forall</span> <span class="nv">x&#39;</span> : A, R x x&#39; -&gt; f x = f x&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk1f5" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk1f5"><span class="highlight"><span class="nb">destruct</span> (SetoidFunChoice R T&#39; Hequiv Hcompat Hexists) <span class="kr">as</span> (f,Hf).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">SetoidFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">SetoidFunctionalChoice_on A B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hequiv</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A,
<span class="kr">exists</span> <span class="nv">y</span> : B,
  <span class="kr">forall</span> <span class="nv">x&#39;</span> : A, R x x&#39; -&gt; T x&#39; y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">T'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x</span> : A) (<span class="nv">y</span> : B) =&gt;
<span class="kr">forall</span> <span class="nv">x&#39;</span> : A, R x x&#39; -&gt; T x&#39; y</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcompat</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x</span> <span class="nv">x&#39;</span> : A) (<span class="nv">y</span> : B),
R x x&#39; -&gt; T&#39; x y -&gt; T&#39; x&#39; y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A,
T&#39; x (f x) /\
(<span class="kr">forall</span> <span class="nv">x&#39;</span> : A, R x x&#39; -&gt; f x = f x&#39;)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f0</span> : A -&gt; B,
  <span class="kr">forall</span> <span class="nv">x</span> : A,
  T x (f0 x) /\
  (<span class="kr">forall</span> <span class="nv">x&#39;</span> : A, R x x&#39; -&gt; f0 x = f0 x&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk1f6" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk1f6"><span class="highlight"><span class="kr">exists</span> <span class="nv">f</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">SetoidFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">SetoidFunctionalChoice_on A B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hequiv</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A,
<span class="kr">exists</span> <span class="nv">y</span> : B,
  <span class="kr">forall</span> <span class="nv">x&#39;</span> : A, R x x&#39; -&gt; T x&#39; y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">T'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">x</span> : A) (<span class="nv">y</span> : B) =&gt;
<span class="kr">forall</span> <span class="nv">x&#39;</span> : A, R x x&#39; -&gt; T x&#39; y</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcompat</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x</span> <span class="nv">x&#39;</span> : A) (<span class="nv">y</span> : B),
R x x&#39; -&gt; T&#39; x y -&gt; T&#39; x&#39; y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A,
T&#39; x (f x) /\
(<span class="kr">forall</span> <span class="nv">x&#39;</span> : A, R x x&#39; -&gt; f x = f x&#39;)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A,
T x (f x) /\ (<span class="kr">forall</span> <span class="nv">x&#39;</span> : A, R x x&#39; -&gt; f x = f x&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">firstorder</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk1f7" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk1f7"><span class="highlight"><span class="kn">Theorem</span> <span class="nf">simple_setoid_fun_choice_imp_setoid_fun_choice</span> :
  <span class="kr">forall</span> <span class="nv">A</span> <span class="nv">B</span>, SimpleSetoidFunctionalChoice_on A B -&gt; SetoidFunctionalChoice_on A B.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">A</span> <span class="nv">B</span> : <span class="kt">Type</span>,
SimpleSetoidFunctionalChoice_on A B -&gt;
SetoidFunctionalChoice_on A B</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk1f8" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk1f8"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">A</span> <span class="nv">B</span> : <span class="kt">Type</span>,
SimpleSetoidFunctionalChoice_on A B -&gt;
SetoidFunctionalChoice_on A B</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk1f9" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk1f9"><span class="highlight"><span class="nb">intros</span> A B SimpleSetoidFunChoice R T Hequiv Hcompat Hexists.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">SimpleSetoidFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">SimpleSetoidFunctionalChoice_on
  A B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hequiv</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcompat</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x</span> <span class="nv">x&#39;</span> : A) (<span class="nv">y</span> : B),
R x x&#39; -&gt; T x y -&gt; T x&#39; y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, T x y</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f</span> : A -&gt; B,
  <span class="kr">forall</span> <span class="nv">x</span> : A,
  T x (f x) /\ (<span class="kr">forall</span> <span class="nv">x&#39;</span> : A, R x x&#39; -&gt; f x = f x&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">destruct</span> (SimpleSetoidFunChoice R T Hequiv) <span class="kr">as</span> (f,Hf); <span class="nb">firstorder</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk1fa" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk1fa"><span class="highlight"><span class="kn">Corollary</span> <span class="nf">setoid_fun_choice_iff_simple_setoid_fun_choice</span> :
  <span class="kr">forall</span> <span class="nv">A</span> <span class="nv">B</span>, SetoidFunctionalChoice_on A B &lt;-&gt; SimpleSetoidFunctionalChoice_on A B.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">A</span> <span class="nv">B</span> : <span class="kt">Type</span>,
SetoidFunctionalChoice_on A B &lt;-&gt;
SimpleSetoidFunctionalChoice_on A B</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk1fb" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk1fb"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">A</span> <span class="nv">B</span> : <span class="kt">Type</span>,
SetoidFunctionalChoice_on A B &lt;-&gt;
SimpleSetoidFunctionalChoice_on A B</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">split</span>; <span class="nb">auto using</span> simple_setoid_fun_choice_imp_setoid_fun_choice, setoid_fun_choice_imp_simple_setoid_fun_choice.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
<span class="sd">(**********************************************************************)</span></span></span></pre><div class="doc">
<a name="lab25"></a><h2 class="section">AC_fun_setoid = AC! + AC_fun_repr</h2>
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk1fc" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk1fc"><span class="highlight"><span class="kn">Theorem</span> <span class="nf">setoid_fun_choice_imp_fun_choice</span> :
  <span class="kr">forall</span> <span class="nv">A</span> <span class="nv">B</span>, SetoidFunctionalChoice_on A B -&gt; FunctionalChoice_on A B.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">A</span> <span class="nv">B</span> : <span class="kt">Type</span>,
SetoidFunctionalChoice_on A B -&gt;
FunctionalChoice_on A B</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk1fd" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk1fd"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">A</span> <span class="nv">B</span> : <span class="kt">Type</span>,
SetoidFunctionalChoice_on A B -&gt;
FunctionalChoice_on A B</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk1fe" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk1fe"><span class="highlight"><span class="nb">intros</span> A B SetoidFunChoice T Hexists.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">SetoidFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">SetoidFunctionalChoice_on A B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, T x y</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f</span> : A -&gt; B, <span class="kr">forall</span> <span class="nv">x</span> : A, T x (f x)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk1ff" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk1ff"><span class="highlight"><span class="nb">destruct</span> SetoidFunChoice <span class="kr">with</span> (R:=@eq A) (T:=T) <span class="kr">as</span> (f,Hf).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">SetoidFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">SetoidFunctionalChoice_on A B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, T x y</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Equivalence eq</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk200" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">SetoidFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">SetoidFunctionalChoice_on A B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, T x y</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chk200"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">x</span> <span class="nv">x&#39;</span> : A) (<span class="nv">y</span> : B), x = x&#39; -&gt; T x y -&gt; T x&#39; y</span></div></blockquote><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk201" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">SetoidFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">SetoidFunctionalChoice_on A B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, T x y</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chk201"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, T x y</span></div></blockquote><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk202" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">SetoidFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">SetoidFunctionalChoice_on A B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, T x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A,
T x (f x) /\
(<span class="kr">forall</span> <span class="nv">x&#39;</span> : A, x = x&#39; -&gt; f x = f x&#39;)</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chk202"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f0</span> : A -&gt; B, <span class="kr">forall</span> <span class="nv">x</span> : A, T x (f0 x)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk203" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk203"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">SetoidFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">SetoidFunctionalChoice_on A B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, T x y</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Equivalence eq</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">apply</span> eq_equivalence.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk204" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk204"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">SetoidFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">SetoidFunctionalChoice_on A B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, T x y</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">x</span> <span class="nv">x&#39;</span> : A) (<span class="nv">y</span> : B), x = x&#39; -&gt; T x y -&gt; T x&#39; y</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">now</span> <span class="nb">intros</span> * -&gt;.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk205" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk205"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">SetoidFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">SetoidFunctionalChoice_on A B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, T x y</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, T x y</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">assumption</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk206" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk206"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">SetoidFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">SetoidFunctionalChoice_on A B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, T x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A,
T x (f x) /\
(<span class="kr">forall</span> <span class="nv">x&#39;</span> : A, x = x&#39; -&gt; f x = f x&#39;)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f0</span> : A -&gt; B, <span class="kr">forall</span> <span class="nv">x</span> : A, T x (f0 x)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk207" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk207"><span class="highlight"><span class="kr">exists</span> <span class="nv">f</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">SetoidFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">SetoidFunctionalChoice_on A B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, T x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A,
T x (f x) /\
(<span class="kr">forall</span> <span class="nv">x&#39;</span> : A, x = x&#39; -&gt; f x = f x&#39;)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, T x (f x)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">firstorder</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk208" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk208"><span class="highlight"><span class="kn">Corollary</span> <span class="nf">setoid_fun_choice_imp_functional_rel_reification</span> :
  <span class="kr">forall</span> <span class="nv">A</span> <span class="nv">B</span>, SetoidFunctionalChoice_on A B -&gt; FunctionalRelReification_on A B.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">A</span> <span class="nv">B</span> : <span class="kt">Type</span>,
SetoidFunctionalChoice_on A B -&gt;
FunctionalRelReification_on A B</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk209" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk209"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">A</span> <span class="nv">B</span> : <span class="kt">Type</span>,
SetoidFunctionalChoice_on A B -&gt;
FunctionalRelReification_on A B</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk20a" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk20a"><span class="highlight"><span class="nb">intros</span> A B SetoidFunChoice.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">SetoidFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">SetoidFunctionalChoice_on A B</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">FunctionalRelReification_on A B</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk20b" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk20b"><span class="highlight"><span class="nb">apply</span> fun_choice_imp_functional_rel_reification.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">SetoidFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">SetoidFunctionalChoice_on A B</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">FunctionalChoice_on A B</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">now</span> <span class="nb">apply</span> setoid_fun_choice_imp_fun_choice.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk20c" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk20c"><span class="highlight"><span class="kn">Theorem</span> <span class="nf">setoid_fun_choice_imp_repr_fun_choice</span> :
  SetoidFunctionalChoice -&gt; RepresentativeFunctionalChoice .</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">SetoidFunctionalChoice -&gt;
RepresentativeFunctionalChoice</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk20d" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk20d"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">SetoidFunctionalChoice -&gt;
RepresentativeFunctionalChoice</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk20e" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk20e"><span class="highlight"><span class="nb">intros</span> SetoidFunChoice A R Hequiv.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">SetoidFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">SetoidFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hequiv</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence R</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f</span> : A -&gt; A,
  <span class="kr">forall</span> <span class="nv">x</span> : A,
  R x (f x) /\ (<span class="kr">forall</span> <span class="nv">x&#39;</span> : A, R x x&#39; -&gt; f x = f x&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">apply</span> SetoidFunChoice; <span class="nb">firstorder</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk20f" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk20f"><span class="highlight"><span class="kn">Theorem</span> <span class="nf">functional_rel_reification_and_repr_fun_choice_imp_setoid_fun_choice</span> :
  FunctionalRelReification -&gt; RepresentativeFunctionalChoice -&gt; SetoidFunctionalChoice.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">FunctionalRelReification -&gt;
RepresentativeFunctionalChoice -&gt;
SetoidFunctionalChoice</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk210" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk210"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">FunctionalRelReification -&gt;
RepresentativeFunctionalChoice -&gt;
SetoidFunctionalChoice</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk211" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk211"><span class="highlight"><span class="nb">intros</span> FunRelReify ReprFunChoice A B R T Hequiv Hcompat Hexists.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunRelReify</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalRelReification</span></span></span></div><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hequiv</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcompat</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x</span> <span class="nv">x&#39;</span> : A) (<span class="nv">y</span> : B),
R x x&#39; -&gt; T x y -&gt; T x&#39; y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, T x y</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f</span> : A -&gt; B,
  <span class="kr">forall</span> <span class="nv">x</span> : A,
  T x (f x) /\ (<span class="kr">forall</span> <span class="nv">x&#39;</span> : A, R x x&#39; -&gt; f x = f x&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk212" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk212"><span class="highlight"><span class="nb">assert</span> (FunChoice : FunctionalChoice).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunRelReify</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalRelReification</span></span></span></div><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hequiv</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcompat</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x</span> <span class="nv">x&#39;</span> : A) (<span class="nv">y</span> : B),
R x x&#39; -&gt; T x y -&gt; T x&#39; y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, T x y</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">FunctionalChoice</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk213" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunRelReify</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalRelReification</span></span></span></div><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hequiv</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcompat</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x</span> <span class="nv">x&#39;</span> : A) (<span class="nv">y</span> : B),
R x x&#39; -&gt; T x y -&gt; T x&#39; y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, T x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chk213"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f</span> : A -&gt; B,
  <span class="kr">forall</span> <span class="nv">x</span> : A,
  T x (f x) /\ (<span class="kr">forall</span> <span class="nv">x&#39;</span> : A, R x x&#39; -&gt; f x = f x&#39;)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk214" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk214"><span class="highlight">{</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunRelReify</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalRelReification</span></span></span></div><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hequiv</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcompat</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x</span> <span class="nv">x&#39;</span> : A) (<span class="nv">y</span> : B),
R x x&#39; -&gt; T x y -&gt; T x&#39; y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, T x y</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">FunctionalChoice</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk215" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk215"><span class="highlight"><span class="nb">intros</span> A&#39; B&#39;.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunRelReify</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalRelReification</span></span></span></div><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hequiv</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcompat</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x</span> <span class="nv">x&#39;</span> : A) (<span class="nv">y</span> : B),
R x x&#39; -&gt; T x y -&gt; T x&#39; y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, T x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A', B'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">FunctionalChoice_on A&#39; B&#39;</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk216" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk216"><span class="highlight"><span class="nb">apply</span> functional_rel_reification_and_rel_choice_imp_fun_choice.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunRelReify</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalRelReification</span></span></span></div><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hequiv</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcompat</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x</span> <span class="nv">x&#39;</span> : A) (<span class="nv">y</span> : B),
R x x&#39; -&gt; T x y -&gt; T x&#39; y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, T x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A', B'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">FunctionalRelReification_on A&#39; B&#39;</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk217" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunRelReify</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalRelReification</span></span></span></div><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hequiv</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcompat</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x</span> <span class="nv">x&#39;</span> : A) (<span class="nv">y</span> : B),
R x x&#39; -&gt; T x y -&gt; T x&#39; y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, T x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A', B'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chk217"><hr></label><div class="goal-conclusion"><span class="highlight">RelationalChoice_on A&#39; B&#39;</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk218" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk218"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunRelReify</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalRelReification</span></span></span></div><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hequiv</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcompat</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x</span> <span class="nv">x&#39;</span> : A) (<span class="nv">y</span> : B),
R x x&#39; -&gt; T x y -&gt; T x&#39; y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, T x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A', B'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">FunctionalRelReification_on A&#39; B&#39;</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">apply</span> FunRelReify.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk219" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk219"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunRelReify</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalRelReification</span></span></span></div><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hequiv</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcompat</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x</span> <span class="nv">x&#39;</span> : A) (<span class="nv">y</span> : B),
R x x&#39; -&gt; T x y -&gt; T x&#39; y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, T x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A', B'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">RelationalChoice_on A&#39; B&#39;</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">now</span> <span class="nb">apply</span> repr_fun_choice_imp_relational_choice.</span></span><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk21a" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk21a"><span class="highlight">}</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunRelReify</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalRelReification</span></span></span></div><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hequiv</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcompat</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x</span> <span class="nv">x&#39;</span> : A) (<span class="nv">y</span> : B),
R x x&#39; -&gt; T x y -&gt; T x&#39; y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, T x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f</span> : A -&gt; B,
  <span class="kr">forall</span> <span class="nv">x</span> : A,
  T x (f x) /\ (<span class="kr">forall</span> <span class="nv">x&#39;</span> : A, R x x&#39; -&gt; f x = f x&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk21b" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk21b"><span class="highlight"><span class="nb">destruct</span> (FunChoice _ _ T Hexists) <span class="kr">as</span> (f,Hf).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunRelReify</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalRelReification</span></span></span></div><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hequiv</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcompat</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x</span> <span class="nv">x&#39;</span> : A) (<span class="nv">y</span> : B),
R x x&#39; -&gt; T x y -&gt; T x&#39; y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, T x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, T x (f x)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f0</span> : A -&gt; B,
  <span class="kr">forall</span> <span class="nv">x</span> : A,
  T x (f0 x) /\
  (<span class="kr">forall</span> <span class="nv">x&#39;</span> : A, R x x&#39; -&gt; f0 x = f0 x&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk21c" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk21c"><span class="highlight"><span class="nb">destruct</span> (ReprFunChoice A R Hequiv) <span class="kr">as</span> (g,Hg).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunRelReify</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalRelReification</span></span></span></div><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hequiv</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcompat</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x</span> <span class="nv">x&#39;</span> : A) (<span class="nv">y</span> : B),
R x x&#39; -&gt; T x y -&gt; T x&#39; y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, T x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, T x (f x)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hg</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A,
R x (g x) /\
(<span class="kr">forall</span> <span class="nv">x&#39;</span> : A, R x x&#39; -&gt; g x = g x&#39;)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f0</span> : A -&gt; B,
  <span class="kr">forall</span> <span class="nv">x</span> : A,
  T x (f0 x) /\
  (<span class="kr">forall</span> <span class="nv">x&#39;</span> : A, R x x&#39; -&gt; f0 x = f0 x&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk21d" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk21d"><span class="highlight"><span class="kr">exists</span> (<span class="nv">fun</span> <span class="nv">a</span> =&gt; f (g a)).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunRelReify</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalRelReification</span></span></span></div><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hequiv</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcompat</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x</span> <span class="nv">x&#39;</span> : A) (<span class="nv">y</span> : B),
R x x&#39; -&gt; T x y -&gt; T x&#39; y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, T x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, T x (f x)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hg</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A,
R x (g x) /\
(<span class="kr">forall</span> <span class="nv">x&#39;</span> : A, R x x&#39; -&gt; g x = g x&#39;)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A,
T x (f (g x)) /\
(<span class="kr">forall</span> <span class="nv">x&#39;</span> : A, R x x&#39; -&gt; f (g x) = f (g x&#39;))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk21e" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk21e"><span class="highlight"><span class="nb">intro</span> x.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunRelReify</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalRelReification</span></span></span></div><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hequiv</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcompat</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x0</span> <span class="nv">x&#39;</span> : A) (<span class="nv">y</span> : B),
R x0 x&#39; -&gt; T x0 y -&gt; T x&#39; y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, T x0 y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, T x0 (f x0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hg</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A,
R x0 (g x0) /\
(<span class="kr">forall</span> <span class="nv">x&#39;</span> : A, R x0 x&#39; -&gt; g x0 = g x&#39;)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">T x (f (g x)) /\
(<span class="kr">forall</span> <span class="nv">x&#39;</span> : A, R x x&#39; -&gt; f (g x) = f (g x&#39;))</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk21f" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk21f"><span class="highlight"><span class="nb">destruct</span> (Hg x) <span class="kr">as</span> (Hgx,HRuniq).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunRelReify</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalRelReification</span></span></span></div><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hequiv</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcompat</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x0</span> <span class="nv">x&#39;</span> : A) (<span class="nv">y</span> : B),
R x0 x&#39; -&gt; T x0 y -&gt; T x&#39; y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, T x0 y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, T x0 (f x0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hg</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A,
R x0 (g x0) /\
(<span class="kr">forall</span> <span class="nv">x&#39;</span> : A, R x0 x&#39; -&gt; g x0 = g x&#39;)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hgx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R x (g x)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">HRuniq</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x&#39;</span> : A, R x x&#39; -&gt; g x = g x&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">T x (f (g x)) /\
(<span class="kr">forall</span> <span class="nv">x&#39;</span> : A, R x x&#39; -&gt; f (g x) = f (g x&#39;))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk220" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk220"><span class="highlight"><span class="nb">split</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunRelReify</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalRelReification</span></span></span></div><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hequiv</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcompat</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x0</span> <span class="nv">x&#39;</span> : A) (<span class="nv">y</span> : B),
R x0 x&#39; -&gt; T x0 y -&gt; T x&#39; y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, T x0 y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, T x0 (f x0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hg</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A,
R x0 (g x0) /\
(<span class="kr">forall</span> <span class="nv">x&#39;</span> : A, R x0 x&#39; -&gt; g x0 = g x&#39;)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hgx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R x (g x)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">HRuniq</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x&#39;</span> : A, R x x&#39; -&gt; g x = g x&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">T x (f (g x))</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk221" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunRelReify</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalRelReification</span></span></span></div><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hequiv</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcompat</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x0</span> <span class="nv">x&#39;</span> : A) (<span class="nv">y</span> : B),
R x0 x&#39; -&gt; T x0 y -&gt; T x&#39; y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, T x0 y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, T x0 (f x0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hg</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A,
R x0 (g x0) /\
(<span class="kr">forall</span> <span class="nv">x&#39;</span> : A, R x0 x&#39; -&gt; g x0 = g x&#39;)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hgx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R x (g x)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">HRuniq</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x&#39;</span> : A, R x x&#39; -&gt; g x = g x&#39;</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chk221"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x&#39;</span> : A, R x x&#39; -&gt; f (g x) = f (g x&#39;)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk222" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk222"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunRelReify</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalRelReification</span></span></span></div><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hequiv</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcompat</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x0</span> <span class="nv">x&#39;</span> : A) (<span class="nv">y</span> : B),
R x0 x&#39; -&gt; T x0 y -&gt; T x&#39; y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, T x0 y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, T x0 (f x0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hg</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A,
R x0 (g x0) /\
(<span class="kr">forall</span> <span class="nv">x&#39;</span> : A, R x0 x&#39; -&gt; g x0 = g x&#39;)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hgx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R x (g x)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">HRuniq</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x&#39;</span> : A, R x x&#39; -&gt; g x = g x&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">T x (f (g x))</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk223" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk223"><span class="highlight"><span class="nb">eapply</span> Hcompat.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunRelReify</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalRelReification</span></span></span></div><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hequiv</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcompat</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x0</span> <span class="nv">x&#39;</span> : A) (<span class="nv">y</span> : B),
R x0 x&#39; -&gt; T x0 y -&gt; T x&#39; y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, T x0 y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, T x0 (f x0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hg</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A,
R x0 (g x0) /\
(<span class="kr">forall</span> <span class="nv">x&#39;</span> : A, R x0 x&#39; -&gt; g x0 = g x&#39;)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hgx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R x (g x)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">HRuniq</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x&#39;</span> : A, R x x&#39; -&gt; g x = g x&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">R <span class="nl">?x</span> x</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk224" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunRelReify</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalRelReification</span></span></span></div><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hequiv</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcompat</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x0</span> <span class="nv">x&#39;</span> : A) (<span class="nv">y</span> : B),
R x0 x&#39; -&gt; T x0 y -&gt; T x&#39; y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, T x0 y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, T x0 (f x0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hg</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A,
R x0 (g x0) /\
(<span class="kr">forall</span> <span class="nv">x&#39;</span> : A, R x0 x&#39; -&gt; g x0 = g x&#39;)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hgx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R x (g x)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">HRuniq</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x&#39;</span> : A, R x x&#39; -&gt; g x = g x&#39;</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chk224"><hr></label><div class="goal-conclusion"><span class="highlight">T <span class="nl">?x</span> (f (g x))</span></div></blockquote></div></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk225" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk225"><span class="highlight"><span class="nb">symmetry</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunRelReify</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalRelReification</span></span></span></div><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hequiv</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcompat</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x0</span> <span class="nv">x&#39;</span> : A) (<span class="nv">y</span> : B),
R x0 x&#39; -&gt; T x0 y -&gt; T x&#39; y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, T x0 y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, T x0 (f x0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hg</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A,
R x0 (g x0) /\
(<span class="kr">forall</span> <span class="nv">x&#39;</span> : A, R x0 x&#39; -&gt; g x0 = g x&#39;)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hgx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R x (g x)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">HRuniq</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x&#39;</span> : A, R x x&#39; -&gt; g x = g x&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">R x <span class="nl">?x</span></span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk226" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunRelReify</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalRelReification</span></span></span></div><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hequiv</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcompat</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x0</span> <span class="nv">x&#39;</span> : A) (<span class="nv">y</span> : B),
R x0 x&#39; -&gt; T x0 y -&gt; T x&#39; y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, T x0 y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, T x0 (f x0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hg</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A,
R x0 (g x0) /\
(<span class="kr">forall</span> <span class="nv">x&#39;</span> : A, R x0 x&#39; -&gt; g x0 = g x&#39;)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hgx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R x (g x)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">HRuniq</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x&#39;</span> : A, R x x&#39; -&gt; g x = g x&#39;</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chk226"><hr></label><div class="goal-conclusion"><span class="highlight">T <span class="nl">?x</span> (f (g x))</span></div></blockquote></div></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk227" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk227"><span class="highlight"><span class="nb">apply</span> Hgx.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunRelReify</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalRelReification</span></span></span></div><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hequiv</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcompat</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x0</span> <span class="nv">x&#39;</span> : A) (<span class="nv">y</span> : B),
R x0 x&#39; -&gt; T x0 y -&gt; T x&#39; y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, T x0 y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, T x0 (f x0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hg</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A,
R x0 (g x0) /\
(<span class="kr">forall</span> <span class="nv">x&#39;</span> : A, R x0 x&#39; -&gt; g x0 = g x&#39;)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hgx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R x (g x)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">HRuniq</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x&#39;</span> : A, R x x&#39; -&gt; g x = g x&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">T (g x) (f (g x))</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">apply</span> Hf.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk228" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk228"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunRelReify</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalRelReification</span></span></span></div><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hequiv</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcompat</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x0</span> <span class="nv">x&#39;</span> : A) (<span class="nv">y</span> : B),
R x0 x&#39; -&gt; T x0 y -&gt; T x&#39; y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y</span> : B, T x0 y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, T x0 (f x0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hg</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A,
R x0 (g x0) /\
(<span class="kr">forall</span> <span class="nv">x&#39;</span> : A, R x0 x&#39; -&gt; g x0 = g x&#39;)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hgx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R x (g x)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">HRuniq</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x&#39;</span> : A, R x x&#39; -&gt; g x = g x&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x&#39;</span> : A, R x x&#39; -&gt; f (g x) = f (g x&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk229" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk229"><span class="highlight"><span class="nb">intros</span> y Hxy.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunRelReify</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalRelReification</span></span></span></div><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hequiv</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcompat</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x0</span> <span class="nv">x&#39;</span> : A) (<span class="nv">y0</span> : B),
R x0 x&#39; -&gt; T x0 y0 -&gt; T x&#39; y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y0</span> : B, T x0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, T x0 (f x0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hg</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A,
R x0 (g x0) /\
(<span class="kr">forall</span> <span class="nv">x&#39;</span> : A, R x0 x&#39; -&gt; g x0 = g x&#39;)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hgx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R x (g x)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">HRuniq</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x&#39;</span> : A, R x x&#39; -&gt; g x = g x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hxy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R x y</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">f (g x) = f (g y)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk22a" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk22a"><span class="highlight"><span class="nb">f_equal</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunRelReify</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalRelReification</span></span></span></div><div class="goal-hyp"><span class="hyp-names">ReprFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">T</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hequiv</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcompat</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x0</span> <span class="nv">x&#39;</span> : A) (<span class="nv">y0</span> : B),
R x0 x&#39; -&gt; T x0 y0 -&gt; T x&#39; y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hexists</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, <span class="kr">exists</span> <span class="nv">y0</span> : B, T x0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, T x0 (f x0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hg</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A,
R x0 (g x0) /\
(<span class="kr">forall</span> <span class="nv">x&#39;</span> : A, R x0 x&#39; -&gt; g x0 = g x&#39;)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hgx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R x (g x)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">HRuniq</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x&#39;</span> : A, R x x&#39; -&gt; g x = g x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hxy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R x y</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">g x = g y</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">auto</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk22b" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk22b"><span class="highlight"><span class="kn">Theorem</span> <span class="nf">functional_rel_reification_and_repr_fun_choice_iff_setoid_fun_choice</span> :
  FunctionalRelReification /\ RepresentativeFunctionalChoice &lt;-&gt; SetoidFunctionalChoice.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">FunctionalRelReification /\
RepresentativeFunctionalChoice &lt;-&gt;
SetoidFunctionalChoice</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk22c" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk22c"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">FunctionalRelReification /\
RepresentativeFunctionalChoice &lt;-&gt;
SetoidFunctionalChoice</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk22d" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk22d"><span class="highlight"><span class="nb">split</span>; <span class="nb">intros</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalRelReification /\
RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">SetoidFunctionalChoice_on A B</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk22e" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">SetoidFunctionalChoice</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chk22e"><hr></label><div class="goal-conclusion"><span class="highlight">FunctionalRelReification /\
RepresentativeFunctionalChoice</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk22f" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk22f"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalRelReification /\
RepresentativeFunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">SetoidFunctionalChoice_on A B</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">now</span> <span class="nb">apply</span> functional_rel_reification_and_repr_fun_choice_imp_setoid_fun_choice.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk230" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk230"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">SetoidFunctionalChoice</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">FunctionalRelReification /\
RepresentativeFunctionalChoice</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk231" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk231"><span class="highlight"><span class="nb">split</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">SetoidFunctionalChoice</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">FunctionalRelReification</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk232" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">SetoidFunctionalChoice</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chk232"><hr></label><div class="goal-conclusion"><span class="highlight">RepresentativeFunctionalChoice</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk233" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk233"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">SetoidFunctionalChoice</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">FunctionalRelReification</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">now</span> <span class="nb">intros</span> A B; <span class="nb">apply</span> setoid_fun_choice_imp_functional_rel_reification.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk234" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk234"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">SetoidFunctionalChoice</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">RepresentativeFunctionalChoice</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">now</span> <span class="nb">apply</span> setoid_fun_choice_imp_repr_fun_choice.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span></span></pre><div class="doc">
Note: What characterization to give of
RepresentativeFunctionalChoice? A formulation of it as a functional
relation would certainly be equivalent to the formulation of
SetoidFunctionalChoice as a functional relation, but in their
functional forms, SetoidFunctionalChoice seems strictly stronger 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-wsp"><span class="highlight"><span class="sd">(**********************************************************************)</span></span></span></pre><div class="doc">
<a name="lab26"></a><h1 class="section">AC_fun_setoid = AC_fun + Ext_fun_repr + EM</h1>
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Import</span> EqNotations.</span></span></span></pre><div class="doc">
<a name="lab27"></a><h2 class="section">This is the main theorem in <span class="inlinecode">[<span class="id" title="var">Carlstr√∂m04</span>]</span></h2>
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --></pre><div class="doc">
Note: all ingredients have a computational meaning when taken in
  separation. However, to compute with the functional choice,
  existential quantification has to be thought as a strong
  existential, which is incompatible with the computational content of
  excluded-middle 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk235" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk235"><span class="highlight"><span class="kn">Theorem</span> <span class="nf">fun_choice_and_ext_functions_repr_and_excluded_middle_imp_setoid_fun_choice</span> :
  FunctionalChoice -&gt; ExtensionalFunctionRepresentative -&gt; ExcludedMiddle -&gt; RepresentativeFunctionalChoice.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">FunctionalChoice -&gt;
ExtensionalFunctionRepresentative -&gt;
ExcludedMiddle -&gt; RepresentativeFunctionalChoice</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk236" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk236"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">FunctionalChoice -&gt;
ExtensionalFunctionRepresentative -&gt;
ExcludedMiddle -&gt; RepresentativeFunctionalChoice</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk237" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk237"><span class="highlight"><span class="nb">intros</span> FunChoice SetoidFunRepr EM A R (Hrefl,Hsym,Htrans).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">SetoidFunRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalFunctionRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EM</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExcludedMiddle</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f</span> : A -&gt; A,
  <span class="kr">forall</span> <span class="nv">x</span> : A,
  R x (f x) /\ (<span class="kr">forall</span> <span class="nv">x&#39;</span> : A, R x x&#39; -&gt; f x = f x&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk238" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk238"><span class="highlight"><span class="nb">assert</span> (H:<span class="kr">forall</span> <span class="nv">P</span>:<span class="kt">Prop</span>, <span class="kr">exists</span> <span class="nv">b</span>, b = true &lt;-&gt; P).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">SetoidFunRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalFunctionRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EM</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExcludedMiddle</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : <span class="kt">Prop</span>, <span class="kr">exists</span> <span class="nv">b</span> : bool, b = true &lt;-&gt; P</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk239" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">SetoidFunRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalFunctionRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EM</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExcludedMiddle</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : <span class="kt">Prop</span>, <span class="kr">exists</span> <span class="nv">b</span> : bool, b = true &lt;-&gt; P</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chk239"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f</span> : A -&gt; A,
  <span class="kr">forall</span> <span class="nv">x</span> : A,
  R x (f x) /\ (<span class="kr">forall</span> <span class="nv">x&#39;</span> : A, R x x&#39; -&gt; f x = f x&#39;)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk23a" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk23a"><span class="highlight">{</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">SetoidFunRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalFunctionRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EM</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExcludedMiddle</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : <span class="kt">Prop</span>, <span class="kr">exists</span> <span class="nv">b</span> : bool, b = true &lt;-&gt; P</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk23b" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk23b"><span class="highlight"><span class="nb">intros</span> P.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">SetoidFunRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalFunctionRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EM</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExcludedMiddle</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">b</span> : bool, b = true &lt;-&gt; P</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk23c" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk23c"><span class="highlight"><span class="nb">destruct</span> (EM P).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">SetoidFunRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalFunctionRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EM</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExcludedMiddle</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">P</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">b</span> : bool, b = true &lt;-&gt; P</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk23d" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">SetoidFunRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalFunctionRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EM</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExcludedMiddle</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ P</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chk23d"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">b</span> : bool, b = true &lt;-&gt; P</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk23e" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk23e"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">SetoidFunRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalFunctionRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EM</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExcludedMiddle</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">P</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">b</span> : bool, b = true &lt;-&gt; P</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kr">exists</span> <span class="nv">true</span>; <span class="nb">firstorder</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk23f" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk23f"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">SetoidFunRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalFunctionRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EM</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExcludedMiddle</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ P</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">b</span> : bool, b = true &lt;-&gt; P</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kr">exists</span> <span class="nv">false</span>; <span class="bp">easy</span>.</span></span><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk240" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk240"><span class="highlight">}</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">SetoidFunRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalFunctionRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EM</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExcludedMiddle</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : <span class="kt">Prop</span>, <span class="kr">exists</span> <span class="nv">b</span> : bool, b = true &lt;-&gt; P</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f</span> : A -&gt; A,
  <span class="kr">forall</span> <span class="nv">x</span> : A,
  R x (f x) /\ (<span class="kr">forall</span> <span class="nv">x&#39;</span> : A, R x x&#39; -&gt; f x = f x&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk241" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk241"><span class="highlight"><span class="nb">destruct</span> (FunChoice _ _ _ H) <span class="kr">as</span> (c,Hc).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">SetoidFunRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalFunctionRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EM</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExcludedMiddle</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : <span class="kt">Prop</span>, <span class="kr">exists</span> <span class="nv">b</span> : bool, b = true &lt;-&gt; P</span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span> -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : <span class="kt">Prop</span>, c x = true &lt;-&gt; x</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f</span> : A -&gt; A,
  <span class="kr">forall</span> <span class="nv">x</span> : A,
  R x (f x) /\ (<span class="kr">forall</span> <span class="nv">x&#39;</span> : A, R x x&#39; -&gt; f x = f x&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk242" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk242"><span class="highlight"><span class="nb">pose</span> (class_of a y := c (R a y)).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">SetoidFunRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalFunctionRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EM</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExcludedMiddle</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : <span class="kt">Prop</span>, <span class="kr">exists</span> <span class="nv">b</span> : bool, b = true &lt;-&gt; P</span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span> -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : <span class="kt">Prop</span>, c x = true &lt;-&gt; x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">class_of</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> <span class="nv">y</span> : A =&gt; c (R a y)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; bool</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f</span> : A -&gt; A,
  <span class="kr">forall</span> <span class="nv">x</span> : A,
  R x (f x) /\ (<span class="kr">forall</span> <span class="nv">x&#39;</span> : A, R x x&#39; -&gt; f x = f x&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk243" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk243"><span class="highlight"><span class="nb">pose</span> (isclass f := <span class="kr">exists</span> <span class="nv">x</span>:A, f x = true).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">SetoidFunRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalFunctionRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EM</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExcludedMiddle</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : <span class="kt">Prop</span>, <span class="kr">exists</span> <span class="nv">b</span> : bool, b = true &lt;-&gt; P</span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span> -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : <span class="kt">Prop</span>, c x = true &lt;-&gt; x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">class_of</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> <span class="nv">y</span> : A =&gt; c (R a y)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">isclass</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">f</span> : A -&gt; bool =&gt; <span class="kr">exists</span> <span class="nv">x</span> : A, f x = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; <span class="kt">Prop</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f</span> : A -&gt; A,
  <span class="kr">forall</span> <span class="nv">x</span> : A,
  R x (f x) /\ (<span class="kr">forall</span> <span class="nv">x&#39;</span> : A, R x x&#39; -&gt; f x = f x&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk244" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk244"><span class="highlight"><span class="nb">pose</span> (class := {f:A -&gt; bool | isclass f}).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">SetoidFunRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalFunctionRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EM</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExcludedMiddle</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : <span class="kt">Prop</span>, <span class="kr">exists</span> <span class="nv">b</span> : bool, b = true &lt;-&gt; P</span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span> -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : <span class="kt">Prop</span>, c x = true &lt;-&gt; x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">class_of</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> <span class="nv">y</span> : A =&gt; c (R a y)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">isclass</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">f</span> : A -&gt; bool =&gt; <span class="kr">exists</span> <span class="nv">x</span> : A, f x = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{f : A -&gt; bool | isclass f}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f</span> : A -&gt; A,
  <span class="kr">forall</span> <span class="nv">x</span> : A,
  R x (f x) /\ (<span class="kr">forall</span> <span class="nv">x&#39;</span> : A, R x x&#39; -&gt; f x = f x&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk245" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk245"><span class="highlight"><span class="nb">pose</span> (contains (c:class) (a:A) := proj1_sig c a = true).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">SetoidFunRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalFunctionRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EM</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExcludedMiddle</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : <span class="kt">Prop</span>, <span class="kr">exists</span> <span class="nv">b</span> : bool, b = true &lt;-&gt; P</span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span> -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : <span class="kt">Prop</span>, c x = true &lt;-&gt; x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">class_of</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> <span class="nv">y</span> : A =&gt; c (R a y)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">isclass</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">f</span> : A -&gt; bool =&gt; <span class="kr">exists</span> <span class="nv">x</span> : A, f x = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{f : A -&gt; bool | isclass f}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">contains</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">c0</span> : class) (<span class="nv">a</span> : A) =&gt;
proj1_sig c0 a = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f</span> : A -&gt; A,
  <span class="kr">forall</span> <span class="nv">x</span> : A,
  R x (f x) /\ (<span class="kr">forall</span> <span class="nv">x&#39;</span> : A, R x x&#39; -&gt; f x = f x&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk246" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk246"><span class="highlight"><span class="nb">destruct</span> (FunChoice class A contains) <span class="kr">as</span> (f,Hf).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">SetoidFunRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalFunctionRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EM</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExcludedMiddle</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : <span class="kt">Prop</span>, <span class="kr">exists</span> <span class="nv">b</span> : bool, b = true &lt;-&gt; P</span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span> -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : <span class="kt">Prop</span>, c x = true &lt;-&gt; x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">class_of</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> <span class="nv">y</span> : A =&gt; c (R a y)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">isclass</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">f</span> : A -&gt; bool =&gt; <span class="kr">exists</span> <span class="nv">x</span> : A, f x = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{f : A -&gt; bool | isclass f}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">contains</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">c0</span> : class) (<span class="nv">a</span> : A) =&gt;
proj1_sig c0 a = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : class, <span class="kr">exists</span> <span class="nv">y</span> : A, contains x y</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk247" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">SetoidFunRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalFunctionRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EM</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExcludedMiddle</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : <span class="kt">Prop</span>, <span class="kr">exists</span> <span class="nv">b</span> : bool, b = true &lt;-&gt; P</span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span> -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : <span class="kt">Prop</span>, c x = true &lt;-&gt; x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">class_of</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> <span class="nv">y</span> : A =&gt; c (R a y)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">isclass</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">f0</span> : A -&gt; bool =&gt;
<span class="kr">exists</span> <span class="nv">x</span> : A, f0 x = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{f0 : A -&gt; bool | isclass f0}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">contains</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">c0</span> : class) (<span class="nv">a</span> : A) =&gt;
proj1_sig c0 a = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : class, contains x (f x)</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chk247"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f0</span> : A -&gt; A,
  <span class="kr">forall</span> <span class="nv">x</span> : A,
  R x (f0 x) /\
  (<span class="kr">forall</span> <span class="nv">x&#39;</span> : A, R x x&#39; -&gt; f0 x = f0 x&#39;)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk248" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk248"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">SetoidFunRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalFunctionRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EM</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExcludedMiddle</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : <span class="kt">Prop</span>, <span class="kr">exists</span> <span class="nv">b</span> : bool, b = true &lt;-&gt; P</span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span> -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : <span class="kt">Prop</span>, c x = true &lt;-&gt; x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">class_of</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> <span class="nv">y</span> : A =&gt; c (R a y)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">isclass</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">f</span> : A -&gt; bool =&gt; <span class="kr">exists</span> <span class="nv">x</span> : A, f x = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{f : A -&gt; bool | isclass f}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">contains</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">c0</span> : class) (<span class="nv">a</span> : A) =&gt;
proj1_sig c0 a = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : class, <span class="kr">exists</span> <span class="nv">y</span> : A, contains x y</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk249" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk249"><span class="highlight"><span class="nb">intros</span> f.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">SetoidFunRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalFunctionRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EM</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExcludedMiddle</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : <span class="kt">Prop</span>, <span class="kr">exists</span> <span class="nv">b</span> : bool, b = true &lt;-&gt; P</span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span> -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : <span class="kt">Prop</span>, c x = true &lt;-&gt; x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">class_of</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> <span class="nv">y</span> : A =&gt; c (R a y)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">isclass</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">f0</span> : A -&gt; bool =&gt;
<span class="kr">exists</span> <span class="nv">x</span> : A, f0 x = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{f0 : A -&gt; bool | isclass f0}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">contains</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">c0</span> : class) (<span class="nv">a</span> : A) =&gt;
proj1_sig c0 a = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">y</span> : A, contains f y</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk24a" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk24a"><span class="highlight"><span class="nb">destruct</span> (proj2_sig f) <span class="kr">as</span> (x,Hx).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">SetoidFunRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalFunctionRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EM</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExcludedMiddle</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : <span class="kt">Prop</span>, <span class="kr">exists</span> <span class="nv">b</span> : bool, b = true &lt;-&gt; P</span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span> -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : <span class="kt">Prop</span>, c x0 = true &lt;-&gt; x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">class_of</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> <span class="nv">y</span> : A =&gt; c (R a y)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">isclass</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">f0</span> : A -&gt; bool =&gt;
<span class="kr">exists</span> <span class="nv">x0</span> : A, f0 x0 = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{f0 : A -&gt; bool | isclass f0}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">contains</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">c0</span> : class) (<span class="nv">a</span> : A) =&gt;
proj1_sig c0 a = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">proj1_sig f x = true</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">y</span> : A, contains f y</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk24b" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk24b"><span class="highlight"><span class="kr">exists</span> <span class="nv">x</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">SetoidFunRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalFunctionRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EM</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExcludedMiddle</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : <span class="kt">Prop</span>, <span class="kr">exists</span> <span class="nv">b</span> : bool, b = true &lt;-&gt; P</span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span> -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : <span class="kt">Prop</span>, c x0 = true &lt;-&gt; x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">class_of</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> <span class="nv">y</span> : A =&gt; c (R a y)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">isclass</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">f0</span> : A -&gt; bool =&gt;
<span class="kr">exists</span> <span class="nv">x0</span> : A, f0 x0 = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{f0 : A -&gt; bool | isclass f0}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">contains</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">c0</span> : class) (<span class="nv">a</span> : A) =&gt;
proj1_sig c0 a = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">proj1_sig f x = true</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">contains f x</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">easy</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk24c" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk24c"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">SetoidFunRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalFunctionRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EM</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExcludedMiddle</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : <span class="kt">Prop</span>, <span class="kr">exists</span> <span class="nv">b</span> : bool, b = true &lt;-&gt; P</span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span> -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : <span class="kt">Prop</span>, c x = true &lt;-&gt; x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">class_of</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> <span class="nv">y</span> : A =&gt; c (R a y)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">isclass</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">f0</span> : A -&gt; bool =&gt;
<span class="kr">exists</span> <span class="nv">x</span> : A, f0 x = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{f0 : A -&gt; bool | isclass f0}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">contains</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">c0</span> : class) (<span class="nv">a</span> : A) =&gt;
proj1_sig c0 a = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : class, contains x (f x)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f0</span> : A -&gt; A,
  <span class="kr">forall</span> <span class="nv">x</span> : A,
  R x (f0 x) /\
  (<span class="kr">forall</span> <span class="nv">x&#39;</span> : A, R x x&#39; -&gt; f0 x = f0 x&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk24d" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk24d"><span class="highlight"><span class="nb">destruct</span> (SetoidFunRepr A bool) <span class="kr">as</span> (h,Hh).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">SetoidFunRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalFunctionRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EM</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExcludedMiddle</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : <span class="kt">Prop</span>, <span class="kr">exists</span> <span class="nv">b</span> : bool, b = true &lt;-&gt; P</span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span> -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : <span class="kt">Prop</span>, c x = true &lt;-&gt; x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">class_of</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> <span class="nv">y</span> : A =&gt; c (R a y)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">isclass</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">f0</span> : A -&gt; bool =&gt;
<span class="kr">exists</span> <span class="nv">x</span> : A, f0 x = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{f0 : A -&gt; bool | isclass f0}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">contains</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">c0</span> : class) (<span class="nv">a</span> : A) =&gt;
proj1_sig c0 a = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : class, contains x (f x)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">f0</span> : A -&gt; bool,
(<span class="kr">forall</span> <span class="nv">x</span> : A, f0 x = h f0 x) /\
(<span class="kr">forall</span> <span class="nv">g</span> : A -&gt; bool,
 (<span class="kr">forall</span> <span class="nv">x</span> : A, f0 x = g x) -&gt; h f0 = h g)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f0</span> : A -&gt; A,
  <span class="kr">forall</span> <span class="nv">x</span> : A,
  R x (f0 x) /\
  (<span class="kr">forall</span> <span class="nv">x&#39;</span> : A, R x x&#39; -&gt; f0 x = f0 x&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk24e" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk24e"><span class="highlight"><span class="nb">assert</span> (Hisclass:<span class="kr">forall</span> <span class="nv">a</span>, isclass (h (class_of a))).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">SetoidFunRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalFunctionRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EM</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExcludedMiddle</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : <span class="kt">Prop</span>, <span class="kr">exists</span> <span class="nv">b</span> : bool, b = true &lt;-&gt; P</span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span> -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : <span class="kt">Prop</span>, c x = true &lt;-&gt; x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">class_of</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> <span class="nv">y</span> : A =&gt; c (R a y)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">isclass</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">f0</span> : A -&gt; bool =&gt;
<span class="kr">exists</span> <span class="nv">x</span> : A, f0 x = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{f0 : A -&gt; bool | isclass f0}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">contains</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">c0</span> : class) (<span class="nv">a</span> : A) =&gt;
proj1_sig c0 a = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : class, contains x (f x)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">f0</span> : A -&gt; bool,
(<span class="kr">forall</span> <span class="nv">x</span> : A, f0 x = h f0 x) /\
(<span class="kr">forall</span> <span class="nv">g</span> : A -&gt; bool,
 (<span class="kr">forall</span> <span class="nv">x</span> : A, f0 x = g x) -&gt; h f0 = h g)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : A, isclass (h (class_of a))</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk24f" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">SetoidFunRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalFunctionRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EM</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExcludedMiddle</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : <span class="kt">Prop</span>, <span class="kr">exists</span> <span class="nv">b</span> : bool, b = true &lt;-&gt; P</span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span> -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : <span class="kt">Prop</span>, c x = true &lt;-&gt; x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">class_of</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> <span class="nv">y</span> : A =&gt; c (R a y)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">isclass</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">f0</span> : A -&gt; bool =&gt;
<span class="kr">exists</span> <span class="nv">x</span> : A, f0 x = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{f0 : A -&gt; bool | isclass f0}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">contains</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">c0</span> : class) (<span class="nv">a</span> : A) =&gt;
proj1_sig c0 a = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : class, contains x (f x)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">f0</span> : A -&gt; bool,
(<span class="kr">forall</span> <span class="nv">x</span> : A, f0 x = h f0 x) /\
(<span class="kr">forall</span> <span class="nv">g</span> : A -&gt; bool,
 (<span class="kr">forall</span> <span class="nv">x</span> : A, f0 x = g x) -&gt; h f0 = h g)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hisclass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : A, isclass (h (class_of a))</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chk24f"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f0</span> : A -&gt; A,
  <span class="kr">forall</span> <span class="nv">x</span> : A,
  R x (f0 x) /\
  (<span class="kr">forall</span> <span class="nv">x&#39;</span> : A, R x x&#39; -&gt; f0 x = f0 x&#39;)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk250" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk250"><span class="highlight">{</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">SetoidFunRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalFunctionRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EM</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExcludedMiddle</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : <span class="kt">Prop</span>, <span class="kr">exists</span> <span class="nv">b</span> : bool, b = true &lt;-&gt; P</span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span> -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : <span class="kt">Prop</span>, c x = true &lt;-&gt; x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">class_of</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> <span class="nv">y</span> : A =&gt; c (R a y)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">isclass</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">f0</span> : A -&gt; bool =&gt;
<span class="kr">exists</span> <span class="nv">x</span> : A, f0 x = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{f0 : A -&gt; bool | isclass f0}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">contains</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">c0</span> : class) (<span class="nv">a</span> : A) =&gt;
proj1_sig c0 a = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : class, contains x (f x)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">f0</span> : A -&gt; bool,
(<span class="kr">forall</span> <span class="nv">x</span> : A, f0 x = h f0 x) /\
(<span class="kr">forall</span> <span class="nv">g</span> : A -&gt; bool,
 (<span class="kr">forall</span> <span class="nv">x</span> : A, f0 x = g x) -&gt; h f0 = h g)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : A, isclass (h (class_of a))</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk251" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk251"><span class="highlight"><span class="nb">intro</span> a.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">SetoidFunRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalFunctionRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EM</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExcludedMiddle</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : <span class="kt">Prop</span>, <span class="kr">exists</span> <span class="nv">b</span> : bool, b = true &lt;-&gt; P</span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span> -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : <span class="kt">Prop</span>, c x = true &lt;-&gt; x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">class_of</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a0</span> <span class="nv">y</span> : A =&gt; c (R a0 y)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">isclass</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">f0</span> : A -&gt; bool =&gt;
<span class="kr">exists</span> <span class="nv">x</span> : A, f0 x = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{f0 : A -&gt; bool | isclass f0}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">contains</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">c0</span> : class) (<span class="nv">a0</span> : A) =&gt;
proj1_sig c0 a0 = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : class, contains x (f x)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">f0</span> : A -&gt; bool,
(<span class="kr">forall</span> <span class="nv">x</span> : A, f0 x = h f0 x) /\
(<span class="kr">forall</span> <span class="nv">g</span> : A -&gt; bool,
 (<span class="kr">forall</span> <span class="nv">x</span> : A, f0 x = g x) -&gt; h f0 = h g)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">isclass (h (class_of a))</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk252" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk252"><span class="highlight"><span class="kr">exists</span> <span class="nv">a</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">SetoidFunRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalFunctionRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EM</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExcludedMiddle</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : <span class="kt">Prop</span>, <span class="kr">exists</span> <span class="nv">b</span> : bool, b = true &lt;-&gt; P</span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span> -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : <span class="kt">Prop</span>, c x = true &lt;-&gt; x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">class_of</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a0</span> <span class="nv">y</span> : A =&gt; c (R a0 y)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">isclass</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">f0</span> : A -&gt; bool =&gt;
<span class="kr">exists</span> <span class="nv">x</span> : A, f0 x = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{f0 : A -&gt; bool | isclass f0}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">contains</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">c0</span> : class) (<span class="nv">a0</span> : A) =&gt;
proj1_sig c0 a0 = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : class, contains x (f x)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">f0</span> : A -&gt; bool,
(<span class="kr">forall</span> <span class="nv">x</span> : A, f0 x = h f0 x) /\
(<span class="kr">forall</span> <span class="nv">g</span> : A -&gt; bool,
 (<span class="kr">forall</span> <span class="nv">x</span> : A, f0 x = g x) -&gt; h f0 = h g)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">h (class_of a) a = true</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk253" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk253"><span class="highlight"><span class="nb">destruct</span> (Hh (class_of a)) <span class="kr">as</span> (Ha,Huniqa).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">SetoidFunRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalFunctionRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EM</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExcludedMiddle</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : <span class="kt">Prop</span>, <span class="kr">exists</span> <span class="nv">b</span> : bool, b = true &lt;-&gt; P</span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span> -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : <span class="kt">Prop</span>, c x = true &lt;-&gt; x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">class_of</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a0</span> <span class="nv">y</span> : A =&gt; c (R a0 y)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">isclass</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">f0</span> : A -&gt; bool =&gt;
<span class="kr">exists</span> <span class="nv">x</span> : A, f0 x = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{f0 : A -&gt; bool | isclass f0}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">contains</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">c0</span> : class) (<span class="nv">a0</span> : A) =&gt;
proj1_sig c0 a0 = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : class, contains x (f x)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">f0</span> : A -&gt; bool,
(<span class="kr">forall</span> <span class="nv">x</span> : A, f0 x = h f0 x) /\
(<span class="kr">forall</span> <span class="nv">g</span> : A -&gt; bool,
 (<span class="kr">forall</span> <span class="nv">x</span> : A, f0 x = g x) -&gt; h f0 = h g)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, class_of a x = h (class_of a) x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Huniqa</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">g</span> : A -&gt; bool,
(<span class="kr">forall</span> <span class="nv">x</span> : A, class_of a x = g x) -&gt;
h (class_of a) = h g</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">h (class_of a) a = true</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">      </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk254" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk254"><span class="highlight"><span class="nb">rewrite</span> &lt;- Ha.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">SetoidFunRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalFunctionRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EM</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExcludedMiddle</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : <span class="kt">Prop</span>, <span class="kr">exists</span> <span class="nv">b</span> : bool, b = true &lt;-&gt; P</span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span> -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : <span class="kt">Prop</span>, c x = true &lt;-&gt; x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">class_of</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a0</span> <span class="nv">y</span> : A =&gt; c (R a0 y)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">isclass</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">f0</span> : A -&gt; bool =&gt;
<span class="kr">exists</span> <span class="nv">x</span> : A, f0 x = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{f0 : A -&gt; bool | isclass f0}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">contains</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">c0</span> : class) (<span class="nv">a0</span> : A) =&gt;
proj1_sig c0 a0 = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : class, contains x (f x)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">f0</span> : A -&gt; bool,
(<span class="kr">forall</span> <span class="nv">x</span> : A, f0 x = h f0 x) /\
(<span class="kr">forall</span> <span class="nv">g</span> : A -&gt; bool,
 (<span class="kr">forall</span> <span class="nv">x</span> : A, f0 x = g x) -&gt; h f0 = h g)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, class_of a x = h (class_of a) x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Huniqa</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">g</span> : A -&gt; bool,
(<span class="kr">forall</span> <span class="nv">x</span> : A, class_of a x = g x) -&gt;
h (class_of a) = h g</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">class_of a a = true</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk255" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk255"><span class="highlight"><span class="nb">apply</span> Hc.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">SetoidFunRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalFunctionRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EM</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExcludedMiddle</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : <span class="kt">Prop</span>, <span class="kr">exists</span> <span class="nv">b</span> : bool, b = true &lt;-&gt; P</span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span> -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : <span class="kt">Prop</span>, c x = true &lt;-&gt; x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">class_of</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a0</span> <span class="nv">y</span> : A =&gt; c (R a0 y)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">isclass</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">f0</span> : A -&gt; bool =&gt;
<span class="kr">exists</span> <span class="nv">x</span> : A, f0 x = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{f0 : A -&gt; bool | isclass f0}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">contains</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">c0</span> : class) (<span class="nv">a0</span> : A) =&gt;
proj1_sig c0 a0 = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : class, contains x (f x)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">f0</span> : A -&gt; bool,
(<span class="kr">forall</span> <span class="nv">x</span> : A, f0 x = h f0 x) /\
(<span class="kr">forall</span> <span class="nv">g</span> : A -&gt; bool,
 (<span class="kr">forall</span> <span class="nv">x</span> : A, f0 x = g x) -&gt; h f0 = h g)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, class_of a x = h (class_of a) x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Huniqa</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">g</span> : A -&gt; bool,
(<span class="kr">forall</span> <span class="nv">x</span> : A, class_of a x = g x) -&gt;
h (class_of a) = h g</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">R a a</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">apply</span> Hrefl.</span></span><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk256" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk256"><span class="highlight">}</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">SetoidFunRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalFunctionRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EM</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExcludedMiddle</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : <span class="kt">Prop</span>, <span class="kr">exists</span> <span class="nv">b</span> : bool, b = true &lt;-&gt; P</span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span> -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : <span class="kt">Prop</span>, c x = true &lt;-&gt; x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">class_of</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> <span class="nv">y</span> : A =&gt; c (R a y)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">isclass</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">f0</span> : A -&gt; bool =&gt;
<span class="kr">exists</span> <span class="nv">x</span> : A, f0 x = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{f0 : A -&gt; bool | isclass f0}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">contains</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">c0</span> : class) (<span class="nv">a</span> : A) =&gt;
proj1_sig c0 a = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : class, contains x (f x)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">f0</span> : A -&gt; bool,
(<span class="kr">forall</span> <span class="nv">x</span> : A, f0 x = h f0 x) /\
(<span class="kr">forall</span> <span class="nv">g</span> : A -&gt; bool,
 (<span class="kr">forall</span> <span class="nv">x</span> : A, f0 x = g x) -&gt; h f0 = h g)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hisclass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : A, isclass (h (class_of a))</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f0</span> : A -&gt; A,
  <span class="kr">forall</span> <span class="nv">x</span> : A,
  R x (f0 x) /\
  (<span class="kr">forall</span> <span class="nv">x&#39;</span> : A, R x x&#39; -&gt; f0 x = f0 x&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk257" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk257"><span class="highlight"><span class="nb">pose</span> (f&#39;:= <span class="kr">fun</span> <span class="nv">a</span> =&gt; exist _ (h (class_of a)) (Hisclass a) : class).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">SetoidFunRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalFunctionRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EM</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExcludedMiddle</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : <span class="kt">Prop</span>, <span class="kr">exists</span> <span class="nv">b</span> : bool, b = true &lt;-&gt; P</span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span> -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : <span class="kt">Prop</span>, c x = true &lt;-&gt; x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">class_of</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> <span class="nv">y</span> : A =&gt; c (R a y)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">isclass</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">f0</span> : A -&gt; bool =&gt;
<span class="kr">exists</span> <span class="nv">x</span> : A, f0 x = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{f0 : A -&gt; bool | isclass f0}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">contains</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">c0</span> : class) (<span class="nv">a</span> : A) =&gt;
proj1_sig c0 a = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : class, contains x (f x)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">f0</span> : A -&gt; bool,
(<span class="kr">forall</span> <span class="nv">x</span> : A, f0 x = h f0 x) /\
(<span class="kr">forall</span> <span class="nv">g</span> : A -&gt; bool,
 (<span class="kr">forall</span> <span class="nv">x</span> : A, f0 x = g x) -&gt; h f0 = h g)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hisclass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : A, isclass (h (class_of a))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
exist isclass (h (class_of a)) (Hisclass a)
:
class</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; class</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f0</span> : A -&gt; A,
  <span class="kr">forall</span> <span class="nv">x</span> : A,
  R x (f0 x) /\
  (<span class="kr">forall</span> <span class="nv">x&#39;</span> : A, R x x&#39; -&gt; f0 x = f0 x&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk258" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk258"><span class="highlight"><span class="kr">exists</span> (<span class="nv">fun</span> <span class="nv">a</span> =&gt; f (f&#39; a)).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">SetoidFunRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalFunctionRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EM</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExcludedMiddle</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : <span class="kt">Prop</span>, <span class="kr">exists</span> <span class="nv">b</span> : bool, b = true &lt;-&gt; P</span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span> -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : <span class="kt">Prop</span>, c x = true &lt;-&gt; x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">class_of</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> <span class="nv">y</span> : A =&gt; c (R a y)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">isclass</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">f0</span> : A -&gt; bool =&gt;
<span class="kr">exists</span> <span class="nv">x</span> : A, f0 x = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{f0 : A -&gt; bool | isclass f0}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">contains</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">c0</span> : class) (<span class="nv">a</span> : A) =&gt;
proj1_sig c0 a = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : class, contains x (f x)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">f0</span> : A -&gt; bool,
(<span class="kr">forall</span> <span class="nv">x</span> : A, f0 x = h f0 x) /\
(<span class="kr">forall</span> <span class="nv">g</span> : A -&gt; bool,
 (<span class="kr">forall</span> <span class="nv">x</span> : A, f0 x = g x) -&gt; h f0 = h g)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hisclass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : A, isclass (h (class_of a))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
exist isclass (h (class_of a)) (Hisclass a)
:
class</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; class</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A,
R x (f (f&#39; x)) /\
(<span class="kr">forall</span> <span class="nv">x&#39;</span> : A, R x x&#39; -&gt; f (f&#39; x) = f (f&#39; x&#39;))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk259" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk259"><span class="highlight"><span class="nb">intros</span> x.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">SetoidFunRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalFunctionRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EM</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExcludedMiddle</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : <span class="kt">Prop</span>, <span class="kr">exists</span> <span class="nv">b</span> : bool, b = true &lt;-&gt; P</span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span> -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : <span class="kt">Prop</span>, c x0 = true &lt;-&gt; x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">class_of</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> <span class="nv">y</span> : A =&gt; c (R a y)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">isclass</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">f0</span> : A -&gt; bool =&gt;
<span class="kr">exists</span> <span class="nv">x0</span> : A, f0 x0 = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{f0 : A -&gt; bool | isclass f0}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">contains</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">c0</span> : class) (<span class="nv">a</span> : A) =&gt;
proj1_sig c0 a = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : class, contains x0 (f x0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">f0</span> : A -&gt; bool,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, f0 x0 = h f0 x0) /\
(<span class="kr">forall</span> <span class="nv">g</span> : A -&gt; bool,
 (<span class="kr">forall</span> <span class="nv">x0</span> : A, f0 x0 = g x0) -&gt; h f0 = h g)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hisclass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : A, isclass (h (class_of a))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
exist isclass (h (class_of a)) (Hisclass a)
:
class</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; class</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">R x (f (f&#39; x)) /\
(<span class="kr">forall</span> <span class="nv">x&#39;</span> : A, R x x&#39; -&gt; f (f&#39; x) = f (f&#39; x&#39;))</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk25a" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk25a"><span class="highlight"><span class="nb">destruct</span> (Hh (class_of x)) <span class="kr">as</span> (Hx,Huniqx).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">SetoidFunRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalFunctionRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EM</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExcludedMiddle</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : <span class="kt">Prop</span>, <span class="kr">exists</span> <span class="nv">b</span> : bool, b = true &lt;-&gt; P</span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span> -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : <span class="kt">Prop</span>, c x0 = true &lt;-&gt; x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">class_of</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> <span class="nv">y</span> : A =&gt; c (R a y)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">isclass</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">f0</span> : A -&gt; bool =&gt;
<span class="kr">exists</span> <span class="nv">x0</span> : A, f0 x0 = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{f0 : A -&gt; bool | isclass f0}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">contains</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">c0</span> : class) (<span class="nv">a</span> : A) =&gt;
proj1_sig c0 a = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : class, contains x0 (f x0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">f0</span> : A -&gt; bool,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, f0 x0 = h f0 x0) /\
(<span class="kr">forall</span> <span class="nv">g</span> : A -&gt; bool,
 (<span class="kr">forall</span> <span class="nv">x0</span> : A, f0 x0 = g x0) -&gt; h f0 = h g)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hisclass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : A, isclass (h (class_of a))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
exist isclass (h (class_of a)) (Hisclass a)
:
class</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; class</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, class_of x x0 = h (class_of x) x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Huniqx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">g</span> : A -&gt; bool,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, class_of x x0 = g x0) -&gt;
h (class_of x) = h g</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">R x (f (f&#39; x)) /\
(<span class="kr">forall</span> <span class="nv">x&#39;</span> : A, R x x&#39; -&gt; f (f&#39; x) = f (f&#39; x&#39;))</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk25b" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk25b"><span class="highlight"><span class="nb">split</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">SetoidFunRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalFunctionRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EM</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExcludedMiddle</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : <span class="kt">Prop</span>, <span class="kr">exists</span> <span class="nv">b</span> : bool, b = true &lt;-&gt; P</span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span> -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : <span class="kt">Prop</span>, c x0 = true &lt;-&gt; x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">class_of</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> <span class="nv">y</span> : A =&gt; c (R a y)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">isclass</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">f0</span> : A -&gt; bool =&gt;
<span class="kr">exists</span> <span class="nv">x0</span> : A, f0 x0 = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{f0 : A -&gt; bool | isclass f0}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">contains</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">c0</span> : class) (<span class="nv">a</span> : A) =&gt;
proj1_sig c0 a = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : class, contains x0 (f x0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">f0</span> : A -&gt; bool,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, f0 x0 = h f0 x0) /\
(<span class="kr">forall</span> <span class="nv">g</span> : A -&gt; bool,
 (<span class="kr">forall</span> <span class="nv">x0</span> : A, f0 x0 = g x0) -&gt; h f0 = h g)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hisclass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : A, isclass (h (class_of a))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
exist isclass (h (class_of a)) (Hisclass a)
:
class</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; class</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, class_of x x0 = h (class_of x) x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Huniqx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">g</span> : A -&gt; bool,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, class_of x x0 = g x0) -&gt;
h (class_of x) = h g</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">R x (f (f&#39; x))</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk25c" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">SetoidFunRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalFunctionRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EM</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExcludedMiddle</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : <span class="kt">Prop</span>, <span class="kr">exists</span> <span class="nv">b</span> : bool, b = true &lt;-&gt; P</span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span> -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : <span class="kt">Prop</span>, c x0 = true &lt;-&gt; x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">class_of</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> <span class="nv">y</span> : A =&gt; c (R a y)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">isclass</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">f0</span> : A -&gt; bool =&gt;
<span class="kr">exists</span> <span class="nv">x0</span> : A, f0 x0 = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{f0 : A -&gt; bool | isclass f0}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">contains</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">c0</span> : class) (<span class="nv">a</span> : A) =&gt;
proj1_sig c0 a = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : class, contains x0 (f x0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">f0</span> : A -&gt; bool,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, f0 x0 = h f0 x0) /\
(<span class="kr">forall</span> <span class="nv">g</span> : A -&gt; bool,
 (<span class="kr">forall</span> <span class="nv">x0</span> : A, f0 x0 = g x0) -&gt; h f0 = h g)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hisclass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : A, isclass (h (class_of a))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
exist isclass (h (class_of a)) (Hisclass a)
:
class</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; class</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, class_of x x0 = h (class_of x) x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Huniqx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">g</span> : A -&gt; bool,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, class_of x x0 = g x0) -&gt;
h (class_of x) = h g</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chk25c"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x&#39;</span> : A, R x x&#39; -&gt; f (f&#39; x) = f (f&#39; x&#39;)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk25d" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk25d"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">SetoidFunRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalFunctionRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EM</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExcludedMiddle</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : <span class="kt">Prop</span>, <span class="kr">exists</span> <span class="nv">b</span> : bool, b = true &lt;-&gt; P</span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span> -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : <span class="kt">Prop</span>, c x0 = true &lt;-&gt; x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">class_of</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> <span class="nv">y</span> : A =&gt; c (R a y)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">isclass</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">f0</span> : A -&gt; bool =&gt;
<span class="kr">exists</span> <span class="nv">x0</span> : A, f0 x0 = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{f0 : A -&gt; bool | isclass f0}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">contains</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">c0</span> : class) (<span class="nv">a</span> : A) =&gt;
proj1_sig c0 a = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : class, contains x0 (f x0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">f0</span> : A -&gt; bool,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, f0 x0 = h f0 x0) /\
(<span class="kr">forall</span> <span class="nv">g</span> : A -&gt; bool,
 (<span class="kr">forall</span> <span class="nv">x0</span> : A, f0 x0 = g x0) -&gt; h f0 = h g)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hisclass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : A, isclass (h (class_of a))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
exist isclass (h (class_of a)) (Hisclass a)
:
class</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; class</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, class_of x x0 = h (class_of x) x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Huniqx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">g</span> : A -&gt; bool,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, class_of x x0 = g x0) -&gt;
h (class_of x) = h g</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">R x (f (f&#39; x))</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk25e" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk25e"><span class="highlight"><span class="nb">specialize</span> Hf <span class="kr">with</span> (f&#39; x).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">SetoidFunRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalFunctionRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EM</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExcludedMiddle</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : <span class="kt">Prop</span>, <span class="kr">exists</span> <span class="nv">b</span> : bool, b = true &lt;-&gt; P</span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span> -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : <span class="kt">Prop</span>, c x0 = true &lt;-&gt; x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">class_of</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> <span class="nv">y</span> : A =&gt; c (R a y)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">isclass</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">f0</span> : A -&gt; bool =&gt;
<span class="kr">exists</span> <span class="nv">x0</span> : A, f0 x0 = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{f0 : A -&gt; bool | isclass f0}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">contains</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">c0</span> : class) (<span class="nv">a</span> : A) =&gt;
proj1_sig c0 a = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hisclass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : A, isclass (h (class_of a))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
exist isclass (h (class_of a)) (Hisclass a)
:
class</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; class</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">contains (f&#39; x) (f (f&#39; x))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">f0</span> : A -&gt; bool,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, f0 x0 = h f0 x0) /\
(<span class="kr">forall</span> <span class="nv">g</span> : A -&gt; bool,
 (<span class="kr">forall</span> <span class="nv">x0</span> : A, f0 x0 = g x0) -&gt; h f0 = h g)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, class_of x x0 = h (class_of x) x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Huniqx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">g</span> : A -&gt; bool,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, class_of x x0 = g x0) -&gt;
h (class_of x) = h g</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">R x (f (f&#39; x))</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk25f" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk25f"><span class="highlight"><span class="nb">unfold</span> contains <span class="kr">in</span> Hf.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">SetoidFunRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalFunctionRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EM</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExcludedMiddle</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : <span class="kt">Prop</span>, <span class="kr">exists</span> <span class="nv">b</span> : bool, b = true &lt;-&gt; P</span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span> -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : <span class="kt">Prop</span>, c x0 = true &lt;-&gt; x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">class_of</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> <span class="nv">y</span> : A =&gt; c (R a y)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">isclass</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">f0</span> : A -&gt; bool =&gt;
<span class="kr">exists</span> <span class="nv">x0</span> : A, f0 x0 = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{f0 : A -&gt; bool | isclass f0}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">contains</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">c0</span> : class) (<span class="nv">a</span> : A) =&gt;
proj1_sig c0 a = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hisclass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : A, isclass (h (class_of a))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
exist isclass (h (class_of a)) (Hisclass a)
:
class</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; class</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">proj1_sig (f&#39; x) (f (f&#39; x)) = true</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">f0</span> : A -&gt; bool,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, f0 x0 = h f0 x0) /\
(<span class="kr">forall</span> <span class="nv">g</span> : A -&gt; bool,
 (<span class="kr">forall</span> <span class="nv">x0</span> : A, f0 x0 = g x0) -&gt; h f0 = h g)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, class_of x x0 = h (class_of x) x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Huniqx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">g</span> : A -&gt; bool,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, class_of x x0 = g x0) -&gt;
h (class_of x) = h g</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">R x (f (f&#39; x))</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk260" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk260"><span class="highlight"><span class="nb">simpl</span> <span class="kr">in</span> Hf.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">SetoidFunRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalFunctionRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EM</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExcludedMiddle</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : <span class="kt">Prop</span>, <span class="kr">exists</span> <span class="nv">b</span> : bool, b = true &lt;-&gt; P</span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span> -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : <span class="kt">Prop</span>, c x0 = true &lt;-&gt; x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">class_of</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> <span class="nv">y</span> : A =&gt; c (R a y)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">isclass</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">f0</span> : A -&gt; bool =&gt;
<span class="kr">exists</span> <span class="nv">x0</span> : A, f0 x0 = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{f0 : A -&gt; bool | isclass f0}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">contains</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">c0</span> : class) (<span class="nv">a</span> : A) =&gt;
proj1_sig c0 a = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hisclass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : A, isclass (h (class_of a))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
exist isclass (h (class_of a)) (Hisclass a)
:
class</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; class</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">h (class_of x) (f (f&#39; x)) = true</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">f0</span> : A -&gt; bool,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, f0 x0 = h f0 x0) /\
(<span class="kr">forall</span> <span class="nv">g</span> : A -&gt; bool,
 (<span class="kr">forall</span> <span class="nv">x0</span> : A, f0 x0 = g x0) -&gt; h f0 = h g)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, class_of x x0 = h (class_of x) x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Huniqx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">g</span> : A -&gt; bool,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, class_of x x0 = g x0) -&gt;
h (class_of x) = h g</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">R x (f (f&#39; x))</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk261" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk261"><span class="highlight"><span class="nb">rewrite</span> &lt;- Hx <span class="kr">in</span> Hf.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">SetoidFunRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalFunctionRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EM</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExcludedMiddle</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : <span class="kt">Prop</span>, <span class="kr">exists</span> <span class="nv">b</span> : bool, b = true &lt;-&gt; P</span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span> -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : <span class="kt">Prop</span>, c x0 = true &lt;-&gt; x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">class_of</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> <span class="nv">y</span> : A =&gt; c (R a y)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">isclass</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">f0</span> : A -&gt; bool =&gt;
<span class="kr">exists</span> <span class="nv">x0</span> : A, f0 x0 = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{f0 : A -&gt; bool | isclass f0}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">contains</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">c0</span> : class) (<span class="nv">a</span> : A) =&gt;
proj1_sig c0 a = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hisclass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : A, isclass (h (class_of a))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
exist isclass (h (class_of a)) (Hisclass a)
:
class</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; class</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class_of x (f (f&#39; x)) = true</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">f0</span> : A -&gt; bool,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, f0 x0 = h f0 x0) /\
(<span class="kr">forall</span> <span class="nv">g</span> : A -&gt; bool,
 (<span class="kr">forall</span> <span class="nv">x0</span> : A, f0 x0 = g x0) -&gt; h f0 = h g)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, class_of x x0 = h (class_of x) x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Huniqx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">g</span> : A -&gt; bool,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, class_of x x0 = g x0) -&gt;
h (class_of x) = h g</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">R x (f (f&#39; x))</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk262" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk262"><span class="highlight"><span class="nb">apply</span> Hc.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">SetoidFunRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalFunctionRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EM</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExcludedMiddle</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : <span class="kt">Prop</span>, <span class="kr">exists</span> <span class="nv">b</span> : bool, b = true &lt;-&gt; P</span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span> -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : <span class="kt">Prop</span>, c x0 = true &lt;-&gt; x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">class_of</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> <span class="nv">y</span> : A =&gt; c (R a y)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">isclass</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">f0</span> : A -&gt; bool =&gt;
<span class="kr">exists</span> <span class="nv">x0</span> : A, f0 x0 = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{f0 : A -&gt; bool | isclass f0}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">contains</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">c0</span> : class) (<span class="nv">a</span> : A) =&gt;
proj1_sig c0 a = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hisclass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : A, isclass (h (class_of a))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
exist isclass (h (class_of a)) (Hisclass a)
:
class</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; class</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class_of x (f (f&#39; x)) = true</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">f0</span> : A -&gt; bool,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, f0 x0 = h f0 x0) /\
(<span class="kr">forall</span> <span class="nv">g</span> : A -&gt; bool,
 (<span class="kr">forall</span> <span class="nv">x0</span> : A, f0 x0 = g x0) -&gt; h f0 = h g)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, class_of x x0 = h (class_of x) x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Huniqx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">g</span> : A -&gt; bool,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, class_of x x0 = g x0) -&gt;
h (class_of x) = h g</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">c (R x (f (f&#39; x))) = true</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">assumption</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk263" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk263"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">SetoidFunRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalFunctionRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EM</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExcludedMiddle</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : <span class="kt">Prop</span>, <span class="kr">exists</span> <span class="nv">b</span> : bool, b = true &lt;-&gt; P</span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span> -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : <span class="kt">Prop</span>, c x0 = true &lt;-&gt; x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">class_of</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> <span class="nv">y</span> : A =&gt; c (R a y)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">isclass</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">f0</span> : A -&gt; bool =&gt;
<span class="kr">exists</span> <span class="nv">x0</span> : A, f0 x0 = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{f0 : A -&gt; bool | isclass f0}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">contains</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">c0</span> : class) (<span class="nv">a</span> : A) =&gt;
proj1_sig c0 a = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : class, contains x0 (f x0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">f0</span> : A -&gt; bool,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, f0 x0 = h f0 x0) /\
(<span class="kr">forall</span> <span class="nv">g</span> : A -&gt; bool,
 (<span class="kr">forall</span> <span class="nv">x0</span> : A, f0 x0 = g x0) -&gt; h f0 = h g)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hisclass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : A, isclass (h (class_of a))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
exist isclass (h (class_of a)) (Hisclass a)
:
class</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; class</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, class_of x x0 = h (class_of x) x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Huniqx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">g</span> : A -&gt; bool,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, class_of x x0 = g x0) -&gt;
h (class_of x) = h g</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x&#39;</span> : A, R x x&#39; -&gt; f (f&#39; x) = f (f&#39; x&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk264" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk264"><span class="highlight"><span class="nb">intros</span> y Hxy.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">SetoidFunRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalFunctionRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EM</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExcludedMiddle</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : <span class="kt">Prop</span>, <span class="kr">exists</span> <span class="nv">b</span> : bool, b = true &lt;-&gt; P</span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span> -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : <span class="kt">Prop</span>, c x0 = true &lt;-&gt; x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">class_of</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> <span class="nv">y0</span> : A =&gt; c (R a y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">isclass</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">f0</span> : A -&gt; bool =&gt;
<span class="kr">exists</span> <span class="nv">x0</span> : A, f0 x0 = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{f0 : A -&gt; bool | isclass f0}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">contains</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">c0</span> : class) (<span class="nv">a</span> : A) =&gt;
proj1_sig c0 a = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : class, contains x0 (f x0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">f0</span> : A -&gt; bool,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, f0 x0 = h f0 x0) /\
(<span class="kr">forall</span> <span class="nv">g</span> : A -&gt; bool,
 (<span class="kr">forall</span> <span class="nv">x0</span> : A, f0 x0 = g x0) -&gt; h f0 = h g)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hisclass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : A, isclass (h (class_of a))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
exist isclass (h (class_of a)) (Hisclass a)
:
class</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; class</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, class_of x x0 = h (class_of x) x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Huniqx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">g</span> : A -&gt; bool,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, class_of x x0 = g x0) -&gt;
h (class_of x) = h g</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hxy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R x y</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">f (f&#39; x) = f (f&#39; y)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">       </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk265" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk265"><span class="highlight"><span class="nb">f_equal</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">SetoidFunRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalFunctionRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EM</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExcludedMiddle</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : <span class="kt">Prop</span>, <span class="kr">exists</span> <span class="nv">b</span> : bool, b = true &lt;-&gt; P</span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span> -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : <span class="kt">Prop</span>, c x0 = true &lt;-&gt; x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">class_of</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> <span class="nv">y0</span> : A =&gt; c (R a y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">isclass</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">f0</span> : A -&gt; bool =&gt;
<span class="kr">exists</span> <span class="nv">x0</span> : A, f0 x0 = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{f0 : A -&gt; bool | isclass f0}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">contains</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">c0</span> : class) (<span class="nv">a</span> : A) =&gt;
proj1_sig c0 a = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : class, contains x0 (f x0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">f0</span> : A -&gt; bool,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, f0 x0 = h f0 x0) /\
(<span class="kr">forall</span> <span class="nv">g</span> : A -&gt; bool,
 (<span class="kr">forall</span> <span class="nv">x0</span> : A, f0 x0 = g x0) -&gt; h f0 = h g)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hisclass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : A, isclass (h (class_of a))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
exist isclass (h (class_of a)) (Hisclass a)
:
class</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; class</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, class_of x x0 = h (class_of x) x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Huniqx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">g</span> : A -&gt; bool,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, class_of x x0 = g x0) -&gt;
h (class_of x) = h g</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hxy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R x y</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">f&#39; x = f&#39; y</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">       </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk266" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk266"><span class="highlight"><span class="nb">assert</span> (Heq1: h (class_of x) = h (class_of y)).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">SetoidFunRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalFunctionRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EM</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExcludedMiddle</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : <span class="kt">Prop</span>, <span class="kr">exists</span> <span class="nv">b</span> : bool, b = true &lt;-&gt; P</span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span> -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : <span class="kt">Prop</span>, c x0 = true &lt;-&gt; x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">class_of</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> <span class="nv">y0</span> : A =&gt; c (R a y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">isclass</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">f0</span> : A -&gt; bool =&gt;
<span class="kr">exists</span> <span class="nv">x0</span> : A, f0 x0 = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{f0 : A -&gt; bool | isclass f0}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">contains</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">c0</span> : class) (<span class="nv">a</span> : A) =&gt;
proj1_sig c0 a = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : class, contains x0 (f x0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">f0</span> : A -&gt; bool,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, f0 x0 = h f0 x0) /\
(<span class="kr">forall</span> <span class="nv">g</span> : A -&gt; bool,
 (<span class="kr">forall</span> <span class="nv">x0</span> : A, f0 x0 = g x0) -&gt; h f0 = h g)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hisclass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : A, isclass (h (class_of a))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
exist isclass (h (class_of a)) (Hisclass a)
:
class</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; class</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, class_of x x0 = h (class_of x) x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Huniqx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">g</span> : A -&gt; bool,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, class_of x x0 = g x0) -&gt;
h (class_of x) = h g</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hxy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R x y</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">h (class_of x) = h (class_of y)</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk267" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">SetoidFunRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalFunctionRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EM</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExcludedMiddle</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : <span class="kt">Prop</span>, <span class="kr">exists</span> <span class="nv">b</span> : bool, b = true &lt;-&gt; P</span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span> -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : <span class="kt">Prop</span>, c x0 = true &lt;-&gt; x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">class_of</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> <span class="nv">y0</span> : A =&gt; c (R a y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">isclass</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">f0</span> : A -&gt; bool =&gt;
<span class="kr">exists</span> <span class="nv">x0</span> : A, f0 x0 = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{f0 : A -&gt; bool | isclass f0}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">contains</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">c0</span> : class) (<span class="nv">a</span> : A) =&gt;
proj1_sig c0 a = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : class, contains x0 (f x0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">f0</span> : A -&gt; bool,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, f0 x0 = h f0 x0) /\
(<span class="kr">forall</span> <span class="nv">g</span> : A -&gt; bool,
 (<span class="kr">forall</span> <span class="nv">x0</span> : A, f0 x0 = g x0) -&gt; h f0 = h g)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hisclass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : A, isclass (h (class_of a))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
exist isclass (h (class_of a)) (Hisclass a)
:
class</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; class</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, class_of x x0 = h (class_of x) x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Huniqx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">g</span> : A -&gt; bool,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, class_of x x0 = g x0) -&gt;
h (class_of x) = h g</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hxy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">h (class_of x) = h (class_of y)</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chk267"><hr></label><div class="goal-conclusion"><span class="highlight">f&#39; x = f&#39; y</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">       </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk268" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk268"><span class="highlight">{</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">SetoidFunRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalFunctionRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EM</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExcludedMiddle</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : <span class="kt">Prop</span>, <span class="kr">exists</span> <span class="nv">b</span> : bool, b = true &lt;-&gt; P</span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span> -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : <span class="kt">Prop</span>, c x0 = true &lt;-&gt; x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">class_of</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> <span class="nv">y0</span> : A =&gt; c (R a y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">isclass</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">f0</span> : A -&gt; bool =&gt;
<span class="kr">exists</span> <span class="nv">x0</span> : A, f0 x0 = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{f0 : A -&gt; bool | isclass f0}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">contains</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">c0</span> : class) (<span class="nv">a</span> : A) =&gt;
proj1_sig c0 a = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : class, contains x0 (f x0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">f0</span> : A -&gt; bool,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, f0 x0 = h f0 x0) /\
(<span class="kr">forall</span> <span class="nv">g</span> : A -&gt; bool,
 (<span class="kr">forall</span> <span class="nv">x0</span> : A, f0 x0 = g x0) -&gt; h f0 = h g)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hisclass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : A, isclass (h (class_of a))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
exist isclass (h (class_of a)) (Hisclass a)
:
class</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; class</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, class_of x x0 = h (class_of x) x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Huniqx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">g</span> : A -&gt; bool,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, class_of x x0 = g x0) -&gt;
h (class_of x) = h g</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hxy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R x y</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">h (class_of x) = h (class_of y)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk269" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk269"><span class="highlight"><span class="nb">apply</span> Huniqx.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">SetoidFunRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalFunctionRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EM</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExcludedMiddle</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : <span class="kt">Prop</span>, <span class="kr">exists</span> <span class="nv">b</span> : bool, b = true &lt;-&gt; P</span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span> -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : <span class="kt">Prop</span>, c x0 = true &lt;-&gt; x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">class_of</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> <span class="nv">y0</span> : A =&gt; c (R a y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">isclass</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">f0</span> : A -&gt; bool =&gt;
<span class="kr">exists</span> <span class="nv">x0</span> : A, f0 x0 = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{f0 : A -&gt; bool | isclass f0}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">contains</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">c0</span> : class) (<span class="nv">a</span> : A) =&gt;
proj1_sig c0 a = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : class, contains x0 (f x0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">f0</span> : A -&gt; bool,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, f0 x0 = h f0 x0) /\
(<span class="kr">forall</span> <span class="nv">g</span> : A -&gt; bool,
 (<span class="kr">forall</span> <span class="nv">x0</span> : A, f0 x0 = g x0) -&gt; h f0 = h g)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hisclass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : A, isclass (h (class_of a))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
exist isclass (h (class_of a)) (Hisclass a)
:
class</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; class</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, class_of x x0 = h (class_of x) x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Huniqx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">g</span> : A -&gt; bool,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, class_of x x0 = g x0) -&gt;
h (class_of x) = h g</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hxy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R x y</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, class_of x x0 = class_of y x0</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk26a" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk26a"><span class="highlight"><span class="nb">intro</span> z.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">SetoidFunRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalFunctionRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EM</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExcludedMiddle</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : <span class="kt">Prop</span>, <span class="kr">exists</span> <span class="nv">b</span> : bool, b = true &lt;-&gt; P</span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span> -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : <span class="kt">Prop</span>, c x0 = true &lt;-&gt; x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">class_of</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> <span class="nv">y0</span> : A =&gt; c (R a y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">isclass</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">f0</span> : A -&gt; bool =&gt;
<span class="kr">exists</span> <span class="nv">x0</span> : A, f0 x0 = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{f0 : A -&gt; bool | isclass f0}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">contains</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">c0</span> : class) (<span class="nv">a</span> : A) =&gt;
proj1_sig c0 a = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : class, contains x0 (f x0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">f0</span> : A -&gt; bool,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, f0 x0 = h f0 x0) /\
(<span class="kr">forall</span> <span class="nv">g</span> : A -&gt; bool,
 (<span class="kr">forall</span> <span class="nv">x0</span> : A, f0 x0 = g x0) -&gt; h f0 = h g)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hisclass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : A, isclass (h (class_of a))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
exist isclass (h (class_of a)) (Hisclass a)
:
class</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; class</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, class_of x x0 = h (class_of x) x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Huniqx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">g</span> : A -&gt; bool,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, class_of x x0 = g x0) -&gt;
h (class_of x) = h g</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hxy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">z</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">class_of x z = class_of y z</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk26b" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk26b"><span class="highlight"><span class="nb">unfold</span> class_of.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">SetoidFunRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalFunctionRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EM</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExcludedMiddle</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : <span class="kt">Prop</span>, <span class="kr">exists</span> <span class="nv">b</span> : bool, b = true &lt;-&gt; P</span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span> -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : <span class="kt">Prop</span>, c x0 = true &lt;-&gt; x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">class_of</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> <span class="nv">y0</span> : A =&gt; c (R a y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">isclass</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">f0</span> : A -&gt; bool =&gt;
<span class="kr">exists</span> <span class="nv">x0</span> : A, f0 x0 = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{f0 : A -&gt; bool | isclass f0}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">contains</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">c0</span> : class) (<span class="nv">a</span> : A) =&gt;
proj1_sig c0 a = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : class, contains x0 (f x0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">f0</span> : A -&gt; bool,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, f0 x0 = h f0 x0) /\
(<span class="kr">forall</span> <span class="nv">g</span> : A -&gt; bool,
 (<span class="kr">forall</span> <span class="nv">x0</span> : A, f0 x0 = g x0) -&gt; h f0 = h g)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hisclass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : A, isclass (h (class_of a))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
exist isclass (h (class_of a)) (Hisclass a)
:
class</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; class</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, class_of x x0 = h (class_of x) x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Huniqx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">g</span> : A -&gt; bool,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, class_of x x0 = g x0) -&gt;
h (class_of x) = h g</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hxy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">z</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">c (R x z) = c (R y z)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">         </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk26c" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk26c"><span class="highlight"><span class="nb">destruct</span> (c (R x z)) <span class="nb">eqn</span>:Hxz.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">SetoidFunRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalFunctionRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EM</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExcludedMiddle</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : <span class="kt">Prop</span>, <span class="kr">exists</span> <span class="nv">b</span> : bool, b = true &lt;-&gt; P</span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span> -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : <span class="kt">Prop</span>, c x0 = true &lt;-&gt; x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">class_of</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> <span class="nv">y0</span> : A =&gt; c (R a y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">isclass</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">f0</span> : A -&gt; bool =&gt;
<span class="kr">exists</span> <span class="nv">x0</span> : A, f0 x0 = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{f0 : A -&gt; bool | isclass f0}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">contains</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">c0</span> : class) (<span class="nv">a</span> : A) =&gt;
proj1_sig c0 a = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : class, contains x0 (f x0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">f0</span> : A -&gt; bool,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, f0 x0 = h f0 x0) /\
(<span class="kr">forall</span> <span class="nv">g</span> : A -&gt; bool,
 (<span class="kr">forall</span> <span class="nv">x0</span> : A, f0 x0 = g x0) -&gt; h f0 = h g)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hisclass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : A, isclass (h (class_of a))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
exist isclass (h (class_of a)) (Hisclass a)
:
class</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; class</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, class_of x x0 = h (class_of x) x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Huniqx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">g</span> : A -&gt; bool,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, class_of x x0 = g x0) -&gt;
h (class_of x) = h g</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hxy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">z</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hxz</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">c (R x z) = true</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">true = c (R y z)</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk26d" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">SetoidFunRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalFunctionRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EM</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExcludedMiddle</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : <span class="kt">Prop</span>, <span class="kr">exists</span> <span class="nv">b</span> : bool, b = true &lt;-&gt; P</span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span> -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : <span class="kt">Prop</span>, c x0 = true &lt;-&gt; x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">class_of</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> <span class="nv">y0</span> : A =&gt; c (R a y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">isclass</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">f0</span> : A -&gt; bool =&gt;
<span class="kr">exists</span> <span class="nv">x0</span> : A, f0 x0 = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{f0 : A -&gt; bool | isclass f0}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">contains</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">c0</span> : class) (<span class="nv">a</span> : A) =&gt;
proj1_sig c0 a = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : class, contains x0 (f x0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">f0</span> : A -&gt; bool,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, f0 x0 = h f0 x0) /\
(<span class="kr">forall</span> <span class="nv">g</span> : A -&gt; bool,
 (<span class="kr">forall</span> <span class="nv">x0</span> : A, f0 x0 = g x0) -&gt; h f0 = h g)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hisclass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : A, isclass (h (class_of a))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
exist isclass (h (class_of a)) (Hisclass a)
:
class</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; class</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, class_of x x0 = h (class_of x) x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Huniqx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">g</span> : A -&gt; bool,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, class_of x x0 = g x0) -&gt;
h (class_of x) = h g</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hxy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">z</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hxz</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">c (R x z) = false</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chk26d"><hr></label><div class="goal-conclusion"><span class="highlight">false = c (R y z)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">         </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk26e" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk26e"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">SetoidFunRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalFunctionRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EM</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExcludedMiddle</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : <span class="kt">Prop</span>, <span class="kr">exists</span> <span class="nv">b</span> : bool, b = true &lt;-&gt; P</span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span> -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : <span class="kt">Prop</span>, c x0 = true &lt;-&gt; x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">class_of</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> <span class="nv">y0</span> : A =&gt; c (R a y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">isclass</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">f0</span> : A -&gt; bool =&gt;
<span class="kr">exists</span> <span class="nv">x0</span> : A, f0 x0 = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{f0 : A -&gt; bool | isclass f0}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">contains</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">c0</span> : class) (<span class="nv">a</span> : A) =&gt;
proj1_sig c0 a = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : class, contains x0 (f x0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">f0</span> : A -&gt; bool,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, f0 x0 = h f0 x0) /\
(<span class="kr">forall</span> <span class="nv">g</span> : A -&gt; bool,
 (<span class="kr">forall</span> <span class="nv">x0</span> : A, f0 x0 = g x0) -&gt; h f0 = h g)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hisclass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : A, isclass (h (class_of a))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
exist isclass (h (class_of a)) (Hisclass a)
:
class</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; class</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, class_of x x0 = h (class_of x) x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Huniqx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">g</span> : A -&gt; bool,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, class_of x x0 = g x0) -&gt;
h (class_of x) = h g</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hxy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">z</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hxz</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">c (R x z) = true</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">true = c (R y z)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk26f" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk26f"><span class="highlight"><span class="nb">symmetry</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">SetoidFunRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalFunctionRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EM</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExcludedMiddle</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : <span class="kt">Prop</span>, <span class="kr">exists</span> <span class="nv">b</span> : bool, b = true &lt;-&gt; P</span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span> -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : <span class="kt">Prop</span>, c x0 = true &lt;-&gt; x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">class_of</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> <span class="nv">y0</span> : A =&gt; c (R a y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">isclass</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">f0</span> : A -&gt; bool =&gt;
<span class="kr">exists</span> <span class="nv">x0</span> : A, f0 x0 = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{f0 : A -&gt; bool | isclass f0}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">contains</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">c0</span> : class) (<span class="nv">a</span> : A) =&gt;
proj1_sig c0 a = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : class, contains x0 (f x0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">f0</span> : A -&gt; bool,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, f0 x0 = h f0 x0) /\
(<span class="kr">forall</span> <span class="nv">g</span> : A -&gt; bool,
 (<span class="kr">forall</span> <span class="nv">x0</span> : A, f0 x0 = g x0) -&gt; h f0 = h g)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hisclass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : A, isclass (h (class_of a))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
exist isclass (h (class_of a)) (Hisclass a)
:
class</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; class</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, class_of x x0 = h (class_of x) x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Huniqx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">g</span> : A -&gt; bool,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, class_of x x0 = g x0) -&gt;
h (class_of x) = h g</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hxy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">z</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hxz</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">c (R x z) = true</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">c (R y z) = true</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk270" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk270"><span class="highlight"><span class="nb">apply</span> Hc.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">SetoidFunRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalFunctionRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EM</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExcludedMiddle</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : <span class="kt">Prop</span>, <span class="kr">exists</span> <span class="nv">b</span> : bool, b = true &lt;-&gt; P</span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span> -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : <span class="kt">Prop</span>, c x0 = true &lt;-&gt; x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">class_of</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> <span class="nv">y0</span> : A =&gt; c (R a y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">isclass</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">f0</span> : A -&gt; bool =&gt;
<span class="kr">exists</span> <span class="nv">x0</span> : A, f0 x0 = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{f0 : A -&gt; bool | isclass f0}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">contains</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">c0</span> : class) (<span class="nv">a</span> : A) =&gt;
proj1_sig c0 a = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : class, contains x0 (f x0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">f0</span> : A -&gt; bool,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, f0 x0 = h f0 x0) /\
(<span class="kr">forall</span> <span class="nv">g</span> : A -&gt; bool,
 (<span class="kr">forall</span> <span class="nv">x0</span> : A, f0 x0 = g x0) -&gt; h f0 = h g)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hisclass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : A, isclass (h (class_of a))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
exist isclass (h (class_of a)) (Hisclass a)
:
class</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; class</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, class_of x x0 = h (class_of x) x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Huniqx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">g</span> : A -&gt; bool,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, class_of x x0 = g x0) -&gt;
h (class_of x) = h g</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hxy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">z</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hxz</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">c (R x z) = true</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">R y z</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk271" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk271"><span class="highlight"><span class="nb">apply</span> -&gt; Hc <span class="kr">in</span> Hxz.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">SetoidFunRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalFunctionRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EM</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExcludedMiddle</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : <span class="kt">Prop</span>, <span class="kr">exists</span> <span class="nv">b</span> : bool, b = true &lt;-&gt; P</span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span> -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : <span class="kt">Prop</span>, c x0 = true &lt;-&gt; x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">class_of</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> <span class="nv">y0</span> : A =&gt; c (R a y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">isclass</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">f0</span> : A -&gt; bool =&gt;
<span class="kr">exists</span> <span class="nv">x0</span> : A, f0 x0 = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{f0 : A -&gt; bool | isclass f0}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">contains</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">c0</span> : class) (<span class="nv">a</span> : A) =&gt;
proj1_sig c0 a = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : class, contains x0 (f x0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">f0</span> : A -&gt; bool,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, f0 x0 = h f0 x0) /\
(<span class="kr">forall</span> <span class="nv">g</span> : A -&gt; bool,
 (<span class="kr">forall</span> <span class="nv">x0</span> : A, f0 x0 = g x0) -&gt; h f0 = h g)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hisclass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : A, isclass (h (class_of a))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
exist isclass (h (class_of a)) (Hisclass a)
:
class</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; class</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, class_of x x0 = h (class_of x) x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Huniqx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">g</span> : A -&gt; bool,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, class_of x x0 = g x0) -&gt;
h (class_of x) = h g</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hxy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">z</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hxz</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R x z</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">R y z</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">firstorder</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">         </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk272" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk272"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">SetoidFunRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalFunctionRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EM</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExcludedMiddle</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : <span class="kt">Prop</span>, <span class="kr">exists</span> <span class="nv">b</span> : bool, b = true &lt;-&gt; P</span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span> -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : <span class="kt">Prop</span>, c x0 = true &lt;-&gt; x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">class_of</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> <span class="nv">y0</span> : A =&gt; c (R a y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">isclass</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">f0</span> : A -&gt; bool =&gt;
<span class="kr">exists</span> <span class="nv">x0</span> : A, f0 x0 = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{f0 : A -&gt; bool | isclass f0}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">contains</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">c0</span> : class) (<span class="nv">a</span> : A) =&gt;
proj1_sig c0 a = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : class, contains x0 (f x0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">f0</span> : A -&gt; bool,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, f0 x0 = h f0 x0) /\
(<span class="kr">forall</span> <span class="nv">g</span> : A -&gt; bool,
 (<span class="kr">forall</span> <span class="nv">x0</span> : A, f0 x0 = g x0) -&gt; h f0 = h g)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hisclass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : A, isclass (h (class_of a))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
exist isclass (h (class_of a)) (Hisclass a)
:
class</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; class</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, class_of x x0 = h (class_of x) x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Huniqx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">g</span> : A -&gt; bool,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, class_of x x0 = g x0) -&gt;
h (class_of x) = h g</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hxy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">z</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hxz</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">c (R x z) = false</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">false = c (R y z)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk273" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk273"><span class="highlight"><span class="nb">destruct</span> (c (R y z)) <span class="nb">eqn</span>:Hyz.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">SetoidFunRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalFunctionRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EM</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExcludedMiddle</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : <span class="kt">Prop</span>, <span class="kr">exists</span> <span class="nv">b</span> : bool, b = true &lt;-&gt; P</span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span> -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : <span class="kt">Prop</span>, c x0 = true &lt;-&gt; x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">class_of</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> <span class="nv">y0</span> : A =&gt; c (R a y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">isclass</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">f0</span> : A -&gt; bool =&gt;
<span class="kr">exists</span> <span class="nv">x0</span> : A, f0 x0 = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{f0 : A -&gt; bool | isclass f0}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">contains</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">c0</span> : class) (<span class="nv">a</span> : A) =&gt;
proj1_sig c0 a = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : class, contains x0 (f x0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">f0</span> : A -&gt; bool,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, f0 x0 = h f0 x0) /\
(<span class="kr">forall</span> <span class="nv">g</span> : A -&gt; bool,
 (<span class="kr">forall</span> <span class="nv">x0</span> : A, f0 x0 = g x0) -&gt; h f0 = h g)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hisclass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : A, isclass (h (class_of a))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
exist isclass (h (class_of a)) (Hisclass a)
:
class</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; class</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, class_of x x0 = h (class_of x) x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Huniqx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">g</span> : A -&gt; bool,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, class_of x x0 = g x0) -&gt;
h (class_of x) = h g</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hxy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">z</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hxz</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">c (R x z) = false</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hyz</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">c (R y z) = true</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">false = true</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk274" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">SetoidFunRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalFunctionRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EM</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExcludedMiddle</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : <span class="kt">Prop</span>, <span class="kr">exists</span> <span class="nv">b</span> : bool, b = true &lt;-&gt; P</span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span> -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : <span class="kt">Prop</span>, c x0 = true &lt;-&gt; x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">class_of</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> <span class="nv">y0</span> : A =&gt; c (R a y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">isclass</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">f0</span> : A -&gt; bool =&gt;
<span class="kr">exists</span> <span class="nv">x0</span> : A, f0 x0 = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{f0 : A -&gt; bool | isclass f0}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">contains</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">c0</span> : class) (<span class="nv">a</span> : A) =&gt;
proj1_sig c0 a = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : class, contains x0 (f x0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">f0</span> : A -&gt; bool,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, f0 x0 = h f0 x0) /\
(<span class="kr">forall</span> <span class="nv">g</span> : A -&gt; bool,
 (<span class="kr">forall</span> <span class="nv">x0</span> : A, f0 x0 = g x0) -&gt; h f0 = h g)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hisclass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : A, isclass (h (class_of a))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
exist isclass (h (class_of a)) (Hisclass a)
:
class</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; class</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, class_of x x0 = h (class_of x) x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Huniqx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">g</span> : A -&gt; bool,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, class_of x x0 = g x0) -&gt;
h (class_of x) = h g</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hxy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">z</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hxz</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">c (R x z) = false</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hyz</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">c (R y z) = false</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chk274"><hr></label><div class="goal-conclusion"><span class="highlight">false = false</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">           </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk275" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk275"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">SetoidFunRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalFunctionRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EM</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExcludedMiddle</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : <span class="kt">Prop</span>, <span class="kr">exists</span> <span class="nv">b</span> : bool, b = true &lt;-&gt; P</span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span> -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : <span class="kt">Prop</span>, c x0 = true &lt;-&gt; x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">class_of</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> <span class="nv">y0</span> : A =&gt; c (R a y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">isclass</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">f0</span> : A -&gt; bool =&gt;
<span class="kr">exists</span> <span class="nv">x0</span> : A, f0 x0 = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{f0 : A -&gt; bool | isclass f0}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">contains</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">c0</span> : class) (<span class="nv">a</span> : A) =&gt;
proj1_sig c0 a = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : class, contains x0 (f x0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">f0</span> : A -&gt; bool,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, f0 x0 = h f0 x0) /\
(<span class="kr">forall</span> <span class="nv">g</span> : A -&gt; bool,
 (<span class="kr">forall</span> <span class="nv">x0</span> : A, f0 x0 = g x0) -&gt; h f0 = h g)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hisclass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : A, isclass (h (class_of a))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
exist isclass (h (class_of a)) (Hisclass a)
:
class</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; class</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, class_of x x0 = h (class_of x) x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Huniqx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">g</span> : A -&gt; bool,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, class_of x x0 = g x0) -&gt;
h (class_of x) = h g</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hxy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">z</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hxz</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">c (R x z) = false</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hyz</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">c (R y z) = true</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">false = true</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk276" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk276"><span class="highlight"><span class="nb">apply</span> -&gt; Hc <span class="kr">in</span> Hyz.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">SetoidFunRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalFunctionRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EM</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExcludedMiddle</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : <span class="kt">Prop</span>, <span class="kr">exists</span> <span class="nv">b</span> : bool, b = true &lt;-&gt; P</span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span> -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : <span class="kt">Prop</span>, c x0 = true &lt;-&gt; x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">class_of</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> <span class="nv">y0</span> : A =&gt; c (R a y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">isclass</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">f0</span> : A -&gt; bool =&gt;
<span class="kr">exists</span> <span class="nv">x0</span> : A, f0 x0 = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{f0 : A -&gt; bool | isclass f0}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">contains</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">c0</span> : class) (<span class="nv">a</span> : A) =&gt;
proj1_sig c0 a = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : class, contains x0 (f x0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">f0</span> : A -&gt; bool,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, f0 x0 = h f0 x0) /\
(<span class="kr">forall</span> <span class="nv">g</span> : A -&gt; bool,
 (<span class="kr">forall</span> <span class="nv">x0</span> : A, f0 x0 = g x0) -&gt; h f0 = h g)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hisclass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : A, isclass (h (class_of a))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
exist isclass (h (class_of a)) (Hisclass a)
:
class</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; class</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, class_of x x0 = h (class_of x) x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Huniqx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">g</span> : A -&gt; bool,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, class_of x x0 = g x0) -&gt;
h (class_of x) = h g</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hxy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">z</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hxz</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">c (R x z) = false</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hyz</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R y z</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">false = true</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk277" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk277"><span class="highlight"><span class="nb">rewrite</span> &lt;- Hxz.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">SetoidFunRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalFunctionRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EM</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExcludedMiddle</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : <span class="kt">Prop</span>, <span class="kr">exists</span> <span class="nv">b</span> : bool, b = true &lt;-&gt; P</span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span> -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : <span class="kt">Prop</span>, c x0 = true &lt;-&gt; x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">class_of</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> <span class="nv">y0</span> : A =&gt; c (R a y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">isclass</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">f0</span> : A -&gt; bool =&gt;
<span class="kr">exists</span> <span class="nv">x0</span> : A, f0 x0 = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{f0 : A -&gt; bool | isclass f0}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">contains</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">c0</span> : class) (<span class="nv">a</span> : A) =&gt;
proj1_sig c0 a = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : class, contains x0 (f x0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">f0</span> : A -&gt; bool,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, f0 x0 = h f0 x0) /\
(<span class="kr">forall</span> <span class="nv">g</span> : A -&gt; bool,
 (<span class="kr">forall</span> <span class="nv">x0</span> : A, f0 x0 = g x0) -&gt; h f0 = h g)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hisclass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : A, isclass (h (class_of a))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
exist isclass (h (class_of a)) (Hisclass a)
:
class</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; class</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, class_of x x0 = h (class_of x) x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Huniqx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">g</span> : A -&gt; bool,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, class_of x x0 = g x0) -&gt;
h (class_of x) = h g</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hxy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">z</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hxz</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">c (R x z) = false</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hyz</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R y z</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">c (R x z) = true</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk278" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk278"><span class="highlight"><span class="nb">apply</span> Hc.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">SetoidFunRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalFunctionRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EM</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExcludedMiddle</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : <span class="kt">Prop</span>, <span class="kr">exists</span> <span class="nv">b</span> : bool, b = true &lt;-&gt; P</span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span> -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : <span class="kt">Prop</span>, c x0 = true &lt;-&gt; x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">class_of</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> <span class="nv">y0</span> : A =&gt; c (R a y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">isclass</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">f0</span> : A -&gt; bool =&gt;
<span class="kr">exists</span> <span class="nv">x0</span> : A, f0 x0 = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{f0 : A -&gt; bool | isclass f0}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">contains</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">c0</span> : class) (<span class="nv">a</span> : A) =&gt;
proj1_sig c0 a = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : class, contains x0 (f x0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">f0</span> : A -&gt; bool,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, f0 x0 = h f0 x0) /\
(<span class="kr">forall</span> <span class="nv">g</span> : A -&gt; bool,
 (<span class="kr">forall</span> <span class="nv">x0</span> : A, f0 x0 = g x0) -&gt; h f0 = h g)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hisclass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : A, isclass (h (class_of a))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
exist isclass (h (class_of a)) (Hisclass a)
:
class</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; class</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, class_of x x0 = h (class_of x) x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Huniqx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">g</span> : A -&gt; bool,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, class_of x x0 = g x0) -&gt;
h (class_of x) = h g</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hxy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">z</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hxz</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">c (R x z) = false</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hyz</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R y z</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">R x z</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">firstorder</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">           </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk279" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk279"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">SetoidFunRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalFunctionRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EM</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExcludedMiddle</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : <span class="kt">Prop</span>, <span class="kr">exists</span> <span class="nv">b</span> : bool, b = true &lt;-&gt; P</span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span> -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : <span class="kt">Prop</span>, c x0 = true &lt;-&gt; x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">class_of</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> <span class="nv">y0</span> : A =&gt; c (R a y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">isclass</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">f0</span> : A -&gt; bool =&gt;
<span class="kr">exists</span> <span class="nv">x0</span> : A, f0 x0 = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{f0 : A -&gt; bool | isclass f0}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">contains</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">c0</span> : class) (<span class="nv">a</span> : A) =&gt;
proj1_sig c0 a = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : class, contains x0 (f x0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">f0</span> : A -&gt; bool,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, f0 x0 = h f0 x0) /\
(<span class="kr">forall</span> <span class="nv">g</span> : A -&gt; bool,
 (<span class="kr">forall</span> <span class="nv">x0</span> : A, f0 x0 = g x0) -&gt; h f0 = h g)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hisclass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : A, isclass (h (class_of a))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
exist isclass (h (class_of a)) (Hisclass a)
:
class</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; class</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, class_of x x0 = h (class_of x) x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Huniqx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">g</span> : A -&gt; bool,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, class_of x x0 = g x0) -&gt;
h (class_of x) = h g</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hxy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">z</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hxz</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">c (R x z) = false</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hyz</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">c (R y z) = false</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">false = false</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">easy</span>.</span></span><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk27a" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk27a"><span class="highlight">}</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">SetoidFunRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalFunctionRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EM</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExcludedMiddle</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : <span class="kt">Prop</span>, <span class="kr">exists</span> <span class="nv">b</span> : bool, b = true &lt;-&gt; P</span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span> -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : <span class="kt">Prop</span>, c x0 = true &lt;-&gt; x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">class_of</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> <span class="nv">y0</span> : A =&gt; c (R a y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">isclass</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">f0</span> : A -&gt; bool =&gt;
<span class="kr">exists</span> <span class="nv">x0</span> : A, f0 x0 = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{f0 : A -&gt; bool | isclass f0}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">contains</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">c0</span> : class) (<span class="nv">a</span> : A) =&gt;
proj1_sig c0 a = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : class, contains x0 (f x0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">f0</span> : A -&gt; bool,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, f0 x0 = h f0 x0) /\
(<span class="kr">forall</span> <span class="nv">g</span> : A -&gt; bool,
 (<span class="kr">forall</span> <span class="nv">x0</span> : A, f0 x0 = g x0) -&gt; h f0 = h g)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hisclass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : A, isclass (h (class_of a))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
exist isclass (h (class_of a)) (Hisclass a)
:
class</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; class</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, class_of x x0 = h (class_of x) x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Huniqx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">g</span> : A -&gt; bool,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, class_of x x0 = g x0) -&gt;
h (class_of x) = h g</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hxy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">h (class_of x) = h (class_of y)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">f&#39; x = f&#39; y</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">       </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk27b" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk27b"><span class="highlight"><span class="nb">assert</span> (Heq2:rew Heq1 <span class="kr">in</span> Hisclass x = Hisclass y).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">SetoidFunRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalFunctionRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EM</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExcludedMiddle</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : <span class="kt">Prop</span>, <span class="kr">exists</span> <span class="nv">b</span> : bool, b = true &lt;-&gt; P</span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span> -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : <span class="kt">Prop</span>, c x0 = true &lt;-&gt; x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">class_of</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> <span class="nv">y0</span> : A =&gt; c (R a y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">isclass</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">f0</span> : A -&gt; bool =&gt;
<span class="kr">exists</span> <span class="nv">x0</span> : A, f0 x0 = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{f0 : A -&gt; bool | isclass f0}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">contains</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">c0</span> : class) (<span class="nv">a</span> : A) =&gt;
proj1_sig c0 a = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : class, contains x0 (f x0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">f0</span> : A -&gt; bool,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, f0 x0 = h f0 x0) /\
(<span class="kr">forall</span> <span class="nv">g</span> : A -&gt; bool,
 (<span class="kr">forall</span> <span class="nv">x0</span> : A, f0 x0 = g x0) -&gt; h f0 = h g)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hisclass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : A, isclass (h (class_of a))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
exist isclass (h (class_of a)) (Hisclass a)
:
class</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; class</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, class_of x x0 = h (class_of x) x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Huniqx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">g</span> : A -&gt; bool,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, class_of x x0 = g x0) -&gt;
h (class_of x) = h g</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hxy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">h (class_of x) = h (class_of y)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">rew [isclass] Heq1 <span class="kr">in</span> Hisclass x = Hisclass y</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk27c" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">SetoidFunRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalFunctionRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EM</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExcludedMiddle</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : <span class="kt">Prop</span>, <span class="kr">exists</span> <span class="nv">b</span> : bool, b = true &lt;-&gt; P</span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span> -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : <span class="kt">Prop</span>, c x0 = true &lt;-&gt; x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">class_of</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> <span class="nv">y0</span> : A =&gt; c (R a y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">isclass</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">f0</span> : A -&gt; bool =&gt;
<span class="kr">exists</span> <span class="nv">x0</span> : A, f0 x0 = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{f0 : A -&gt; bool | isclass f0}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">contains</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">c0</span> : class) (<span class="nv">a</span> : A) =&gt;
proj1_sig c0 a = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : class, contains x0 (f x0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">f0</span> : A -&gt; bool,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, f0 x0 = h f0 x0) /\
(<span class="kr">forall</span> <span class="nv">g</span> : A -&gt; bool,
 (<span class="kr">forall</span> <span class="nv">x0</span> : A, f0 x0 = g x0) -&gt; h f0 = h g)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hisclass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : A, isclass (h (class_of a))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
exist isclass (h (class_of a)) (Hisclass a)
:
class</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; class</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, class_of x x0 = h (class_of x) x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Huniqx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">g</span> : A -&gt; bool,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, class_of x x0 = g x0) -&gt;
h (class_of x) = h g</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hxy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">h (class_of x) = h (class_of y)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">rew [isclass] Heq1 <span class="kr">in</span> Hisclass x = Hisclass y</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chk27c"><hr></label><div class="goal-conclusion"><span class="highlight">f&#39; x = f&#39; y</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">       </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk27d" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk27d"><span class="highlight">{</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">SetoidFunRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalFunctionRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EM</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExcludedMiddle</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : <span class="kt">Prop</span>, <span class="kr">exists</span> <span class="nv">b</span> : bool, b = true &lt;-&gt; P</span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span> -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : <span class="kt">Prop</span>, c x0 = true &lt;-&gt; x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">class_of</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> <span class="nv">y0</span> : A =&gt; c (R a y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">isclass</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">f0</span> : A -&gt; bool =&gt;
<span class="kr">exists</span> <span class="nv">x0</span> : A, f0 x0 = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{f0 : A -&gt; bool | isclass f0}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">contains</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">c0</span> : class) (<span class="nv">a</span> : A) =&gt;
proj1_sig c0 a = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : class, contains x0 (f x0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">f0</span> : A -&gt; bool,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, f0 x0 = h f0 x0) /\
(<span class="kr">forall</span> <span class="nv">g</span> : A -&gt; bool,
 (<span class="kr">forall</span> <span class="nv">x0</span> : A, f0 x0 = g x0) -&gt; h f0 = h g)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hisclass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : A, isclass (h (class_of a))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
exist isclass (h (class_of a)) (Hisclass a)
:
class</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; class</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, class_of x x0 = h (class_of x) x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Huniqx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">g</span> : A -&gt; bool,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, class_of x x0 = g x0) -&gt;
h (class_of x) = h g</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hxy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">h (class_of x) = h (class_of y)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">rew [isclass] Heq1 <span class="kr">in</span> Hisclass x = Hisclass y</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">apply</span> proof_irrelevance_cci, EM.</span></span><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk27e" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk27e"><span class="highlight">}</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">SetoidFunRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalFunctionRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EM</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExcludedMiddle</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : <span class="kt">Prop</span>, <span class="kr">exists</span> <span class="nv">b</span> : bool, b = true &lt;-&gt; P</span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span> -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : <span class="kt">Prop</span>, c x0 = true &lt;-&gt; x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">class_of</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> <span class="nv">y0</span> : A =&gt; c (R a y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">isclass</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">f0</span> : A -&gt; bool =&gt;
<span class="kr">exists</span> <span class="nv">x0</span> : A, f0 x0 = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{f0 : A -&gt; bool | isclass f0}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">contains</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">c0</span> : class) (<span class="nv">a</span> : A) =&gt;
proj1_sig c0 a = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : class, contains x0 (f x0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">f0</span> : A -&gt; bool,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, f0 x0 = h f0 x0) /\
(<span class="kr">forall</span> <span class="nv">g</span> : A -&gt; bool,
 (<span class="kr">forall</span> <span class="nv">x0</span> : A, f0 x0 = g x0) -&gt; h f0 = h g)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hisclass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : A, isclass (h (class_of a))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
exist isclass (h (class_of a)) (Hisclass a)
:
class</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; class</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, class_of x x0 = h (class_of x) x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Huniqx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">g</span> : A -&gt; bool,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, class_of x x0 = g x0) -&gt;
h (class_of x) = h g</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hxy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">h (class_of x) = h (class_of y)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">rew [isclass] Heq1 <span class="kr">in</span> Hisclass x = Hisclass y</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">f&#39; x = f&#39; y</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">       </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk27f" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk27f"><span class="highlight"><span class="nb">unfold</span> f&#39;.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">SetoidFunRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalFunctionRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EM</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExcludedMiddle</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : <span class="kt">Prop</span>, <span class="kr">exists</span> <span class="nv">b</span> : bool, b = true &lt;-&gt; P</span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span> -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : <span class="kt">Prop</span>, c x0 = true &lt;-&gt; x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">class_of</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> <span class="nv">y0</span> : A =&gt; c (R a y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">isclass</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">f0</span> : A -&gt; bool =&gt;
<span class="kr">exists</span> <span class="nv">x0</span> : A, f0 x0 = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{f0 : A -&gt; bool | isclass f0}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">contains</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">c0</span> : class) (<span class="nv">a</span> : A) =&gt;
proj1_sig c0 a = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : class, contains x0 (f x0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">f0</span> : A -&gt; bool,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, f0 x0 = h f0 x0) /\
(<span class="kr">forall</span> <span class="nv">g</span> : A -&gt; bool,
 (<span class="kr">forall</span> <span class="nv">x0</span> : A, f0 x0 = g x0) -&gt; h f0 = h g)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hisclass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : A, isclass (h (class_of a))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
exist isclass (h (class_of a)) (Hisclass a)
:
class</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; class</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, class_of x x0 = h (class_of x) x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Huniqx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">g</span> : A -&gt; bool,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, class_of x x0 = g x0) -&gt;
h (class_of x) = h g</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hxy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">h (class_of x) = h (class_of y)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">rew [isclass] Heq1 <span class="kr">in</span> Hisclass x = Hisclass y</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">exist isclass (h (class_of x)) (Hisclass x) =
exist isclass (h (class_of y)) (Hisclass y)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">       </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk280" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk280"><span class="highlight"><span class="nb">rewrite</span> &lt;- Heq2.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">SetoidFunRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalFunctionRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EM</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExcludedMiddle</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : <span class="kt">Prop</span>, <span class="kr">exists</span> <span class="nv">b</span> : bool, b = true &lt;-&gt; P</span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span> -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : <span class="kt">Prop</span>, c x0 = true &lt;-&gt; x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">class_of</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> <span class="nv">y0</span> : A =&gt; c (R a y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">isclass</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">f0</span> : A -&gt; bool =&gt;
<span class="kr">exists</span> <span class="nv">x0</span> : A, f0 x0 = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{f0 : A -&gt; bool | isclass f0}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">contains</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">c0</span> : class) (<span class="nv">a</span> : A) =&gt;
proj1_sig c0 a = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : class, contains x0 (f x0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">f0</span> : A -&gt; bool,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, f0 x0 = h f0 x0) /\
(<span class="kr">forall</span> <span class="nv">g</span> : A -&gt; bool,
 (<span class="kr">forall</span> <span class="nv">x0</span> : A, f0 x0 = g x0) -&gt; h f0 = h g)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hisclass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : A, isclass (h (class_of a))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
exist isclass (h (class_of a)) (Hisclass a)
:
class</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; class</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, class_of x x0 = h (class_of x) x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Huniqx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">g</span> : A -&gt; bool,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, class_of x x0 = g x0) -&gt;
h (class_of x) = h g</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hxy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">h (class_of x) = h (class_of y)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">rew [isclass] Heq1 <span class="kr">in</span> Hisclass x = Hisclass y</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">exist isclass (h (class_of x)) (Hisclass x) =
exist isclass (h (class_of y))
  (rew [isclass] Heq1 <span class="kr">in</span> Hisclass x)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">       </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk281" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk281"><span class="highlight"><span class="nb">rewrite</span> &lt;- Heq1.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">SetoidFunRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalFunctionRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EM</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExcludedMiddle</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : <span class="kt">Prop</span>, <span class="kr">exists</span> <span class="nv">b</span> : bool, b = true &lt;-&gt; P</span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Prop</span> -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : <span class="kt">Prop</span>, c x0 = true &lt;-&gt; x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">class_of</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> <span class="nv">y0</span> : A =&gt; c (R a y0)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">isclass</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">f0</span> : A -&gt; bool =&gt;
<span class="kr">exists</span> <span class="nv">x0</span> : A, f0 x0 = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{f0 : A -&gt; bool | isclass f0}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">contains</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">c0</span> : class) (<span class="nv">a</span> : A) =&gt;
proj1_sig c0 a = true</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : class, contains x0 (f x0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; bool) -&gt; A -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">f0</span> : A -&gt; bool,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, f0 x0 = h f0 x0) /\
(<span class="kr">forall</span> <span class="nv">g</span> : A -&gt; bool,
 (<span class="kr">forall</span> <span class="nv">x0</span> : A, f0 x0 = g x0) -&gt; h f0 = h g)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hisclass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : A, isclass (h (class_of a))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
exist isclass (h (class_of a)) (Hisclass a)
:
class</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; class</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, class_of x x0 = h (class_of x) x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Huniqx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">g</span> : A -&gt; bool,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, class_of x x0 = g x0) -&gt;
h (class_of x) = h g</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hxy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">h (class_of x) = h (class_of y)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">rew [isclass] Heq1 <span class="kr">in</span> Hisclass x = Hisclass y</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">exist isclass (h (class_of x)) (Hisclass x) =
exist isclass (h (class_of x))
  (rew [isclass] eq_refl <span class="kr">in</span> Hisclass x)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">       </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">reflexivity</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk282" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk282"><span class="highlight"><span class="kn">Theorem</span> <span class="nf">setoid_functional_choice_first_characterization</span> :
  FunctionalChoice /\ ExtensionalFunctionRepresentative /\ ExcludedMiddle &lt;-&gt; SetoidFunctionalChoice.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">FunctionalChoice /\
ExtensionalFunctionRepresentative /\ ExcludedMiddle &lt;-&gt;
SetoidFunctionalChoice</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk283" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk283"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">FunctionalChoice /\
ExtensionalFunctionRepresentative /\ ExcludedMiddle &lt;-&gt;
SetoidFunctionalChoice</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk284" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk284"><span class="highlight"><span class="nb">split</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">FunctionalChoice /\
ExtensionalFunctionRepresentative /\ ExcludedMiddle -&gt;
SetoidFunctionalChoice</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk285" style="display: none" type="checkbox"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">SetoidFunctionalChoice -&gt;
FunctionalChoice /\
ExtensionalFunctionRepresentative /\ ExcludedMiddle</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk286" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk286"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">FunctionalChoice /\
ExtensionalFunctionRepresentative /\ ExcludedMiddle -&gt;
SetoidFunctionalChoice</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk287" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk287"><span class="highlight"><span class="nb">intros</span> (FunChoice &amp; SetoidFunRepr &amp; EM).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">SetoidFunRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalFunctionRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EM</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExcludedMiddle</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">SetoidFunctionalChoice</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk288" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk288"><span class="highlight"><span class="nb">apply</span> functional_rel_reification_and_repr_fun_choice_imp_setoid_fun_choice.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">SetoidFunRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalFunctionRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EM</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExcludedMiddle</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">FunctionalRelReification</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk289" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">SetoidFunRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalFunctionRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EM</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExcludedMiddle</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chk289"><hr></label><div class="goal-conclusion"><span class="highlight">RepresentativeFunctionalChoice</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk28a" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk28a"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">SetoidFunRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalFunctionRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EM</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExcludedMiddle</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">FunctionalRelReification</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk28b" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk28b"><span class="highlight"><span class="nb">intros</span> A B.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">SetoidFunRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalFunctionRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EM</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExcludedMiddle</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">FunctionalRelReification_on A B</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">apply</span> fun_choice_imp_functional_rel_reification, FunChoice.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk28c" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk28c"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">SetoidFunRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalFunctionRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EM</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExcludedMiddle</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">RepresentativeFunctionalChoice</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">now</span> <span class="nb">apply</span> fun_choice_and_ext_functions_repr_and_excluded_middle_imp_setoid_fun_choice.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk28d" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk28d"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">SetoidFunctionalChoice -&gt;
FunctionalChoice /\
ExtensionalFunctionRepresentative /\ ExcludedMiddle</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk28e" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk28e"><span class="highlight"><span class="nb">intro</span> SetoidFunChoice.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">SetoidFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">SetoidFunctionalChoice</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">FunctionalChoice /\
ExtensionalFunctionRepresentative /\ ExcludedMiddle</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk28f" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk28f"><span class="highlight"><span class="kp">repeat</span> <span class="nb">split</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">SetoidFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">SetoidFunctionalChoice</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">FunctionalChoice</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk290" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">SetoidFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">SetoidFunctionalChoice</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chk290"><hr></label><div class="goal-conclusion"><span class="highlight">ExtensionalFunctionRepresentative</span></div></blockquote><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk291" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">SetoidFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">SetoidFunctionalChoice</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chk291"><hr></label><div class="goal-conclusion"><span class="highlight">ExcludedMiddle</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk292" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk292"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">SetoidFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">SetoidFunctionalChoice</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">FunctionalChoice</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">now</span> <span class="nb">intros</span> A B; <span class="nb">apply</span> setoid_fun_choice_imp_fun_choice.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk293" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk293"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">SetoidFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">SetoidFunctionalChoice</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">ExtensionalFunctionRepresentative</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk294" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk294"><span class="highlight"><span class="nb">apply</span> repr_fun_choice_imp_ext_function_repr.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">SetoidFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">SetoidFunctionalChoice</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">RepresentativeFunctionalChoice</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">       </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">now</span> <span class="nb">apply</span> setoid_fun_choice_imp_repr_fun_choice.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk295" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk295"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">SetoidFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">SetoidFunctionalChoice</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">ExcludedMiddle</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk296" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk296"><span class="highlight"><span class="nb">apply</span> repr_fun_choice_imp_excluded_middle.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">SetoidFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">SetoidFunctionalChoice</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">RepresentativeFunctionalChoice</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">       </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">now</span> <span class="nb">apply</span> setoid_fun_choice_imp_repr_fun_choice.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
<span class="sd">(**********************************************************************)</span></span></span></pre><div class="doc">
<a name="lab28"></a><h2 class="section">AC_fun_setoid = AC_fun + Ext_pred_repr + PI</h2>
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --></pre><div class="doc">
Note: all ingredients have a computational meaning when taken in
  separation. However, to compute with the functional choice,
  existential quantification has to be thought as a strong
  existential, which is incompatible with proof-irrelevance which
  requires existential quantification to be truncated 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk297" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk297"><span class="highlight"><span class="kn">Theorem</span> <span class="nf">fun_choice_and_ext_pred_ext_and_proof_irrel_imp_setoid_fun_choice</span> :
  FunctionalChoice -&gt; ExtensionalPredicateRepresentative -&gt; ProofIrrelevance -&gt; RepresentativeFunctionalChoice.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">FunctionalChoice -&gt;
ExtensionalPredicateRepresentative -&gt;
ProofIrrelevance -&gt; RepresentativeFunctionalChoice</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk298" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk298"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">FunctionalChoice -&gt;
ExtensionalPredicateRepresentative -&gt;
ProofIrrelevance -&gt; RepresentativeFunctionalChoice</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk299" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk299"><span class="highlight"><span class="nb">intros</span> FunChoice PredExtRepr PI A R (Hrefl,Hsym,Htrans).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">PredExtRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalPredicateRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">PI</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ProofIrrelevance</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f</span> : A -&gt; A,
  <span class="kr">forall</span> <span class="nv">x</span> : A,
  R x (f x) /\ (<span class="kr">forall</span> <span class="nv">x&#39;</span> : A, R x x&#39; -&gt; f x = f x&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk29a" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk29a"><span class="highlight"><span class="nb">pose</span> (isclass P := <span class="kr">exists</span> <span class="nv">x</span>:A, P x).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">PredExtRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalPredicateRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">PI</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ProofIrrelevance</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">isclass</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">P</span> : A -&gt; <span class="kt">Prop</span> =&gt; <span class="kr">exists</span> <span class="nv">x</span> : A, P x</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; <span class="kt">Prop</span>) -&gt; <span class="kt">Prop</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f</span> : A -&gt; A,
  <span class="kr">forall</span> <span class="nv">x</span> : A,
  R x (f x) /\ (<span class="kr">forall</span> <span class="nv">x&#39;</span> : A, R x x&#39; -&gt; f x = f x&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk29b" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk29b"><span class="highlight"><span class="nb">pose</span> (class := {P:A -&gt; <span class="kt">Prop</span> | isclass P}).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">PredExtRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalPredicateRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">PI</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ProofIrrelevance</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">isclass</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">P</span> : A -&gt; <span class="kt">Prop</span> =&gt; <span class="kr">exists</span> <span class="nv">x</span> : A, P x</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; <span class="kt">Prop</span>) -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{P : A -&gt; <span class="kt">Prop</span> | isclass P}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f</span> : A -&gt; A,
  <span class="kr">forall</span> <span class="nv">x</span> : A,
  R x (f x) /\ (<span class="kr">forall</span> <span class="nv">x&#39;</span> : A, R x x&#39; -&gt; f x = f x&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk29c" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk29c"><span class="highlight"><span class="nb">pose</span> (contains (c:class) (a:A) := proj1_sig c a).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">PredExtRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalPredicateRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">PI</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ProofIrrelevance</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">isclass</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">P</span> : A -&gt; <span class="kt">Prop</span> =&gt; <span class="kr">exists</span> <span class="nv">x</span> : A, P x</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; <span class="kt">Prop</span>) -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{P : A -&gt; <span class="kt">Prop</span> | isclass P}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">contains</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">c</span> : class) (<span class="nv">a</span> : A) =&gt; proj1_sig c a</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f</span> : A -&gt; A,
  <span class="kr">forall</span> <span class="nv">x</span> : A,
  R x (f x) /\ (<span class="kr">forall</span> <span class="nv">x&#39;</span> : A, R x x&#39; -&gt; f x = f x&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk29d" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk29d"><span class="highlight"><span class="nb">pose</span> (class_of a := R a).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">PredExtRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalPredicateRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">PI</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ProofIrrelevance</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">isclass</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">P</span> : A -&gt; <span class="kt">Prop</span> =&gt; <span class="kr">exists</span> <span class="nv">x</span> : A, P x</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; <span class="kt">Prop</span>) -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{P : A -&gt; <span class="kt">Prop</span> | isclass P}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">contains</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">c</span> : class) (<span class="nv">a</span> : A) =&gt; proj1_sig c a</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class_of</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> : A =&gt; R a</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f</span> : A -&gt; A,
  <span class="kr">forall</span> <span class="nv">x</span> : A,
  R x (f x) /\ (<span class="kr">forall</span> <span class="nv">x&#39;</span> : A, R x x&#39; -&gt; f x = f x&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk29e" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk29e"><span class="highlight"><span class="nb">destruct</span> (FunChoice class A contains) <span class="kr">as</span> (f,Hf).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">PredExtRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalPredicateRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">PI</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ProofIrrelevance</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">isclass</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">P</span> : A -&gt; <span class="kt">Prop</span> =&gt; <span class="kr">exists</span> <span class="nv">x</span> : A, P x</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; <span class="kt">Prop</span>) -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{P : A -&gt; <span class="kt">Prop</span> | isclass P}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">contains</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">c</span> : class) (<span class="nv">a</span> : A) =&gt; proj1_sig c a</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class_of</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> : A =&gt; R a</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : class, <span class="kr">exists</span> <span class="nv">y</span> : A, contains x y</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk29f" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">PredExtRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalPredicateRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">PI</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ProofIrrelevance</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">isclass</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">P</span> : A -&gt; <span class="kt">Prop</span> =&gt; <span class="kr">exists</span> <span class="nv">x</span> : A, P x</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; <span class="kt">Prop</span>) -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{P : A -&gt; <span class="kt">Prop</span> | isclass P}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">contains</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">c</span> : class) (<span class="nv">a</span> : A) =&gt; proj1_sig c a</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class_of</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> : A =&gt; R a</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : class, contains x (f x)</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chk29f"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f0</span> : A -&gt; A,
  <span class="kr">forall</span> <span class="nv">x</span> : A,
  R x (f0 x) /\
  (<span class="kr">forall</span> <span class="nv">x&#39;</span> : A, R x x&#39; -&gt; f0 x = f0 x&#39;)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk2a0" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk2a0"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">PredExtRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalPredicateRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">PI</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ProofIrrelevance</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">isclass</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">P</span> : A -&gt; <span class="kt">Prop</span> =&gt; <span class="kr">exists</span> <span class="nv">x</span> : A, P x</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; <span class="kt">Prop</span>) -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{P : A -&gt; <span class="kt">Prop</span> | isclass P}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">contains</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">c</span> : class) (<span class="nv">a</span> : A) =&gt; proj1_sig c a</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class_of</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> : A =&gt; R a</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : class, <span class="kr">exists</span> <span class="nv">y</span> : A, contains x y</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk2a1" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk2a1"><span class="highlight"><span class="nb">intros</span> c.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">PredExtRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalPredicateRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">PI</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ProofIrrelevance</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">isclass</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">P</span> : A -&gt; <span class="kt">Prop</span> =&gt; <span class="kr">exists</span> <span class="nv">x</span> : A, P x</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; <span class="kt">Prop</span>) -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{P : A -&gt; <span class="kt">Prop</span> | isclass P}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">contains</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">c0</span> : class) (<span class="nv">a</span> : A) =&gt; proj1_sig c0 a</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class_of</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> : A =&gt; R a</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">y</span> : A, contains c y</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">apply</span> proj2_sig.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk2a2" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk2a2"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">PredExtRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalPredicateRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">PI</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ProofIrrelevance</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">isclass</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">P</span> : A -&gt; <span class="kt">Prop</span> =&gt; <span class="kr">exists</span> <span class="nv">x</span> : A, P x</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; <span class="kt">Prop</span>) -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{P : A -&gt; <span class="kt">Prop</span> | isclass P}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">contains</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">c</span> : class) (<span class="nv">a</span> : A) =&gt; proj1_sig c a</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class_of</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> : A =&gt; R a</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : class, contains x (f x)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f0</span> : A -&gt; A,
  <span class="kr">forall</span> <span class="nv">x</span> : A,
  R x (f0 x) /\
  (<span class="kr">forall</span> <span class="nv">x&#39;</span> : A, R x x&#39; -&gt; f0 x = f0 x&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk2a3" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk2a3"><span class="highlight"><span class="nb">destruct</span> (PredExtRepr A) <span class="kr">as</span> (h,Hh).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">PredExtRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalPredicateRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">PI</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ProofIrrelevance</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">isclass</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">P</span> : A -&gt; <span class="kt">Prop</span> =&gt; <span class="kr">exists</span> <span class="nv">x</span> : A, P x</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; <span class="kt">Prop</span>) -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{P : A -&gt; <span class="kt">Prop</span> | isclass P}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">contains</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">c</span> : class) (<span class="nv">a</span> : A) =&gt; proj1_sig c a</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class_of</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> : A =&gt; R a</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : class, contains x (f x)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; <span class="kt">Prop</span>) -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : A -&gt; <span class="kt">Prop</span>,
(<span class="kr">forall</span> <span class="nv">x</span> : A, P x &lt;-&gt; h P x) /\
(<span class="kr">forall</span> <span class="nv">Q</span> : A -&gt; <span class="kt">Prop</span>,
 (<span class="kr">forall</span> <span class="nv">x</span> : A, P x &lt;-&gt; Q x) -&gt; h P = h Q)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f0</span> : A -&gt; A,
  <span class="kr">forall</span> <span class="nv">x</span> : A,
  R x (f0 x) /\
  (<span class="kr">forall</span> <span class="nv">x&#39;</span> : A, R x x&#39; -&gt; f0 x = f0 x&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk2a4" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk2a4"><span class="highlight"><span class="nb">assert</span> (Hisclass:<span class="kr">forall</span> <span class="nv">a</span>, isclass (h (class_of a))).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">PredExtRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalPredicateRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">PI</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ProofIrrelevance</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">isclass</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">P</span> : A -&gt; <span class="kt">Prop</span> =&gt; <span class="kr">exists</span> <span class="nv">x</span> : A, P x</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; <span class="kt">Prop</span>) -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{P : A -&gt; <span class="kt">Prop</span> | isclass P}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">contains</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">c</span> : class) (<span class="nv">a</span> : A) =&gt; proj1_sig c a</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class_of</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> : A =&gt; R a</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : class, contains x (f x)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; <span class="kt">Prop</span>) -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : A -&gt; <span class="kt">Prop</span>,
(<span class="kr">forall</span> <span class="nv">x</span> : A, P x &lt;-&gt; h P x) /\
(<span class="kr">forall</span> <span class="nv">Q</span> : A -&gt; <span class="kt">Prop</span>,
 (<span class="kr">forall</span> <span class="nv">x</span> : A, P x &lt;-&gt; Q x) -&gt; h P = h Q)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : A, isclass (h (class_of a))</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk2a5" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">PredExtRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalPredicateRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">PI</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ProofIrrelevance</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">isclass</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">P</span> : A -&gt; <span class="kt">Prop</span> =&gt; <span class="kr">exists</span> <span class="nv">x</span> : A, P x</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; <span class="kt">Prop</span>) -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{P : A -&gt; <span class="kt">Prop</span> | isclass P}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">contains</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">c</span> : class) (<span class="nv">a</span> : A) =&gt; proj1_sig c a</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class_of</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> : A =&gt; R a</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : class, contains x (f x)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; <span class="kt">Prop</span>) -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : A -&gt; <span class="kt">Prop</span>,
(<span class="kr">forall</span> <span class="nv">x</span> : A, P x &lt;-&gt; h P x) /\
(<span class="kr">forall</span> <span class="nv">Q</span> : A -&gt; <span class="kt">Prop</span>,
 (<span class="kr">forall</span> <span class="nv">x</span> : A, P x &lt;-&gt; Q x) -&gt; h P = h Q)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hisclass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : A, isclass (h (class_of a))</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chk2a5"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f0</span> : A -&gt; A,
  <span class="kr">forall</span> <span class="nv">x</span> : A,
  R x (f0 x) /\
  (<span class="kr">forall</span> <span class="nv">x&#39;</span> : A, R x x&#39; -&gt; f0 x = f0 x&#39;)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk2a6" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk2a6"><span class="highlight">{</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">PredExtRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalPredicateRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">PI</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ProofIrrelevance</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">isclass</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">P</span> : A -&gt; <span class="kt">Prop</span> =&gt; <span class="kr">exists</span> <span class="nv">x</span> : A, P x</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; <span class="kt">Prop</span>) -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{P : A -&gt; <span class="kt">Prop</span> | isclass P}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">contains</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">c</span> : class) (<span class="nv">a</span> : A) =&gt; proj1_sig c a</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class_of</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> : A =&gt; R a</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : class, contains x (f x)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; <span class="kt">Prop</span>) -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : A -&gt; <span class="kt">Prop</span>,
(<span class="kr">forall</span> <span class="nv">x</span> : A, P x &lt;-&gt; h P x) /\
(<span class="kr">forall</span> <span class="nv">Q</span> : A -&gt; <span class="kt">Prop</span>,
 (<span class="kr">forall</span> <span class="nv">x</span> : A, P x &lt;-&gt; Q x) -&gt; h P = h Q)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : A, isclass (h (class_of a))</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk2a7" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk2a7"><span class="highlight"><span class="nb">intro</span> a.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">PredExtRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalPredicateRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">PI</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ProofIrrelevance</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">isclass</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">P</span> : A -&gt; <span class="kt">Prop</span> =&gt; <span class="kr">exists</span> <span class="nv">x</span> : A, P x</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; <span class="kt">Prop</span>) -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{P : A -&gt; <span class="kt">Prop</span> | isclass P}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">contains</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">c</span> : class) (<span class="nv">a0</span> : A) =&gt; proj1_sig c a0</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class_of</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a0</span> : A =&gt; R a0</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : class, contains x (f x)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; <span class="kt">Prop</span>) -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : A -&gt; <span class="kt">Prop</span>,
(<span class="kr">forall</span> <span class="nv">x</span> : A, P x &lt;-&gt; h P x) /\
(<span class="kr">forall</span> <span class="nv">Q</span> : A -&gt; <span class="kt">Prop</span>,
 (<span class="kr">forall</span> <span class="nv">x</span> : A, P x &lt;-&gt; Q x) -&gt; h P = h Q)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">isclass (h (class_of a))</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk2a8" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk2a8"><span class="highlight"><span class="kr">exists</span> <span class="nv">a</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">PredExtRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalPredicateRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">PI</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ProofIrrelevance</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">isclass</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">P</span> : A -&gt; <span class="kt">Prop</span> =&gt; <span class="kr">exists</span> <span class="nv">x</span> : A, P x</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; <span class="kt">Prop</span>) -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{P : A -&gt; <span class="kt">Prop</span> | isclass P}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">contains</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">c</span> : class) (<span class="nv">a0</span> : A) =&gt; proj1_sig c a0</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class_of</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a0</span> : A =&gt; R a0</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : class, contains x (f x)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; <span class="kt">Prop</span>) -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : A -&gt; <span class="kt">Prop</span>,
(<span class="kr">forall</span> <span class="nv">x</span> : A, P x &lt;-&gt; h P x) /\
(<span class="kr">forall</span> <span class="nv">Q</span> : A -&gt; <span class="kt">Prop</span>,
 (<span class="kr">forall</span> <span class="nv">x</span> : A, P x &lt;-&gt; Q x) -&gt; h P = h Q)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">h (class_of a) a</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk2a9" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk2a9"><span class="highlight"><span class="nb">destruct</span> (Hh (class_of a)) <span class="kr">as</span> (Ha,Huniqa).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">PredExtRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalPredicateRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">PI</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ProofIrrelevance</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">isclass</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">P</span> : A -&gt; <span class="kt">Prop</span> =&gt; <span class="kr">exists</span> <span class="nv">x</span> : A, P x</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; <span class="kt">Prop</span>) -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{P : A -&gt; <span class="kt">Prop</span> | isclass P}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">contains</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">c</span> : class) (<span class="nv">a0</span> : A) =&gt; proj1_sig c a0</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class_of</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a0</span> : A =&gt; R a0</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : class, contains x (f x)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; <span class="kt">Prop</span>) -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : A -&gt; <span class="kt">Prop</span>,
(<span class="kr">forall</span> <span class="nv">x</span> : A, P x &lt;-&gt; h P x) /\
(<span class="kr">forall</span> <span class="nv">Q</span> : A -&gt; <span class="kt">Prop</span>,
 (<span class="kr">forall</span> <span class="nv">x</span> : A, P x &lt;-&gt; Q x) -&gt; h P = h Q)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A, class_of a x &lt;-&gt; h (class_of a) x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Huniqa</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">Q</span> : A -&gt; <span class="kt">Prop</span>,
(<span class="kr">forall</span> <span class="nv">x</span> : A, class_of a x &lt;-&gt; Q x) -&gt;
h (class_of a) = h Q</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">h (class_of a) a</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">      </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">rewrite</span> &lt;- Ha; <span class="nb">apply</span> Hrefl.</span></span><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk2aa" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk2aa"><span class="highlight">}</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">PredExtRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalPredicateRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">PI</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ProofIrrelevance</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">isclass</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">P</span> : A -&gt; <span class="kt">Prop</span> =&gt; <span class="kr">exists</span> <span class="nv">x</span> : A, P x</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; <span class="kt">Prop</span>) -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{P : A -&gt; <span class="kt">Prop</span> | isclass P}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">contains</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">c</span> : class) (<span class="nv">a</span> : A) =&gt; proj1_sig c a</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class_of</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> : A =&gt; R a</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : class, contains x (f x)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; <span class="kt">Prop</span>) -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : A -&gt; <span class="kt">Prop</span>,
(<span class="kr">forall</span> <span class="nv">x</span> : A, P x &lt;-&gt; h P x) /\
(<span class="kr">forall</span> <span class="nv">Q</span> : A -&gt; <span class="kt">Prop</span>,
 (<span class="kr">forall</span> <span class="nv">x</span> : A, P x &lt;-&gt; Q x) -&gt; h P = h Q)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hisclass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : A, isclass (h (class_of a))</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f0</span> : A -&gt; A,
  <span class="kr">forall</span> <span class="nv">x</span> : A,
  R x (f0 x) /\
  (<span class="kr">forall</span> <span class="nv">x&#39;</span> : A, R x x&#39; -&gt; f0 x = f0 x&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk2ab" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk2ab"><span class="highlight"><span class="nb">pose</span> (f&#39;:= <span class="kr">fun</span> <span class="nv">a</span> =&gt; exist _ (h (class_of a)) (Hisclass a) : class).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">PredExtRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalPredicateRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">PI</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ProofIrrelevance</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">isclass</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">P</span> : A -&gt; <span class="kt">Prop</span> =&gt; <span class="kr">exists</span> <span class="nv">x</span> : A, P x</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; <span class="kt">Prop</span>) -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{P : A -&gt; <span class="kt">Prop</span> | isclass P}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">contains</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">c</span> : class) (<span class="nv">a</span> : A) =&gt; proj1_sig c a</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class_of</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> : A =&gt; R a</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : class, contains x (f x)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; <span class="kt">Prop</span>) -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : A -&gt; <span class="kt">Prop</span>,
(<span class="kr">forall</span> <span class="nv">x</span> : A, P x &lt;-&gt; h P x) /\
(<span class="kr">forall</span> <span class="nv">Q</span> : A -&gt; <span class="kt">Prop</span>,
 (<span class="kr">forall</span> <span class="nv">x</span> : A, P x &lt;-&gt; Q x) -&gt; h P = h Q)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hisclass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : A, isclass (h (class_of a))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
exist isclass (h (class_of a)) (Hisclass a)
:
class</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; class</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">f0</span> : A -&gt; A,
  <span class="kr">forall</span> <span class="nv">x</span> : A,
  R x (f0 x) /\
  (<span class="kr">forall</span> <span class="nv">x&#39;</span> : A, R x x&#39; -&gt; f0 x = f0 x&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk2ac" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk2ac"><span class="highlight"><span class="kr">exists</span> (<span class="nv">fun</span> <span class="nv">a</span> =&gt; f (f&#39; a)).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">PredExtRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalPredicateRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">PI</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ProofIrrelevance</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">isclass</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">P</span> : A -&gt; <span class="kt">Prop</span> =&gt; <span class="kr">exists</span> <span class="nv">x</span> : A, P x</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; <span class="kt">Prop</span>) -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{P : A -&gt; <span class="kt">Prop</span> | isclass P}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">contains</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">c</span> : class) (<span class="nv">a</span> : A) =&gt; proj1_sig c a</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class_of</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> : A =&gt; R a</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : class, contains x (f x)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; <span class="kt">Prop</span>) -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : A -&gt; <span class="kt">Prop</span>,
(<span class="kr">forall</span> <span class="nv">x</span> : A, P x &lt;-&gt; h P x) /\
(<span class="kr">forall</span> <span class="nv">Q</span> : A -&gt; <span class="kt">Prop</span>,
 (<span class="kr">forall</span> <span class="nv">x</span> : A, P x &lt;-&gt; Q x) -&gt; h P = h Q)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hisclass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : A, isclass (h (class_of a))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
exist isclass (h (class_of a)) (Hisclass a)
:
class</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; class</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : A,
R x (f (f&#39; x)) /\
(<span class="kr">forall</span> <span class="nv">x&#39;</span> : A, R x x&#39; -&gt; f (f&#39; x) = f (f&#39; x&#39;))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk2ad" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk2ad"><span class="highlight"><span class="nb">intros</span> x.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">PredExtRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalPredicateRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">PI</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ProofIrrelevance</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">isclass</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">P</span> : A -&gt; <span class="kt">Prop</span> =&gt; <span class="kr">exists</span> <span class="nv">x0</span> : A, P x0</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; <span class="kt">Prop</span>) -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{P : A -&gt; <span class="kt">Prop</span> | isclass P}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">contains</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">c</span> : class) (<span class="nv">a</span> : A) =&gt; proj1_sig c a</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class_of</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> : A =&gt; R a</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : class, contains x0 (f x0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; <span class="kt">Prop</span>) -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : A -&gt; <span class="kt">Prop</span>,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, P x0 &lt;-&gt; h P x0) /\
(<span class="kr">forall</span> <span class="nv">Q</span> : A -&gt; <span class="kt">Prop</span>,
 (<span class="kr">forall</span> <span class="nv">x0</span> : A, P x0 &lt;-&gt; Q x0) -&gt; h P = h Q)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hisclass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : A, isclass (h (class_of a))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
exist isclass (h (class_of a)) (Hisclass a)
:
class</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; class</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">R x (f (f&#39; x)) /\
(<span class="kr">forall</span> <span class="nv">x&#39;</span> : A, R x x&#39; -&gt; f (f&#39; x) = f (f&#39; x&#39;))</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk2ae" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk2ae"><span class="highlight"><span class="nb">destruct</span> (Hh (class_of x)) <span class="kr">as</span> (Hx,Huniqx).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">PredExtRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalPredicateRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">PI</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ProofIrrelevance</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">isclass</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">P</span> : A -&gt; <span class="kt">Prop</span> =&gt; <span class="kr">exists</span> <span class="nv">x0</span> : A, P x0</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; <span class="kt">Prop</span>) -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{P : A -&gt; <span class="kt">Prop</span> | isclass P}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">contains</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">c</span> : class) (<span class="nv">a</span> : A) =&gt; proj1_sig c a</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class_of</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> : A =&gt; R a</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : class, contains x0 (f x0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; <span class="kt">Prop</span>) -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : A -&gt; <span class="kt">Prop</span>,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, P x0 &lt;-&gt; h P x0) /\
(<span class="kr">forall</span> <span class="nv">Q</span> : A -&gt; <span class="kt">Prop</span>,
 (<span class="kr">forall</span> <span class="nv">x0</span> : A, P x0 &lt;-&gt; Q x0) -&gt; h P = h Q)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hisclass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : A, isclass (h (class_of a))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
exist isclass (h (class_of a)) (Hisclass a)
:
class</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; class</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A,
class_of x x0 &lt;-&gt; h (class_of x) x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Huniqx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">Q</span> : A -&gt; <span class="kt">Prop</span>,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, class_of x x0 &lt;-&gt; Q x0) -&gt;
h (class_of x) = h Q</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">R x (f (f&#39; x)) /\
(<span class="kr">forall</span> <span class="nv">x&#39;</span> : A, R x x&#39; -&gt; f (f&#39; x) = f (f&#39; x&#39;))</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk2af" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk2af"><span class="highlight"><span class="nb">split</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">PredExtRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalPredicateRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">PI</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ProofIrrelevance</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">isclass</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">P</span> : A -&gt; <span class="kt">Prop</span> =&gt; <span class="kr">exists</span> <span class="nv">x0</span> : A, P x0</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; <span class="kt">Prop</span>) -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{P : A -&gt; <span class="kt">Prop</span> | isclass P}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">contains</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">c</span> : class) (<span class="nv">a</span> : A) =&gt; proj1_sig c a</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class_of</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> : A =&gt; R a</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : class, contains x0 (f x0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; <span class="kt">Prop</span>) -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : A -&gt; <span class="kt">Prop</span>,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, P x0 &lt;-&gt; h P x0) /\
(<span class="kr">forall</span> <span class="nv">Q</span> : A -&gt; <span class="kt">Prop</span>,
 (<span class="kr">forall</span> <span class="nv">x0</span> : A, P x0 &lt;-&gt; Q x0) -&gt; h P = h Q)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hisclass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : A, isclass (h (class_of a))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
exist isclass (h (class_of a)) (Hisclass a)
:
class</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; class</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A,
class_of x x0 &lt;-&gt; h (class_of x) x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Huniqx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">Q</span> : A -&gt; <span class="kt">Prop</span>,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, class_of x x0 &lt;-&gt; Q x0) -&gt;
h (class_of x) = h Q</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">R x (f (f&#39; x))</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk2b0" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">PredExtRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalPredicateRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">PI</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ProofIrrelevance</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">isclass</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">P</span> : A -&gt; <span class="kt">Prop</span> =&gt; <span class="kr">exists</span> <span class="nv">x0</span> : A, P x0</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; <span class="kt">Prop</span>) -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{P : A -&gt; <span class="kt">Prop</span> | isclass P}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">contains</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">c</span> : class) (<span class="nv">a</span> : A) =&gt; proj1_sig c a</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class_of</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> : A =&gt; R a</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : class, contains x0 (f x0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; <span class="kt">Prop</span>) -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : A -&gt; <span class="kt">Prop</span>,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, P x0 &lt;-&gt; h P x0) /\
(<span class="kr">forall</span> <span class="nv">Q</span> : A -&gt; <span class="kt">Prop</span>,
 (<span class="kr">forall</span> <span class="nv">x0</span> : A, P x0 &lt;-&gt; Q x0) -&gt; h P = h Q)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hisclass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : A, isclass (h (class_of a))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
exist isclass (h (class_of a)) (Hisclass a)
:
class</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; class</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A,
class_of x x0 &lt;-&gt; h (class_of x) x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Huniqx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">Q</span> : A -&gt; <span class="kt">Prop</span>,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, class_of x x0 &lt;-&gt; Q x0) -&gt;
h (class_of x) = h Q</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chk2b0"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x&#39;</span> : A, R x x&#39; -&gt; f (f&#39; x) = f (f&#39; x&#39;)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk2b1" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk2b1"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">PredExtRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalPredicateRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">PI</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ProofIrrelevance</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">isclass</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">P</span> : A -&gt; <span class="kt">Prop</span> =&gt; <span class="kr">exists</span> <span class="nv">x0</span> : A, P x0</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; <span class="kt">Prop</span>) -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{P : A -&gt; <span class="kt">Prop</span> | isclass P}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">contains</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">c</span> : class) (<span class="nv">a</span> : A) =&gt; proj1_sig c a</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class_of</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> : A =&gt; R a</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : class, contains x0 (f x0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; <span class="kt">Prop</span>) -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : A -&gt; <span class="kt">Prop</span>,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, P x0 &lt;-&gt; h P x0) /\
(<span class="kr">forall</span> <span class="nv">Q</span> : A -&gt; <span class="kt">Prop</span>,
 (<span class="kr">forall</span> <span class="nv">x0</span> : A, P x0 &lt;-&gt; Q x0) -&gt; h P = h Q)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hisclass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : A, isclass (h (class_of a))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
exist isclass (h (class_of a)) (Hisclass a)
:
class</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; class</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A,
class_of x x0 &lt;-&gt; h (class_of x) x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Huniqx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">Q</span> : A -&gt; <span class="kt">Prop</span>,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, class_of x x0 &lt;-&gt; Q x0) -&gt;
h (class_of x) = h Q</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">R x (f (f&#39; x))</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk2b2" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk2b2"><span class="highlight"><span class="nb">specialize</span> Hf <span class="kr">with</span> (f&#39; x).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">PredExtRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalPredicateRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">PI</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ProofIrrelevance</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">isclass</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">P</span> : A -&gt; <span class="kt">Prop</span> =&gt; <span class="kr">exists</span> <span class="nv">x0</span> : A, P x0</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; <span class="kt">Prop</span>) -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{P : A -&gt; <span class="kt">Prop</span> | isclass P}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">contains</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">c</span> : class) (<span class="nv">a</span> : A) =&gt; proj1_sig c a</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class_of</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> : A =&gt; R a</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; <span class="kt">Prop</span>) -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hisclass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : A, isclass (h (class_of a))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
exist isclass (h (class_of a)) (Hisclass a)
:
class</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; class</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">contains (f&#39; x) (f (f&#39; x))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : A -&gt; <span class="kt">Prop</span>,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, P x0 &lt;-&gt; h P x0) /\
(<span class="kr">forall</span> <span class="nv">Q</span> : A -&gt; <span class="kt">Prop</span>,
 (<span class="kr">forall</span> <span class="nv">x0</span> : A, P x0 &lt;-&gt; Q x0) -&gt; h P = h Q)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A,
class_of x x0 &lt;-&gt; h (class_of x) x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Huniqx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">Q</span> : A -&gt; <span class="kt">Prop</span>,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, class_of x x0 &lt;-&gt; Q x0) -&gt;
h (class_of x) = h Q</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">R x (f (f&#39; x))</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk2b3" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk2b3"><span class="highlight"><span class="nb">simpl</span> <span class="kr">in</span> Hf.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">PredExtRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalPredicateRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">PI</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ProofIrrelevance</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">isclass</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">P</span> : A -&gt; <span class="kt">Prop</span> =&gt; <span class="kr">exists</span> <span class="nv">x0</span> : A, P x0</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; <span class="kt">Prop</span>) -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{P : A -&gt; <span class="kt">Prop</span> | isclass P}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">contains</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">c</span> : class) (<span class="nv">a</span> : A) =&gt; proj1_sig c a</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class_of</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> : A =&gt; R a</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; <span class="kt">Prop</span>) -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hisclass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : A, isclass (h (class_of a))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
exist isclass (h (class_of a)) (Hisclass a)
:
class</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; class</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">h (class_of x) (f (f&#39; x))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : A -&gt; <span class="kt">Prop</span>,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, P x0 &lt;-&gt; h P x0) /\
(<span class="kr">forall</span> <span class="nv">Q</span> : A -&gt; <span class="kt">Prop</span>,
 (<span class="kr">forall</span> <span class="nv">x0</span> : A, P x0 &lt;-&gt; Q x0) -&gt; h P = h Q)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A,
class_of x x0 &lt;-&gt; h (class_of x) x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Huniqx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">Q</span> : A -&gt; <span class="kt">Prop</span>,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, class_of x x0 &lt;-&gt; Q x0) -&gt;
h (class_of x) = h Q</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">R x (f (f&#39; x))</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk2b4" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk2b4"><span class="highlight"><span class="nb">rewrite</span> &lt;- Hx <span class="kr">in</span> Hf.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">PredExtRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalPredicateRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">PI</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ProofIrrelevance</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">isclass</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">P</span> : A -&gt; <span class="kt">Prop</span> =&gt; <span class="kr">exists</span> <span class="nv">x0</span> : A, P x0</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; <span class="kt">Prop</span>) -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{P : A -&gt; <span class="kt">Prop</span> | isclass P}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">contains</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">c</span> : class) (<span class="nv">a</span> : A) =&gt; proj1_sig c a</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class_of</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> : A =&gt; R a</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; <span class="kt">Prop</span>) -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hisclass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : A, isclass (h (class_of a))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
exist isclass (h (class_of a)) (Hisclass a)
:
class</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; class</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class_of x (f (f&#39; x))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : A -&gt; <span class="kt">Prop</span>,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, P x0 &lt;-&gt; h P x0) /\
(<span class="kr">forall</span> <span class="nv">Q</span> : A -&gt; <span class="kt">Prop</span>,
 (<span class="kr">forall</span> <span class="nv">x0</span> : A, P x0 &lt;-&gt; Q x0) -&gt; h P = h Q)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A,
class_of x x0 &lt;-&gt; h (class_of x) x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Huniqx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">Q</span> : A -&gt; <span class="kt">Prop</span>,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, class_of x x0 &lt;-&gt; Q x0) -&gt;
h (class_of x) = h Q</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">R x (f (f&#39; x))</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">assumption</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk2b5" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk2b5"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">PredExtRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalPredicateRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">PI</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ProofIrrelevance</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">isclass</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">P</span> : A -&gt; <span class="kt">Prop</span> =&gt; <span class="kr">exists</span> <span class="nv">x0</span> : A, P x0</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; <span class="kt">Prop</span>) -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{P : A -&gt; <span class="kt">Prop</span> | isclass P}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">contains</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">c</span> : class) (<span class="nv">a</span> : A) =&gt; proj1_sig c a</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class_of</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> : A =&gt; R a</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : class, contains x0 (f x0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; <span class="kt">Prop</span>) -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : A -&gt; <span class="kt">Prop</span>,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, P x0 &lt;-&gt; h P x0) /\
(<span class="kr">forall</span> <span class="nv">Q</span> : A -&gt; <span class="kt">Prop</span>,
 (<span class="kr">forall</span> <span class="nv">x0</span> : A, P x0 &lt;-&gt; Q x0) -&gt; h P = h Q)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hisclass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : A, isclass (h (class_of a))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
exist isclass (h (class_of a)) (Hisclass a)
:
class</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; class</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A,
class_of x x0 &lt;-&gt; h (class_of x) x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Huniqx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">Q</span> : A -&gt; <span class="kt">Prop</span>,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, class_of x x0 &lt;-&gt; Q x0) -&gt;
h (class_of x) = h Q</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x&#39;</span> : A, R x x&#39; -&gt; f (f&#39; x) = f (f&#39; x&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk2b6" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk2b6"><span class="highlight"><span class="nb">intros</span> y Hxy.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">PredExtRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalPredicateRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">PI</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ProofIrrelevance</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">isclass</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">P</span> : A -&gt; <span class="kt">Prop</span> =&gt; <span class="kr">exists</span> <span class="nv">x0</span> : A, P x0</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; <span class="kt">Prop</span>) -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{P : A -&gt; <span class="kt">Prop</span> | isclass P}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">contains</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">c</span> : class) (<span class="nv">a</span> : A) =&gt; proj1_sig c a</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class_of</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> : A =&gt; R a</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : class, contains x0 (f x0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; <span class="kt">Prop</span>) -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : A -&gt; <span class="kt">Prop</span>,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, P x0 &lt;-&gt; h P x0) /\
(<span class="kr">forall</span> <span class="nv">Q</span> : A -&gt; <span class="kt">Prop</span>,
 (<span class="kr">forall</span> <span class="nv">x0</span> : A, P x0 &lt;-&gt; Q x0) -&gt; h P = h Q)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hisclass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : A, isclass (h (class_of a))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
exist isclass (h (class_of a)) (Hisclass a)
:
class</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; class</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A,
class_of x x0 &lt;-&gt; h (class_of x) x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Huniqx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">Q</span> : A -&gt; <span class="kt">Prop</span>,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, class_of x x0 &lt;-&gt; Q x0) -&gt;
h (class_of x) = h Q</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hxy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R x y</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">f (f&#39; x) = f (f&#39; y)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">       </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk2b7" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk2b7"><span class="highlight"><span class="nb">f_equal</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">PredExtRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalPredicateRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">PI</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ProofIrrelevance</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">isclass</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">P</span> : A -&gt; <span class="kt">Prop</span> =&gt; <span class="kr">exists</span> <span class="nv">x0</span> : A, P x0</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; <span class="kt">Prop</span>) -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{P : A -&gt; <span class="kt">Prop</span> | isclass P}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">contains</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">c</span> : class) (<span class="nv">a</span> : A) =&gt; proj1_sig c a</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class_of</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> : A =&gt; R a</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : class, contains x0 (f x0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; <span class="kt">Prop</span>) -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : A -&gt; <span class="kt">Prop</span>,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, P x0 &lt;-&gt; h P x0) /\
(<span class="kr">forall</span> <span class="nv">Q</span> : A -&gt; <span class="kt">Prop</span>,
 (<span class="kr">forall</span> <span class="nv">x0</span> : A, P x0 &lt;-&gt; Q x0) -&gt; h P = h Q)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hisclass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : A, isclass (h (class_of a))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
exist isclass (h (class_of a)) (Hisclass a)
:
class</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; class</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A,
class_of x x0 &lt;-&gt; h (class_of x) x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Huniqx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">Q</span> : A -&gt; <span class="kt">Prop</span>,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, class_of x x0 &lt;-&gt; Q x0) -&gt;
h (class_of x) = h Q</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hxy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R x y</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">f&#39; x = f&#39; y</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">       </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk2b8" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk2b8"><span class="highlight"><span class="nb">assert</span> (Heq1: h (class_of x) = h (class_of y)).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">PredExtRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalPredicateRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">PI</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ProofIrrelevance</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">isclass</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">P</span> : A -&gt; <span class="kt">Prop</span> =&gt; <span class="kr">exists</span> <span class="nv">x0</span> : A, P x0</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; <span class="kt">Prop</span>) -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{P : A -&gt; <span class="kt">Prop</span> | isclass P}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">contains</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">c</span> : class) (<span class="nv">a</span> : A) =&gt; proj1_sig c a</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class_of</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> : A =&gt; R a</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : class, contains x0 (f x0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; <span class="kt">Prop</span>) -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : A -&gt; <span class="kt">Prop</span>,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, P x0 &lt;-&gt; h P x0) /\
(<span class="kr">forall</span> <span class="nv">Q</span> : A -&gt; <span class="kt">Prop</span>,
 (<span class="kr">forall</span> <span class="nv">x0</span> : A, P x0 &lt;-&gt; Q x0) -&gt; h P = h Q)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hisclass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : A, isclass (h (class_of a))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
exist isclass (h (class_of a)) (Hisclass a)
:
class</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; class</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A,
class_of x x0 &lt;-&gt; h (class_of x) x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Huniqx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">Q</span> : A -&gt; <span class="kt">Prop</span>,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, class_of x x0 &lt;-&gt; Q x0) -&gt;
h (class_of x) = h Q</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hxy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R x y</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">h (class_of x) = h (class_of y)</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk2b9" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">PredExtRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalPredicateRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">PI</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ProofIrrelevance</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">isclass</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">P</span> : A -&gt; <span class="kt">Prop</span> =&gt; <span class="kr">exists</span> <span class="nv">x0</span> : A, P x0</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; <span class="kt">Prop</span>) -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{P : A -&gt; <span class="kt">Prop</span> | isclass P}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">contains</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">c</span> : class) (<span class="nv">a</span> : A) =&gt; proj1_sig c a</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class_of</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> : A =&gt; R a</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : class, contains x0 (f x0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; <span class="kt">Prop</span>) -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : A -&gt; <span class="kt">Prop</span>,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, P x0 &lt;-&gt; h P x0) /\
(<span class="kr">forall</span> <span class="nv">Q</span> : A -&gt; <span class="kt">Prop</span>,
 (<span class="kr">forall</span> <span class="nv">x0</span> : A, P x0 &lt;-&gt; Q x0) -&gt; h P = h Q)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hisclass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : A, isclass (h (class_of a))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
exist isclass (h (class_of a)) (Hisclass a)
:
class</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; class</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A,
class_of x x0 &lt;-&gt; h (class_of x) x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Huniqx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">Q</span> : A -&gt; <span class="kt">Prop</span>,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, class_of x x0 &lt;-&gt; Q x0) -&gt;
h (class_of x) = h Q</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hxy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">h (class_of x) = h (class_of y)</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chk2b9"><hr></label><div class="goal-conclusion"><span class="highlight">f&#39; x = f&#39; y</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">       </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk2ba" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk2ba"><span class="highlight">{</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">PredExtRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalPredicateRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">PI</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ProofIrrelevance</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">isclass</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">P</span> : A -&gt; <span class="kt">Prop</span> =&gt; <span class="kr">exists</span> <span class="nv">x0</span> : A, P x0</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; <span class="kt">Prop</span>) -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{P : A -&gt; <span class="kt">Prop</span> | isclass P}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">contains</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">c</span> : class) (<span class="nv">a</span> : A) =&gt; proj1_sig c a</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class_of</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> : A =&gt; R a</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : class, contains x0 (f x0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; <span class="kt">Prop</span>) -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : A -&gt; <span class="kt">Prop</span>,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, P x0 &lt;-&gt; h P x0) /\
(<span class="kr">forall</span> <span class="nv">Q</span> : A -&gt; <span class="kt">Prop</span>,
 (<span class="kr">forall</span> <span class="nv">x0</span> : A, P x0 &lt;-&gt; Q x0) -&gt; h P = h Q)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hisclass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : A, isclass (h (class_of a))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
exist isclass (h (class_of a)) (Hisclass a)
:
class</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; class</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A,
class_of x x0 &lt;-&gt; h (class_of x) x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Huniqx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">Q</span> : A -&gt; <span class="kt">Prop</span>,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, class_of x x0 &lt;-&gt; Q x0) -&gt;
h (class_of x) = h Q</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hxy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R x y</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">h (class_of x) = h (class_of y)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk2bb" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk2bb"><span class="highlight"><span class="nb">apply</span> Huniqx.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">PredExtRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalPredicateRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">PI</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ProofIrrelevance</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">isclass</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">P</span> : A -&gt; <span class="kt">Prop</span> =&gt; <span class="kr">exists</span> <span class="nv">x0</span> : A, P x0</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; <span class="kt">Prop</span>) -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{P : A -&gt; <span class="kt">Prop</span> | isclass P}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">contains</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">c</span> : class) (<span class="nv">a</span> : A) =&gt; proj1_sig c a</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class_of</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> : A =&gt; R a</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : class, contains x0 (f x0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; <span class="kt">Prop</span>) -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : A -&gt; <span class="kt">Prop</span>,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, P x0 &lt;-&gt; h P x0) /\
(<span class="kr">forall</span> <span class="nv">Q</span> : A -&gt; <span class="kt">Prop</span>,
 (<span class="kr">forall</span> <span class="nv">x0</span> : A, P x0 &lt;-&gt; Q x0) -&gt; h P = h Q)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hisclass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : A, isclass (h (class_of a))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
exist isclass (h (class_of a)) (Hisclass a)
:
class</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; class</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A,
class_of x x0 &lt;-&gt; h (class_of x) x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Huniqx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">Q</span> : A -&gt; <span class="kt">Prop</span>,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, class_of x x0 &lt;-&gt; Q x0) -&gt;
h (class_of x) = h Q</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hxy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R x y</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A, class_of x x0 &lt;-&gt; class_of y x0</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk2bc" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk2bc"><span class="highlight"><span class="nb">intro</span> z.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">PredExtRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalPredicateRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">PI</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ProofIrrelevance</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">isclass</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">P</span> : A -&gt; <span class="kt">Prop</span> =&gt; <span class="kr">exists</span> <span class="nv">x0</span> : A, P x0</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; <span class="kt">Prop</span>) -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{P : A -&gt; <span class="kt">Prop</span> | isclass P}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">contains</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">c</span> : class) (<span class="nv">a</span> : A) =&gt; proj1_sig c a</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class_of</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> : A =&gt; R a</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : class, contains x0 (f x0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; <span class="kt">Prop</span>) -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : A -&gt; <span class="kt">Prop</span>,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, P x0 &lt;-&gt; h P x0) /\
(<span class="kr">forall</span> <span class="nv">Q</span> : A -&gt; <span class="kt">Prop</span>,
 (<span class="kr">forall</span> <span class="nv">x0</span> : A, P x0 &lt;-&gt; Q x0) -&gt; h P = h Q)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hisclass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : A, isclass (h (class_of a))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
exist isclass (h (class_of a)) (Hisclass a)
:
class</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; class</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A,
class_of x x0 &lt;-&gt; h (class_of x) x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Huniqx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">Q</span> : A -&gt; <span class="kt">Prop</span>,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, class_of x x0 &lt;-&gt; Q x0) -&gt;
h (class_of x) = h Q</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hxy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">z</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">class_of x z &lt;-&gt; class_of y z</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk2bd" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk2bd"><span class="highlight"><span class="nb">unfold</span> class_of.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">PredExtRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalPredicateRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">PI</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ProofIrrelevance</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">isclass</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">P</span> : A -&gt; <span class="kt">Prop</span> =&gt; <span class="kr">exists</span> <span class="nv">x0</span> : A, P x0</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; <span class="kt">Prop</span>) -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{P : A -&gt; <span class="kt">Prop</span> | isclass P}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">contains</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">c</span> : class) (<span class="nv">a</span> : A) =&gt; proj1_sig c a</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class_of</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> : A =&gt; R a</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : class, contains x0 (f x0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; <span class="kt">Prop</span>) -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : A -&gt; <span class="kt">Prop</span>,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, P x0 &lt;-&gt; h P x0) /\
(<span class="kr">forall</span> <span class="nv">Q</span> : A -&gt; <span class="kt">Prop</span>,
 (<span class="kr">forall</span> <span class="nv">x0</span> : A, P x0 &lt;-&gt; Q x0) -&gt; h P = h Q)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hisclass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : A, isclass (h (class_of a))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
exist isclass (h (class_of a)) (Hisclass a)
:
class</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; class</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A,
class_of x x0 &lt;-&gt; h (class_of x) x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Huniqx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">Q</span> : A -&gt; <span class="kt">Prop</span>,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, class_of x x0 &lt;-&gt; Q x0) -&gt;
h (class_of x) = h Q</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hxy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">z</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">R x z &lt;-&gt; R y z</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">firstorder</span>.</span></span><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk2be" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk2be"><span class="highlight">}</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">PredExtRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalPredicateRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">PI</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ProofIrrelevance</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">isclass</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">P</span> : A -&gt; <span class="kt">Prop</span> =&gt; <span class="kr">exists</span> <span class="nv">x0</span> : A, P x0</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; <span class="kt">Prop</span>) -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{P : A -&gt; <span class="kt">Prop</span> | isclass P}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">contains</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">c</span> : class) (<span class="nv">a</span> : A) =&gt; proj1_sig c a</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class_of</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> : A =&gt; R a</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : class, contains x0 (f x0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; <span class="kt">Prop</span>) -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : A -&gt; <span class="kt">Prop</span>,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, P x0 &lt;-&gt; h P x0) /\
(<span class="kr">forall</span> <span class="nv">Q</span> : A -&gt; <span class="kt">Prop</span>,
 (<span class="kr">forall</span> <span class="nv">x0</span> : A, P x0 &lt;-&gt; Q x0) -&gt; h P = h Q)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hisclass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : A, isclass (h (class_of a))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
exist isclass (h (class_of a)) (Hisclass a)
:
class</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; class</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A,
class_of x x0 &lt;-&gt; h (class_of x) x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Huniqx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">Q</span> : A -&gt; <span class="kt">Prop</span>,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, class_of x x0 &lt;-&gt; Q x0) -&gt;
h (class_of x) = h Q</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hxy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">h (class_of x) = h (class_of y)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">f&#39; x = f&#39; y</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">       </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk2bf" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk2bf"><span class="highlight"><span class="nb">assert</span> (Heq2:rew Heq1 <span class="kr">in</span> Hisclass x = Hisclass y).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">PredExtRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalPredicateRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">PI</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ProofIrrelevance</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">isclass</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">P</span> : A -&gt; <span class="kt">Prop</span> =&gt; <span class="kr">exists</span> <span class="nv">x0</span> : A, P x0</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; <span class="kt">Prop</span>) -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{P : A -&gt; <span class="kt">Prop</span> | isclass P}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">contains</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">c</span> : class) (<span class="nv">a</span> : A) =&gt; proj1_sig c a</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class_of</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> : A =&gt; R a</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : class, contains x0 (f x0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; <span class="kt">Prop</span>) -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : A -&gt; <span class="kt">Prop</span>,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, P x0 &lt;-&gt; h P x0) /\
(<span class="kr">forall</span> <span class="nv">Q</span> : A -&gt; <span class="kt">Prop</span>,
 (<span class="kr">forall</span> <span class="nv">x0</span> : A, P x0 &lt;-&gt; Q x0) -&gt; h P = h Q)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hisclass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : A, isclass (h (class_of a))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
exist isclass (h (class_of a)) (Hisclass a)
:
class</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; class</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A,
class_of x x0 &lt;-&gt; h (class_of x) x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Huniqx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">Q</span> : A -&gt; <span class="kt">Prop</span>,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, class_of x x0 &lt;-&gt; Q x0) -&gt;
h (class_of x) = h Q</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hxy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">h (class_of x) = h (class_of y)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">rew [isclass] Heq1 <span class="kr">in</span> Hisclass x = Hisclass y</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk2c0" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">PredExtRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalPredicateRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">PI</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ProofIrrelevance</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">isclass</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">P</span> : A -&gt; <span class="kt">Prop</span> =&gt; <span class="kr">exists</span> <span class="nv">x0</span> : A, P x0</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; <span class="kt">Prop</span>) -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{P : A -&gt; <span class="kt">Prop</span> | isclass P}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">contains</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">c</span> : class) (<span class="nv">a</span> : A) =&gt; proj1_sig c a</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class_of</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> : A =&gt; R a</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : class, contains x0 (f x0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; <span class="kt">Prop</span>) -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : A -&gt; <span class="kt">Prop</span>,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, P x0 &lt;-&gt; h P x0) /\
(<span class="kr">forall</span> <span class="nv">Q</span> : A -&gt; <span class="kt">Prop</span>,
 (<span class="kr">forall</span> <span class="nv">x0</span> : A, P x0 &lt;-&gt; Q x0) -&gt; h P = h Q)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hisclass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : A, isclass (h (class_of a))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
exist isclass (h (class_of a)) (Hisclass a)
:
class</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; class</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A,
class_of x x0 &lt;-&gt; h (class_of x) x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Huniqx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">Q</span> : A -&gt; <span class="kt">Prop</span>,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, class_of x x0 &lt;-&gt; Q x0) -&gt;
h (class_of x) = h Q</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hxy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">h (class_of x) = h (class_of y)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">rew [isclass] Heq1 <span class="kr">in</span> Hisclass x = Hisclass y</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chk2c0"><hr></label><div class="goal-conclusion"><span class="highlight">f&#39; x = f&#39; y</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">       </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk2c1" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk2c1"><span class="highlight">{</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">PredExtRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalPredicateRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">PI</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ProofIrrelevance</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">isclass</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">P</span> : A -&gt; <span class="kt">Prop</span> =&gt; <span class="kr">exists</span> <span class="nv">x0</span> : A, P x0</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; <span class="kt">Prop</span>) -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{P : A -&gt; <span class="kt">Prop</span> | isclass P}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">contains</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">c</span> : class) (<span class="nv">a</span> : A) =&gt; proj1_sig c a</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class_of</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> : A =&gt; R a</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : class, contains x0 (f x0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; <span class="kt">Prop</span>) -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : A -&gt; <span class="kt">Prop</span>,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, P x0 &lt;-&gt; h P x0) /\
(<span class="kr">forall</span> <span class="nv">Q</span> : A -&gt; <span class="kt">Prop</span>,
 (<span class="kr">forall</span> <span class="nv">x0</span> : A, P x0 &lt;-&gt; Q x0) -&gt; h P = h Q)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hisclass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : A, isclass (h (class_of a))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
exist isclass (h (class_of a)) (Hisclass a)
:
class</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; class</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A,
class_of x x0 &lt;-&gt; h (class_of x) x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Huniqx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">Q</span> : A -&gt; <span class="kt">Prop</span>,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, class_of x x0 &lt;-&gt; Q x0) -&gt;
h (class_of x) = h Q</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hxy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">h (class_of x) = h (class_of y)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">rew [isclass] Heq1 <span class="kr">in</span> Hisclass x = Hisclass y</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">apply</span> PI.</span></span><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk2c2" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk2c2"><span class="highlight">}</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">PredExtRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalPredicateRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">PI</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ProofIrrelevance</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">isclass</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">P</span> : A -&gt; <span class="kt">Prop</span> =&gt; <span class="kr">exists</span> <span class="nv">x0</span> : A, P x0</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; <span class="kt">Prop</span>) -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{P : A -&gt; <span class="kt">Prop</span> | isclass P}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">contains</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">c</span> : class) (<span class="nv">a</span> : A) =&gt; proj1_sig c a</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class_of</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> : A =&gt; R a</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : class, contains x0 (f x0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; <span class="kt">Prop</span>) -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : A -&gt; <span class="kt">Prop</span>,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, P x0 &lt;-&gt; h P x0) /\
(<span class="kr">forall</span> <span class="nv">Q</span> : A -&gt; <span class="kt">Prop</span>,
 (<span class="kr">forall</span> <span class="nv">x0</span> : A, P x0 &lt;-&gt; Q x0) -&gt; h P = h Q)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hisclass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : A, isclass (h (class_of a))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
exist isclass (h (class_of a)) (Hisclass a)
:
class</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; class</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A,
class_of x x0 &lt;-&gt; h (class_of x) x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Huniqx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">Q</span> : A -&gt; <span class="kt">Prop</span>,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, class_of x x0 &lt;-&gt; Q x0) -&gt;
h (class_of x) = h Q</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hxy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">h (class_of x) = h (class_of y)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">rew [isclass] Heq1 <span class="kr">in</span> Hisclass x = Hisclass y</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">f&#39; x = f&#39; y</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">       </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk2c3" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk2c3"><span class="highlight"><span class="nb">unfold</span> f&#39;.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">PredExtRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalPredicateRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">PI</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ProofIrrelevance</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">isclass</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">P</span> : A -&gt; <span class="kt">Prop</span> =&gt; <span class="kr">exists</span> <span class="nv">x0</span> : A, P x0</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; <span class="kt">Prop</span>) -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{P : A -&gt; <span class="kt">Prop</span> | isclass P}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">contains</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">c</span> : class) (<span class="nv">a</span> : A) =&gt; proj1_sig c a</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class_of</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> : A =&gt; R a</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : class, contains x0 (f x0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; <span class="kt">Prop</span>) -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : A -&gt; <span class="kt">Prop</span>,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, P x0 &lt;-&gt; h P x0) /\
(<span class="kr">forall</span> <span class="nv">Q</span> : A -&gt; <span class="kt">Prop</span>,
 (<span class="kr">forall</span> <span class="nv">x0</span> : A, P x0 &lt;-&gt; Q x0) -&gt; h P = h Q)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hisclass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : A, isclass (h (class_of a))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
exist isclass (h (class_of a)) (Hisclass a)
:
class</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; class</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A,
class_of x x0 &lt;-&gt; h (class_of x) x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Huniqx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">Q</span> : A -&gt; <span class="kt">Prop</span>,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, class_of x x0 &lt;-&gt; Q x0) -&gt;
h (class_of x) = h Q</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hxy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">h (class_of x) = h (class_of y)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">rew [isclass] Heq1 <span class="kr">in</span> Hisclass x = Hisclass y</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">exist isclass (h (class_of x)) (Hisclass x) =
exist isclass (h (class_of y)) (Hisclass y)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">       </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk2c4" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk2c4"><span class="highlight"><span class="nb">rewrite</span> &lt;- Heq2.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">PredExtRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalPredicateRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">PI</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ProofIrrelevance</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">isclass</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">P</span> : A -&gt; <span class="kt">Prop</span> =&gt; <span class="kr">exists</span> <span class="nv">x0</span> : A, P x0</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; <span class="kt">Prop</span>) -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{P : A -&gt; <span class="kt">Prop</span> | isclass P}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">contains</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">c</span> : class) (<span class="nv">a</span> : A) =&gt; proj1_sig c a</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class_of</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> : A =&gt; R a</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : class, contains x0 (f x0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; <span class="kt">Prop</span>) -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : A -&gt; <span class="kt">Prop</span>,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, P x0 &lt;-&gt; h P x0) /\
(<span class="kr">forall</span> <span class="nv">Q</span> : A -&gt; <span class="kt">Prop</span>,
 (<span class="kr">forall</span> <span class="nv">x0</span> : A, P x0 &lt;-&gt; Q x0) -&gt; h P = h Q)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hisclass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : A, isclass (h (class_of a))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
exist isclass (h (class_of a)) (Hisclass a)
:
class</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; class</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A,
class_of x x0 &lt;-&gt; h (class_of x) x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Huniqx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">Q</span> : A -&gt; <span class="kt">Prop</span>,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, class_of x x0 &lt;-&gt; Q x0) -&gt;
h (class_of x) = h Q</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hxy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">h (class_of x) = h (class_of y)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">rew [isclass] Heq1 <span class="kr">in</span> Hisclass x = Hisclass y</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">exist isclass (h (class_of x)) (Hisclass x) =
exist isclass (h (class_of y))
  (rew [isclass] Heq1 <span class="kr">in</span> Hisclass x)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">       </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk2c5" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk2c5"><span class="highlight"><span class="nb">rewrite</span> &lt;- Heq1.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">PredExtRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalPredicateRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">PI</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ProofIrrelevance</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrefl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Reflexive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsym</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Symmetric R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Htrans</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Transitive R</span></span></span></div><div class="goal-hyp"><span class="hyp-names">isclass</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">P</span> : A -&gt; <span class="kt">Prop</span> =&gt; <span class="kr">exists</span> <span class="nv">x0</span> : A, P x0</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; <span class="kt">Prop</span>) -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">{P : A -&gt; <span class="kt">Prop</span> | isclass P}</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">contains</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> (<span class="nv">c</span> : class) (<span class="nv">a</span> : A) =&gt; proj1_sig c a</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">class_of</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> : A =&gt; R a</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">class -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : class, contains x0 (f x0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(A -&gt; <span class="kt">Prop</span>) -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hh</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : A -&gt; <span class="kt">Prop</span>,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, P x0 &lt;-&gt; h P x0) /\
(<span class="kr">forall</span> <span class="nv">Q</span> : A -&gt; <span class="kt">Prop</span>,
 (<span class="kr">forall</span> <span class="nv">x0</span> : A, P x0 &lt;-&gt; Q x0) -&gt; h P = h Q)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hisclass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : A, isclass (h (class_of a))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f'</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight"><span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
exist isclass (h (class_of a)) (Hisclass a)
:
class</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; class</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : A,
class_of x x0 &lt;-&gt; h (class_of x) x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Huniqx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">Q</span> : A -&gt; <span class="kt">Prop</span>,
(<span class="kr">forall</span> <span class="nv">x0</span> : A, class_of x x0 &lt;-&gt; Q x0) -&gt;
h (class_of x) = h Q</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hxy</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">h (class_of x) = h (class_of y)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">rew [isclass] Heq1 <span class="kr">in</span> Hisclass x = Hisclass y</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">exist isclass (h (class_of x)) (Hisclass x) =
exist isclass (h (class_of x))
  (rew [isclass] eq_refl <span class="kr">in</span> Hisclass x)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">       </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">reflexivity</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk2c6" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk2c6"><span class="highlight"><span class="kn">Theorem</span> <span class="nf">setoid_functional_choice_second_characterization</span> :
  FunctionalChoice /\ ExtensionalPredicateRepresentative /\ ProofIrrelevance &lt;-&gt; SetoidFunctionalChoice.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">FunctionalChoice /\
ExtensionalPredicateRepresentative /\ ProofIrrelevance &lt;-&gt;
SetoidFunctionalChoice</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk2c7" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk2c7"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">FunctionalChoice /\
ExtensionalPredicateRepresentative /\ ProofIrrelevance &lt;-&gt;
SetoidFunctionalChoice</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk2c8" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk2c8"><span class="highlight"><span class="nb">split</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">FunctionalChoice /\
ExtensionalPredicateRepresentative /\ ProofIrrelevance -&gt;
SetoidFunctionalChoice</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk2c9" style="display: none" type="checkbox"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">SetoidFunctionalChoice -&gt;
FunctionalChoice /\
ExtensionalPredicateRepresentative /\ ProofIrrelevance</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk2ca" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk2ca"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">FunctionalChoice /\
ExtensionalPredicateRepresentative /\ ProofIrrelevance -&gt;
SetoidFunctionalChoice</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk2cb" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk2cb"><span class="highlight"><span class="nb">intros</span> (FunChoice &amp; ExtPredRepr &amp; PI).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">ExtPredRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalPredicateRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">PI</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ProofIrrelevance</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">SetoidFunctionalChoice</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk2cc" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk2cc"><span class="highlight"><span class="nb">apply</span> functional_rel_reification_and_repr_fun_choice_imp_setoid_fun_choice.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">ExtPredRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalPredicateRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">PI</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ProofIrrelevance</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">FunctionalRelReification</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk2cd" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">ExtPredRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalPredicateRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">PI</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ProofIrrelevance</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chk2cd"><hr></label><div class="goal-conclusion"><span class="highlight">RepresentativeFunctionalChoice</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk2ce" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk2ce"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">ExtPredRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalPredicateRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">PI</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ProofIrrelevance</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">FunctionalRelReification</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk2cf" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk2cf"><span class="highlight"><span class="nb">intros</span> A B.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">ExtPredRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalPredicateRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">PI</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ProofIrrelevance</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">FunctionalRelReification_on A B</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">now</span> <span class="nb">apply</span> fun_choice_imp_functional_rel_reification.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk2d0" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk2d0"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">FunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">FunctionalChoice</span></span></span></div><div class="goal-hyp"><span class="hyp-names">ExtPredRepr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ExtensionalPredicateRepresentative</span></span></span></div><div class="goal-hyp"><span class="hyp-names">PI</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">ProofIrrelevance</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">RepresentativeFunctionalChoice</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">now</span> <span class="nb">apply</span> fun_choice_and_ext_pred_ext_and_proof_irrel_imp_setoid_fun_choice.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk2d1" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk2d1"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">SetoidFunctionalChoice -&gt;
FunctionalChoice /\
ExtensionalPredicateRepresentative /\ ProofIrrelevance</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk2d2" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk2d2"><span class="highlight"><span class="nb">intro</span> SetoidFunChoice.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">SetoidFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">SetoidFunctionalChoice</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">FunctionalChoice /\
ExtensionalPredicateRepresentative /\ ProofIrrelevance</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk2d3" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk2d3"><span class="highlight"><span class="kp">repeat</span> <span class="nb">split</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">SetoidFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">SetoidFunctionalChoice</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">FunctionalChoice</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk2d4" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">SetoidFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">SetoidFunctionalChoice</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chk2d4"><hr></label><div class="goal-conclusion"><span class="highlight">ExtensionalPredicateRepresentative</span></div></blockquote><input class="coq-extra-goal-toggle" id="ChoiceFacts-v-chk2d5" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">SetoidFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">SetoidFunctionalChoice</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="ChoiceFacts-v-chk2d5"><hr></label><div class="goal-conclusion"><span class="highlight">ProofIrrelevance</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk2d6" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk2d6"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">SetoidFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">SetoidFunctionalChoice</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">FunctionalChoice</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">now</span> <span class="nb">intros</span> A B; <span class="nb">apply</span> setoid_fun_choice_imp_fun_choice.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk2d7" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk2d7"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">SetoidFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">SetoidFunctionalChoice</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">ExtensionalPredicateRepresentative</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk2d8" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk2d8"><span class="highlight"><span class="nb">apply</span> repr_fun_choice_imp_ext_pred_repr.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">SetoidFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">SetoidFunctionalChoice</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">RepresentativeFunctionalChoice</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">       </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">now</span> <span class="nb">apply</span> setoid_fun_choice_imp_repr_fun_choice.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk2d9" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk2d9"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">SetoidFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">SetoidFunctionalChoice</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">ProofIrrelevance</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk2da" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk2da"><span class="highlight"><span class="nb">red</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">SetoidFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">SetoidFunctionalChoice</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">A</span> : <span class="kt">Prop</span>) (<span class="nv">a1</span> <span class="nv">a2</span> : A), a1 = a2</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk2db" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk2db"><span class="highlight"><span class="nb">apply</span> proof_irrelevance_cci.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">SetoidFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">SetoidFunctionalChoice</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">A</span> : <span class="kt">Prop</span>, A \/ ~ A</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">       </span><span class="coq-sentence"><input class="coq-toggle" id="ChoiceFacts-v-chk2dc" style="display: none" type="checkbox"><label class="coq-input" for="ChoiceFacts-v-chk2dc"><span class="highlight"><span class="nb">apply</span> repr_fun_choice_imp_excluded_middle.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">SetoidFunChoice</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">SetoidFunctionalChoice</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">RepresentativeFunctionalChoice</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">       </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">now</span> <span class="nb">apply</span> setoid_fun_choice_imp_repr_fun_choice.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
<span class="sd">(**********************************************************************)</span></span></span></pre><div class="doc">
<a name="lab29"></a><h1 class="section">Compatibility notations</h1>
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Notation</span> <span class="nf">description_rel_choice_imp_funct_choice</span> :=
  functional_rel_reification_and_rel_choice_imp_fun_choice (<span class="kn">only parsing</span>).</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Notation</span> <span class="nf">funct_choice_imp_rel_choice</span> := fun_choice_imp_rel_choice (<span class="kn">only parsing</span>).</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Notation</span> <span class="nf">FunChoice_Equiv_RelChoice_and_ParamDefinDescr</span> :=
 fun_choice_iff_rel_choice_and_functional_rel_reification (<span class="kn">only parsing</span>).</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Notation</span> <span class="nf">funct_choice_imp_description</span> := fun_choice_imp_functional_rel_reification (<span class="kn">only parsing</span>).</span></span></span></pre></article></body></html>