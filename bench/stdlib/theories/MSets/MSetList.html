<!DOCTYPE html>
<html><head><title>MSetList.v</title><meta charset="utf-8"><meta content="Alectryon v0.2" name="generator"><link href="alectryon.css" rel="stylesheet"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/IBM-type/0.5.4/css/ibm-type.min.css" integrity="sha512-sky5cf9Ts6FY1kstGOBHSybfKqdHR41M0Ldb0BjNiv3ifltoQIsg0zIaQ+wwdwgQ0w9vKFW7Js50lxH9vqNSSw==" crossorigin="anonymous" /><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/firacode/5.2.0/fira_code.min.css" integrity="sha512-MbysAYimH1hH2xYzkkMHB6MqxBqfP0megxsCLknbYqHVwXTCg9IqHbk+ZP/vnhO8UEW6PaXAkKe2vQ+SWACxxA==" crossorigin="anonymous" /><script src="alectryon.js"></script><style type="text/css">.highlight .hll { background-color: #ffffcc }
.highlight .c { color: #555753; font-style: italic } /* Comment */
.highlight .err { color: #a40000; border: 1px solid #cc0000 } /* Error */
.highlight .g { color: #000000 } /* Generic */
.highlight .k { color: #8f5902 } /* Keyword */
.highlight .l { color: #2e3436 } /* Literal */
.highlight .n { color: #000000 } /* Name */
.highlight .o { color: #000000 } /* Operator */
.highlight .x { color: #2e3436 } /* Other */
.highlight .p { color: #000000 } /* Punctuation */
.highlight .ch { color: #555753; font-weight: bold; font-style: italic } /* Comment.Hashbang */
.highlight .cm { color: #555753; font-style: italic } /* Comment.Multiline */
.highlight .cp { color: #3465a4; font-style: italic } /* Comment.Preproc */
.highlight .cpf { color: #555753; font-style: italic } /* Comment.PreprocFile */
.highlight .c1 { color: #555753; font-style: italic } /* Comment.Single */
.highlight .cs { color: #3465a4; font-weight: bold; font-style: italic } /* Comment.Special */
.highlight .gd { color: #a40000 } /* Generic.Deleted */
.highlight .ge { color: #000000; font-style: italic } /* Generic.Emph */
.highlight .gr { color: #a40000 } /* Generic.Error */
.highlight .gh { color: #a40000; font-weight: bold } /* Generic.Heading */
.highlight .gi { color: #4e9a06 } /* Generic.Inserted */
.highlight .go { color: #000000; font-style: italic } /* Generic.Output */
.highlight .gp { color: #8f5902 } /* Generic.Prompt */
.highlight .gs { color: #000000; font-weight: bold } /* Generic.Strong */
.highlight .gu { color: #000000; font-weight: bold } /* Generic.Subheading */
.highlight .gt { color: #000000; font-style: italic } /* Generic.Traceback */
.highlight .kc { color: #204a87; font-weight: bold } /* Keyword.Constant */
.highlight .kd { color: #4e9a06; font-weight: bold } /* Keyword.Declaration */
.highlight .kn { color: #4e9a06; font-weight: bold } /* Keyword.Namespace */
.highlight .kp { color: #204a87 } /* Keyword.Pseudo */
.highlight .kr { color: #8f5902 } /* Keyword.Reserved */
.highlight .kt { color: #204a87 } /* Keyword.Type */
.highlight .ld { color: #2e3436 } /* Literal.Date */
.highlight .m { color: #2e3436 } /* Literal.Number */
.highlight .s { color: #ad7fa8 } /* Literal.String */
.highlight .na { color: #c4a000 } /* Name.Attribute */
.highlight .nb { color: #75507b } /* Name.Builtin */
.highlight .nc { color: #204a87 } /* Name.Class */
.highlight .no { color: #ce5c00 } /* Name.Constant */
.highlight .nd { color: #3465a4; font-weight: bold } /* Name.Decorator */
.highlight .ni { color: #c4a000; text-decoration: underline } /* Name.Entity */
.highlight .ne { color: #cc0000 } /* Name.Exception */
.highlight .nf { color: #a40000 } /* Name.Function */
.highlight .nl { color: #3465a4; font-weight: bold } /* Name.Label */
.highlight .nn { color: #000000 } /* Name.Namespace */
.highlight .nx { color: #000000 } /* Name.Other */
.highlight .py { color: #000000 } /* Name.Property */
.highlight .nt { color: #a40000 } /* Name.Tag */
.highlight .nv { color: #ce5c00 } /* Name.Variable */
.highlight .ow { color: #8f5902 } /* Operator.Word */
.highlight .w { color: #d3d7cf; text-decoration: underline } /* Text.Whitespace */
.highlight .mb { color: #2e3436 } /* Literal.Number.Bin */
.highlight .mf { color: #2e3436 } /* Literal.Number.Float */
.highlight .mh { color: #2e3436 } /* Literal.Number.Hex */
.highlight .mi { color: #2e3436 } /* Literal.Number.Integer */
.highlight .mo { color: #2e3436 } /* Literal.Number.Oct */
.highlight .sa { color: #ad7fa8 } /* Literal.String.Affix */
.highlight .sb { color: #ad7fa8 } /* Literal.String.Backtick */
.highlight .sc { color: #ad7fa8; font-weight: bold } /* Literal.String.Char */
.highlight .dl { color: #ad7fa8 } /* Literal.String.Delimiter */
.highlight .sd { color: #ad7fa8 } /* Literal.String.Doc */
.highlight .s2 { color: #ad7fa8 } /* Literal.String.Double */
.highlight .se { color: #ad7fa8; font-weight: bold } /* Literal.String.Escape */
.highlight .sh { color: #ad7fa8; text-decoration: underline } /* Literal.String.Heredoc */
.highlight .si { color: #ce5c00 } /* Literal.String.Interpol */
.highlight .sx { color: #ad7fa8 } /* Literal.String.Other */
.highlight .sr { color: #ad7fa8 } /* Literal.String.Regex */
.highlight .s1 { color: #ad7fa8 } /* Literal.String.Single */
.highlight .ss { color: #8f5902 } /* Literal.String.Symbol */
.highlight .bp { color: #5c35cc } /* Name.Builtin.Pseudo */
.highlight .fm { color: #a40000 } /* Name.Function.Magic */
.highlight .vc { color: #ce5c00 } /* Name.Variable.Class */
.highlight .vg { color: #ce5c00; text-decoration: underline } /* Name.Variable.Global */
.highlight .vi { color: #ce5c00 } /* Name.Variable.Instance */
.highlight .vm { color: #ce5c00 } /* Name.Variable.Magic */
.highlight .il { color: #2e3436 } /* Literal.Number.Integer.Long */</style></head><body><article class="alectryon-root alectryon-standalone alectryon-centered alectryon-coqdoc"><div class="alectryon-header">Built with <a href="https://github.com/cpitclaudel/alectryon/">Alectryon</a>, running <a href="https://coq.inria.fr/">Coq</a>+<a href="https://github.com/ejgallego/coq-serapi">SerAPI</a> v8.10.0+0.7.0. Coq sources are in this panel; goals and messages will appear in the other. Bubbles (<span class="alectryon-bubble"></span>) indicate interactive fragments: hover for details, tap to reveal contents. Use <kbd>Ctrl+‚Üë</kbd> <kbd>Ctrl+‚Üì</kbd> to navigate, <kbd>Ctrl+üñ±Ô∏è</kbd> to focus.</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-wsp"><span class="highlight"><span class="sd">(************************************************************************)</span>
<span class="c">(*         *   The Coq Proof Assistant / The Coq Development Team       *)</span>
<span class="c">(*  v      *   INRIA, CNRS and contributors - Copyright 1999-2018       *)</span>
<span class="c">(* &lt;O___,, *       (see CREDITS file for the list of authors)           *)</span>
<span class="c">(*   \VV/  **************************************************************)</span>
<span class="c">(*    //   *    This file is distributed under the terms of the         *)</span>
<span class="c">(*         *     GNU Lesser General Public License Version 2.1          *)</span>
<span class="c">(*         *     (see LICENSE file for the text of the license)         *)</span>
<span class="sd">(************************************************************************)</span></span></span></pre><div class="doc">
<a name="lab1"></a><h1 class="section">Finite sets library</h1>
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --></pre><div class="doc">
This file proposes an implementation of the non-dependent
    interface <span class="inlinecode"><span class="id" title="var">MSetInterface.S</span></span> using strictly ordered list. 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Require Export</span> MSetInterface OrdersFacts OrdersLists.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Set Implicit Arguments</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Unset Strict Implicit</span>.</span></span></span></pre><div class="doc">
<a name="lab2"></a><h1 class="section">Functions over lists</h1>
<div class="paragraph"> </div>

   First, we provide sets as lists which are not necessarily sorted.
   The specs are proved under the additional condition of being sorted.
   And the functions returning sets are proved to preserve this invariant. 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Module</span> <span class="nf">Ops</span> (X:OrderedType) &lt;: WOps X.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">elt</span> := X.t.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">t</span> := list elt.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">empty</span> : t := nil.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">is_empty</span> (<span class="nv">l</span> : t) := <span class="kr">if</span> l <span class="kr">then</span> true <span class="kr">else</span> false.</span></span></span></pre><div class="doc">
<a name="lab3"></a><h2 class="section">The set operations.</h2>
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-wsp"><span class="highlight">  </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Fixpoint</span> <span class="nf">mem</span> <span class="nv">x</span> <span class="nv">s</span> :=
    <span class="kr">match</span> s <span class="kr">with</span>
    | nil =&gt; false
    | y :: l =&gt;
        <span class="kr">match</span> X.<span class="nb">compare</span> x y <span class="kr">with</span>
        | Lt =&gt; false
        | Eq =&gt; true
        | Gt =&gt; mem x l
        <span class="kr">end</span>
    <span class="kr">end</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Fixpoint</span> <span class="nf">add</span> <span class="nv">x</span> <span class="nv">s</span> :=
    <span class="kr">match</span> s <span class="kr">with</span>
    | nil =&gt; x :: nil
    | y :: l =&gt;
        <span class="kr">match</span> X.<span class="nb">compare</span> x y <span class="kr">with</span>
        | Lt =&gt; x :: s
        | Eq =&gt; s
        | Gt =&gt; y :: add x l
        <span class="kr">end</span>
    <span class="kr">end</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">singleton</span> (<span class="nv">x</span> : elt) := x :: nil.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Fixpoint</span> <span class="nf">remove</span> <span class="nv">x</span> <span class="nv">s</span> : t :=
    <span class="kr">match</span> s <span class="kr">with</span>
    | nil =&gt; nil
    | y :: l =&gt;
        <span class="kr">match</span> X.<span class="nb">compare</span> x y <span class="kr">with</span>
        | Lt =&gt; s
        | Eq =&gt; l
        | Gt =&gt; y :: remove x l
        <span class="kr">end</span>
    <span class="kr">end</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Fixpoint</span> <span class="nf">union</span> (<span class="nv">s</span> : t) : t -&gt; t :=
    <span class="kr">match</span> s <span class="kr">with</span>
    | nil =&gt; <span class="kr">fun</span> <span class="nv">s&#39;</span> =&gt; s&#39;
    | x :: l =&gt;
        (<span class="kr">fix</span> union_aux (s&#39; : t) : t :=
           <span class="kr">match</span> s&#39; <span class="kr">with</span>
           | nil =&gt; s
           | x&#39; :: l&#39; =&gt;
               <span class="kr">match</span> X.<span class="nb">compare</span> x x&#39; <span class="kr">with</span>
               | Lt =&gt; x :: union l s&#39;
               | Eq =&gt; x :: union l l&#39;
               | Gt =&gt; x&#39; :: union_aux l&#39;
               <span class="kr">end</span>
           <span class="kr">end</span>)
    <span class="kr">end</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Fixpoint</span> <span class="nf">inter</span> (<span class="nv">s</span> : t) : t -&gt; t :=
    <span class="kr">match</span> s <span class="kr">with</span>
    | nil =&gt; <span class="kr">fun</span> <span class="nv">_</span> =&gt; nil
    | x :: l =&gt;
        (<span class="kr">fix</span> inter_aux (s&#39; : t) : t :=
           <span class="kr">match</span> s&#39; <span class="kr">with</span>
           | nil =&gt; nil
           | x&#39; :: l&#39; =&gt;
               <span class="kr">match</span> X.<span class="nb">compare</span> x x&#39; <span class="kr">with</span>
               | Lt =&gt; inter l s&#39;
               | Eq =&gt; x :: inter l l&#39;
               | Gt =&gt; inter_aux l&#39;
               <span class="kr">end</span>
           <span class="kr">end</span>)
    <span class="kr">end</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Fixpoint</span> <span class="nf">diff</span> (<span class="nv">s</span> : t) : t -&gt; t :=
    <span class="kr">match</span> s <span class="kr">with</span>
    | nil =&gt; <span class="kr">fun</span> <span class="nv">_</span> =&gt; nil
    | x :: l =&gt;
        (<span class="kr">fix</span> diff_aux (s&#39; : t) : t :=
           <span class="kr">match</span> s&#39; <span class="kr">with</span>
           | nil =&gt; s
           | x&#39; :: l&#39; =&gt;
               <span class="kr">match</span> X.<span class="nb">compare</span> x x&#39; <span class="kr">with</span>
               | Lt =&gt; x :: diff l s&#39;
               | Eq =&gt; diff l l&#39;
               | Gt =&gt; diff_aux l&#39;
               <span class="kr">end</span>
           <span class="kr">end</span>)
    <span class="kr">end</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Fixpoint</span> <span class="nf">equal</span> (<span class="nv">s</span> : t) : t -&gt; bool :=
    <span class="kr">fun</span> <span class="nv">s&#39;</span> : t =&gt;
    <span class="kr">match</span> s, s&#39; <span class="kr">with</span>
    | nil, nil =&gt; true
    | x :: l, x&#39; :: l&#39; =&gt;
        <span class="kr">match</span> X.<span class="nb">compare</span> x x&#39; <span class="kr">with</span>
        | Eq =&gt; equal l l&#39;
        | _ =&gt; false
        <span class="kr">end</span>
    | _, _ =&gt; false
    <span class="kr">end</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Fixpoint</span> <span class="nf">subset</span> <span class="nv">s</span> <span class="nv">s&#39;</span> :=
    <span class="kr">match</span> s, s&#39; <span class="kr">with</span>
    | nil, _ =&gt; true
    | x :: l, x&#39; :: l&#39; =&gt;
        <span class="kr">match</span> X.<span class="nb">compare</span> x x&#39; <span class="kr">with</span>
        | Lt =&gt; false
        | Eq =&gt; subset l l&#39;
        | Gt =&gt; subset s l&#39;
        <span class="kr">end</span>
    | _, _ =&gt; false
    <span class="kr">end</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">fold</span> (<span class="nv">B</span> : <span class="kt">Type</span>) (<span class="nv">f</span> : elt -&gt; B -&gt; B) (<span class="nv">s</span> : t) (<span class="nv">i</span> : B) : B :=
    fold_left (flip f) s i.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Fixpoint</span> <span class="nf">filter</span> (<span class="nv">f</span> : elt -&gt; bool) (<span class="nv">s</span> : t) : t :=
    <span class="kr">match</span> s <span class="kr">with</span>
    | nil =&gt; nil
    | x :: l =&gt; <span class="kr">if</span> f x <span class="kr">then</span> x :: filter f l <span class="kr">else</span> filter f l
    <span class="kr">end</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Fixpoint</span> <span class="nf">for_all</span> (<span class="nv">f</span> : elt -&gt; bool) (<span class="nv">s</span> : t) : bool :=
    <span class="kr">match</span> s <span class="kr">with</span>
    | nil =&gt; true
    | x :: l =&gt; <span class="kr">if</span> f x <span class="kr">then</span> for_all f l <span class="kr">else</span> false
    <span class="kr">end</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Fixpoint</span> <span class="nf">exists_</span> (<span class="nv">f</span> : elt -&gt; bool) (<span class="nv">s</span> : t) : bool :=
    <span class="kr">match</span> s <span class="kr">with</span>
    | nil =&gt; false
    | x :: l =&gt; <span class="kr">if</span> f x <span class="kr">then</span> true <span class="kr">else</span> exists_ f l
    <span class="kr">end</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Fixpoint</span> <span class="nf">partition</span> (<span class="nv">f</span> : elt -&gt; bool) (<span class="nv">s</span> : t) : t * t :=
    <span class="kr">match</span> s <span class="kr">with</span>
    | nil =&gt; (nil, nil)
    | x :: l =&gt;
        <span class="kr">let</span> (<span class="nv">s1</span>, s2) := partition f l <span class="kr">in</span>
        <span class="kr">if</span> f x <span class="kr">then</span> (x :: s1, s2) <span class="kr">else</span> (s1, x :: s2)
    <span class="kr">end</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">cardinal</span> (<span class="nv">s</span> : t) : nat := length s.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">elements</span> (<span class="nv">x</span> : t) : list elt := x.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">min_elt</span> (<span class="nv">s</span> : t) : option elt :=
    <span class="kr">match</span> s <span class="kr">with</span>
    | nil =&gt; None
    | x :: _ =&gt; Some x
    <span class="kr">end</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Fixpoint</span> <span class="nf">max_elt</span> (<span class="nv">s</span> : t) : option elt :=
    <span class="kr">match</span> s <span class="kr">with</span>
    | nil =&gt; None
    | x :: nil =&gt; Some x
    | _ :: l =&gt; max_elt l
    <span class="kr">end</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">choose</span> := min_elt.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Fixpoint</span> <span class="nf">compare</span> <span class="nv">s</span> <span class="nv">s&#39;</span> :=
   <span class="kr">match</span> s, s&#39; <span class="kr">with</span>
    | nil, nil =&gt; Eq
    | nil, _ =&gt; Lt
    | _, nil =&gt; Gt
    | x::s, x&#39;::s&#39; =&gt;
      <span class="kr">match</span> X.<span class="nb">compare</span> x x&#39; <span class="kr">with</span>
       | Eq =&gt; <span class="nb">compare</span> s s&#39;
       | Lt =&gt; Lt
       | Gt =&gt; Gt
      <span class="kr">end</span>
   <span class="kr">end</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">End</span> <span class="nf">Ops</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Module</span> <span class="nf">MakeRaw</span> (X: OrderedType) &lt;: RawSets X.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Module</span> <span class="nf">Import</span> MX := OrderedTypeFacts X.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Module</span> <span class="nf">Import</span> ML := OrderedTypeLists X.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Include</span> Ops X.</span></span></span></pre><div class="doc">
<a name="lab4"></a><h2 class="section">Proofs of set operation specifications.</h2>
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-wsp"><span class="highlight">  </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Section</span> <span class="nf">ForNotations</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">inf</span> <span class="nv">x</span> <span class="nv">l</span> :=
   <span class="kr">match</span> l <span class="kr">with</span>
   | nil =&gt; true
   | y::_ =&gt; <span class="kr">match</span> X.<span class="nb">compare</span> x y <span class="kr">with</span> Lt =&gt; true | _ =&gt; false <span class="kr">end</span>
   <span class="kr">end</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Fixpoint</span> <span class="nf">isok</span> <span class="nv">l</span> :=
   <span class="kr">match</span> l <span class="kr">with</span>
   | nil =&gt; true
   | x::l =&gt; inf x l &amp;&amp; isok l
   <span class="kr">end</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Notation</span> <span class="nf">Sort</span> l := (isok l = true).</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Notation</span> <span class="nf">Inf</span> := (lelistA X.lt).</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Notation</span> <span class="nf">In</span> := (InA X.eq).</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Existing Instance</span> <span class="nf">X</span>.eq_equiv.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Hint Extern</span> <span class="mi">20</span> =&gt; <span class="kp">solve</span> [order] : core.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">IsOk</span> <span class="nv">s</span> := <span class="kn">Sort</span> s.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Class</span> <span class="nf">Ok</span> (<span class="nv">s</span>:t) : <span class="kt">Prop</span> := ok : <span class="kn">Sort</span> s.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Hint Resolve</span> ok : core.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Hint Unfold</span> Ok : core.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Instance</span> <span class="nf">Sort_Ok</span> <span class="nv">s</span> `(Hs : <span class="kn">Sort</span> s) : Ok s := { ok := Hs }.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk0" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk0"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">inf_iff</span> : <span class="kr">forall</span> <span class="nv">x</span> <span class="nv">l</span>, Inf x l &lt;-&gt; inf x l = true.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">x</span> : X.t) (<span class="nv">l</span> : list X.t),
Inf x l &lt;-&gt; inf x l = true</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk1" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk1"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">x</span> : X.t) (<span class="nv">l</span> : list X.t),
Inf x l &lt;-&gt; inf x l = true</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk2" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk2"><span class="highlight"><span class="nb">intros</span> x l; <span class="nb">split</span>; <span class="nb">intro</span> H.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x l</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">inf x l = true</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chk3" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">inf x l = true</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk3"><hr></label><div class="goal-conclusion"><span class="highlight">Inf x l</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">    <span class="c">(* -&gt; *)</span>
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk4" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk4"><span class="highlight"><span class="nb">destruct</span> H; <span class="nb">simpl</span> <span class="kr">in</span> *.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.t</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">true = true</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chk5" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt x b</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk5"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">match</span> X.<span class="nb">compare</span> x b <span class="kr">with</span>
| Lt =&gt; true
| _ =&gt; false
<span class="kr">end</span> = true</span></div></blockquote><input class="coq-extra-goal-toggle" id="MSetList-v-chk6" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">inf x l = true</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk6"><hr></label><div class="goal-conclusion"><span class="highlight">Inf x l</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">      </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk7" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk7"><span class="highlight"><span class="bp">reflexivity</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt x b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">match</span> X.<span class="nb">compare</span> x b <span class="kr">with</span>
| Lt =&gt; true
| _ =&gt; false
<span class="kr">end</span> = true</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chk8" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">inf x l = true</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk8"><hr></label><div class="goal-conclusion"><span class="highlight">Inf x l</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk9" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk9"><span class="highlight"><span class="nb">rewrite</span> &lt;- compare_lt_iff <span class="kr">in</span> H; <span class="nb">rewrite</span> H; <span class="bp">reflexivity</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">inf x l = true</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Inf x l</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">    <span class="c">(* &lt;- *)</span>
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chka" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chka"><span class="highlight"><span class="nb">destruct</span> l <span class="kr">as</span> [|y ys]; <span class="nb">simpl</span> <span class="kr">in</span> *.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">true = true</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Inf x nil</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chkb" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x, y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">ys</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">match</span> X.<span class="nb">compare</span> x y <span class="kr">with</span>
| Lt =&gt; true
| _ =&gt; false
<span class="kr">end</span> = true</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chkb"><hr></label><div class="goal-conclusion"><span class="highlight">Inf x (y :: ys)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">      </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chkc" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chkc"><span class="highlight"><span class="nb">constructor</span>; <span class="kp">fail</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x, y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">ys</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">match</span> X.<span class="nb">compare</span> x y <span class="kr">with</span>
| Lt =&gt; true
| _ =&gt; false
<span class="kr">end</span> = true</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Inf x (y :: ys)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chkd" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chkd"><span class="highlight"><span class="nb">revert</span> H; <span class="nb">case_eq</span> (X.<span class="nb">compare</span> x y); <span class="kp">try</span> <span class="bp">discriminate</span>; [].</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x, y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">ys</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">X.<span class="nb">compare</span> x y = Lt -&gt; true = true -&gt; Inf x (y :: ys)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chke" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chke"><span class="highlight"><span class="nb">intros</span> Ha _.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x, y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">ys</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.<span class="nb">compare</span> x y = Lt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Inf x (y :: ys)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chkf" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chkf"><span class="highlight"><span class="nb">rewrite</span> compare_lt_iff <span class="kr">in</span> Ha.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x, y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">ys</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt x y</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Inf x (y :: ys)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">constructor</span>; <span class="bp">assumption</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk10" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk10"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">isok_iff</span> : <span class="kr">forall</span> <span class="nv">l</span>, sort X.lt l &lt;-&gt; Ok l.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">l</span> : list X.t, Sorted X.lt l &lt;-&gt; Ok l</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk11" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk11"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">l</span> : list X.t, Sorted X.lt l &lt;-&gt; Ok l</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk12" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk12"><span class="highlight"><span class="nb">intro</span> l; <span class="nb">split</span>; <span class="nb">intro</span> H.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt l</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Ok l</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chk13" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok l</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk13"><hr></label><div class="goal-conclusion"><span class="highlight">Sorted X.lt l</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">    <span class="c">(* -&gt; *)</span>
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk14" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk14"><span class="highlight"><span class="nb">elim</span> H.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt l</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Ok nil</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chk15" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt l</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk15"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">a</span> : X.t) (<span class="nv">l0</span> : list X.t),
Sorted X.lt l0 -&gt; Ok l0 -&gt; Inf a l0 -&gt; Ok (a :: l0)</span></div></blockquote><input class="coq-extra-goal-toggle" id="MSetList-v-chk16" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok l</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk16"><hr></label><div class="goal-conclusion"><span class="highlight">Sorted X.lt l</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">      </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk17" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk17"><span class="highlight"><span class="nb">constructor</span>; <span class="kp">fail</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt l</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">a</span> : X.t) (<span class="nv">l0</span> : list X.t),
Sorted X.lt l0 -&gt; Ok l0 -&gt; Inf a l0 -&gt; Ok (a :: l0)</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chk18" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok l</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk18"><hr></label><div class="goal-conclusion"><span class="highlight">Sorted X.lt l</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk19" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk19"><span class="highlight"><span class="nb">intros</span> y ys Ha Hb Hc.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt l</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">ys</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt ys</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok ys</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf y ys</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Ok (y :: ys)</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chk1a" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok l</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk1a"><hr></label><div class="goal-conclusion"><span class="highlight">Sorted X.lt l</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk1b" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk1b"><span class="highlight"><span class="nb">change</span> (inf y ys &amp;&amp; isok ys = true).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt l</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">ys</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt ys</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok ys</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf y ys</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">inf y ys &amp;&amp; isok ys = true</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chk1c" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok l</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk1c"><hr></label><div class="goal-conclusion"><span class="highlight">Sorted X.lt l</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk1d" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk1d"><span class="highlight"><span class="nb">rewrite</span> inf_iff <span class="kr">in</span> Hc.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt l</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">ys</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt ys</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok ys</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">inf y ys = true</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">inf y ys &amp;&amp; isok ys = true</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chk1e" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok l</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk1e"><hr></label><div class="goal-conclusion"><span class="highlight">Sorted X.lt l</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk1f" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk1f"><span class="highlight"><span class="nb">rewrite</span> andb_true_iff; <span class="bp">tauto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok l</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Sorted X.lt l</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">    <span class="c">(* &lt;- *)</span>
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk20" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk20"><span class="highlight"><span class="nb">induction</span> l <span class="kr">as</span> [|x xs].</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok nil</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Sorted X.lt nil</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chk21" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">xs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok (x :: xs)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHxs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok xs -&gt; Sorted X.lt xs</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk21"><hr></label><div class="goal-conclusion"><span class="highlight">Sorted X.lt (x :: xs)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">      </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk22" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk22"><span class="highlight"><span class="nb">constructor</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">xs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok (x :: xs)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHxs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok xs -&gt; Sorted X.lt xs</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Sorted X.lt (x :: xs)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk23" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk23"><span class="highlight"><span class="nb">change</span> (inf x xs &amp;&amp; isok xs = true) <span class="kr">in</span> H.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">xs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">inf x xs &amp;&amp; isok xs = true</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHxs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok xs -&gt; Sorted X.lt xs</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Sorted X.lt (x :: xs)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk24" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk24"><span class="highlight"><span class="nb">rewrite</span> andb_true_iff, &lt;- inf_iff <span class="kr">in</span> H.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">xs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x xs /\ <span class="kn">Sort</span> xs</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHxs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok xs -&gt; Sorted X.lt xs</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Sorted X.lt (x :: xs)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">destruct</span> H; <span class="nb">constructor</span>; <span class="bp">tauto</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Hint Extern</span> <span class="mi">1</span> (Ok _) =&gt; <span class="nb">rewrite</span> &lt;- isok_iff : core.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Ltac</span> <span class="nf">inv_ok</span> := <span class="kr">match goal with</span>
   | H:sort X.lt (_ :: _) |- _ =&gt; <span class="nb">inversion_clear</span> H; inv_ok
   | H:sort X.lt nil |- _ =&gt; <span class="nb">clear</span> H; inv_ok
   | H:sort X.lt <span class="nl">?l</span> |- _ =&gt; <span class="nb">change</span> (Ok l) <span class="kr">in</span> H; inv_ok
   | H:Ok _ |- _ =&gt; <span class="nb">rewrite</span> &lt;- isok_iff <span class="kr">in</span> H; inv_ok
   | |- Ok _ =&gt; <span class="nb">rewrite</span> &lt;- isok_iff
   | _ =&gt; <span class="kp">idtac</span>
  <span class="kr">end</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Ltac</span> <span class="nf">inv</span> := invlist InA; inv_ok; invlist lelistA.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Ltac</span> <span class="nf">constructors</span> := <span class="kp">repeat</span> <span class="nb">constructor</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Ltac</span> <span class="nf">sort_inf_in</span> := <span class="kr">match goal with</span>
   | H:Inf <span class="nl">?x</span> <span class="nl">?l</span>, H&#39;:In <span class="nl">?y</span> <span class="nl">?l</span> |- _ =&gt;
     <span class="nb">cut</span> (X.lt x y); [ <span class="nb">intro</span> | <span class="nb">apply</span> Sort_Inf_In <span class="kr">with</span> l; <span class="nb">auto</span>]
   | _ =&gt; <span class="kp">fail</span>
  <span class="kr">end</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk25" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk25"><span class="highlight"><span class="kn">Instance</span> <span class="nf">isok_Ok</span> <span class="nv">s</span> `(isok s = true) : Ok s | <span class="mi">10</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Sort</span> s</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Ok s</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk26" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk26"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Sort</span> s</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Ok s</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk27" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk27"><span class="highlight"><span class="nb">intros</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Sort</span> s</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Ok s</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">assumption</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">Equal</span> <span class="nv">s</span> <span class="nv">s&#39;</span> := <span class="kr">forall</span> <span class="nv">a</span> : elt, In a s &lt;-&gt; In a s&#39;.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">Subset</span> <span class="nv">s</span> <span class="nv">s&#39;</span> := <span class="kr">forall</span> <span class="nv">a</span> : elt, In a s -&gt; In a s&#39;.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">Empty</span> <span class="nv">s</span> := <span class="kr">forall</span> <span class="nv">a</span> : elt, ~ In a s.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">For_all</span> (<span class="nv">P</span> : elt -&gt; <span class="kt">Prop</span>) <span class="nv">s</span> := <span class="kr">forall</span> <span class="nv">x</span>, In x s -&gt; P x.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">Exists</span> (<span class="nv">P</span> : elt -&gt; <span class="kt">Prop</span>) (<span class="nv">s</span> : t) := <span class="kr">exists</span> <span class="nv">x</span>, In x s /\ P x.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk28" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk28"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">mem_spec</span> :
   <span class="kr">forall</span> (<span class="nv">s</span> : t) (<span class="nv">x</span> : elt) (<span class="nv">Hs</span> : Ok s), mem x s = true &lt;-&gt; In x s.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">s</span> : t) (<span class="nv">x</span> : elt),
Ok s -&gt; mem x s = true &lt;-&gt; In x s</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk29" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk29"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">s</span> : t) (<span class="nv">x</span> : elt),
Ok s -&gt; mem x s = true &lt;-&gt; In x s</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk2a" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk2a"><span class="highlight"><span class="nb">induction</span> s; <span class="nb">intros</span> x Hs; inv; <span class="nb">simpl</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">false = true &lt;-&gt; In x nil</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chk2b" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : elt, Ok s -&gt; mem x0 s = true &lt;-&gt; In x0 s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf a s</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk2b"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">match</span> X.<span class="nb">compare</span> x a <span class="kr">with</span>
| Eq =&gt; true
| Lt =&gt; false
| Gt =&gt; mem x s
<span class="kr">end</span> = true &lt;-&gt; In x (a :: s)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk2c" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk2c"><span class="highlight"><span class="nb">intuition</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">false = true</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">In x nil</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chk2d" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In x nil</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk2d"><hr></label><div class="goal-conclusion"><span class="highlight">false = true</span></div></blockquote><input class="coq-extra-goal-toggle" id="MSetList-v-chk2e" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : elt, Ok s -&gt; mem x0 s = true &lt;-&gt; In x0 s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf a s</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk2e"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">match</span> X.<span class="nb">compare</span> x a <span class="kr">with</span>
| Eq =&gt; true
| Lt =&gt; false
| Gt =&gt; mem x s
<span class="kr">end</span> = true &lt;-&gt; In x (a :: s)</span></div></blockquote></div></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk2f" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk2f"><span class="highlight"><span class="bp">discriminate</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In x nil</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">false = true</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chk30" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : elt, Ok s -&gt; mem x0 s = true &lt;-&gt; In x0 s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf a s</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk30"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">match</span> X.<span class="nb">compare</span> x a <span class="kr">with</span>
| Eq =&gt; true
| Lt =&gt; false
| Gt =&gt; mem x s
<span class="kr">end</span> = true &lt;-&gt; In x (a :: s)</span></div></blockquote></div></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk31" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk31"><span class="highlight">inv.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : elt, Ok s -&gt; mem x0 s = true &lt;-&gt; In x0 s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf a s</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">match</span> X.<span class="nb">compare</span> x a <span class="kr">with</span>
| Eq =&gt; true
| Lt =&gt; false
| Gt =&gt; mem x s
<span class="kr">end</span> = true &lt;-&gt; In x (a :: s)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk32" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk32"><span class="highlight">elim_compare x a; <span class="nb">rewrite</span> InA_cons; <span class="nb">intuition</span>; <span class="kp">try</span> order.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : elt, Ok s -&gt; mem x0 s = true &lt;-&gt; In x0 s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf a s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt x a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">false = true</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">X.eq x a \/ In x s</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chk33" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : elt, Ok s -&gt; mem x0 s = true &lt;-&gt; In x0 s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf a s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt x a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In x s</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk33"><hr></label><div class="goal-conclusion"><span class="highlight">false = true</span></div></blockquote><input class="coq-extra-goal-toggle" id="MSetList-v-chk34" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : elt, Ok s -&gt; mem x0 s = true &lt;-&gt; In x0 s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf a s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt a x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">mem x s = true</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk34"><hr></label><div class="goal-conclusion"><span class="highlight">X.eq x a \/ In x s</span></div></blockquote><input class="coq-extra-goal-toggle" id="MSetList-v-chk35" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : elt, Ok s -&gt; mem x0 s = true &lt;-&gt; In x0 s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf a s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt a x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In x s</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk35"><hr></label><div class="goal-conclusion"><span class="highlight">mem x s = true</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk36" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk36"><span class="highlight"><span class="bp">discriminate</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : elt, Ok s -&gt; mem x0 s = true &lt;-&gt; In x0 s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf a s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt x a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In x s</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">false = true</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chk37" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : elt, Ok s -&gt; mem x0 s = true &lt;-&gt; In x0 s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf a s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt a x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">mem x s = true</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk37"><hr></label><div class="goal-conclusion"><span class="highlight">X.eq x a \/ In x s</span></div></blockquote><input class="coq-extra-goal-toggle" id="MSetList-v-chk38" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : elt, Ok s -&gt; mem x0 s = true &lt;-&gt; In x0 s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf a s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt a x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In x s</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk38"><hr></label><div class="goal-conclusion"><span class="highlight">mem x s = true</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk39" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk39"><span class="highlight">sort_inf_in.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : elt, Ok s -&gt; mem x0 s = true &lt;-&gt; In x0 s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf a s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt x a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt a x</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">false = true</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chk3a" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : elt, Ok s -&gt; mem x0 s = true &lt;-&gt; In x0 s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf a s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt a x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">mem x s = true</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk3a"><hr></label><div class="goal-conclusion"><span class="highlight">X.eq x a \/ In x s</span></div></blockquote><input class="coq-extra-goal-toggle" id="MSetList-v-chk3b" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : elt, Ok s -&gt; mem x0 s = true &lt;-&gt; In x0 s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf a s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt a x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In x s</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk3b"><hr></label><div class="goal-conclusion"><span class="highlight">mem x s = true</span></div></blockquote></div></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk3c" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk3c"><span class="highlight">order.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : elt, Ok s -&gt; mem x0 s = true &lt;-&gt; In x0 s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf a s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt a x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">mem x s = true</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">X.eq x a \/ In x s</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chk3d" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : elt, Ok s -&gt; mem x0 s = true &lt;-&gt; In x0 s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf a s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt a x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In x s</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk3d"><hr></label><div class="goal-conclusion"><span class="highlight">mem x s = true</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk3e" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk3e"><span class="highlight"><span class="nb">rewrite</span> &lt;- IHs; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : elt, Ok s -&gt; mem x0 s = true &lt;-&gt; In x0 s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf a s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt a x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In x s</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">mem x s = true</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">rewrite</span> IHs; <span class="nb">auto</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk3f" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk3f"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">add_inf</span> :
   <span class="kr">forall</span> (<span class="nv">s</span> : t) (<span class="nv">x</span> <span class="nv">a</span> : elt), Inf a s -&gt; X.lt a x -&gt; Inf a (add x s).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">s</span> : t) (<span class="nv">x</span> <span class="nv">a</span> : elt),
Inf a s -&gt; X.lt a x -&gt; Inf a (add x s)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk40" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk40"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">s</span> : t) (<span class="nv">x</span> <span class="nv">a</span> : elt),
Inf a s -&gt; X.lt a x -&gt; Inf a (add x s)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk41" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk41"><span class="highlight"><span class="nb">simple induction</span> s; <span class="nb">simpl</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> <span class="nv">a</span> : elt,
Inf a nil -&gt; X.lt a x -&gt; Inf a (x :: nil)</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chk42" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk42"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">a</span> : elt) (<span class="nv">l</span> : list elt),
(<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">a0</span> : elt,
 Inf a0 l -&gt; X.lt a0 x -&gt; Inf a0 (add x l)) -&gt;
<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">a0</span> : elt,
Inf a0 (a :: l) -&gt;
X.lt a0 x -&gt;
Inf a0
  <span class="kr">match</span> X.<span class="nb">compare</span> x a <span class="kr">with</span>
  | Eq =&gt; a :: l
  | Lt =&gt; x :: a :: l
  | Gt =&gt; a :: add x l
  <span class="kr">end</span></span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk43" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk43"><span class="highlight"><span class="nb">intuition</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">a</span> : elt) (<span class="nv">l</span> : list elt),
(<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">a0</span> : elt,
 Inf a0 l -&gt; X.lt a0 x -&gt; Inf a0 (add x l)) -&gt;
<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">a0</span> : elt,
Inf a0 (a :: l) -&gt;
X.lt a0 x -&gt;
Inf a0
  <span class="kr">match</span> X.<span class="nb">compare</span> x a <span class="kr">with</span>
  | Eq =&gt; a :: l
  | Lt =&gt; x :: a :: l
  | Gt =&gt; a :: add x l
  <span class="kr">end</span></span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">intros</span>; elim_compare x a; inv; <span class="nb">intuition</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Hint Resolve</span> add_inf : core.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk44" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk44"><span class="highlight"><span class="kn">Instance</span> <span class="nf">add_ok</span> <span class="nv">s</span> <span class="nv">x</span> : <span class="kr">forall</span> `(Ok s), Ok (add x s).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.t</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Ok s -&gt; Ok (add x s)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk45" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk45"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.t</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Ok s -&gt; Ok (add x s)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk46" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk46"><span class="highlight"><span class="kp">repeat</span> <span class="nb">rewrite</span> &lt;- isok_iff; <span class="nb">revert</span> s x.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">s</span> : t) (<span class="nv">x</span> : X.t),
Sorted X.lt s -&gt; Sorted X.lt (add x s)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk47" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk47"><span class="highlight"><span class="nb">simple induction</span> s; <span class="nb">simpl</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : X.t,
Sorted X.lt nil -&gt; Sorted X.lt (x :: nil)</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chk48" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk48"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">a</span> : elt) (<span class="nv">l</span> : list elt),
(<span class="kr">forall</span> <span class="nv">x</span> : X.t,
 Sorted X.lt l -&gt; Sorted X.lt (add x l)) -&gt;
<span class="kr">forall</span> <span class="nv">x</span> : X.t,
Sorted X.lt (a :: l) -&gt;
Sorted X.lt
  <span class="kr">match</span> X.<span class="nb">compare</span> x a <span class="kr">with</span>
  | Eq =&gt; a :: l
  | Lt =&gt; x :: a :: l
  | Gt =&gt; a :: add x l
  <span class="kr">end</span></span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk49" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk49"><span class="highlight"><span class="nb">intuition</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">a</span> : elt) (<span class="nv">l</span> : list elt),
(<span class="kr">forall</span> <span class="nv">x</span> : X.t,
 Sorted X.lt l -&gt; Sorted X.lt (add x l)) -&gt;
<span class="kr">forall</span> <span class="nv">x</span> : X.t,
Sorted X.lt (a :: l) -&gt;
Sorted X.lt
  <span class="kr">match</span> X.<span class="nb">compare</span> x a <span class="kr">with</span>
  | Eq =&gt; a :: l
  | Lt =&gt; x :: a :: l
  | Gt =&gt; a :: add x l
  <span class="kr">end</span></span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">intros</span>; elim_compare x a; inv; <span class="nb">auto</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk4a" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk4a"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">add_spec</span> :
   <span class="kr">forall</span> (<span class="nv">s</span> : t) (<span class="nv">x</span> <span class="nv">y</span> : elt) (<span class="nv">Hs</span> : Ok s),
    In y (add x s) &lt;-&gt; X.eq y x \/ In y s.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">s</span> : t) (<span class="nv">x</span> <span class="nv">y</span> : elt),
Ok s -&gt; In y (add x s) &lt;-&gt; X.eq y x \/ In y s</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk4b" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk4b"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">s</span> : t) (<span class="nv">x</span> <span class="nv">y</span> : elt),
Ok s -&gt; In y (add x s) &lt;-&gt; X.eq y x \/ In y s</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk4c" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk4c"><span class="highlight"><span class="nb">induction</span> s; <span class="nb">simpl</span>; <span class="nb">intros</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x, y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok nil</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">In y (x :: nil) &lt;-&gt; X.eq y x \/ In y nil</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chk4d" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> <span class="nv">y0</span> : elt, Ok s -&gt; In y0 (add x0 s) &lt;-&gt; X.eq y0 x0 \/ In y0 s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok (a :: s)</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk4d"><hr></label><div class="goal-conclusion"><span class="highlight">In y
  <span class="kr">match</span> X.<span class="nb">compare</span> x a <span class="kr">with</span>
  | Eq =&gt; a :: s
  | Lt =&gt; x :: a :: s
  | Gt =&gt; a :: add x s
  <span class="kr">end</span> &lt;-&gt; X.eq y x \/ In y (a :: s)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk4e" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk4e"><span class="highlight"><span class="nb">intuition</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x, y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok nil</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In y (x :: nil)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">X.eq y x \/ In y nil</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chk4f" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> <span class="nv">y0</span> : elt, Ok s -&gt; In y0 (add x0 s) &lt;-&gt; X.eq y0 x0 \/ In y0 s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok (a :: s)</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk4f"><hr></label><div class="goal-conclusion"><span class="highlight">In y
  <span class="kr">match</span> X.<span class="nb">compare</span> x a <span class="kr">with</span>
  | Eq =&gt; a :: s
  | Lt =&gt; x :: a :: s
  | Gt =&gt; a :: add x s
  <span class="kr">end</span> &lt;-&gt; X.eq y x \/ In y (a :: s)</span></div></blockquote></div></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk50" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk50"><span class="highlight">inv; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> <span class="nv">y0</span> : elt, Ok s -&gt; In y0 (add x0 s) &lt;-&gt; X.eq y0 x0 \/ In y0 s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok (a :: s)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">In y
  <span class="kr">match</span> X.<span class="nb">compare</span> x a <span class="kr">with</span>
  | Eq =&gt; a :: s
  | Lt =&gt; x :: a :: s
  | Gt =&gt; a :: add x s
  <span class="kr">end</span> &lt;-&gt; X.eq y x \/ In y (a :: s)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight">elim_compare x a; inv; <span class="nb">rewrite</span> !InA_cons, <span class="nl">?IHs</span>; <span class="nb">intuition</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk51" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk51"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">remove_inf</span> :
   <span class="kr">forall</span> (<span class="nv">s</span> : t) (<span class="nv">x</span> <span class="nv">a</span> : elt) (<span class="nv">Hs</span> : Ok s), Inf a s -&gt; Inf a (remove x s).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">s</span> : t) (<span class="nv">x</span> <span class="nv">a</span> : elt),
Ok s -&gt; Inf a s -&gt; Inf a (remove x s)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk52" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk52"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">s</span> : t) (<span class="nv">x</span> <span class="nv">a</span> : elt),
Ok s -&gt; Inf a s -&gt; Inf a (remove x s)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk53" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk53"><span class="highlight"><span class="nb">induction</span> s; <span class="nb">simpl</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">elt -&gt;
<span class="kr">forall</span> <span class="nv">a</span> : elt, Ok nil -&gt; Inf a nil -&gt; Inf a nil</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chk54" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> <span class="nv">a0</span> : elt, Ok s -&gt; Inf a0 s -&gt; Inf a0 (remove x s)</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk54"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> <span class="nv">a0</span> : elt,
Ok (a :: s) -&gt;
Inf a0 (a :: s) -&gt;
Inf a0
  <span class="kr">match</span> X.<span class="nb">compare</span> x a <span class="kr">with</span>
  | Eq =&gt; s
  | Lt =&gt; a :: s
  | Gt =&gt; a :: remove x s
  <span class="kr">end</span></span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk55" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk55"><span class="highlight"><span class="nb">intuition</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> <span class="nv">a0</span> : elt, Ok s -&gt; Inf a0 s -&gt; Inf a0 (remove x s)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> <span class="nv">a0</span> : elt,
Ok (a :: s) -&gt;
Inf a0 (a :: s) -&gt;
Inf a0
  <span class="kr">match</span> X.<span class="nb">compare</span> x a <span class="kr">with</span>
  | Eq =&gt; s
  | Lt =&gt; a :: s
  | Gt =&gt; a :: remove x s
  <span class="kr">end</span></span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk56" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk56"><span class="highlight"><span class="nb">intros</span>; elim_compare x a; inv; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> <span class="nv">a1</span> : elt, Ok s -&gt; Inf a1 s -&gt; Inf a1 (remove x0 s)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, a0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.eq x a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf a s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt a0 a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Inf a0 s</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">apply</span> Inf_lt <span class="kr">with</span> a; <span class="nb">auto</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Hint Resolve</span> remove_inf : core.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk57" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk57"><span class="highlight"><span class="kn">Instance</span> <span class="nf">remove_ok</span> <span class="nv">s</span> <span class="nv">x</span> : <span class="kr">forall</span> `(Ok s), Ok (remove x s).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.t</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Ok s -&gt; Ok (remove x s)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk58" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk58"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.t</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Ok s -&gt; Ok (remove x s)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk59" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk59"><span class="highlight"><span class="kp">repeat</span> <span class="nb">rewrite</span> &lt;- isok_iff; <span class="nb">revert</span> s x.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">s</span> : t) (<span class="nv">x</span> : X.t),
Sorted X.lt s -&gt; Sorted X.lt (remove x s)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk5a" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk5a"><span class="highlight"><span class="nb">induction</span> s; <span class="nb">simpl</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">X.t -&gt; Sorted X.lt nil -&gt; Sorted X.lt nil</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chk5b" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : X.t, Sorted X.lt s -&gt; Sorted X.lt (remove x s)</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk5b"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : X.t,
Sorted X.lt (a :: s) -&gt;
Sorted X.lt
  <span class="kr">match</span> X.<span class="nb">compare</span> x a <span class="kr">with</span>
  | Eq =&gt; s
  | Lt =&gt; a :: s
  | Gt =&gt; a :: remove x s
  <span class="kr">end</span></span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk5c" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk5c"><span class="highlight"><span class="nb">intuition</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : X.t, Sorted X.lt s -&gt; Sorted X.lt (remove x s)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : X.t,
Sorted X.lt (a :: s) -&gt;
Sorted X.lt
  <span class="kr">match</span> X.<span class="nb">compare</span> x a <span class="kr">with</span>
  | Eq =&gt; s
  | Lt =&gt; a :: s
  | Gt =&gt; a :: remove x s
  <span class="kr">end</span></span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">intros</span>; elim_compare x a; inv; <span class="nb">auto</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk5d" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk5d"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">remove_spec</span> :
   <span class="kr">forall</span> (<span class="nv">s</span> : t) (<span class="nv">x</span> <span class="nv">y</span> : elt) (<span class="nv">Hs</span> : Ok s),
    In y (remove x s) &lt;-&gt; In y s /\ ~X.eq y x.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">s</span> : t) (<span class="nv">x</span> <span class="nv">y</span> : elt),
Ok s -&gt; In y (remove x s) &lt;-&gt; In y s /\ ~ X.eq y x</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk5e" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk5e"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">s</span> : t) (<span class="nv">x</span> <span class="nv">y</span> : elt),
Ok s -&gt; In y (remove x s) &lt;-&gt; In y s /\ ~ X.eq y x</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk5f" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk5f"><span class="highlight"><span class="nb">induction</span> s; <span class="nb">simpl</span>; <span class="nb">intros</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x, y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok nil</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">In y nil &lt;-&gt; In y nil /\ ~ X.eq y x</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chk60" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> <span class="nv">y0</span> : elt, Ok s -&gt; In y0 (remove x0 s) &lt;-&gt; In y0 s /\ ~ X.eq y0 x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok (a :: s)</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk60"><hr></label><div class="goal-conclusion"><span class="highlight">In y
  <span class="kr">match</span> X.<span class="nb">compare</span> x a <span class="kr">with</span>
  | Eq =&gt; s
  | Lt =&gt; a :: s
  | Gt =&gt; a :: remove x s
  <span class="kr">end</span> &lt;-&gt; In y (a :: s) /\ ~ X.eq y x</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk61" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk61"><span class="highlight"><span class="nb">intuition</span>; inv; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> <span class="nv">y0</span> : elt, Ok s -&gt; In y0 (remove x0 s) &lt;-&gt; In y0 s /\ ~ X.eq y0 x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok (a :: s)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">In y
  <span class="kr">match</span> X.<span class="nb">compare</span> x a <span class="kr">with</span>
  | Eq =&gt; s
  | Lt =&gt; a :: s
  | Gt =&gt; a :: remove x s
  <span class="kr">end</span> &lt;-&gt; In y (a :: s) /\ ~ X.eq y x</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight">elim_compare x a; inv; <span class="nb">rewrite</span> !InA_cons, <span class="nl">?IHs</span>; <span class="nb">intuition</span>;
   <span class="kp">try</span> sort_inf_in; <span class="kp">try</span> order.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk62" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk62"><span class="highlight"><span class="kn">Instance</span> <span class="nf">singleton_ok</span> <span class="nv">x</span> : Ok (singleton x).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Ok (singleton x)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk63" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk63"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Ok (singleton x)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">unfold</span> singleton; <span class="nb">simpl</span>; <span class="nb">auto</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk64" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk64"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">singleton_spec</span> : <span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : elt, In y (singleton x) &lt;-&gt; X.eq y x.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : elt, In y (singleton x) &lt;-&gt; X.eq y x</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk65" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk65"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : elt, In y (singleton x) &lt;-&gt; X.eq y x</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">unfold</span> singleton; <span class="nb">simpl</span>; <span class="nb">split</span>; <span class="nb">intros</span>; inv; <span class="nb">auto</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Ltac</span> <span class="nf">induction2</span> :=
    <span class="nb">simple induction</span> s;
     [ <span class="nb">simpl</span>; <span class="nb">auto</span>; <span class="kp">try</span> <span class="kp">solve</span> [ <span class="nb">intros</span>; inv ]
     | <span class="nb">intros</span> x l Hrec; <span class="nb">simple induction</span> s&#39;;
        [ <span class="nb">simpl</span>; <span class="nb">auto</span>; <span class="kp">try</span> <span class="kp">solve</span> [ <span class="nb">intros</span>; inv ]
        | <span class="nb">intros</span> x&#39; l&#39; Hrec&#39;; <span class="nb">simpl</span>; elim_compare x x&#39;; <span class="nb">intros</span>; inv; <span class="nb">auto</span> ]].</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk66" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk66"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">union_inf</span> :
   <span class="kr">forall</span> (<span class="nv">s</span> <span class="nv">s&#39;</span> : t) (<span class="nv">a</span> : elt) (<span class="nv">Hs</span> : Ok s) (<span class="nv">Hs&#39;</span> : Ok s&#39;),
   Inf a s -&gt; Inf a s&#39; -&gt; Inf a (union s s&#39;).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">s</span> <span class="nv">s&#39;</span> : t) (<span class="nv">a</span> : elt),
Ok s -&gt;
Ok s&#39; -&gt; Inf a s -&gt; Inf a s&#39; -&gt; Inf a (union s s&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk67" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk67"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">s</span> <span class="nv">s&#39;</span> : t) (<span class="nv">a</span> : elt),
Ok s -&gt;
Ok s&#39; -&gt; Inf a s -&gt; Inf a s&#39; -&gt; Inf a (union s s&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight">induction2.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Hint Resolve</span> union_inf : core.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk68" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk68"><span class="highlight"><span class="kn">Instance</span> <span class="nf">union_ok</span> <span class="nv">s</span> <span class="nv">s&#39;</span> : <span class="kr">forall</span> `(Ok s, Ok s&#39;), Ok (union s s&#39;).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Ok s -&gt; Ok s&#39; -&gt; Ok (union s s&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk69" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk69"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Ok s -&gt; Ok s&#39; -&gt; Ok (union s s&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk6a" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk6a"><span class="highlight"><span class="kp">repeat</span> <span class="nb">rewrite</span> &lt;- isok_iff; <span class="nb">revert</span> s s&#39;.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">s</span> <span class="nv">s&#39;</span> : t,
Sorted X.lt s -&gt;
Sorted X.lt s&#39; -&gt; Sorted X.lt (union s s&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk6b" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk6b"><span class="highlight">induction2; constructors; <span class="kp">try</span> <span class="nb">apply</span> @ok; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s&#39;0</span> : t,
Sorted X.lt l -&gt;
Sorted X.lt s&#39;0 -&gt; Sorted X.lt (union l s&#39;0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrec'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt (x :: l) -&gt;
Sorted X.lt l&#39; -&gt;
Sorted X.lt (union (x :: l) l&#39;)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.eq x x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt l&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x&#39; l&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt l</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H4</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x l</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Inf x (union l l&#39;)</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chk6c" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s&#39;0</span> : t,
Sorted X.lt l -&gt;
Sorted X.lt s&#39;0 -&gt; Sorted X.lt (union l s&#39;0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrec'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt (x :: l) -&gt;
Sorted X.lt l&#39; -&gt;
Sorted X.lt (union (x :: l) l&#39;)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt x&#39; x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt l&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x&#39; l&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt l</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H4</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x l</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk6c"><hr></label><div class="goal-conclusion"><span class="highlight">Inf x&#39;
  ((<span class="kr">fix</span> union_aux (s&#39;0 : t) : t :=
      <span class="kr">match</span> s&#39;0 <span class="kr">with</span>
      | nil =&gt; x :: l
      | x&#39;0 :: l&#39;0 =&gt;
          <span class="kr">match</span> X.<span class="nb">compare</span> x x&#39;0 <span class="kr">with</span>
          | Eq =&gt; x :: union l l&#39;0
          | Lt =&gt; x :: union l s&#39;0
          | Gt =&gt; x&#39;0 :: union_aux l&#39;0
          <span class="kr">end</span>
      <span class="kr">end</span>) l&#39;)</span></div></blockquote></div></div></div></small><span class="coq-wsp"> 
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk6d" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk6d"><span class="highlight"><span class="nb">apply</span> Inf_eq <span class="kr">with</span> x&#39;; <span class="nb">auto</span>; <span class="nb">apply</span> union_inf; <span class="nb">auto</span>; <span class="nb">apply</span> Inf_eq <span class="kr">with</span> x; <span class="nb">auto</span>; order.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s&#39;0</span> : t,
Sorted X.lt l -&gt;
Sorted X.lt s&#39;0 -&gt; Sorted X.lt (union l s&#39;0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrec'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt (x :: l) -&gt;
Sorted X.lt l&#39; -&gt;
Sorted X.lt (union (x :: l) l&#39;)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt x&#39; x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt l&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x&#39; l&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt l</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H4</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x l</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Inf x&#39;
  ((<span class="kr">fix</span> union_aux (s&#39;0 : t) : t :=
      <span class="kr">match</span> s&#39;0 <span class="kr">with</span>
      | nil =&gt; x :: l
      | x&#39;0 :: l&#39;0 =&gt;
          <span class="kr">match</span> X.<span class="nb">compare</span> x x&#39;0 <span class="kr">with</span>
          | Eq =&gt; x :: union l l&#39;0
          | Lt =&gt; x :: union l s&#39;0
          | Gt =&gt; x&#39;0 :: union_aux l&#39;0
          <span class="kr">end</span>
      <span class="kr">end</span>) l&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">change</span> (Inf x&#39; (union (x :: l) l&#39;)); <span class="nb">auto</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk6e" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk6e"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">union_spec</span> :
   <span class="kr">forall</span> (<span class="nv">s</span> <span class="nv">s&#39;</span> : t) (<span class="nv">x</span> : elt) (<span class="nv">Hs</span> : Ok s) (<span class="nv">Hs&#39;</span> : Ok s&#39;),
   In x (union s s&#39;) &lt;-&gt; In x s \/ In x s&#39;.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">s</span> <span class="nv">s&#39;</span> : t) (<span class="nv">x</span> : elt),
Ok s -&gt;
Ok s&#39; -&gt; In x (union s s&#39;) &lt;-&gt; In x s \/ In x s&#39;</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk6f" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk6f"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">s</span> <span class="nv">s&#39;</span> : t) (<span class="nv">x</span> : elt),
Ok s -&gt;
Ok s&#39; -&gt; In x (union s s&#39;) &lt;-&gt; In x s \/ In x s&#39;</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight">induction2; <span class="kp">try</span> <span class="nb">rewrite</span> <span class="nl">?InA_cons</span>, <span class="nl">?Hrec</span>, <span class="nl">?Hrec&#39;</span>; <span class="nb">intuition</span>; inv; <span class="nb">auto</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk70" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk70"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">inter_inf</span> :
   <span class="kr">forall</span> (<span class="nv">s</span> <span class="nv">s&#39;</span> : t) (<span class="nv">a</span> : elt) (<span class="nv">Hs</span> : Ok s) (<span class="nv">Hs&#39;</span> : Ok s&#39;),
   Inf a s -&gt; Inf a s&#39; -&gt; Inf a (inter s s&#39;).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">s</span> <span class="nv">s&#39;</span> : t) (<span class="nv">a</span> : elt),
Ok s -&gt;
Ok s&#39; -&gt; Inf a s -&gt; Inf a s&#39; -&gt; Inf a (inter s s&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk71" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk71"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">s</span> <span class="nv">s&#39;</span> : t) (<span class="nv">a</span> : elt),
Ok s -&gt;
Ok s&#39; -&gt; Inf a s -&gt; Inf a s&#39; -&gt; Inf a (inter s s&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk72" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk72"><span class="highlight">induction2.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">s&#39;0</span> : t) (<span class="nv">a0</span> : elt),
Ok l -&gt;
Ok s&#39;0 -&gt;
Inf a0 l -&gt; Inf a0 s&#39;0 -&gt; Inf a0 (inter l s&#39;0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrec'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">a0</span> : elt,
Ok (x :: l) -&gt;
Ok l&#39; -&gt;
Inf a0 (x :: l) -&gt;
Inf a0 l&#39; -&gt; Inf a0 (inter (x :: l) l&#39;)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt x x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt l&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x&#39; l&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H4</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt l</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H5</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x l</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H6</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt a x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt a x</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Inf a (inter l (x&#39; :: l&#39;))</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chk73" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">s&#39;0</span> : t) (<span class="nv">a0</span> : elt),
Ok l -&gt;
Ok s&#39;0 -&gt;
Inf a0 l -&gt; Inf a0 s&#39;0 -&gt; Inf a0 (inter l s&#39;0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrec'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">a0</span> : elt,
Ok (x :: l) -&gt;
Ok l&#39; -&gt;
Inf a0 (x :: l) -&gt;
Inf a0 l&#39; -&gt; Inf a0 (inter (x :: l) l&#39;)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt x&#39; x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt l&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x&#39; l&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H4</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt l</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H5</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x l</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H6</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt a x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt a x</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk73"><hr></label><div class="goal-conclusion"><span class="highlight">Inf a
  ((<span class="kr">fix</span> inter_aux (s&#39;0 : t) : t :=
      <span class="kr">match</span> s&#39;0 <span class="kr">with</span>
      | nil =&gt; nil
      | x&#39;0 :: l&#39;0 =&gt;
          <span class="kr">match</span> X.<span class="nb">compare</span> x x&#39;0 <span class="kr">with</span>
          | Eq =&gt; x :: inter l l&#39;0
          | Lt =&gt; inter l s&#39;0
          | Gt =&gt; inter_aux l&#39;0
          <span class="kr">end</span>
      <span class="kr">end</span>) l&#39;)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk74" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk74"><span class="highlight"><span class="nb">apply</span> Inf_lt <span class="kr">with</span> x; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">s&#39;0</span> : t) (<span class="nv">a0</span> : elt),
Ok l -&gt;
Ok s&#39;0 -&gt;
Inf a0 l -&gt; Inf a0 s&#39;0 -&gt; Inf a0 (inter l s&#39;0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrec'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">a0</span> : elt,
Ok (x :: l) -&gt;
Ok l&#39; -&gt;
Inf a0 (x :: l) -&gt;
Inf a0 l&#39; -&gt; Inf a0 (inter (x :: l) l&#39;)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt x&#39; x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt l&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x&#39; l&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H4</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt l</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H5</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x l</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H6</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt a x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt a x</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Inf a
  ((<span class="kr">fix</span> inter_aux (s&#39;0 : t) : t :=
      <span class="kr">match</span> s&#39;0 <span class="kr">with</span>
      | nil =&gt; nil
      | x&#39;0 :: l&#39;0 =&gt;
          <span class="kr">match</span> X.<span class="nb">compare</span> x x&#39;0 <span class="kr">with</span>
          | Eq =&gt; x :: inter l l&#39;0
          | Lt =&gt; inter l s&#39;0
          | Gt =&gt; inter_aux l&#39;0
          <span class="kr">end</span>
      <span class="kr">end</span>) l&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk75" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk75"><span class="highlight"><span class="nb">apply</span> Hrec&#39;; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">s&#39;0</span> : t) (<span class="nv">a0</span> : elt),
Ok l -&gt;
Ok s&#39;0 -&gt;
Inf a0 l -&gt; Inf a0 s&#39;0 -&gt; Inf a0 (inter l s&#39;0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrec'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">a0</span> : elt,
Ok (x :: l) -&gt;
Ok l&#39; -&gt;
Inf a0 (x :: l) -&gt;
Inf a0 l&#39; -&gt; Inf a0 (inter (x :: l) l&#39;)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt x&#39; x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt l&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x&#39; l&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H4</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt l</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H5</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x l</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H6</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt a x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt a x</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Inf a l&#39;</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">apply</span> Inf_lt <span class="kr">with</span> x&#39;; <span class="nb">auto</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Hint Resolve</span> inter_inf : core.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk76" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk76"><span class="highlight"><span class="kn">Instance</span> <span class="nf">inter_ok</span> <span class="nv">s</span> <span class="nv">s&#39;</span> : <span class="kr">forall</span> `(Ok s, Ok s&#39;), Ok (inter s s&#39;).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Ok s -&gt; Ok s&#39; -&gt; Ok (inter s s&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk77" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk77"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Ok s -&gt; Ok s&#39; -&gt; Ok (inter s s&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk78" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk78"><span class="highlight"><span class="kp">repeat</span> <span class="nb">rewrite</span> &lt;- isok_iff; <span class="nb">revert</span> s s&#39;.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">s</span> <span class="nv">s&#39;</span> : t,
Sorted X.lt s -&gt;
Sorted X.lt s&#39; -&gt; Sorted X.lt (inter s s&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk79" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk79"><span class="highlight">induction2.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s&#39;0</span> : t,
Sorted X.lt l -&gt;
Sorted X.lt s&#39;0 -&gt; Sorted X.lt (inter l s&#39;0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrec'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt (x :: l) -&gt;
Sorted X.lt l&#39; -&gt;
Sorted X.lt (inter (x :: l) l&#39;)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.eq x x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt l&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x&#39; l&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt l</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H4</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x l</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Sorted X.lt (x :: inter l l&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk7a" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk7a"><span class="highlight">constructors; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s&#39;0</span> : t,
Sorted X.lt l -&gt;
Sorted X.lt s&#39;0 -&gt; Sorted X.lt (inter l s&#39;0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrec'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt (x :: l) -&gt;
Sorted X.lt l&#39; -&gt;
Sorted X.lt (inter (x :: l) l&#39;)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.eq x x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt l&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x&#39; l&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt l</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H4</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x l</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Inf x (inter l l&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">apply</span> Inf_eq <span class="kr">with</span> x&#39;; <span class="nb">auto</span>; <span class="nb">apply</span> inter_inf; <span class="nb">auto</span>; <span class="nb">apply</span> Inf_eq <span class="kr">with</span> x; <span class="nb">auto</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk7b" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk7b"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">inter_spec</span> :
   <span class="kr">forall</span> (<span class="nv">s</span> <span class="nv">s&#39;</span> : t) (<span class="nv">x</span> : elt) (<span class="nv">Hs</span> : Ok s) (<span class="nv">Hs&#39;</span> : Ok s&#39;),
   In x (inter s s&#39;) &lt;-&gt; In x s /\ In x s&#39;.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">s</span> <span class="nv">s&#39;</span> : t) (<span class="nv">x</span> : elt),
Ok s -&gt;
Ok s&#39; -&gt; In x (inter s s&#39;) &lt;-&gt; In x s /\ In x s&#39;</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk7c" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk7c"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">s</span> <span class="nv">s&#39;</span> : t) (<span class="nv">x</span> : elt),
Ok s -&gt;
Ok s&#39; -&gt; In x (inter s s&#39;) &lt;-&gt; In x s /\ In x s&#39;</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight">induction2; <span class="kp">try</span> <span class="nb">rewrite</span> <span class="nl">?InA_cons</span>, <span class="nl">?Hrec</span>, <span class="nl">?Hrec&#39;</span>; <span class="nb">intuition</span>; inv; <span class="nb">auto</span>;
   <span class="kp">try</span> sort_inf_in; <span class="kp">try</span> order.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk7d" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk7d"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">diff_inf</span> :
   <span class="kr">forall</span> (<span class="nv">s</span> <span class="nv">s&#39;</span> : t) (<span class="nv">Hs</span> : Ok s) (<span class="nv">Hs&#39;</span> : Ok s&#39;) (<span class="nv">a</span> : elt),
   Inf a s -&gt; Inf a s&#39; -&gt; Inf a (diff s s&#39;).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">s</span> <span class="nv">s&#39;</span> : t,
Ok s -&gt;
Ok s&#39; -&gt;
<span class="kr">forall</span> <span class="nv">a</span> : elt,
Inf a s -&gt; Inf a s&#39; -&gt; Inf a (diff s s&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk7e" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk7e"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">s</span> <span class="nv">s&#39;</span> : t,
Ok s -&gt;
Ok s&#39; -&gt;
<span class="kr">forall</span> <span class="nv">a</span> : elt,
Inf a s -&gt; Inf a s&#39; -&gt; Inf a (diff s s&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk7f" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk7f"><span class="highlight"><span class="nb">intros</span> s s&#39;; <span class="kp">repeat</span> <span class="nb">rewrite</span> &lt;- isok_iff; <span class="nb">revert</span> s s&#39;.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">s</span> <span class="nv">s&#39;</span> : t,
Sorted X.lt s -&gt;
Sorted X.lt s&#39; -&gt;
<span class="kr">forall</span> <span class="nv">a</span> : elt,
Inf a s -&gt; Inf a s&#39; -&gt; Inf a (diff s s&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk80" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk80"><span class="highlight">induction2.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s&#39;0</span> : t,
Sorted X.lt l -&gt;
Sorted X.lt s&#39;0 -&gt;
<span class="kr">forall</span> <span class="nv">a0</span> : elt,
Inf a0 l -&gt; Inf a0 s&#39;0 -&gt; Inf a0 (diff l s&#39;0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrec'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt (x :: l) -&gt;
Sorted X.lt l&#39; -&gt;
<span class="kr">forall</span> <span class="nv">a0</span> : elt,
Inf a0 (x :: l) -&gt;
Inf a0 l&#39; -&gt; Inf a0 (diff (x :: l) l&#39;)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.eq x x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H4</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt l&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H5</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x&#39; l&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt l</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H6</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x l</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt a x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt a x</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Inf a (diff l l&#39;)</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chk81" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s&#39;0</span> : t,
Sorted X.lt l -&gt;
Sorted X.lt s&#39;0 -&gt;
<span class="kr">forall</span> <span class="nv">a0</span> : elt,
Inf a0 l -&gt; Inf a0 s&#39;0 -&gt; Inf a0 (diff l s&#39;0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrec'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt (x :: l) -&gt;
Sorted X.lt l&#39; -&gt;
<span class="kr">forall</span> <span class="nv">a0</span> : elt,
Inf a0 (x :: l) -&gt;
Inf a0 l&#39; -&gt; Inf a0 (diff (x :: l) l&#39;)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt x&#39; x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H4</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt l&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H5</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x&#39; l&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt l</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H6</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x l</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt a x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt a x</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk81"><hr></label><div class="goal-conclusion"><span class="highlight">Inf a
  ((<span class="kr">fix</span> diff_aux (s&#39;0 : t) : t :=
      <span class="kr">match</span> s&#39;0 <span class="kr">with</span>
      | nil =&gt; x :: l
      | x&#39;0 :: l&#39;0 =&gt;
          <span class="kr">match</span> X.<span class="nb">compare</span> x x&#39;0 <span class="kr">with</span>
          | Eq =&gt; diff l l&#39;0
          | Lt =&gt; x :: diff l s&#39;0
          | Gt =&gt; diff_aux l&#39;0
          <span class="kr">end</span>
      <span class="kr">end</span>) l&#39;)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk82" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk82"><span class="highlight"><span class="nb">apply</span> Hrec; <span class="nb">trivial</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s&#39;0</span> : t,
Sorted X.lt l -&gt;
Sorted X.lt s&#39;0 -&gt;
<span class="kr">forall</span> <span class="nv">a0</span> : elt,
Inf a0 l -&gt; Inf a0 s&#39;0 -&gt; Inf a0 (diff l s&#39;0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrec'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt (x :: l) -&gt;
Sorted X.lt l&#39; -&gt;
<span class="kr">forall</span> <span class="nv">a0</span> : elt,
Inf a0 (x :: l) -&gt;
Inf a0 l&#39; -&gt; Inf a0 (diff (x :: l) l&#39;)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.eq x x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H4</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt l&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H5</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x&#39; l&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt l</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H6</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x l</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt a x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt a x</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Inf a l</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chk83" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s&#39;0</span> : t,
Sorted X.lt l -&gt;
Sorted X.lt s&#39;0 -&gt;
<span class="kr">forall</span> <span class="nv">a0</span> : elt,
Inf a0 l -&gt; Inf a0 s&#39;0 -&gt; Inf a0 (diff l s&#39;0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrec'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt (x :: l) -&gt;
Sorted X.lt l&#39; -&gt;
<span class="kr">forall</span> <span class="nv">a0</span> : elt,
Inf a0 (x :: l) -&gt;
Inf a0 l&#39; -&gt; Inf a0 (diff (x :: l) l&#39;)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.eq x x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H4</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt l&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H5</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x&#39; l&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt l</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H6</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x l</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt a x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt a x</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk83"><hr></label><div class="goal-conclusion"><span class="highlight">Inf a l&#39;</span></div></blockquote><input class="coq-extra-goal-toggle" id="MSetList-v-chk84" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s&#39;0</span> : t,
Sorted X.lt l -&gt;
Sorted X.lt s&#39;0 -&gt;
<span class="kr">forall</span> <span class="nv">a0</span> : elt,
Inf a0 l -&gt; Inf a0 s&#39;0 -&gt; Inf a0 (diff l s&#39;0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrec'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt (x :: l) -&gt;
Sorted X.lt l&#39; -&gt;
<span class="kr">forall</span> <span class="nv">a0</span> : elt,
Inf a0 (x :: l) -&gt;
Inf a0 l&#39; -&gt; Inf a0 (diff (x :: l) l&#39;)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt x&#39; x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H4</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt l&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H5</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x&#39; l&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt l</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H6</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x l</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt a x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt a x</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk84"><hr></label><div class="goal-conclusion"><span class="highlight">Inf a
  ((<span class="kr">fix</span> diff_aux (s&#39;0 : t) : t :=
      <span class="kr">match</span> s&#39;0 <span class="kr">with</span>
      | nil =&gt; x :: l
      | x&#39;0 :: l&#39;0 =&gt;
          <span class="kr">match</span> X.<span class="nb">compare</span> x x&#39;0 <span class="kr">with</span>
          | Eq =&gt; diff l l&#39;0
          | Lt =&gt; x :: diff l s&#39;0
          | Gt =&gt; diff_aux l&#39;0
          <span class="kr">end</span>
      <span class="kr">end</span>) l&#39;)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk85" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk85"><span class="highlight"><span class="nb">apply</span> Inf_lt <span class="kr">with</span> x; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s&#39;0</span> : t,
Sorted X.lt l -&gt;
Sorted X.lt s&#39;0 -&gt;
<span class="kr">forall</span> <span class="nv">a0</span> : elt,
Inf a0 l -&gt; Inf a0 s&#39;0 -&gt; Inf a0 (diff l s&#39;0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrec'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt (x :: l) -&gt;
Sorted X.lt l&#39; -&gt;
<span class="kr">forall</span> <span class="nv">a0</span> : elt,
Inf a0 (x :: l) -&gt;
Inf a0 l&#39; -&gt; Inf a0 (diff (x :: l) l&#39;)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.eq x x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H4</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt l&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H5</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x&#39; l&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt l</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H6</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x l</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt a x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt a x</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Inf a l&#39;</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chk86" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s&#39;0</span> : t,
Sorted X.lt l -&gt;
Sorted X.lt s&#39;0 -&gt;
<span class="kr">forall</span> <span class="nv">a0</span> : elt,
Inf a0 l -&gt; Inf a0 s&#39;0 -&gt; Inf a0 (diff l s&#39;0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrec'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt (x :: l) -&gt;
Sorted X.lt l&#39; -&gt;
<span class="kr">forall</span> <span class="nv">a0</span> : elt,
Inf a0 (x :: l) -&gt;
Inf a0 l&#39; -&gt; Inf a0 (diff (x :: l) l&#39;)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt x&#39; x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H4</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt l&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H5</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x&#39; l&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt l</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H6</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x l</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt a x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt a x</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk86"><hr></label><div class="goal-conclusion"><span class="highlight">Inf a
  ((<span class="kr">fix</span> diff_aux (s&#39;0 : t) : t :=
      <span class="kr">match</span> s&#39;0 <span class="kr">with</span>
      | nil =&gt; x :: l
      | x&#39;0 :: l&#39;0 =&gt;
          <span class="kr">match</span> X.<span class="nb">compare</span> x x&#39;0 <span class="kr">with</span>
          | Eq =&gt; diff l l&#39;0
          | Lt =&gt; x :: diff l s&#39;0
          | Gt =&gt; diff_aux l&#39;0
          <span class="kr">end</span>
      <span class="kr">end</span>) l&#39;)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk87" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk87"><span class="highlight"><span class="nb">apply</span> Inf_lt <span class="kr">with</span> x&#39;; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s&#39;0</span> : t,
Sorted X.lt l -&gt;
Sorted X.lt s&#39;0 -&gt;
<span class="kr">forall</span> <span class="nv">a0</span> : elt,
Inf a0 l -&gt; Inf a0 s&#39;0 -&gt; Inf a0 (diff l s&#39;0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrec'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt (x :: l) -&gt;
Sorted X.lt l&#39; -&gt;
<span class="kr">forall</span> <span class="nv">a0</span> : elt,
Inf a0 (x :: l) -&gt;
Inf a0 l&#39; -&gt; Inf a0 (diff (x :: l) l&#39;)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt x&#39; x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H4</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt l&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H5</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x&#39; l&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt l</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H6</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x l</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt a x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt a x</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Inf a
  ((<span class="kr">fix</span> diff_aux (s&#39;0 : t) : t :=
      <span class="kr">match</span> s&#39;0 <span class="kr">with</span>
      | nil =&gt; x :: l
      | x&#39;0 :: l&#39;0 =&gt;
          <span class="kr">match</span> X.<span class="nb">compare</span> x x&#39;0 <span class="kr">with</span>
          | Eq =&gt; diff l l&#39;0
          | Lt =&gt; x :: diff l s&#39;0
          | Gt =&gt; diff_aux l&#39;0
          <span class="kr">end</span>
      <span class="kr">end</span>) l&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk88" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk88"><span class="highlight"><span class="nb">apply</span> Hrec&#39;; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s&#39;0</span> : t,
Sorted X.lt l -&gt;
Sorted X.lt s&#39;0 -&gt;
<span class="kr">forall</span> <span class="nv">a0</span> : elt,
Inf a0 l -&gt; Inf a0 s&#39;0 -&gt; Inf a0 (diff l s&#39;0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrec'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt (x :: l) -&gt;
Sorted X.lt l&#39; -&gt;
<span class="kr">forall</span> <span class="nv">a0</span> : elt,
Inf a0 (x :: l) -&gt;
Inf a0 l&#39; -&gt; Inf a0 (diff (x :: l) l&#39;)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt x&#39; x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H4</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt l&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H5</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x&#39; l&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt l</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H6</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x l</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt a x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt a x</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Inf a l&#39;</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">apply</span> Inf_lt <span class="kr">with</span> x&#39;; <span class="nb">auto</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Hint Resolve</span> diff_inf : core.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk89" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk89"><span class="highlight"><span class="kn">Instance</span> <span class="nf">diff_ok</span> <span class="nv">s</span> <span class="nv">s&#39;</span> : <span class="kr">forall</span> `(Ok s, Ok s&#39;), Ok (diff s s&#39;).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Ok s -&gt; Ok s&#39; -&gt; Ok (diff s s&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk8a" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk8a"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Ok s -&gt; Ok s&#39; -&gt; Ok (diff s s&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk8b" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk8b"><span class="highlight"><span class="kp">repeat</span> <span class="nb">rewrite</span> &lt;- isok_iff; <span class="nb">revert</span> s s&#39;.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">s</span> <span class="nv">s&#39;</span> : t,
Sorted X.lt s -&gt;
Sorted X.lt s&#39; -&gt; Sorted X.lt (diff s s&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight">induction2.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk8c" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk8c"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">diff_spec</span> :
   <span class="kr">forall</span> (<span class="nv">s</span> <span class="nv">s&#39;</span> : t) (<span class="nv">x</span> : elt) (<span class="nv">Hs</span> : Ok s) (<span class="nv">Hs&#39;</span> : Ok s&#39;),
   In x (diff s s&#39;) &lt;-&gt; In x s /\ ~In x s&#39;.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">s</span> <span class="nv">s&#39;</span> : t) (<span class="nv">x</span> : elt),
Ok s -&gt;
Ok s&#39; -&gt; In x (diff s s&#39;) &lt;-&gt; In x s /\ ~ In x s&#39;</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk8d" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk8d"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">s</span> <span class="nv">s&#39;</span> : t) (<span class="nv">x</span> : elt),
Ok s -&gt;
Ok s&#39; -&gt; In x (diff s s&#39;) &lt;-&gt; In x s /\ ~ In x s&#39;</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk8e" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk8e"><span class="highlight">induction2; <span class="kp">try</span> <span class="nb">rewrite</span> <span class="nl">?InA_cons</span>, <span class="nl">?Hrec</span>, <span class="nl">?Hrec&#39;</span>; <span class="nb">intuition</span>; inv; <span class="nb">auto</span>;
   <span class="kp">try</span> sort_inf_in; <span class="kp">try</span> order.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">s&#39;0</span> : t) (<span class="nv">x1</span> : elt),
Ok l -&gt;
Ok s&#39;0 -&gt;
In x1 (diff l s&#39;0) &lt;-&gt;
In x1 l /\ (In x1 s&#39;0 -&gt; <span class="kt">False</span>)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrec'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x1</span> : elt,
Ok (x :: l) -&gt;
Ok l&#39; -&gt;
In x1 (diff (x :: l) l&#39;) &lt;-&gt;
In x1 (x :: l) /\ (In x1 l&#39; -&gt; <span class="kt">False</span>)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt x x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt l&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x&#39; l&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt l</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x l</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H4</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In x0 l</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H5</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.eq x0 x&#39; -&gt; <span class="kt">False</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H7</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In x0 l&#39; -&gt; <span class="kt">False</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H6</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt x x0</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">X.eq x0 x \/ In x0 l /\ (In x0 (x&#39; :: l&#39;) -&gt; <span class="kt">False</span>)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">right</span>; <span class="nb">intuition</span>; inv; <span class="nb">auto</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk8f" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk8f"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">equal_spec</span> :
   <span class="kr">forall</span> (<span class="nv">s</span> <span class="nv">s&#39;</span> : t) (<span class="nv">Hs</span> : Ok s) (<span class="nv">Hs&#39;</span> : Ok s&#39;),
   equal s s&#39; = true &lt;-&gt; Equal s s&#39;.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">s</span> <span class="nv">s&#39;</span> : t,
Ok s -&gt; Ok s&#39; -&gt; equal s s&#39; = true &lt;-&gt; Equal s s&#39;</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk90" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk90"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">s</span> <span class="nv">s&#39;</span> : t,
Ok s -&gt; Ok s&#39; -&gt; equal s s&#39; = true &lt;-&gt; Equal s s&#39;</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk91" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk91"><span class="highlight"><span class="nb">induction</span> s <span class="kr">as</span> [ | x s IH]; <span class="nb">intros</span> [ | x&#39; s&#39;] Hs Hs&#39;; <span class="nb">simpl</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Hs, Hs'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok nil</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">true = true &lt;-&gt; Equal nil nil</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chk92" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok nil</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok (x&#39; :: s&#39;)</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk92"><hr></label><div class="goal-conclusion"><span class="highlight">false = true &lt;-&gt; Equal nil (x&#39; :: s&#39;)</span></div></blockquote><input class="coq-extra-goal-toggle" id="MSetList-v-chk93" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s&#39;</span> : t,
Ok s -&gt; Ok s&#39; -&gt; equal s s&#39; = true &lt;-&gt; Equal s s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok (x :: s)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok nil</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk93"><hr></label><div class="goal-conclusion"><span class="highlight">false = true &lt;-&gt; Equal (x :: s) nil</span></div></blockquote><input class="coq-extra-goal-toggle" id="MSetList-v-chk94" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s&#39;0</span> : t,
Ok s -&gt;
Ok s&#39;0 -&gt; equal s s&#39;0 = true &lt;-&gt; Equal s s&#39;0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok (x :: s)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok (x&#39; :: s&#39;)</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk94"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">match</span> X.<span class="nb">compare</span> x x&#39; <span class="kr">with</span>
| Eq =&gt; equal s s&#39;
| _ =&gt; false
<span class="kr">end</span> = true &lt;-&gt; Equal (x :: s) (x&#39; :: s&#39;)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk95" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk95"><span class="highlight"><span class="nb">intuition</span> <span class="bp">reflexivity</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok nil</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok (x&#39; :: s&#39;)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">false = true &lt;-&gt; Equal nil (x&#39; :: s&#39;)</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chk96" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s&#39;</span> : t,
Ok s -&gt; Ok s&#39; -&gt; equal s s&#39; = true &lt;-&gt; Equal s s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok (x :: s)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok nil</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk96"><hr></label><div class="goal-conclusion"><span class="highlight">false = true &lt;-&gt; Equal (x :: s) nil</span></div></blockquote><input class="coq-extra-goal-toggle" id="MSetList-v-chk97" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s&#39;0</span> : t,
Ok s -&gt;
Ok s&#39;0 -&gt; equal s s&#39;0 = true &lt;-&gt; Equal s s&#39;0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok (x :: s)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok (x&#39; :: s&#39;)</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk97"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">match</span> X.<span class="nb">compare</span> x x&#39; <span class="kr">with</span>
| Eq =&gt; equal s s&#39;
| _ =&gt; false
<span class="kr">end</span> = true &lt;-&gt; Equal (x :: s) (x&#39; :: s&#39;)</span></div></blockquote></div></div></div></small><span class="coq-wsp"> 
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk98" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk98"><span class="highlight"><span class="nb">split</span>; <span class="nb">intros</span> H.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok nil</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok (x&#39; :: s&#39;)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">false = true</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Equal nil (x&#39; :: s&#39;)</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chk99" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok nil</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok (x&#39; :: s&#39;)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equal nil (x&#39; :: s&#39;)</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk99"><hr></label><div class="goal-conclusion"><span class="highlight">false = true</span></div></blockquote><input class="coq-extra-goal-toggle" id="MSetList-v-chk9a" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s&#39;</span> : t,
Ok s -&gt; Ok s&#39; -&gt; equal s s&#39; = true &lt;-&gt; Equal s s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok (x :: s)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok nil</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk9a"><hr></label><div class="goal-conclusion"><span class="highlight">false = true &lt;-&gt; Equal (x :: s) nil</span></div></blockquote><input class="coq-extra-goal-toggle" id="MSetList-v-chk9b" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s&#39;0</span> : t,
Ok s -&gt;
Ok s&#39;0 -&gt; equal s s&#39;0 = true &lt;-&gt; Equal s s&#39;0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok (x :: s)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok (x&#39; :: s&#39;)</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk9b"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">match</span> X.<span class="nb">compare</span> x x&#39; <span class="kr">with</span>
| Eq =&gt; equal s s&#39;
| _ =&gt; false
<span class="kr">end</span> = true &lt;-&gt; Equal (x :: s) (x&#39; :: s&#39;)</span></div></blockquote></div></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk9c" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk9c"><span class="highlight"><span class="bp">discriminate</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok nil</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok (x&#39; :: s&#39;)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equal nil (x&#39; :: s&#39;)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">false = true</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chk9d" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s&#39;</span> : t,
Ok s -&gt; Ok s&#39; -&gt; equal s s&#39; = true &lt;-&gt; Equal s s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok (x :: s)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok nil</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk9d"><hr></label><div class="goal-conclusion"><span class="highlight">false = true &lt;-&gt; Equal (x :: s) nil</span></div></blockquote><input class="coq-extra-goal-toggle" id="MSetList-v-chk9e" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s&#39;0</span> : t,
Ok s -&gt;
Ok s&#39;0 -&gt; equal s s&#39;0 = true &lt;-&gt; Equal s s&#39;0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok (x :: s)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok (x&#39; :: s&#39;)</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk9e"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">match</span> X.<span class="nb">compare</span> x x&#39; <span class="kr">with</span>
| Eq =&gt; equal s s&#39;
| _ =&gt; false
<span class="kr">end</span> = true &lt;-&gt; Equal (x :: s) (x&#39; :: s&#39;)</span></div></blockquote></div></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk9f" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk9f"><span class="highlight"><span class="nb">assert</span> (In x&#39; nil) <span class="bp">by</span> (<span class="nb">rewrite</span> H; <span class="nb">auto</span>).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok nil</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok (x&#39; :: s&#39;)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equal nil (x&#39; :: s&#39;)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In x&#39; nil</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">false = true</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chka0" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s&#39;</span> : t,
Ok s -&gt; Ok s&#39; -&gt; equal s s&#39; = true &lt;-&gt; Equal s s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok (x :: s)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok nil</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chka0"><hr></label><div class="goal-conclusion"><span class="highlight">false = true &lt;-&gt; Equal (x :: s) nil</span></div></blockquote><input class="coq-extra-goal-toggle" id="MSetList-v-chka1" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s&#39;0</span> : t,
Ok s -&gt;
Ok s&#39;0 -&gt; equal s s&#39;0 = true &lt;-&gt; Equal s s&#39;0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok (x :: s)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok (x&#39; :: s&#39;)</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chka1"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">match</span> X.<span class="nb">compare</span> x x&#39; <span class="kr">with</span>
| Eq =&gt; equal s s&#39;
| _ =&gt; false
<span class="kr">end</span> = true &lt;-&gt; Equal (x :: s) (x&#39; :: s&#39;)</span></div></blockquote></div></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chka2" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chka2"><span class="highlight">inv.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s&#39;</span> : t,
Ok s -&gt; Ok s&#39; -&gt; equal s s&#39; = true &lt;-&gt; Equal s s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok (x :: s)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok nil</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">false = true &lt;-&gt; Equal (x :: s) nil</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chka3" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s&#39;0</span> : t,
Ok s -&gt;
Ok s&#39;0 -&gt; equal s s&#39;0 = true &lt;-&gt; Equal s s&#39;0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok (x :: s)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok (x&#39; :: s&#39;)</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chka3"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">match</span> X.<span class="nb">compare</span> x x&#39; <span class="kr">with</span>
| Eq =&gt; equal s s&#39;
| _ =&gt; false
<span class="kr">end</span> = true &lt;-&gt; Equal (x :: s) (x&#39; :: s&#39;)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chka4" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chka4"><span class="highlight"><span class="nb">split</span>; <span class="nb">intros</span> H.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s&#39;</span> : t,
Ok s -&gt; Ok s&#39; -&gt; equal s s&#39; = true &lt;-&gt; Equal s s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok (x :: s)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok nil</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">false = true</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Equal (x :: s) nil</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chka5" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s&#39;</span> : t,
Ok s -&gt; Ok s&#39; -&gt; equal s s&#39; = true &lt;-&gt; Equal s s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok (x :: s)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok nil</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equal (x :: s) nil</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chka5"><hr></label><div class="goal-conclusion"><span class="highlight">false = true</span></div></blockquote><input class="coq-extra-goal-toggle" id="MSetList-v-chka6" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s&#39;0</span> : t,
Ok s -&gt;
Ok s&#39;0 -&gt; equal s s&#39;0 = true &lt;-&gt; Equal s s&#39;0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok (x :: s)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok (x&#39; :: s&#39;)</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chka6"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">match</span> X.<span class="nb">compare</span> x x&#39; <span class="kr">with</span>
| Eq =&gt; equal s s&#39;
| _ =&gt; false
<span class="kr">end</span> = true &lt;-&gt; Equal (x :: s) (x&#39; :: s&#39;)</span></div></blockquote></div></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chka7" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chka7"><span class="highlight"><span class="bp">discriminate</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s&#39;</span> : t,
Ok s -&gt; Ok s&#39; -&gt; equal s s&#39; = true &lt;-&gt; Equal s s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok (x :: s)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok nil</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equal (x :: s) nil</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">false = true</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chka8" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s&#39;0</span> : t,
Ok s -&gt;
Ok s&#39;0 -&gt; equal s s&#39;0 = true &lt;-&gt; Equal s s&#39;0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok (x :: s)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok (x&#39; :: s&#39;)</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chka8"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">match</span> X.<span class="nb">compare</span> x x&#39; <span class="kr">with</span>
| Eq =&gt; equal s s&#39;
| _ =&gt; false
<span class="kr">end</span> = true &lt;-&gt; Equal (x :: s) (x&#39; :: s&#39;)</span></div></blockquote></div></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chka9" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chka9"><span class="highlight"><span class="nb">assert</span> (In x nil) <span class="bp">by</span> (<span class="nb">rewrite</span> &lt;-H; <span class="nb">auto</span>).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s&#39;</span> : t,
Ok s -&gt; Ok s&#39; -&gt; equal s s&#39; = true &lt;-&gt; Equal s s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok (x :: s)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok nil</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equal (x :: s) nil</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In x nil</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">false = true</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chkaa" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s&#39;0</span> : t,
Ok s -&gt;
Ok s&#39;0 -&gt; equal s s&#39;0 = true &lt;-&gt; Equal s s&#39;0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok (x :: s)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok (x&#39; :: s&#39;)</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chkaa"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">match</span> X.<span class="nb">compare</span> x x&#39; <span class="kr">with</span>
| Eq =&gt; equal s s&#39;
| _ =&gt; false
<span class="kr">end</span> = true &lt;-&gt; Equal (x :: s) (x&#39; :: s&#39;)</span></div></blockquote></div></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chkab" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chkab"><span class="highlight">inv.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s&#39;0</span> : t,
Ok s -&gt;
Ok s&#39;0 -&gt; equal s s&#39;0 = true &lt;-&gt; Equal s s&#39;0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok (x :: s)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok (x&#39; :: s&#39;)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">match</span> X.<span class="nb">compare</span> x x&#39; <span class="kr">with</span>
| Eq =&gt; equal s s&#39;
| _ =&gt; false
<span class="kr">end</span> = true &lt;-&gt; Equal (x :: s) (x&#39; :: s&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chkac" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chkac"><span class="highlight">inv.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s&#39;0</span> : t,
Ok s -&gt;
Ok s&#39;0 -&gt; equal s s&#39;0 = true &lt;-&gt; Equal s s&#39;0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x&#39; s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x s</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">match</span> X.<span class="nb">compare</span> x x&#39; <span class="kr">with</span>
| Eq =&gt; equal s s&#39;
| _ =&gt; false
<span class="kr">end</span> = true &lt;-&gt; Equal (x :: s) (x&#39; :: s&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chkad" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chkad"><span class="highlight">elim_compare x x&#39; <span class="kr">as</span> C; <span class="kp">try</span> <span class="bp">discriminate</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s&#39;0</span> : t,
Ok s -&gt;
Ok s&#39;0 -&gt; equal s s&#39;0 = true &lt;-&gt; Equal s s&#39;0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x&#39; s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">C</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.eq x x&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">equal s s&#39; = true &lt;-&gt; Equal (x :: s) (x&#39; :: s&#39;)</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chkae" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s&#39;0</span> : t,
Ok s -&gt;
Ok s&#39;0 -&gt; equal s s&#39;0 = true &lt;-&gt; Equal s s&#39;0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x&#39; s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">C</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt x x&#39;</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chkae"><hr></label><div class="goal-conclusion"><span class="highlight">false = true &lt;-&gt; Equal (x :: s) (x&#39; :: s&#39;)</span></div></blockquote><input class="coq-extra-goal-toggle" id="MSetList-v-chkaf" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s&#39;0</span> : t,
Ok s -&gt;
Ok s&#39;0 -&gt; equal s s&#39;0 = true &lt;-&gt; Equal s s&#39;0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x&#39; s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">C</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt x&#39; x</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chkaf"><hr></label><div class="goal-conclusion"><span class="highlight">false = true &lt;-&gt; Equal (x :: s) (x&#39; :: s&#39;)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">  <span class="c">(* x=x&#39; *)</span>
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chkb0" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chkb0"><span class="highlight"><span class="nb">rewrite</span> IH; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s&#39;0</span> : t,
Ok s -&gt;
Ok s&#39;0 -&gt; equal s s&#39;0 = true &lt;-&gt; Equal s s&#39;0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x&#39; s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">C</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.eq x x&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Equal s s&#39; &lt;-&gt; Equal (x :: s) (x&#39; :: s&#39;)</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chkb1" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s&#39;0</span> : t,
Ok s -&gt;
Ok s&#39;0 -&gt; equal s s&#39;0 = true &lt;-&gt; Equal s s&#39;0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x&#39; s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">C</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt x x&#39;</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chkb1"><hr></label><div class="goal-conclusion"><span class="highlight">false = true &lt;-&gt; Equal (x :: s) (x&#39; :: s&#39;)</span></div></blockquote><input class="coq-extra-goal-toggle" id="MSetList-v-chkb2" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s&#39;0</span> : t,
Ok s -&gt;
Ok s&#39;0 -&gt; equal s s&#39;0 = true &lt;-&gt; Equal s s&#39;0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x&#39; s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">C</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt x&#39; x</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chkb2"><hr></label><div class="goal-conclusion"><span class="highlight">false = true &lt;-&gt; Equal (x :: s) (x&#39; :: s&#39;)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chkb3" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chkb3"><span class="highlight"><span class="nb">split</span>; <span class="nb">intros</span> E y; <span class="nb">specialize</span> (E y).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s&#39;0</span> : t,
Ok s -&gt;
Ok s&#39;0 -&gt; equal s s&#39;0 = true &lt;-&gt; Equal s s&#39;0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x&#39; s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">C</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.eq x x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In y s &lt;-&gt; In y s&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">In y (x :: s) &lt;-&gt; In y (x&#39; :: s&#39;)</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chkb4" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s&#39;0</span> : t,
Ok s -&gt;
Ok s&#39;0 -&gt; equal s s&#39;0 = true &lt;-&gt; Equal s s&#39;0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x&#39; s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">C</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.eq x x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In y (x :: s) &lt;-&gt; In y (x&#39; :: s&#39;)</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chkb4"><hr></label><div class="goal-conclusion"><span class="highlight">In y s &lt;-&gt; In y s&#39;</span></div></blockquote><input class="coq-extra-goal-toggle" id="MSetList-v-chkb5" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s&#39;0</span> : t,
Ok s -&gt;
Ok s&#39;0 -&gt; equal s s&#39;0 = true &lt;-&gt; Equal s s&#39;0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x&#39; s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">C</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt x x&#39;</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chkb5"><hr></label><div class="goal-conclusion"><span class="highlight">false = true &lt;-&gt; Equal (x :: s) (x&#39; :: s&#39;)</span></div></blockquote><input class="coq-extra-goal-toggle" id="MSetList-v-chkb6" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s&#39;0</span> : t,
Ok s -&gt;
Ok s&#39;0 -&gt; equal s s&#39;0 = true &lt;-&gt; Equal s s&#39;0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x&#39; s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">C</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt x&#39; x</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chkb6"><hr></label><div class="goal-conclusion"><span class="highlight">false = true &lt;-&gt; Equal (x :: s) (x&#39; :: s&#39;)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chkb7" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chkb7"><span class="highlight"><span class="nb">rewrite</span> !InA_cons, E, C; <span class="nb">intuition</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s&#39;0</span> : t,
Ok s -&gt;
Ok s&#39;0 -&gt; equal s s&#39;0 = true &lt;-&gt; Equal s s&#39;0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x&#39; s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">C</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.eq x x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In y (x :: s) &lt;-&gt; In y (x&#39; :: s&#39;)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">In y s &lt;-&gt; In y s&#39;</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chkb8" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s&#39;0</span> : t,
Ok s -&gt;
Ok s&#39;0 -&gt; equal s s&#39;0 = true &lt;-&gt; Equal s s&#39;0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x&#39; s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">C</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt x x&#39;</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chkb8"><hr></label><div class="goal-conclusion"><span class="highlight">false = true &lt;-&gt; Equal (x :: s) (x&#39; :: s&#39;)</span></div></blockquote><input class="coq-extra-goal-toggle" id="MSetList-v-chkb9" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s&#39;0</span> : t,
Ok s -&gt;
Ok s&#39;0 -&gt; equal s s&#39;0 = true &lt;-&gt; Equal s s&#39;0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x&#39; s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">C</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt x&#39; x</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chkb9"><hr></label><div class="goal-conclusion"><span class="highlight">false = true &lt;-&gt; Equal (x :: s) (x&#39; :: s&#39;)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chkba" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chkba"><span class="highlight"><span class="nb">rewrite</span> !InA_cons, C <span class="kr">in</span> E.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s&#39;0</span> : t,
Ok s -&gt;
Ok s&#39;0 -&gt; equal s s&#39;0 = true &lt;-&gt; Equal s s&#39;0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x&#39; s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">C</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.eq x x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.eq y x&#39; \/ In y s &lt;-&gt; X.eq y x&#39; \/ In y s&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">In y s &lt;-&gt; In y s&#39;</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chkbb" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s&#39;0</span> : t,
Ok s -&gt;
Ok s&#39;0 -&gt; equal s s&#39;0 = true &lt;-&gt; Equal s s&#39;0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x&#39; s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">C</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt x x&#39;</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chkbb"><hr></label><div class="goal-conclusion"><span class="highlight">false = true &lt;-&gt; Equal (x :: s) (x&#39; :: s&#39;)</span></div></blockquote><input class="coq-extra-goal-toggle" id="MSetList-v-chkbc" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s&#39;0</span> : t,
Ok s -&gt;
Ok s&#39;0 -&gt; equal s s&#39;0 = true &lt;-&gt; Equal s s&#39;0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x&#39; s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">C</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt x&#39; x</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chkbc"><hr></label><div class="goal-conclusion"><span class="highlight">false = true &lt;-&gt; Equal (x :: s) (x&#39; :: s&#39;)</span></div></blockquote></div></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chkbd" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chkbd"><span class="highlight"><span class="nb">intuition</span>; <span class="kp">try</span> sort_inf_in; order.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s&#39;0</span> : t,
Ok s -&gt;
Ok s&#39;0 -&gt; equal s s&#39;0 = true &lt;-&gt; Equal s s&#39;0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x&#39; s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">C</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt x x&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">false = true &lt;-&gt; Equal (x :: s) (x&#39; :: s&#39;)</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chkbe" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s&#39;0</span> : t,
Ok s -&gt;
Ok s&#39;0 -&gt; equal s s&#39;0 = true &lt;-&gt; Equal s s&#39;0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x&#39; s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">C</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt x&#39; x</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chkbe"><hr></label><div class="goal-conclusion"><span class="highlight">false = true &lt;-&gt; Equal (x :: s) (x&#39; :: s&#39;)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">  <span class="c">(* x&lt;x&#39; *)</span>
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chkbf" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chkbf"><span class="highlight"><span class="nb">split</span>; <span class="nb">intros</span> E.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s&#39;0</span> : t,
Ok s -&gt;
Ok s&#39;0 -&gt; equal s s&#39;0 = true &lt;-&gt; Equal s s&#39;0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x&#39; s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">C</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt x x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">false = true</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Equal (x :: s) (x&#39; :: s&#39;)</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chkc0" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s&#39;0</span> : t,
Ok s -&gt;
Ok s&#39;0 -&gt; equal s s&#39;0 = true &lt;-&gt; Equal s s&#39;0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x&#39; s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">C</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt x x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equal (x :: s) (x&#39; :: s&#39;)</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chkc0"><hr></label><div class="goal-conclusion"><span class="highlight">false = true</span></div></blockquote><input class="coq-extra-goal-toggle" id="MSetList-v-chkc1" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s&#39;0</span> : t,
Ok s -&gt;
Ok s&#39;0 -&gt; equal s s&#39;0 = true &lt;-&gt; Equal s s&#39;0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x&#39; s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">C</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt x&#39; x</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chkc1"><hr></label><div class="goal-conclusion"><span class="highlight">false = true &lt;-&gt; Equal (x :: s) (x&#39; :: s&#39;)</span></div></blockquote></div></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chkc2" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chkc2"><span class="highlight"><span class="bp">discriminate</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s&#39;0</span> : t,
Ok s -&gt;
Ok s&#39;0 -&gt; equal s s&#39;0 = true &lt;-&gt; Equal s s&#39;0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x&#39; s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">C</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt x x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equal (x :: s) (x&#39; :: s&#39;)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">false = true</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chkc3" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s&#39;0</span> : t,
Ok s -&gt;
Ok s&#39;0 -&gt; equal s s&#39;0 = true &lt;-&gt; Equal s s&#39;0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x&#39; s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">C</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt x&#39; x</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chkc3"><hr></label><div class="goal-conclusion"><span class="highlight">false = true &lt;-&gt; Equal (x :: s) (x&#39; :: s&#39;)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chkc4" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chkc4"><span class="highlight"><span class="nb">assert</span> (In x (x&#39;::s&#39;)) <span class="bp">by</span> (<span class="nb">rewrite</span> &lt;- E; <span class="nb">auto</span>).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s&#39;0</span> : t,
Ok s -&gt;
Ok s&#39;0 -&gt; equal s s&#39;0 = true &lt;-&gt; Equal s s&#39;0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x&#39; s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">C</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt x x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equal (x :: s) (x&#39; :: s&#39;)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In x (x&#39; :: s&#39;)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">false = true</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chkc5" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s&#39;0</span> : t,
Ok s -&gt;
Ok s&#39;0 -&gt; equal s s&#39;0 = true &lt;-&gt; Equal s s&#39;0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x&#39; s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">C</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt x&#39; x</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chkc5"><hr></label><div class="goal-conclusion"><span class="highlight">false = true &lt;-&gt; Equal (x :: s) (x&#39; :: s&#39;)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chkc6" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chkc6"><span class="highlight">inv; <span class="kp">try</span> sort_inf_in; order.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s&#39;0</span> : t,
Ok s -&gt;
Ok s&#39;0 -&gt; equal s s&#39;0 = true &lt;-&gt; Equal s s&#39;0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x&#39; s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">C</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt x&#39; x</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">false = true &lt;-&gt; Equal (x :: s) (x&#39; :: s&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">  <span class="c">(* x&gt;x&#39; *)</span>
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chkc7" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chkc7"><span class="highlight"><span class="nb">split</span>; <span class="nb">intros</span> E.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s&#39;0</span> : t,
Ok s -&gt;
Ok s&#39;0 -&gt; equal s s&#39;0 = true &lt;-&gt; Equal s s&#39;0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x&#39; s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">C</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt x&#39; x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">false = true</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Equal (x :: s) (x&#39; :: s&#39;)</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chkc8" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s&#39;0</span> : t,
Ok s -&gt;
Ok s&#39;0 -&gt; equal s s&#39;0 = true &lt;-&gt; Equal s s&#39;0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x&#39; s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">C</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt x&#39; x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equal (x :: s) (x&#39; :: s&#39;)</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chkc8"><hr></label><div class="goal-conclusion"><span class="highlight">false = true</span></div></blockquote></div></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chkc9" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chkc9"><span class="highlight"><span class="bp">discriminate</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s&#39;0</span> : t,
Ok s -&gt;
Ok s&#39;0 -&gt; equal s s&#39;0 = true &lt;-&gt; Equal s s&#39;0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x&#39; s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">C</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt x&#39; x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equal (x :: s) (x&#39; :: s&#39;)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">false = true</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chkca" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chkca"><span class="highlight"><span class="nb">assert</span> (In x&#39; (x::s)) <span class="bp">by</span> (<span class="nb">rewrite</span> E; <span class="nb">auto</span>).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s&#39;0</span> : t,
Ok s -&gt;
Ok s&#39;0 -&gt; equal s s&#39;0 = true &lt;-&gt; Equal s s&#39;0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x&#39; s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">C</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt x&#39; x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equal (x :: s) (x&#39; :: s&#39;)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In x&#39; (x :: s)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">false = true</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight">inv; <span class="kp">try</span> sort_inf_in; order.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chkcb" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chkcb"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">subset_spec</span> :
   <span class="kr">forall</span> (<span class="nv">s</span> <span class="nv">s&#39;</span> : t) (<span class="nv">Hs</span> : Ok s) (<span class="nv">Hs&#39;</span> : Ok s&#39;),
   subset s s&#39; = true &lt;-&gt; Subset s s&#39;.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">s</span> <span class="nv">s&#39;</span> : t,
Ok s -&gt; Ok s&#39; -&gt; subset s s&#39; = true &lt;-&gt; Subset s s&#39;</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chkcc" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chkcc"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">s</span> <span class="nv">s&#39;</span> : t,
Ok s -&gt; Ok s&#39; -&gt; subset s s&#39; = true &lt;-&gt; Subset s s&#39;</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chkcd" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chkcd"><span class="highlight"><span class="nb">intros</span> s s&#39;; <span class="nb">revert</span> s.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">s</span> : t,
Ok s -&gt; Ok s&#39; -&gt; subset s s&#39; = true &lt;-&gt; Subset s s&#39;</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chkce" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chkce"><span class="highlight"><span class="nb">induction</span> s&#39; <span class="kr">as</span> [ | x&#39; s&#39; IH]; <span class="nb">intros</span> [ | x s] Hs Hs&#39;; <span class="nb">simpl</span>; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Hs, Hs'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok nil</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">true = true &lt;-&gt; Subset nil nil</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chkcf" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok (x :: s)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok nil</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chkcf"><hr></label><div class="goal-conclusion"><span class="highlight">false = true &lt;-&gt; Subset (x :: s) nil</span></div></blockquote><input class="coq-extra-goal-toggle" id="MSetList-v-chkd0" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s</span> : t,
Ok s -&gt;
Ok s&#39; -&gt; subset s s&#39; = true &lt;-&gt; Subset s s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok nil</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok (x&#39; :: s&#39;)</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chkd0"><hr></label><div class="goal-conclusion"><span class="highlight">true = true &lt;-&gt; Subset nil (x&#39; :: s&#39;)</span></div></blockquote><input class="coq-extra-goal-toggle" id="MSetList-v-chkd1" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t,
Ok s0 -&gt;
Ok s&#39; -&gt; subset s0 s&#39; = true &lt;-&gt; Subset s0 s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok (x :: s)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok (x&#39; :: s&#39;)</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chkd1"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">match</span> X.<span class="nb">compare</span> x x&#39; <span class="kr">with</span>
| Eq =&gt; subset s s&#39;
| Lt =&gt; false
| Gt =&gt; subset (x :: s) s&#39;
<span class="kr">end</span> = true &lt;-&gt; Subset (x :: s) (x&#39; :: s&#39;)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chkd2" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chkd2"><span class="highlight"><span class="nb">split</span>; <span class="kp">try</span> <span class="nb">red</span>; <span class="nb">intros</span>; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok (x :: s)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok nil</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">false = true &lt;-&gt; Subset (x :: s) nil</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chkd3" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s</span> : t,
Ok s -&gt;
Ok s&#39; -&gt; subset s s&#39; = true &lt;-&gt; Subset s s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok nil</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok (x&#39; :: s&#39;)</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chkd3"><hr></label><div class="goal-conclusion"><span class="highlight">true = true &lt;-&gt; Subset nil (x&#39; :: s&#39;)</span></div></blockquote><input class="coq-extra-goal-toggle" id="MSetList-v-chkd4" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t,
Ok s0 -&gt;
Ok s&#39; -&gt; subset s0 s&#39; = true &lt;-&gt; Subset s0 s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok (x :: s)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok (x&#39; :: s&#39;)</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chkd4"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">match</span> X.<span class="nb">compare</span> x x&#39; <span class="kr">with</span>
| Eq =&gt; subset s s&#39;
| Lt =&gt; false
| Gt =&gt; subset (x :: s) s&#39;
<span class="kr">end</span> = true &lt;-&gt; Subset (x :: s) (x&#39; :: s&#39;)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chkd5" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chkd5"><span class="highlight"><span class="nb">split</span>; <span class="nb">intros</span> H.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok (x :: s)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok nil</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">false = true</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Subset (x :: s) nil</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chkd6" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok (x :: s)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok nil</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Subset (x :: s) nil</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chkd6"><hr></label><div class="goal-conclusion"><span class="highlight">false = true</span></div></blockquote><input class="coq-extra-goal-toggle" id="MSetList-v-chkd7" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s</span> : t,
Ok s -&gt;
Ok s&#39; -&gt; subset s s&#39; = true &lt;-&gt; Subset s s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok nil</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok (x&#39; :: s&#39;)</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chkd7"><hr></label><div class="goal-conclusion"><span class="highlight">true = true &lt;-&gt; Subset nil (x&#39; :: s&#39;)</span></div></blockquote><input class="coq-extra-goal-toggle" id="MSetList-v-chkd8" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t,
Ok s0 -&gt;
Ok s&#39; -&gt; subset s0 s&#39; = true &lt;-&gt; Subset s0 s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok (x :: s)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok (x&#39; :: s&#39;)</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chkd8"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">match</span> X.<span class="nb">compare</span> x x&#39; <span class="kr">with</span>
| Eq =&gt; subset s s&#39;
| Lt =&gt; false
| Gt =&gt; subset (x :: s) s&#39;
<span class="kr">end</span> = true &lt;-&gt; Subset (x :: s) (x&#39; :: s&#39;)</span></div></blockquote></div></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chkd9" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chkd9"><span class="highlight"><span class="bp">discriminate</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok (x :: s)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok nil</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Subset (x :: s) nil</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">false = true</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chkda" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s</span> : t,
Ok s -&gt;
Ok s&#39; -&gt; subset s s&#39; = true &lt;-&gt; Subset s s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok nil</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok (x&#39; :: s&#39;)</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chkda"><hr></label><div class="goal-conclusion"><span class="highlight">true = true &lt;-&gt; Subset nil (x&#39; :: s&#39;)</span></div></blockquote><input class="coq-extra-goal-toggle" id="MSetList-v-chkdb" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t,
Ok s0 -&gt;
Ok s&#39; -&gt; subset s0 s&#39; = true &lt;-&gt; Subset s0 s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok (x :: s)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok (x&#39; :: s&#39;)</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chkdb"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">match</span> X.<span class="nb">compare</span> x x&#39; <span class="kr">with</span>
| Eq =&gt; subset s s&#39;
| Lt =&gt; false
| Gt =&gt; subset (x :: s) s&#39;
<span class="kr">end</span> = true &lt;-&gt; Subset (x :: s) (x&#39; :: s&#39;)</span></div></blockquote></div></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chkdc" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chkdc"><span class="highlight"><span class="nb">assert</span> (In x nil) <span class="bp">by</span> (<span class="nb">apply</span> H; <span class="nb">auto</span>).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok (x :: s)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok nil</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Subset (x :: s) nil</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In x nil</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">false = true</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chkdd" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s</span> : t,
Ok s -&gt;
Ok s&#39; -&gt; subset s s&#39; = true &lt;-&gt; Subset s s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok nil</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok (x&#39; :: s&#39;)</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chkdd"><hr></label><div class="goal-conclusion"><span class="highlight">true = true &lt;-&gt; Subset nil (x&#39; :: s&#39;)</span></div></blockquote><input class="coq-extra-goal-toggle" id="MSetList-v-chkde" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t,
Ok s0 -&gt;
Ok s&#39; -&gt; subset s0 s&#39; = true &lt;-&gt; Subset s0 s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok (x :: s)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok (x&#39; :: s&#39;)</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chkde"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">match</span> X.<span class="nb">compare</span> x x&#39; <span class="kr">with</span>
| Eq =&gt; subset s s&#39;
| Lt =&gt; false
| Gt =&gt; subset (x :: s) s&#39;
<span class="kr">end</span> = true &lt;-&gt; Subset (x :: s) (x&#39; :: s&#39;)</span></div></blockquote></div></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chkdf" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chkdf"><span class="highlight">inv.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s</span> : t,
Ok s -&gt;
Ok s&#39; -&gt; subset s s&#39; = true &lt;-&gt; Subset s s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok nil</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok (x&#39; :: s&#39;)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">true = true &lt;-&gt; Subset nil (x&#39; :: s&#39;)</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chke0" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t,
Ok s0 -&gt;
Ok s&#39; -&gt; subset s0 s&#39; = true &lt;-&gt; Subset s0 s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok (x :: s)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok (x&#39; :: s&#39;)</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chke0"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">match</span> X.<span class="nb">compare</span> x x&#39; <span class="kr">with</span>
| Eq =&gt; subset s s&#39;
| Lt =&gt; false
| Gt =&gt; subset (x :: s) s&#39;
<span class="kr">end</span> = true &lt;-&gt; Subset (x :: s) (x&#39; :: s&#39;)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chke1" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chke1"><span class="highlight"><span class="nb">split</span>; <span class="kp">try</span> <span class="nb">red</span>; <span class="nb">intros</span>; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s</span> : t,
Ok s -&gt;
Ok s&#39; -&gt; subset s s&#39; = true &lt;-&gt; Subset s s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok nil</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok (x&#39; :: s&#39;)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">true = true</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In a nil</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">In a (x&#39; :: s&#39;)</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chke2" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t,
Ok s0 -&gt;
Ok s&#39; -&gt; subset s0 s&#39; = true &lt;-&gt; Subset s0 s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok (x :: s)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok (x&#39; :: s&#39;)</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chke2"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">match</span> X.<span class="nb">compare</span> x x&#39; <span class="kr">with</span>
| Eq =&gt; subset s s&#39;
| Lt =&gt; false
| Gt =&gt; subset (x :: s) s&#39;
<span class="kr">end</span> = true &lt;-&gt; Subset (x :: s) (x&#39; :: s&#39;)</span></div></blockquote></div></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chke3" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chke3"><span class="highlight">inv.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t,
Ok s0 -&gt;
Ok s&#39; -&gt; subset s0 s&#39; = true &lt;-&gt; Subset s0 s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok (x :: s)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok (x&#39; :: s&#39;)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">match</span> X.<span class="nb">compare</span> x x&#39; <span class="kr">with</span>
| Eq =&gt; subset s s&#39;
| Lt =&gt; false
| Gt =&gt; subset (x :: s) s&#39;
<span class="kr">end</span> = true &lt;-&gt; Subset (x :: s) (x&#39; :: s&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chke4" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chke4"><span class="highlight">inv.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t,
Ok s0 -&gt;
Ok s&#39; -&gt; subset s0 s&#39; = true &lt;-&gt; Subset s0 s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x&#39; s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x s</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">match</span> X.<span class="nb">compare</span> x x&#39; <span class="kr">with</span>
| Eq =&gt; subset s s&#39;
| Lt =&gt; false
| Gt =&gt; subset (x :: s) s&#39;
<span class="kr">end</span> = true &lt;-&gt; Subset (x :: s) (x&#39; :: s&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chke5" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chke5"><span class="highlight">elim_compare x x&#39; <span class="kr">as</span> C.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t,
Ok s0 -&gt;
Ok s&#39; -&gt; subset s0 s&#39; = true &lt;-&gt; Subset s0 s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x&#39; s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">C</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.eq x x&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">subset s s&#39; = true &lt;-&gt; Subset (x :: s) (x&#39; :: s&#39;)</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chke6" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t,
Ok s0 -&gt;
Ok s&#39; -&gt; subset s0 s&#39; = true &lt;-&gt; Subset s0 s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x&#39; s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">C</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt x x&#39;</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chke6"><hr></label><div class="goal-conclusion"><span class="highlight">false = true &lt;-&gt; Subset (x :: s) (x&#39; :: s&#39;)</span></div></blockquote><input class="coq-extra-goal-toggle" id="MSetList-v-chke7" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t,
Ok s0 -&gt;
Ok s&#39; -&gt; subset s0 s&#39; = true &lt;-&gt; Subset s0 s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x&#39; s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">C</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt x&#39; x</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chke7"><hr></label><div class="goal-conclusion"><span class="highlight">subset (x :: s) s&#39; = true &lt;-&gt;
Subset (x :: s) (x&#39; :: s&#39;)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">  <span class="c">(* x=x&#39; *)</span>
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chke8" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chke8"><span class="highlight"><span class="nb">rewrite</span> IH; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t,
Ok s0 -&gt;
Ok s&#39; -&gt; subset s0 s&#39; = true &lt;-&gt; Subset s0 s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x&#39; s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">C</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.eq x x&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Subset s s&#39; &lt;-&gt; Subset (x :: s) (x&#39; :: s&#39;)</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chke9" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t,
Ok s0 -&gt;
Ok s&#39; -&gt; subset s0 s&#39; = true &lt;-&gt; Subset s0 s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x&#39; s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">C</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt x x&#39;</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chke9"><hr></label><div class="goal-conclusion"><span class="highlight">false = true &lt;-&gt; Subset (x :: s) (x&#39; :: s&#39;)</span></div></blockquote><input class="coq-extra-goal-toggle" id="MSetList-v-chkea" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t,
Ok s0 -&gt;
Ok s&#39; -&gt; subset s0 s&#39; = true &lt;-&gt; Subset s0 s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x&#39; s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">C</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt x&#39; x</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chkea"><hr></label><div class="goal-conclusion"><span class="highlight">subset (x :: s) s&#39; = true &lt;-&gt;
Subset (x :: s) (x&#39; :: s&#39;)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chkeb" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chkeb"><span class="highlight"><span class="nb">split</span>; <span class="nb">intros</span> S y; <span class="nb">specialize</span> (S y).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t,
Ok s0 -&gt;
Ok s&#39; -&gt; subset s0 s&#39; = true &lt;-&gt; Subset s0 s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x&#39; s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">C</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.eq x x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">S</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In y s -&gt; In y s&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">In y (x :: s) -&gt; In y (x&#39; :: s&#39;)</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chkec" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t,
Ok s0 -&gt;
Ok s&#39; -&gt; subset s0 s&#39; = true &lt;-&gt; Subset s0 s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x&#39; s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">C</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.eq x x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">S</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In y (x :: s) -&gt; In y (x&#39; :: s&#39;)</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chkec"><hr></label><div class="goal-conclusion"><span class="highlight">In y s -&gt; In y s&#39;</span></div></blockquote><input class="coq-extra-goal-toggle" id="MSetList-v-chked" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t,
Ok s0 -&gt;
Ok s&#39; -&gt; subset s0 s&#39; = true &lt;-&gt; Subset s0 s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x&#39; s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">C</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt x x&#39;</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chked"><hr></label><div class="goal-conclusion"><span class="highlight">false = true &lt;-&gt; Subset (x :: s) (x&#39; :: s&#39;)</span></div></blockquote><input class="coq-extra-goal-toggle" id="MSetList-v-chkee" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t,
Ok s0 -&gt;
Ok s&#39; -&gt; subset s0 s&#39; = true &lt;-&gt; Subset s0 s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x&#39; s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">C</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt x&#39; x</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chkee"><hr></label><div class="goal-conclusion"><span class="highlight">subset (x :: s) s&#39; = true &lt;-&gt;
Subset (x :: s) (x&#39; :: s&#39;)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chkef" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chkef"><span class="highlight"><span class="nb">rewrite</span> !InA_cons, C.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t,
Ok s0 -&gt;
Ok s&#39; -&gt; subset s0 s&#39; = true &lt;-&gt; Subset s0 s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x&#39; s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">C</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.eq x x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">S</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In y s -&gt; In y s&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">X.eq y x&#39; \/ In y s -&gt; X.eq y x&#39; \/ In y s&#39;</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chkf0" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t,
Ok s0 -&gt;
Ok s&#39; -&gt; subset s0 s&#39; = true &lt;-&gt; Subset s0 s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x&#39; s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">C</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.eq x x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">S</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In y (x :: s) -&gt; In y (x&#39; :: s&#39;)</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chkf0"><hr></label><div class="goal-conclusion"><span class="highlight">In y s -&gt; In y s&#39;</span></div></blockquote><input class="coq-extra-goal-toggle" id="MSetList-v-chkf1" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t,
Ok s0 -&gt;
Ok s&#39; -&gt; subset s0 s&#39; = true &lt;-&gt; Subset s0 s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x&#39; s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">C</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt x x&#39;</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chkf1"><hr></label><div class="goal-conclusion"><span class="highlight">false = true &lt;-&gt; Subset (x :: s) (x&#39; :: s&#39;)</span></div></blockquote><input class="coq-extra-goal-toggle" id="MSetList-v-chkf2" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t,
Ok s0 -&gt;
Ok s&#39; -&gt; subset s0 s&#39; = true &lt;-&gt; Subset s0 s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x&#39; s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">C</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt x&#39; x</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chkf2"><hr></label><div class="goal-conclusion"><span class="highlight">subset (x :: s) s&#39; = true &lt;-&gt;
Subset (x :: s) (x&#39; :: s&#39;)</span></div></blockquote></div></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chkf3" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chkf3"><span class="highlight"><span class="nb">intuition</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t,
Ok s0 -&gt;
Ok s&#39; -&gt; subset s0 s&#39; = true &lt;-&gt; Subset s0 s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x&#39; s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">C</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.eq x x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">S</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In y (x :: s) -&gt; In y (x&#39; :: s&#39;)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">In y s -&gt; In y s&#39;</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chkf4" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t,
Ok s0 -&gt;
Ok s&#39; -&gt; subset s0 s&#39; = true &lt;-&gt; Subset s0 s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x&#39; s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">C</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt x x&#39;</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chkf4"><hr></label><div class="goal-conclusion"><span class="highlight">false = true &lt;-&gt; Subset (x :: s) (x&#39; :: s&#39;)</span></div></blockquote><input class="coq-extra-goal-toggle" id="MSetList-v-chkf5" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t,
Ok s0 -&gt;
Ok s&#39; -&gt; subset s0 s&#39; = true &lt;-&gt; Subset s0 s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x&#39; s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">C</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt x&#39; x</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chkf5"><hr></label><div class="goal-conclusion"><span class="highlight">subset (x :: s) s&#39; = true &lt;-&gt;
Subset (x :: s) (x&#39; :: s&#39;)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chkf6" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chkf6"><span class="highlight"><span class="nb">rewrite</span> !InA_cons, C <span class="kr">in</span> S.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t,
Ok s0 -&gt;
Ok s&#39; -&gt; subset s0 s&#39; = true &lt;-&gt; Subset s0 s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x&#39; s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">C</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.eq x x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">S</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.eq y x&#39; \/ In y s -&gt; X.eq y x&#39; \/ In y s&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">In y s -&gt; In y s&#39;</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chkf7" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t,
Ok s0 -&gt;
Ok s&#39; -&gt; subset s0 s&#39; = true &lt;-&gt; Subset s0 s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x&#39; s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">C</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt x x&#39;</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chkf7"><hr></label><div class="goal-conclusion"><span class="highlight">false = true &lt;-&gt; Subset (x :: s) (x&#39; :: s&#39;)</span></div></blockquote><input class="coq-extra-goal-toggle" id="MSetList-v-chkf8" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t,
Ok s0 -&gt;
Ok s&#39; -&gt; subset s0 s&#39; = true &lt;-&gt; Subset s0 s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x&#39; s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">C</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt x&#39; x</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chkf8"><hr></label><div class="goal-conclusion"><span class="highlight">subset (x :: s) s&#39; = true &lt;-&gt;
Subset (x :: s) (x&#39; :: s&#39;)</span></div></blockquote></div></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chkf9" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chkf9"><span class="highlight"><span class="nb">intuition</span>; <span class="kp">try</span> sort_inf_in; order.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t,
Ok s0 -&gt;
Ok s&#39; -&gt; subset s0 s&#39; = true &lt;-&gt; Subset s0 s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x&#39; s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">C</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt x x&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">false = true &lt;-&gt; Subset (x :: s) (x&#39; :: s&#39;)</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chkfa" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t,
Ok s0 -&gt;
Ok s&#39; -&gt; subset s0 s&#39; = true &lt;-&gt; Subset s0 s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x&#39; s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">C</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt x&#39; x</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chkfa"><hr></label><div class="goal-conclusion"><span class="highlight">subset (x :: s) s&#39; = true &lt;-&gt;
Subset (x :: s) (x&#39; :: s&#39;)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">  <span class="c">(* x&lt;x&#39; *)</span>
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chkfb" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chkfb"><span class="highlight"><span class="nb">split</span>; <span class="nb">intros</span> S.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t,
Ok s0 -&gt;
Ok s&#39; -&gt; subset s0 s&#39; = true &lt;-&gt; Subset s0 s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x&#39; s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">C</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt x x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">S</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">false = true</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Subset (x :: s) (x&#39; :: s&#39;)</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chkfc" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t,
Ok s0 -&gt;
Ok s&#39; -&gt; subset s0 s&#39; = true &lt;-&gt; Subset s0 s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x&#39; s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">C</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt x x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">S</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Subset (x :: s) (x&#39; :: s&#39;)</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chkfc"><hr></label><div class="goal-conclusion"><span class="highlight">false = true</span></div></blockquote><input class="coq-extra-goal-toggle" id="MSetList-v-chkfd" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t,
Ok s0 -&gt;
Ok s&#39; -&gt; subset s0 s&#39; = true &lt;-&gt; Subset s0 s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x&#39; s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">C</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt x&#39; x</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chkfd"><hr></label><div class="goal-conclusion"><span class="highlight">subset (x :: s) s&#39; = true &lt;-&gt;
Subset (x :: s) (x&#39; :: s&#39;)</span></div></blockquote></div></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chkfe" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chkfe"><span class="highlight"><span class="bp">discriminate</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t,
Ok s0 -&gt;
Ok s&#39; -&gt; subset s0 s&#39; = true &lt;-&gt; Subset s0 s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x&#39; s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">C</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt x x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">S</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Subset (x :: s) (x&#39; :: s&#39;)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">false = true</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chkff" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t,
Ok s0 -&gt;
Ok s&#39; -&gt; subset s0 s&#39; = true &lt;-&gt; Subset s0 s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x&#39; s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">C</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt x&#39; x</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chkff"><hr></label><div class="goal-conclusion"><span class="highlight">subset (x :: s) s&#39; = true &lt;-&gt;
Subset (x :: s) (x&#39; :: s&#39;)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk100" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk100"><span class="highlight"><span class="nb">assert</span> (In x (x&#39;::s&#39;)) <span class="bp">by</span> (<span class="nb">apply</span> S; <span class="nb">auto</span>).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t,
Ok s0 -&gt;
Ok s&#39; -&gt; subset s0 s&#39; = true &lt;-&gt; Subset s0 s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x&#39; s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">C</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt x x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">S</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Subset (x :: s) (x&#39; :: s&#39;)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In x (x&#39; :: s&#39;)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">false = true</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chk101" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t,
Ok s0 -&gt;
Ok s&#39; -&gt; subset s0 s&#39; = true &lt;-&gt; Subset s0 s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x&#39; s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">C</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt x&#39; x</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk101"><hr></label><div class="goal-conclusion"><span class="highlight">subset (x :: s) s&#39; = true &lt;-&gt;
Subset (x :: s) (x&#39; :: s&#39;)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk102" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk102"><span class="highlight">inv; <span class="kp">try</span> sort_inf_in; order.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t,
Ok s0 -&gt;
Ok s&#39; -&gt; subset s0 s&#39; = true &lt;-&gt; Subset s0 s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x&#39; s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">C</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt x&#39; x</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">subset (x :: s) s&#39; = true &lt;-&gt;
Subset (x :: s) (x&#39; :: s&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">  <span class="c">(* x&gt;x&#39; *)</span>
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk103" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk103"><span class="highlight"><span class="nb">rewrite</span> IH; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t,
Ok s0 -&gt;
Ok s&#39; -&gt; subset s0 s&#39; = true &lt;-&gt; Subset s0 s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x&#39; s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">C</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt x&#39; x</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Subset (x :: s) s&#39; &lt;-&gt; Subset (x :: s) (x&#39; :: s&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk104" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk104"><span class="highlight"><span class="nb">split</span>; <span class="nb">intros</span> S y; <span class="nb">specialize</span> (S y).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t,
Ok s0 -&gt;
Ok s&#39; -&gt; subset s0 s&#39; = true &lt;-&gt; Subset s0 s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x&#39; s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">C</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt x&#39; x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">S</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In y (x :: s) -&gt; In y s&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">In y (x :: s) -&gt; In y (x&#39; :: s&#39;)</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chk105" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t,
Ok s0 -&gt;
Ok s&#39; -&gt; subset s0 s&#39; = true &lt;-&gt; Subset s0 s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x&#39; s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">C</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt x&#39; x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">S</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In y (x :: s) -&gt; In y (x&#39; :: s&#39;)</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk105"><hr></label><div class="goal-conclusion"><span class="highlight">In y (x :: s) -&gt; In y s&#39;</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk106" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk106"><span class="highlight"><span class="nb">rewrite</span> !InA_cons.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t,
Ok s0 -&gt;
Ok s&#39; -&gt; subset s0 s&#39; = true &lt;-&gt; Subset s0 s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x&#39; s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">C</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt x&#39; x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">S</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In y (x :: s) -&gt; In y s&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">X.eq y x \/ In y s -&gt; X.eq y x&#39; \/ In y s&#39;</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chk107" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t,
Ok s0 -&gt;
Ok s&#39; -&gt; subset s0 s&#39; = true &lt;-&gt; Subset s0 s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x&#39; s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">C</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt x&#39; x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">S</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In y (x :: s) -&gt; In y (x&#39; :: s&#39;)</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk107"><hr></label><div class="goal-conclusion"><span class="highlight">In y (x :: s) -&gt; In y s&#39;</span></div></blockquote></div></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk108" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk108"><span class="highlight"><span class="nb">intuition</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t,
Ok s0 -&gt;
Ok s&#39; -&gt; subset s0 s&#39; = true &lt;-&gt; Subset s0 s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x&#39; s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">C</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt x&#39; x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">S</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In y (x :: s) -&gt; In y (x&#39; :: s&#39;)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">In y (x :: s) -&gt; In y s&#39;</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk109" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk109"><span class="highlight"><span class="nb">rewrite</span> !InA_cons <span class="kr">in</span> S.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t,
Ok s0 -&gt;
Ok s&#39; -&gt; subset s0 s&#39; = true &lt;-&gt; Subset s0 s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x&#39; s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">C</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt x&#39; x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">S</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.eq y x \/ In y s -&gt; X.eq y x&#39; \/ In y s&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">In y (x :: s) -&gt; In y s&#39;</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk10a" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk10a"><span class="highlight"><span class="nb">rewrite</span> !InA_cons.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t,
Ok s0 -&gt;
Ok s&#39; -&gt; subset s0 s&#39; = true &lt;-&gt; Subset s0 s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x&#39; s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">C</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt x&#39; x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">S</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.eq y x \/ In y s -&gt; X.eq y x&#39; \/ In y s&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">X.eq y x \/ In y s -&gt; In y s&#39;</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">intuition</span>; <span class="kp">try</span> sort_inf_in; order.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk10b" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk10b"><span class="highlight"><span class="kn">Instance</span> <span class="nf">empty_ok</span> : Ok empty.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Ok empty</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk10c" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk10c"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Ok empty</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight">constructors.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk10d" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk10d"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">empty_spec</span> : Empty empty.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Empty empty</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk10e" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk10e"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Empty empty</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">unfold</span> Empty, empty; <span class="nb">intuition</span>; inv.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk10f" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk10f"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">is_empty_spec</span> : <span class="kr">forall</span> <span class="nv">s</span> : t, is_empty s = true &lt;-&gt; Empty s.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">s</span> : t, is_empty s = true &lt;-&gt; Empty s</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk110" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk110"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">s</span> : t, is_empty s = true &lt;-&gt; Empty s</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk111" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk111"><span class="highlight"><span class="nb">intros</span> [ | x s]; <span class="nb">simpl</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">true = true &lt;-&gt; Empty nil</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chk112" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk112"><hr></label><div class="goal-conclusion"><span class="highlight">false = true &lt;-&gt; Empty (x :: s)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk113" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk113"><span class="highlight"><span class="nb">split</span>; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">true = true -&gt; Empty nil</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chk114" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk114"><hr></label><div class="goal-conclusion"><span class="highlight">false = true &lt;-&gt; Empty (x :: s)</span></div></blockquote></div></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk115" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk115"><span class="highlight"><span class="nb">intros</span> _ x H.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In x nil</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kt">False</span></span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chk116" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk116"><hr></label><div class="goal-conclusion"><span class="highlight">false = true &lt;-&gt; Empty (x :: s)</span></div></blockquote></div></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk117" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk117"><span class="highlight">inv.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">false = true &lt;-&gt; Empty (x :: s)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk118" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk118"><span class="highlight"><span class="nb">split</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">false = true -&gt; Empty (x :: s)</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chk119" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk119"><hr></label><div class="goal-conclusion"><span class="highlight">Empty (x :: s) -&gt; false = true</span></div></blockquote></div></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk11a" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk11a"><span class="highlight"><span class="bp">discriminate</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Empty (x :: s) -&gt; false = true</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk11b" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk11b"><span class="highlight"><span class="nb">intros</span> H.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Empty (x :: s)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">false = true</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">elim</span> (H x); <span class="nb">auto</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk11c" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk11c"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">elements_spec1</span> : <span class="kr">forall</span> (<span class="nv">s</span> : t) (<span class="nv">x</span> : elt), In x (elements s) &lt;-&gt; In x s.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">s</span> : t) (<span class="nv">x</span> : elt), In x (elements s) &lt;-&gt; In x s</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk11d" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk11d"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">s</span> : t) (<span class="nv">x</span> : elt), In x (elements s) &lt;-&gt; In x s</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">intuition</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk11e" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk11e"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">elements_spec2</span> : <span class="kr">forall</span> (<span class="nv">s</span> : t) (<span class="nv">Hs</span> : Ok s), sort X.lt (elements s).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">s</span> : t, Ok s -&gt; Sorted X.lt (elements s)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk11f" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk11f"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">s</span> : t, Ok s -&gt; Sorted X.lt (elements s)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">intro</span> s; <span class="kp">repeat</span> <span class="nb">rewrite</span> &lt;- isok_iff; <span class="nb">auto</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk120" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk120"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">elements_spec2w</span> : <span class="kr">forall</span> (<span class="nv">s</span> : t) (<span class="nv">Hs</span> : Ok s), NoDupA X.eq (elements s).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">s</span> : t, Ok s -&gt; NoDupA X.eq (elements s)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk121" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk121"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">s</span> : t, Ok s -&gt; NoDupA X.eq (elements s)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">intro</span> s; <span class="kp">repeat</span> <span class="nb">rewrite</span> &lt;- isok_iff; <span class="nb">auto</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk122" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk122"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">min_elt_spec1</span> : <span class="kr">forall</span> (<span class="nv">s</span> : t) (<span class="nv">x</span> : elt), min_elt s = Some x -&gt; In x s.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">s</span> : t) (<span class="nv">x</span> : elt), min_elt s = Some x -&gt; In x s</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk123" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk123"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">s</span> : t) (<span class="nv">x</span> : elt), min_elt s = Some x -&gt; In x s</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">destruct</span> s; <span class="nb">simpl</span>; <span class="nb">inversion</span> <span class="mi">1</span>; <span class="nb">auto</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk124" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk124"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">min_elt_spec2</span> :
   <span class="kr">forall</span> (<span class="nv">s</span> : t) (<span class="nv">x</span> <span class="nv">y</span> : elt) (<span class="nv">Hs</span> : Ok s),
   min_elt s = Some x -&gt; In y s -&gt; ~ X.lt y x.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">s</span> : t) (<span class="nv">x</span> <span class="nv">y</span> : elt),
Ok s -&gt; min_elt s = Some x -&gt; In y s -&gt; ~ X.lt y x</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk125" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk125"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">s</span> : t) (<span class="nv">x</span> <span class="nv">y</span> : elt),
Ok s -&gt; min_elt s = Some x -&gt; In y s -&gt; ~ X.lt y x</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk126" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk126"><span class="highlight"><span class="nb">induction</span> s <span class="kr">as</span> [ | x s IH]; <span class="nb">simpl</span>; <span class="nb">inversion</span> <span class="mi">2</span>; <span class="nb">subst</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y0</span> : elt,
Ok s -&gt;
min_elt s = Some x -&gt; In y0 s -&gt; ~ X.lt y0 x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x0, y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Some x0 = Some x0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok (x0 :: s)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">In y (x0 :: s) -&gt; ~ X.lt y x0</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">intros</span>; inv; <span class="kp">try</span> sort_inf_in; order.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk127" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk127"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">min_elt_spec3</span> : <span class="kr">forall</span> <span class="nv">s</span> : t, min_elt s = None -&gt; Empty s.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">s</span> : t, min_elt s = None -&gt; Empty s</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk128" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk128"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">s</span> : t, min_elt s = None -&gt; Empty s</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk129" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk129"><span class="highlight"><span class="nb">destruct</span> s; <span class="nb">simpl</span>; <span class="nb">red</span>; <span class="nb">intuition</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">None = None</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In a nil</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kt">False</span></span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chk12a" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Some e = None</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In a (e :: s)</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk12a"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kt">False</span></span></div></blockquote></div></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk12b" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk12b"><span class="highlight">inv.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Some e = None</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In a (e :: s)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kt">False</span></span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">discriminate</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk12c" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk12c"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">max_elt_spec1</span> : <span class="kr">forall</span> (<span class="nv">s</span> : t) (<span class="nv">x</span> : elt), max_elt s = Some x -&gt; In x s.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">s</span> : t) (<span class="nv">x</span> : elt), max_elt s = Some x -&gt; In x s</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk12d" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk12d"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">s</span> : t) (<span class="nv">x</span> : elt), max_elt s = Some x -&gt; In x s</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk12e" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk12e"><span class="highlight"><span class="nb">induction</span> s <span class="kr">as</span> [ | x s IH].</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : elt, max_elt nil = Some x -&gt; In x nil</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chk12f" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : elt, max_elt s = Some x0 -&gt; In x0 s</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk12f"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : elt,
max_elt (x :: s) = Some x0 -&gt; In x0 (x :: s)</span></div></blockquote></div></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk130" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk130"><span class="highlight"><span class="nb">inversion</span> <span class="mi">1</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : elt, max_elt s = Some x0 -&gt; In x0 s</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : elt,
max_elt (x :: s) = Some x0 -&gt; In x0 (x :: s)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk131" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk131"><span class="highlight"><span class="nb">destruct</span> s <span class="kr">as</span> [ | y s].</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : elt,
max_elt nil = Some x0 -&gt; In x0 nil</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : elt,
max_elt (x :: nil) = Some x0 -&gt; In x0 (x :: nil)</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chk132" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x, y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : elt,
max_elt (y :: s) = Some x0 -&gt; In x0 (y :: s)</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk132"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : elt,
max_elt (x :: y :: s) = Some x0 -&gt; In x0 (x :: y :: s)</span></div></blockquote></div></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk133" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk133"><span class="highlight"><span class="nb">simpl</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : elt,
max_elt nil = Some x0 -&gt; In x0 nil</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : elt, Some x = Some x0 -&gt; In x0 (x :: nil)</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chk134" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x, y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : elt,
max_elt (y :: s) = Some x0 -&gt; In x0 (y :: s)</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk134"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : elt,
max_elt (x :: y :: s) = Some x0 -&gt; In x0 (x :: y :: s)</span></div></blockquote></div></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk135" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk135"><span class="highlight"><span class="nb">inversion</span> <span class="mi">1</span>; <span class="nb">subst</span>; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x, y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : elt,
max_elt (y :: s) = Some x0 -&gt; In x0 (y :: s)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : elt,
max_elt (x :: y :: s) = Some x0 -&gt; In x0 (x :: y :: s)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">right</span>; <span class="nb">apply</span> IH; <span class="nb">auto</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk136" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk136"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">max_elt_spec2</span> :
   <span class="kr">forall</span> (<span class="nv">s</span> : t) (<span class="nv">x</span> <span class="nv">y</span> : elt) (<span class="nv">Hs</span> : Ok s),
   max_elt s = Some x -&gt; In y s -&gt; ~ X.lt x y.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">s</span> : t) (<span class="nv">x</span> <span class="nv">y</span> : elt),
Ok s -&gt; max_elt s = Some x -&gt; In y s -&gt; ~ X.lt x y</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk137" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk137"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">s</span> : t) (<span class="nv">x</span> <span class="nv">y</span> : elt),
Ok s -&gt; max_elt s = Some x -&gt; In y s -&gt; ~ X.lt x y</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk138" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk138"><span class="highlight"><span class="nb">induction</span> s <span class="kr">as</span> [ | a s IH].</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : elt,
Ok nil -&gt;
max_elt nil = Some x -&gt; In y nil -&gt; ~ X.lt x y</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chk139" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : elt,
Ok s -&gt;
max_elt s = Some x -&gt; In y s -&gt; ~ X.lt x y</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk139"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : elt,
Ok (a :: s) -&gt;
max_elt (a :: s) = Some x -&gt;
In y (a :: s) -&gt; ~ X.lt x y</span></div></blockquote></div></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk13a" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk13a"><span class="highlight"><span class="nb">inversion</span> <span class="mi">2</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : elt,
Ok s -&gt;
max_elt s = Some x -&gt; In y s -&gt; ~ X.lt x y</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : elt,
Ok (a :: s) -&gt;
max_elt (a :: s) = Some x -&gt;
In y (a :: s) -&gt; ~ X.lt x y</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk13b" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk13b"><span class="highlight"><span class="nb">destruct</span> s <span class="kr">as</span> [ | b s].</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : elt,
Ok nil -&gt;
max_elt nil = Some x -&gt; In y nil -&gt; ~ X.lt x y</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : elt,
Ok (a :: nil) -&gt;
max_elt (a :: nil) = Some x -&gt;
In y (a :: nil) -&gt; ~ X.lt x y</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chk13c" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : elt,
Ok (b :: s) -&gt;
max_elt (b :: s) = Some x -&gt;
In y (b :: s) -&gt; ~ X.lt x y</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk13c"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : elt,
Ok (a :: b :: s) -&gt;
max_elt (a :: b :: s) = Some x -&gt;
In y (a :: b :: s) -&gt; ~ X.lt x y</span></div></blockquote></div></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk13d" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk13d"><span class="highlight"><span class="nb">inversion</span> <span class="mi">2</span>; <span class="nb">subst</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> <span class="nv">y0</span> : elt,
Ok nil -&gt;
max_elt nil = Some x0 -&gt;
In y0 nil -&gt; ~ X.lt x0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">max_elt (x :: nil) = Some x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok (x :: nil)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">In y (x :: nil) -&gt; ~ X.lt x y</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chk13e" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : elt,
Ok (b :: s) -&gt;
max_elt (b :: s) = Some x -&gt;
In y (b :: s) -&gt; ~ X.lt x y</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk13e"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : elt,
Ok (a :: b :: s) -&gt;
max_elt (a :: b :: s) = Some x -&gt;
In y (a :: b :: s) -&gt; ~ X.lt x y</span></div></blockquote></div></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk13f" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk13f"><span class="highlight"><span class="nb">intros</span>; inv; order.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : elt,
Ok (b :: s) -&gt;
max_elt (b :: s) = Some x -&gt;
In y (b :: s) -&gt; ~ X.lt x y</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : elt,
Ok (a :: b :: s) -&gt;
max_elt (a :: b :: s) = Some x -&gt;
In y (a :: b :: s) -&gt; ~ X.lt x y</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk140" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk140"><span class="highlight"><span class="nb">intros</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> <span class="nv">y0</span> : elt,
Ok (b :: s) -&gt;
max_elt (b :: s) = Some x0 -&gt;
In y0 (b :: s) -&gt; ~ X.lt x0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok (a :: b :: s)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">max_elt (a :: b :: s) = Some x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In y (a :: b :: s)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">~ X.lt x y</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk141" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk141"><span class="highlight">inv; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> <span class="nv">y0</span> : elt,
Ok (b :: s) -&gt;
max_elt (b :: s) = Some x0 -&gt;
In y0 (b :: s) -&gt; ~ X.lt x0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">max_elt (a :: b :: s) = Some x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.eq y a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H4</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf b s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt a b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">~ X.lt x y</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk142" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk142"><span class="highlight"><span class="nb">assert</span> (~X.lt x b) <span class="bp">by</span> (<span class="nb">apply</span> IH; <span class="nb">auto</span>).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> <span class="nv">y0</span> : elt,
Ok (b :: s) -&gt;
max_elt (b :: s) = Some x0 -&gt;
In y0 (b :: s) -&gt; ~ X.lt x0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">max_elt (a :: b :: s) = Some x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.eq y a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H4</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf b s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt a b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ X.lt x b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">~ X.lt x y</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk143" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk143"><span class="highlight"><span class="nb">assert</span> (X.lt a b) <span class="bp">by</span> <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> <span class="nv">y0</span> : elt,
Ok (b :: s) -&gt;
max_elt (b :: s) = Some x0 -&gt;
In y0 (b :: s) -&gt; ~ X.lt x0 y0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">max_elt (a :: b :: s) = Some x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.eq y a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H4</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf b s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt a b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ X.lt x b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H5</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt a b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">~ X.lt x y</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight">order.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk144" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk144"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">max_elt_spec3</span> : <span class="kr">forall</span> <span class="nv">s</span> : t, max_elt s = None -&gt; Empty s.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">s</span> : t, max_elt s = None -&gt; Empty s</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk145" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk145"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">s</span> : t, max_elt s = None -&gt; Empty s</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk146" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk146"><span class="highlight"><span class="nb">induction</span> s <span class="kr">as</span> [ | a s IH].</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">max_elt nil = None -&gt; Empty nil</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chk147" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">max_elt s = None -&gt; Empty s</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk147"><hr></label><div class="goal-conclusion"><span class="highlight">max_elt (a :: s) = None -&gt; Empty (a :: s)</span></div></blockquote></div></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk148" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk148"><span class="highlight"><span class="nb">red</span>; <span class="nb">intuition</span>; inv.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">max_elt s = None -&gt; Empty s</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">max_elt (a :: s) = None -&gt; Empty (a :: s)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk149" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk149"><span class="highlight"><span class="nb">destruct</span> s <span class="kr">as</span> [ | b s].</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">max_elt nil = None -&gt; Empty nil</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">max_elt (a :: nil) = None -&gt; Empty (a :: nil)</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chk14a" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">max_elt (b :: s) = None -&gt; Empty (b :: s)</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk14a"><hr></label><div class="goal-conclusion"><span class="highlight">max_elt (a :: b :: s) = None -&gt; Empty (a :: b :: s)</span></div></blockquote></div></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk14b" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk14b"><span class="highlight"><span class="nb">inversion</span> <span class="mi">1</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">max_elt (b :: s) = None -&gt; Empty (b :: s)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">max_elt (a :: b :: s) = None -&gt; Empty (a :: b :: s)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">intros</span>; <span class="nb">elim</span> IH <span class="kr">with</span> b; <span class="nb">auto</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">choose_spec1</span> :
    <span class="kr">forall</span> (<span class="nv">s</span> : t) (<span class="nv">x</span> : elt), choose s = Some x -&gt; In x s := min_elt_spec1.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">choose_spec2</span> :
    <span class="kr">forall</span> <span class="nv">s</span> : t, choose s = None -&gt; Empty s := min_elt_spec3.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk14c" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk14c"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">choose_spec3</span>: <span class="kr">forall</span> <span class="nv">s</span> <span class="nv">s&#39;</span> <span class="nv">x</span> <span class="nv">x&#39;</span>, Ok s -&gt; Ok s&#39; -&gt;
   choose s = Some x -&gt; choose s&#39; = Some x&#39; -&gt; Equal s s&#39; -&gt; X.eq x x&#39;.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">s</span> <span class="nv">s&#39;</span> : t) (<span class="nv">x</span> <span class="nv">x&#39;</span> : elt),
Ok s -&gt;
Ok s&#39; -&gt;
choose s = Some x -&gt;
choose s&#39; = Some x&#39; -&gt; Equal s s&#39; -&gt; X.eq x x&#39;</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk14d" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk14d"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">s</span> <span class="nv">s&#39;</span> : t) (<span class="nv">x</span> <span class="nv">x&#39;</span> : elt),
Ok s -&gt;
Ok s&#39; -&gt;
choose s = Some x -&gt;
choose s&#39; = Some x&#39; -&gt; Equal s s&#39; -&gt; X.eq x x&#39;</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk14e" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk14e"><span class="highlight"><span class="nb">unfold</span> choose; <span class="nb">intros</span> s s&#39; x x&#39; Hs Hs&#39; Hx Hx&#39; H.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">min_elt s = Some x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">min_elt s&#39; = Some x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equal s s&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">X.eq x x&#39;</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk14f" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk14f"><span class="highlight"><span class="nb">assert</span> (~X.lt x x&#39;).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">min_elt s = Some x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">min_elt s&#39; = Some x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equal s s&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">~ X.lt x x&#39;</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chk150" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">min_elt s = Some x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">min_elt s&#39; = Some x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equal s s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ X.lt x x&#39;</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk150"><hr></label><div class="goal-conclusion"><span class="highlight">X.eq x x&#39;</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk151" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk151"><span class="highlight"><span class="nb">apply</span> min_elt_spec2 <span class="kr">with</span> s&#39;; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">min_elt s = Some x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">min_elt s&#39; = Some x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equal s s&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">In x s&#39;</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chk152" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">min_elt s = Some x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">min_elt s&#39; = Some x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equal s s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ X.lt x x&#39;</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk152"><hr></label><div class="goal-conclusion"><span class="highlight">X.eq x x&#39;</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk153" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk153"><span class="highlight"><span class="nb">rewrite</span> &lt;-H; <span class="nb">auto using</span> min_elt_spec1.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">min_elt s = Some x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">min_elt s&#39; = Some x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equal s s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ X.lt x x&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">X.eq x x&#39;</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk154" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk154"><span class="highlight"><span class="nb">assert</span> (~X.lt x&#39; x).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">min_elt s = Some x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">min_elt s&#39; = Some x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equal s s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ X.lt x x&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">~ X.lt x&#39; x</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chk155" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">min_elt s = Some x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">min_elt s&#39; = Some x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equal s s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ X.lt x x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ X.lt x&#39; x</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk155"><hr></label><div class="goal-conclusion"><span class="highlight">X.eq x x&#39;</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk156" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk156"><span class="highlight"><span class="nb">apply</span> min_elt_spec2 <span class="kr">with</span> s; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">min_elt s = Some x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">min_elt s&#39; = Some x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equal s s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ X.lt x x&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">In x&#39; s</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chk157" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">min_elt s = Some x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">min_elt s&#39; = Some x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equal s s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ X.lt x x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ X.lt x&#39; x</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk157"><hr></label><div class="goal-conclusion"><span class="highlight">X.eq x x&#39;</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk158" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk158"><span class="highlight"><span class="nb">rewrite</span> H; <span class="nb">auto using</span> min_elt_spec1.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">min_elt s = Some x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">min_elt s&#39; = Some x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equal s s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ X.lt x x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ X.lt x&#39; x</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">X.eq x x&#39;</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><span class="coq-input"><span class="highlight">order.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk159" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk159"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">fold_spec</span> :
   <span class="kr">forall</span> (<span class="nv">s</span> : t) (<span class="nv">A</span> : <span class="kt">Type</span>) (<span class="nv">i</span> : A) (<span class="nv">f</span> : elt -&gt; A -&gt; A),
   <span class="nb">fold</span> f s i = fold_left (flip f) (elements s) i.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">s</span> : t) (<span class="nv">A</span> : <span class="kt">Type</span>) (<span class="nv">i</span> : A) (<span class="nv">f</span> : elt -&gt; A -&gt; A),
<span class="nb">fold</span> f s i = fold_left (flip f) (elements s) i</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk15a" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk15a"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">s</span> : t) (<span class="nv">A</span> : <span class="kt">Type</span>) (<span class="nv">i</span> : A) (<span class="nv">f</span> : elt -&gt; A -&gt; A),
<span class="nb">fold</span> f s i = fold_left (flip f) (elements s) i</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">reflexivity</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk15b" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk15b"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">cardinal_spec</span> :
   <span class="kr">forall</span> (<span class="nv">s</span> : t) (<span class="nv">Hs</span> : Ok s),
   cardinal s = length (elements s).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">s</span> : t, Ok s -&gt; cardinal s = length (elements s)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk15c" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk15c"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">s</span> : t, Ok s -&gt; cardinal s = length (elements s)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">auto</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk15d" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk15d"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">filter_inf</span> :
   <span class="kr">forall</span> (<span class="nv">s</span> : t) (<span class="nv">x</span> : elt) (<span class="nv">f</span> : elt -&gt; bool) (<span class="nv">Hs</span> : Ok s),
   Inf x s -&gt; Inf x (filter f s).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">s</span> : t) (<span class="nv">x</span> : elt) (<span class="nv">f</span> : elt -&gt; bool),
Ok s -&gt; Inf x s -&gt; Inf x (filter f s)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk15e" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk15e"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">s</span> : t) (<span class="nv">x</span> : elt) (<span class="nv">f</span> : elt -&gt; bool),
Ok s -&gt; Inf x s -&gt; Inf x (filter f s)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk15f" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk15f"><span class="highlight"><span class="nb">simple induction</span> s; <span class="nb">simpl</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : elt,
(elt -&gt; bool) -&gt; Ok nil -&gt; Inf x nil -&gt; Inf x nil</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chk160" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk160"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">a</span> : elt) (<span class="nv">l</span> : list elt),
(<span class="kr">forall</span> (<span class="nv">x</span> : elt) (<span class="nv">f</span> : elt -&gt; bool),
 Ok l -&gt; Inf x l -&gt; Inf x (filter f l)) -&gt;
<span class="kr">forall</span> (<span class="nv">x</span> : elt) (<span class="nv">f</span> : elt -&gt; bool),
Ok (a :: l) -&gt;
Inf x (a :: l) -&gt;
Inf x (<span class="kr">if</span> f a <span class="kr">then</span> a :: filter f l <span class="kr">else</span> filter f l)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk161" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk161"><span class="highlight"><span class="nb">intuition</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">a</span> : elt) (<span class="nv">l</span> : list elt),
(<span class="kr">forall</span> (<span class="nv">x</span> : elt) (<span class="nv">f</span> : elt -&gt; bool),
 Ok l -&gt; Inf x l -&gt; Inf x (filter f l)) -&gt;
<span class="kr">forall</span> (<span class="nv">x</span> : elt) (<span class="nv">f</span> : elt -&gt; bool),
Ok (a :: l) -&gt;
Inf x (a :: l) -&gt;
Inf x (<span class="kr">if</span> f a <span class="kr">then</span> a :: filter f l <span class="kr">else</span> filter f l)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk162" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk162"><span class="highlight"><span class="nb">intros</span> x l Hrec a f Hs Ha; inv.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x0</span> : elt) (<span class="nv">f0</span> : elt -&gt; bool),
Ok l -&gt; Inf x0 l -&gt; Inf x0 (filter f0 l)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt l</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x l</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt a x</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Inf a (<span class="kr">if</span> f x <span class="kr">then</span> x :: filter f l <span class="kr">else</span> filter f l)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk163" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk163"><span class="highlight"><span class="nb">case</span> (f x); <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x0</span> : elt) (<span class="nv">f0</span> : elt -&gt; bool),
Ok l -&gt; Inf x0 l -&gt; Inf x0 (filter f0 l)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt l</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x l</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt a x</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Inf a (filter f l)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk164" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk164"><span class="highlight"><span class="nb">apply</span> Hrec; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x0</span> : elt) (<span class="nv">f0</span> : elt -&gt; bool),
Ok l -&gt; Inf x0 l -&gt; Inf x0 (filter f0 l)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt l</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x l</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt a x</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Inf a l</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">apply</span> Inf_lt <span class="kr">with</span> x; <span class="nb">auto</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk165" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk165"><span class="highlight"><span class="kn">Instance</span> <span class="nf">filter_ok</span> <span class="nv">s</span> <span class="nv">f</span> : <span class="kr">forall</span> `(Ok s), Ok (filter f s).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; bool</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Ok s -&gt; Ok (filter f s)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk166" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk166"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; bool</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Ok s -&gt; Ok (filter f s)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk167" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk167"><span class="highlight"><span class="kp">repeat</span> <span class="nb">rewrite</span> &lt;- isok_iff; <span class="nb">revert</span> s f.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">s</span> : t) (<span class="nv">f</span> : elt -&gt; bool),
Sorted X.lt s -&gt; Sorted X.lt (filter f s)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk168" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk168"><span class="highlight"><span class="nb">simple induction</span> s; <span class="nb">simpl</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(elt -&gt; bool) -&gt; Sorted X.lt nil -&gt; Sorted X.lt nil</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chk169" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk169"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">a</span> : elt) (<span class="nv">l</span> : list elt),
(<span class="kr">forall</span> <span class="nv">f</span> : elt -&gt; bool,
 Sorted X.lt l -&gt; Sorted X.lt (filter f l)) -&gt;
<span class="kr">forall</span> <span class="nv">f</span> : elt -&gt; bool,
Sorted X.lt (a :: l) -&gt;
Sorted X.lt
  (<span class="kr">if</span> f a <span class="kr">then</span> a :: filter f l <span class="kr">else</span> filter f l)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk16a" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk16a"><span class="highlight"><span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">a</span> : elt) (<span class="nv">l</span> : list elt),
(<span class="kr">forall</span> <span class="nv">f</span> : elt -&gt; bool,
 Sorted X.lt l -&gt; Sorted X.lt (filter f l)) -&gt;
<span class="kr">forall</span> <span class="nv">f</span> : elt -&gt; bool,
Sorted X.lt (a :: l) -&gt;
Sorted X.lt
  (<span class="kr">if</span> f a <span class="kr">then</span> a :: filter f l <span class="kr">else</span> filter f l)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk16b" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk16b"><span class="highlight"><span class="nb">intros</span> x l Hrec f Hs; inv.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">f0</span> : elt -&gt; bool,
Sorted X.lt l -&gt; Sorted X.lt (filter f0 l)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt l</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x l</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Sorted X.lt
  (<span class="kr">if</span> f x <span class="kr">then</span> x :: filter f l <span class="kr">else</span> filter f l)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk16c" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk16c"><span class="highlight"><span class="nb">case</span> (f x); <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">f0</span> : elt -&gt; bool,
Sorted X.lt l -&gt; Sorted X.lt (filter f0 l)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt l</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x l</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Sorted X.lt (x :: filter f l)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk16d" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk16d"><span class="highlight">constructors; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">f0</span> : elt -&gt; bool,
Sorted X.lt l -&gt; Sorted X.lt (filter f0 l)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt l</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x l</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Inf x (filter f l)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">apply</span> filter_inf; <span class="nb">auto</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk16e" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk16e"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">filter_spec</span> :
   <span class="kr">forall</span> (<span class="nv">s</span> : t) (<span class="nv">x</span> : elt) (<span class="nv">f</span> : elt -&gt; bool),
   Proper (X.eq==&gt;eq) f -&gt;
   (In x (filter f s) &lt;-&gt; In x s /\ f x = true).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">s</span> : t) (<span class="nv">x</span> : elt) (<span class="nv">f</span> : elt -&gt; bool),
Proper (X.eq ==&gt; eq) f -&gt;
In x (filter f s) &lt;-&gt; In x s /\ f x = true</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk16f" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk16f"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">s</span> : t) (<span class="nv">x</span> : elt) (<span class="nv">f</span> : elt -&gt; bool),
Proper (X.eq ==&gt; eq) f -&gt;
In x (filter f s) &lt;-&gt; In x s /\ f x = true</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk170" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk170"><span class="highlight"><span class="nb">induction</span> s; <span class="nb">simpl</span>; <span class="nb">intros</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (X.eq ==&gt; eq) f</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">In x nil &lt;-&gt; In x nil /\ f x = true</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chk171" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x0</span> : elt) (<span class="nv">f0</span> : elt -&gt; bool),
Proper (X.eq ==&gt; eq) f0 -&gt; In x0 (filter f0 s) &lt;-&gt; In x0 s /\ f0 x0 = true</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (X.eq ==&gt; eq) f</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk171"><hr></label><div class="goal-conclusion"><span class="highlight">In x (<span class="kr">if</span> f a <span class="kr">then</span> a :: filter f s <span class="kr">else</span> filter f s) &lt;-&gt;
In x (a :: s) /\ f x = true</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk172" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk172"><span class="highlight"><span class="nb">split</span>; <span class="nb">intuition</span>; inv.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x0</span> : elt) (<span class="nv">f0</span> : elt -&gt; bool),
Proper (X.eq ==&gt; eq) f0 -&gt; In x0 (filter f0 s) &lt;-&gt; In x0 s /\ f0 x0 = true</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (X.eq ==&gt; eq) f</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">In x (<span class="kr">if</span> f a <span class="kr">then</span> a :: filter f s <span class="kr">else</span> filter f s) &lt;-&gt;
In x (a :: s) /\ f x = true</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk173" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk173"><span class="highlight"><span class="nb">destruct</span> (f a) <span class="nb">eqn</span>:F; <span class="nb">rewrite</span> !InA_cons, <span class="nl">?IHs</span>; <span class="nb">intuition</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x0</span> : elt) (<span class="nv">f0</span> : elt -&gt; bool),
Proper (X.eq ==&gt; eq) f0 -&gt; In x0 (filter f0 s) &lt;-&gt; In x0 s /\ f0 x0 = true</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (X.eq ==&gt; eq) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">f a = true</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.eq x a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">f x = true</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chk174" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x0</span> : elt) (<span class="nv">f0</span> : elt -&gt; bool),
Proper (X.eq ==&gt; eq) f0 -&gt; In x0 (filter f0 s) &lt;-&gt; In x0 s /\ f0 x0 = true</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (X.eq ==&gt; eq) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">f a = false</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">f x = true</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.eq x a</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk174"><hr></label><div class="goal-conclusion"><span class="highlight">In x s</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk175" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk175"><span class="highlight"><span class="nb">setoid_replace</span> x <span class="kr">with</span> a; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x0</span> : elt) (<span class="nv">f0</span> : elt -&gt; bool),
Proper (X.eq ==&gt; eq) f0 -&gt; In x0 (filter f0 s) &lt;-&gt; In x0 s /\ f0 x0 = true</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (X.eq ==&gt; eq) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">f a = false</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">f x = true</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.eq x a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">In x s</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">setoid_replace</span> a <span class="kr">with</span> x <span class="kr">in</span> F; <span class="nb">auto</span>; <span class="bp">congruence</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk176" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk176"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">for_all_spec</span> :
   <span class="kr">forall</span> (<span class="nv">s</span> : t) (<span class="nv">f</span> : elt -&gt; bool),
   Proper (X.eq==&gt;eq) f -&gt;
   (for_all f s = true &lt;-&gt; For_all (<span class="kr">fun</span> <span class="nv">x</span> =&gt; f x = true) s).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">s</span> : t) (<span class="nv">f</span> : elt -&gt; bool),
Proper (X.eq ==&gt; eq) f -&gt;
for_all f s = true &lt;-&gt;
For_all (<span class="kr">fun</span> <span class="nv">x</span> : elt =&gt; f x = true) s</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk177" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk177"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">s</span> : t) (<span class="nv">f</span> : elt -&gt; bool),
Proper (X.eq ==&gt; eq) f -&gt;
for_all f s = true &lt;-&gt;
For_all (<span class="kr">fun</span> <span class="nv">x</span> : elt =&gt; f x = true) s</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk178" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk178"><span class="highlight"><span class="nb">unfold</span> For_all; <span class="nb">induction</span> s; <span class="nb">simpl</span>; <span class="nb">intros</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (X.eq ==&gt; eq) f</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">true = true &lt;-&gt;
(<span class="kr">forall</span> <span class="nv">x</span> : X.t, In x nil -&gt; f x = true)</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chk179" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">f0</span> : elt -&gt; bool,
Proper (X.eq ==&gt; eq) f0 -&gt;
for_all f0 s = true &lt;-&gt; (<span class="kr">forall</span> <span class="nv">x</span> : X.t, In x s -&gt; f0 x = true)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (X.eq ==&gt; eq) f</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk179"><hr></label><div class="goal-conclusion"><span class="highlight">(<span class="kr">if</span> f a <span class="kr">then</span> for_all f s <span class="kr">else</span> false) = true &lt;-&gt;
(<span class="kr">forall</span> <span class="nv">x</span> : X.t, In x (a :: s) -&gt; f x = true)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk17a" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk17a"><span class="highlight"><span class="nb">split</span>; <span class="nb">intros</span>; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (X.eq ==&gt; eq) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">true = true</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In x nil</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">f x = true</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chk17b" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">f0</span> : elt -&gt; bool,
Proper (X.eq ==&gt; eq) f0 -&gt;
for_all f0 s = true &lt;-&gt; (<span class="kr">forall</span> <span class="nv">x</span> : X.t, In x s -&gt; f0 x = true)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (X.eq ==&gt; eq) f</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk17b"><hr></label><div class="goal-conclusion"><span class="highlight">(<span class="kr">if</span> f a <span class="kr">then</span> for_all f s <span class="kr">else</span> false) = true &lt;-&gt;
(<span class="kr">forall</span> <span class="nv">x</span> : X.t, In x (a :: s) -&gt; f x = true)</span></div></blockquote></div></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk17c" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk17c"><span class="highlight">inv.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">f0</span> : elt -&gt; bool,
Proper (X.eq ==&gt; eq) f0 -&gt;
for_all f0 s = true &lt;-&gt; (<span class="kr">forall</span> <span class="nv">x</span> : X.t, In x s -&gt; f0 x = true)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (X.eq ==&gt; eq) f</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="kr">if</span> f a <span class="kr">then</span> for_all f s <span class="kr">else</span> false) = true &lt;-&gt;
(<span class="kr">forall</span> <span class="nv">x</span> : X.t, In x (a :: s) -&gt; f x = true)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk17d" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk17d"><span class="highlight"><span class="nb">destruct</span> (f a) <span class="nb">eqn</span>:F.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">f0</span> : elt -&gt; bool,
Proper (X.eq ==&gt; eq) f0 -&gt;
for_all f0 s = true &lt;-&gt; (<span class="kr">forall</span> <span class="nv">x</span> : X.t, In x s -&gt; f0 x = true)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (X.eq ==&gt; eq) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">f a = true</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">for_all f s = true &lt;-&gt;
(<span class="kr">forall</span> <span class="nv">x</span> : X.t, In x (a :: s) -&gt; f x = true)</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chk17e" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">f0</span> : elt -&gt; bool,
Proper (X.eq ==&gt; eq) f0 -&gt;
for_all f0 s = true &lt;-&gt; (<span class="kr">forall</span> <span class="nv">x</span> : X.t, In x s -&gt; f0 x = true)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (X.eq ==&gt; eq) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">f a = false</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk17e"><hr></label><div class="goal-conclusion"><span class="highlight">false = true &lt;-&gt;
(<span class="kr">forall</span> <span class="nv">x</span> : X.t, In x (a :: s) -&gt; f x = true)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk17f" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk17f"><span class="highlight"><span class="nb">rewrite</span> IHs; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">f0</span> : elt -&gt; bool,
Proper (X.eq ==&gt; eq) f0 -&gt;
for_all f0 s = true &lt;-&gt; (<span class="kr">forall</span> <span class="nv">x</span> : X.t, In x s -&gt; f0 x = true)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (X.eq ==&gt; eq) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">f a = true</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="kr">forall</span> <span class="nv">x</span> : X.t, In x s -&gt; f x = true) &lt;-&gt;
(<span class="kr">forall</span> <span class="nv">x</span> : X.t, In x (a :: s) -&gt; f x = true)</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chk180" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">f0</span> : elt -&gt; bool,
Proper (X.eq ==&gt; eq) f0 -&gt;
for_all f0 s = true &lt;-&gt; (<span class="kr">forall</span> <span class="nv">x</span> : X.t, In x s -&gt; f0 x = true)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (X.eq ==&gt; eq) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">f a = false</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk180"><hr></label><div class="goal-conclusion"><span class="highlight">false = true &lt;-&gt;
(<span class="kr">forall</span> <span class="nv">x</span> : X.t, In x (a :: s) -&gt; f x = true)</span></div></blockquote></div></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk181" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk181"><span class="highlight"><span class="nb">firstorder</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">f0</span> : elt -&gt; bool,
Proper (X.eq ==&gt; eq) f0 -&gt;
for_all f0 s = true &lt;-&gt; (<span class="kr">forall</span> <span class="nv">x0</span> : X.t, In x0 s -&gt; f0 x0 = true)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (X.eq ==&gt; eq) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">f a = true</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : X.t, In x0 s -&gt; f x0 = true</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In x (a :: s)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">f x = true</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chk182" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">f0</span> : elt -&gt; bool,
Proper (X.eq ==&gt; eq) f0 -&gt;
for_all f0 s = true &lt;-&gt; (<span class="kr">forall</span> <span class="nv">x</span> : X.t, In x s -&gt; f0 x = true)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (X.eq ==&gt; eq) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">f a = false</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk182"><hr></label><div class="goal-conclusion"><span class="highlight">false = true &lt;-&gt;
(<span class="kr">forall</span> <span class="nv">x</span> : X.t, In x (a :: s) -&gt; f x = true)</span></div></blockquote></div></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk183" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk183"><span class="highlight">inv; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">f0</span> : elt -&gt; bool,
Proper (X.eq ==&gt; eq) f0 -&gt;
for_all f0 s = true &lt;-&gt; (<span class="kr">forall</span> <span class="nv">x0</span> : X.t, In x0 s -&gt; f0 x0 = true)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (X.eq ==&gt; eq) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">f a = true</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : X.t, In x0 s -&gt; f x0 = true</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.eq x a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">f x = true</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chk184" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">f0</span> : elt -&gt; bool,
Proper (X.eq ==&gt; eq) f0 -&gt;
for_all f0 s = true &lt;-&gt; (<span class="kr">forall</span> <span class="nv">x</span> : X.t, In x s -&gt; f0 x = true)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (X.eq ==&gt; eq) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">f a = false</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk184"><hr></label><div class="goal-conclusion"><span class="highlight">false = true &lt;-&gt;
(<span class="kr">forall</span> <span class="nv">x</span> : X.t, In x (a :: s) -&gt; f x = true)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk185" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk185"><span class="highlight"><span class="nb">setoid_replace</span> x <span class="kr">with</span> a; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">f0</span> : elt -&gt; bool,
Proper (X.eq ==&gt; eq) f0 -&gt;
for_all f0 s = true &lt;-&gt; (<span class="kr">forall</span> <span class="nv">x</span> : X.t, In x s -&gt; f0 x = true)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (X.eq ==&gt; eq) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">f a = false</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">false = true &lt;-&gt;
(<span class="kr">forall</span> <span class="nv">x</span> : X.t, In x (a :: s) -&gt; f x = true)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk186" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk186"><span class="highlight"><span class="nb">split</span>; <span class="nb">intros</span> H&#39;.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">f0</span> : elt -&gt; bool,
Proper (X.eq ==&gt; eq) f0 -&gt;
for_all f0 s = true &lt;-&gt; (<span class="kr">forall</span> <span class="nv">x</span> : X.t, In x s -&gt; f0 x = true)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (X.eq ==&gt; eq) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">f a = false</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">false = true</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : X.t, In x (a :: s) -&gt; f x = true</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chk187" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">f0</span> : elt -&gt; bool,
Proper (X.eq ==&gt; eq) f0 -&gt;
for_all f0 s = true &lt;-&gt; (<span class="kr">forall</span> <span class="nv">x</span> : X.t, In x s -&gt; f0 x = true)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (X.eq ==&gt; eq) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">f a = false</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : X.t, In x (a :: s) -&gt; f x = true</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk187"><hr></label><div class="goal-conclusion"><span class="highlight">false = true</span></div></blockquote></div></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk188" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk188"><span class="highlight"><span class="bp">discriminate</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">f0</span> : elt -&gt; bool,
Proper (X.eq ==&gt; eq) f0 -&gt;
for_all f0 s = true &lt;-&gt; (<span class="kr">forall</span> <span class="nv">x</span> : X.t, In x s -&gt; f0 x = true)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (X.eq ==&gt; eq) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">f a = false</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : X.t, In x (a :: s) -&gt; f x = true</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">false = true</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">rewrite</span> H&#39; <span class="kr">in</span> F; <span class="nb">auto</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk189" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk189"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">exists_spec</span> :
   <span class="kr">forall</span> (<span class="nv">s</span> : t) (<span class="nv">f</span> : elt -&gt; bool),
   Proper (X.eq==&gt;eq) f -&gt;
   (exists_ f s = true &lt;-&gt; Exists (<span class="kr">fun</span> <span class="nv">x</span> =&gt; f x = true) s).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">s</span> : t) (<span class="nv">f</span> : elt -&gt; bool),
Proper (X.eq ==&gt; eq) f -&gt;
exists_ f s = true &lt;-&gt;
Exists (<span class="kr">fun</span> <span class="nv">x</span> : elt =&gt; f x = true) s</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk18a" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk18a"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">s</span> : t) (<span class="nv">f</span> : elt -&gt; bool),
Proper (X.eq ==&gt; eq) f -&gt;
exists_ f s = true &lt;-&gt;
Exists (<span class="kr">fun</span> <span class="nv">x</span> : elt =&gt; f x = true) s</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk18b" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk18b"><span class="highlight"><span class="nb">unfold</span> Exists; <span class="nb">induction</span> s; <span class="nb">simpl</span>; <span class="nb">intros</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (X.eq ==&gt; eq) f</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">false = true &lt;-&gt;
(<span class="kr">exists</span> <span class="nv">x</span> : X.t, In x nil /\ f x = true)</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chk18c" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">f0</span> : elt -&gt; bool,
Proper (X.eq ==&gt; eq) f0 -&gt;
exists_ f0 s = true &lt;-&gt; (<span class="kr">exists</span> <span class="nv">x</span> : X.t, In x s /\ f0 x = true)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (X.eq ==&gt; eq) f</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk18c"><hr></label><div class="goal-conclusion"><span class="highlight">(<span class="kr">if</span> f a <span class="kr">then</span> true <span class="kr">else</span> exists_ f s) = true &lt;-&gt;
(<span class="kr">exists</span> <span class="nv">x</span> : X.t, In x (a :: s) /\ f x = true)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk18d" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk18d"><span class="highlight"><span class="nb">firstorder</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (X.eq ==&gt; eq) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">false = true</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">x</span> : X.t, In x nil /\ f x = true</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chk18e" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (X.eq ==&gt; eq) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In x nil</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">f x = true</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk18e"><hr></label><div class="goal-conclusion"><span class="highlight">false = true</span></div></blockquote><input class="coq-extra-goal-toggle" id="MSetList-v-chk18f" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">f0</span> : elt -&gt; bool,
Proper (X.eq ==&gt; eq) f0 -&gt;
exists_ f0 s = true &lt;-&gt; (<span class="kr">exists</span> <span class="nv">x</span> : X.t, In x s /\ f0 x = true)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (X.eq ==&gt; eq) f</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk18f"><hr></label><div class="goal-conclusion"><span class="highlight">(<span class="kr">if</span> f a <span class="kr">then</span> true <span class="kr">else</span> exists_ f s) = true &lt;-&gt;
(<span class="kr">exists</span> <span class="nv">x</span> : X.t, In x (a :: s) /\ f x = true)</span></div></blockquote></div></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk190" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk190"><span class="highlight"><span class="bp">discriminate</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (X.eq ==&gt; eq) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In x nil</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">f x = true</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">false = true</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chk191" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">f0</span> : elt -&gt; bool,
Proper (X.eq ==&gt; eq) f0 -&gt;
exists_ f0 s = true &lt;-&gt; (<span class="kr">exists</span> <span class="nv">x</span> : X.t, In x s /\ f0 x = true)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (X.eq ==&gt; eq) f</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk191"><hr></label><div class="goal-conclusion"><span class="highlight">(<span class="kr">if</span> f a <span class="kr">then</span> true <span class="kr">else</span> exists_ f s) = true &lt;-&gt;
(<span class="kr">exists</span> <span class="nv">x</span> : X.t, In x (a :: s) /\ f x = true)</span></div></blockquote></div></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk192" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk192"><span class="highlight">inv.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">f0</span> : elt -&gt; bool,
Proper (X.eq ==&gt; eq) f0 -&gt;
exists_ f0 s = true &lt;-&gt; (<span class="kr">exists</span> <span class="nv">x</span> : X.t, In x s /\ f0 x = true)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (X.eq ==&gt; eq) f</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="kr">if</span> f a <span class="kr">then</span> true <span class="kr">else</span> exists_ f s) = true &lt;-&gt;
(<span class="kr">exists</span> <span class="nv">x</span> : X.t, In x (a :: s) /\ f x = true)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk193" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk193"><span class="highlight"><span class="nb">destruct</span> (f a) <span class="nb">eqn</span>:F.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">f0</span> : elt -&gt; bool,
Proper (X.eq ==&gt; eq) f0 -&gt;
exists_ f0 s = true &lt;-&gt; (<span class="kr">exists</span> <span class="nv">x</span> : X.t, In x s /\ f0 x = true)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (X.eq ==&gt; eq) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">f a = true</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">true = true &lt;-&gt;
(<span class="kr">exists</span> <span class="nv">x</span> : X.t, In x (a :: s) /\ f x = true)</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chk194" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">f0</span> : elt -&gt; bool,
Proper (X.eq ==&gt; eq) f0 -&gt;
exists_ f0 s = true &lt;-&gt; (<span class="kr">exists</span> <span class="nv">x</span> : X.t, In x s /\ f0 x = true)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (X.eq ==&gt; eq) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">f a = false</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk194"><hr></label><div class="goal-conclusion"><span class="highlight">exists_ f s = true &lt;-&gt;
(<span class="kr">exists</span> <span class="nv">x</span> : X.t, In x (a :: s) /\ f x = true)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk195" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk195"><span class="highlight"><span class="nb">firstorder</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">f0</span> : elt -&gt; bool,
Proper (X.eq ==&gt; eq) f0 -&gt;
exists_ f0 s = true &lt;-&gt; (<span class="kr">exists</span> <span class="nv">x</span> : X.t, In x s /\ f0 x = true)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (X.eq ==&gt; eq) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">f a = false</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">exists_ f s = true &lt;-&gt;
(<span class="kr">exists</span> <span class="nv">x</span> : X.t, In x (a :: s) /\ f x = true)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk196" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk196"><span class="highlight"><span class="nb">rewrite</span> IHs; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">f0</span> : elt -&gt; bool,
Proper (X.eq ==&gt; eq) f0 -&gt;
exists_ f0 s = true &lt;-&gt; (<span class="kr">exists</span> <span class="nv">x</span> : X.t, In x s /\ f0 x = true)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (X.eq ==&gt; eq) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">f a = false</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="kr">exists</span> <span class="nv">x</span> : X.t, In x s /\ f x = true) &lt;-&gt;
(<span class="kr">exists</span> <span class="nv">x</span> : X.t, In x (a :: s) /\ f x = true)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk197" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk197"><span class="highlight"><span class="nb">firstorder</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">f0</span> : elt -&gt; bool,
Proper (X.eq ==&gt; eq) f0 -&gt;
exists_ f0 s = true &lt;-&gt; (<span class="kr">exists</span> <span class="nv">x0</span> : X.t, In x0 s /\ f0 x0 = true)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (X.eq ==&gt; eq) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">f a = false</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In x (a :: s)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">f x = true</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">x0</span> : X.t, In x0 s /\ f x0 = true</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk198" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk198"><span class="highlight">inv.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">f0</span> : elt -&gt; bool,
Proper (X.eq ==&gt; eq) f0 -&gt;
exists_ f0 s = true &lt;-&gt; (<span class="kr">exists</span> <span class="nv">x0</span> : X.t, In x0 s /\ f0 x0 = true)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (X.eq ==&gt; eq) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">f a = false</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">f x = true</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.eq x a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">x0</span> : X.t, In x0 s /\ f x0 = true</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chk199" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">f0</span> : elt -&gt; bool,
Proper (X.eq ==&gt; eq) f0 -&gt;
exists_ f0 s = true &lt;-&gt; (<span class="kr">exists</span> <span class="nv">x0</span> : X.t, In x0 s /\ f0 x0 = true)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (X.eq ==&gt; eq) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">f a = false</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">f x = true</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In x s</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk199"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">x0</span> : X.t, In x0 s /\ f x0 = true</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk19a" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk19a"><span class="highlight"><span class="nb">setoid_replace</span> a <span class="kr">with</span> x <span class="kr">in</span> F; <span class="nb">auto</span>; <span class="bp">congruence</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">f0</span> : elt -&gt; bool,
Proper (X.eq ==&gt; eq) f0 -&gt;
exists_ f0 s = true &lt;-&gt; (<span class="kr">exists</span> <span class="nv">x0</span> : X.t, In x0 s /\ f0 x0 = true)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (X.eq ==&gt; eq) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">f a = false</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">f x = true</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In x s</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">x0</span> : X.t, In x0 s /\ f x0 = true</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kr">exists</span> <span class="nv">x</span>; <span class="nb">auto</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk19b" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk19b"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">partition_inf1</span> :
   <span class="kr">forall</span> (<span class="nv">s</span> : t) (<span class="nv">f</span> : elt -&gt; bool) (<span class="nv">x</span> : elt) (<span class="nv">Hs</span> : Ok s),
   Inf x s -&gt; Inf x (fst (partition f s)).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">s</span> : t) (<span class="nv">f</span> : elt -&gt; bool) (<span class="nv">x</span> : elt),
Ok s -&gt; Inf x s -&gt; Inf x (fst (partition f s))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk19c" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk19c"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">s</span> : t) (<span class="nv">f</span> : elt -&gt; bool) (<span class="nv">x</span> : elt),
Ok s -&gt; Inf x s -&gt; Inf x (fst (partition f s))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk19d" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk19d"><span class="highlight"><span class="nb">intros</span> s f x; <span class="kp">repeat</span> <span class="nb">rewrite</span> &lt;- isok_iff; <span class="nb">revert</span> s f x.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">s</span> : t) (<span class="nv">f</span> : elt -&gt; bool) (<span class="nv">x</span> : elt),
Sorted X.lt s -&gt;
Inf x s -&gt; Inf x (fst (partition f s))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk19e" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk19e"><span class="highlight"><span class="nb">simple induction</span> s; <span class="nb">simpl</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(elt -&gt; bool) -&gt;
<span class="kr">forall</span> <span class="nv">x</span> : elt,
Sorted X.lt nil -&gt; Inf x nil -&gt; Inf x nil</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chk19f" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk19f"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">a</span> : elt) (<span class="nv">l</span> : list elt),
(<span class="kr">forall</span> (<span class="nv">f</span> : elt -&gt; bool) (<span class="nv">x</span> : elt),
 Sorted X.lt l -&gt;
 Inf x l -&gt; Inf x (fst (partition f l))) -&gt;
<span class="kr">forall</span> (<span class="nv">f</span> : elt -&gt; bool) (<span class="nv">x</span> : elt),
Sorted X.lt (a :: l) -&gt;
Inf x (a :: l) -&gt;
Inf x
  (fst
     (<span class="kr">let</span> (<span class="nv">s1</span>, s2) := partition f l <span class="kr">in</span>
      <span class="kr">if</span> f a <span class="kr">then</span> (a :: s1, s2) <span class="kr">else</span> (s1, a :: s2)))</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk1a0" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk1a0"><span class="highlight"><span class="nb">intuition</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">a</span> : elt) (<span class="nv">l</span> : list elt),
(<span class="kr">forall</span> (<span class="nv">f</span> : elt -&gt; bool) (<span class="nv">x</span> : elt),
 Sorted X.lt l -&gt;
 Inf x l -&gt; Inf x (fst (partition f l))) -&gt;
<span class="kr">forall</span> (<span class="nv">f</span> : elt -&gt; bool) (<span class="nv">x</span> : elt),
Sorted X.lt (a :: l) -&gt;
Inf x (a :: l) -&gt;
Inf x
  (fst
     (<span class="kr">let</span> (<span class="nv">s1</span>, s2) := partition f l <span class="kr">in</span>
      <span class="kr">if</span> f a <span class="kr">then</span> (a :: s1, s2) <span class="kr">else</span> (s1, a :: s2)))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk1a1" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk1a1"><span class="highlight"><span class="nb">intros</span> x l Hrec f a Hs Ha; inv.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">f0</span> : elt -&gt; bool) (<span class="nv">x0</span> : elt),
Sorted X.lt l -&gt;
Inf x0 l -&gt; Inf x0 (fst (partition f0 l))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt l</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x l</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt a x</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Inf a
  (fst
     (<span class="kr">let</span> (<span class="nv">s1</span>, s2) := partition f l <span class="kr">in</span>
      <span class="kr">if</span> f x <span class="kr">then</span> (x :: s1, s2) <span class="kr">else</span> (s1, x :: s2)))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk1a2" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk1a2"><span class="highlight"><span class="nb">generalize</span> (Hrec f a H).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">f0</span> : elt -&gt; bool) (<span class="nv">x0</span> : elt),
Sorted X.lt l -&gt;
Inf x0 l -&gt; Inf x0 (fst (partition f0 l))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt l</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x l</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt a x</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(Inf a l -&gt; Inf a (fst (partition f l))) -&gt;
Inf a
  (fst
     (<span class="kr">let</span> (<span class="nv">s1</span>, s2) := partition f l <span class="kr">in</span>
      <span class="kr">if</span> f x <span class="kr">then</span> (x :: s1, s2) <span class="kr">else</span> (s1, x :: s2)))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk1a3" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk1a3"><span class="highlight"><span class="nb">case</span> (f x); <span class="nb">case</span> (partition f l); <span class="nb">simpl</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">f0</span> : elt -&gt; bool) (<span class="nv">x0</span> : elt),
Sorted X.lt l -&gt;
Inf x0 l -&gt; Inf x0 (fst (partition f0 l))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt l</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x l</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt a x</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">t0</span> : t,
t -&gt; (Inf a l -&gt; Inf a t0) -&gt; Inf a (x :: t0)</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chk1a4" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">f0</span> : elt -&gt; bool) (<span class="nv">x0</span> : elt),
Sorted X.lt l -&gt;
Inf x0 l -&gt; Inf x0 (fst (partition f0 l))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt l</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x l</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt a x</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk1a4"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">t0</span> : t, t -&gt; (Inf a l -&gt; Inf a t0) -&gt; Inf a t0</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk1a5" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk1a5"><span class="highlight"><span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">f0</span> : elt -&gt; bool) (<span class="nv">x0</span> : elt),
Sorted X.lt l -&gt;
Inf x0 l -&gt; Inf x0 (fst (partition f0 l))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt l</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x l</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt a x</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">t0</span> : t, t -&gt; (Inf a l -&gt; Inf a t0) -&gt; Inf a t0</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">intros</span>; <span class="nb">apply</span> H2; <span class="nb">apply</span> Inf_lt <span class="kr">with</span> x; <span class="nb">auto</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk1a6" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk1a6"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">partition_inf2</span> :
   <span class="kr">forall</span> (<span class="nv">s</span> : t) (<span class="nv">f</span> : elt -&gt; bool) (<span class="nv">x</span> : elt) (<span class="nv">Hs</span> : Ok s),
   Inf x s -&gt; Inf x (snd (partition f s)).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">s</span> : t) (<span class="nv">f</span> : elt -&gt; bool) (<span class="nv">x</span> : elt),
Ok s -&gt; Inf x s -&gt; Inf x (snd (partition f s))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk1a7" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk1a7"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">s</span> : t) (<span class="nv">f</span> : elt -&gt; bool) (<span class="nv">x</span> : elt),
Ok s -&gt; Inf x s -&gt; Inf x (snd (partition f s))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk1a8" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk1a8"><span class="highlight"><span class="nb">intros</span> s f x; <span class="kp">repeat</span> <span class="nb">rewrite</span> &lt;- isok_iff; <span class="nb">revert</span> s f x.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">s</span> : t) (<span class="nv">f</span> : elt -&gt; bool) (<span class="nv">x</span> : elt),
Sorted X.lt s -&gt;
Inf x s -&gt; Inf x (snd (partition f s))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk1a9" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk1a9"><span class="highlight"><span class="nb">simple induction</span> s; <span class="nb">simpl</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(elt -&gt; bool) -&gt;
<span class="kr">forall</span> <span class="nv">x</span> : elt,
Sorted X.lt nil -&gt; Inf x nil -&gt; Inf x nil</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chk1aa" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk1aa"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">a</span> : elt) (<span class="nv">l</span> : list elt),
(<span class="kr">forall</span> (<span class="nv">f</span> : elt -&gt; bool) (<span class="nv">x</span> : elt),
 Sorted X.lt l -&gt;
 Inf x l -&gt; Inf x (snd (partition f l))) -&gt;
<span class="kr">forall</span> (<span class="nv">f</span> : elt -&gt; bool) (<span class="nv">x</span> : elt),
Sorted X.lt (a :: l) -&gt;
Inf x (a :: l) -&gt;
Inf x
  (snd
     (<span class="kr">let</span> (<span class="nv">s1</span>, s2) := partition f l <span class="kr">in</span>
      <span class="kr">if</span> f a <span class="kr">then</span> (a :: s1, s2) <span class="kr">else</span> (s1, a :: s2)))</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk1ab" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk1ab"><span class="highlight"><span class="nb">intuition</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">a</span> : elt) (<span class="nv">l</span> : list elt),
(<span class="kr">forall</span> (<span class="nv">f</span> : elt -&gt; bool) (<span class="nv">x</span> : elt),
 Sorted X.lt l -&gt;
 Inf x l -&gt; Inf x (snd (partition f l))) -&gt;
<span class="kr">forall</span> (<span class="nv">f</span> : elt -&gt; bool) (<span class="nv">x</span> : elt),
Sorted X.lt (a :: l) -&gt;
Inf x (a :: l) -&gt;
Inf x
  (snd
     (<span class="kr">let</span> (<span class="nv">s1</span>, s2) := partition f l <span class="kr">in</span>
      <span class="kr">if</span> f a <span class="kr">then</span> (a :: s1, s2) <span class="kr">else</span> (s1, a :: s2)))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk1ac" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk1ac"><span class="highlight"><span class="nb">intros</span> x l Hrec f a Hs Ha; inv.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">f0</span> : elt -&gt; bool) (<span class="nv">x0</span> : elt),
Sorted X.lt l -&gt;
Inf x0 l -&gt; Inf x0 (snd (partition f0 l))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt l</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x l</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt a x</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Inf a
  (snd
     (<span class="kr">let</span> (<span class="nv">s1</span>, s2) := partition f l <span class="kr">in</span>
      <span class="kr">if</span> f x <span class="kr">then</span> (x :: s1, s2) <span class="kr">else</span> (s1, x :: s2)))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk1ad" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk1ad"><span class="highlight"><span class="nb">generalize</span> (Hrec f a H).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">f0</span> : elt -&gt; bool) (<span class="nv">x0</span> : elt),
Sorted X.lt l -&gt;
Inf x0 l -&gt; Inf x0 (snd (partition f0 l))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt l</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x l</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt a x</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(Inf a l -&gt; Inf a (snd (partition f l))) -&gt;
Inf a
  (snd
     (<span class="kr">let</span> (<span class="nv">s1</span>, s2) := partition f l <span class="kr">in</span>
      <span class="kr">if</span> f x <span class="kr">then</span> (x :: s1, s2) <span class="kr">else</span> (s1, x :: s2)))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk1ae" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk1ae"><span class="highlight"><span class="nb">case</span> (f x); <span class="nb">case</span> (partition f l); <span class="nb">simpl</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">f0</span> : elt -&gt; bool) (<span class="nv">x0</span> : elt),
Sorted X.lt l -&gt;
Inf x0 l -&gt; Inf x0 (snd (partition f0 l))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt l</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x l</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt a x</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">t -&gt; <span class="kr">forall</span> <span class="nv">t1</span> : t, (Inf a l -&gt; Inf a t1) -&gt; Inf a t1</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chk1af" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">f0</span> : elt -&gt; bool) (<span class="nv">x0</span> : elt),
Sorted X.lt l -&gt;
Inf x0 l -&gt; Inf x0 (snd (partition f0 l))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt l</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x l</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt a x</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk1af"><hr></label><div class="goal-conclusion"><span class="highlight">t -&gt;
<span class="kr">forall</span> <span class="nv">t1</span> : t,
(Inf a l -&gt; Inf a t1) -&gt; Inf a (x :: t1)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk1b0" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk1b0"><span class="highlight"><span class="nb">intros</span>; <span class="nb">apply</span> H2; <span class="nb">apply</span> Inf_lt <span class="kr">with</span> x; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">f0</span> : elt -&gt; bool) (<span class="nv">x0</span> : elt),
Sorted X.lt l -&gt;
Inf x0 l -&gt; Inf x0 (snd (partition f0 l))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt l</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x l</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.lt a x</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">t -&gt;
<span class="kr">forall</span> <span class="nv">t1</span> : t,
(Inf a l -&gt; Inf a t1) -&gt; Inf a (x :: t1)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">auto</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk1b1" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk1b1"><span class="highlight"><span class="kn">Instance</span> <span class="nf">partition_ok1</span> <span class="nv">s</span> <span class="nv">f</span> : <span class="kr">forall</span> `(Ok s), Ok (fst (partition f s)).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; bool</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Ok s -&gt; Ok (fst (partition f s))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk1b2" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk1b2"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; bool</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Ok s -&gt; Ok (fst (partition f s))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk1b3" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk1b3"><span class="highlight"><span class="kp">repeat</span> <span class="nb">rewrite</span> &lt;- isok_iff; <span class="nb">revert</span> s f.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">s</span> : t) (<span class="nv">f</span> : elt -&gt; bool),
Sorted X.lt s -&gt; Sorted X.lt (fst (partition f s))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk1b4" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk1b4"><span class="highlight"><span class="nb">simple induction</span> s; <span class="nb">simpl</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(elt -&gt; bool) -&gt; Sorted X.lt nil -&gt; Sorted X.lt nil</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chk1b5" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk1b5"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">a</span> : elt) (<span class="nv">l</span> : list elt),
(<span class="kr">forall</span> <span class="nv">f</span> : elt -&gt; bool,
 Sorted X.lt l -&gt; Sorted X.lt (fst (partition f l))) -&gt;
<span class="kr">forall</span> <span class="nv">f</span> : elt -&gt; bool,
Sorted X.lt (a :: l) -&gt;
Sorted X.lt
  (fst
     (<span class="kr">let</span> (<span class="nv">s1</span>, s2) := partition f l <span class="kr">in</span>
      <span class="kr">if</span> f a <span class="kr">then</span> (a :: s1, s2) <span class="kr">else</span> (s1, a :: s2)))</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk1b6" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk1b6"><span class="highlight"><span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">a</span> : elt) (<span class="nv">l</span> : list elt),
(<span class="kr">forall</span> <span class="nv">f</span> : elt -&gt; bool,
 Sorted X.lt l -&gt; Sorted X.lt (fst (partition f l))) -&gt;
<span class="kr">forall</span> <span class="nv">f</span> : elt -&gt; bool,
Sorted X.lt (a :: l) -&gt;
Sorted X.lt
  (fst
     (<span class="kr">let</span> (<span class="nv">s1</span>, s2) := partition f l <span class="kr">in</span>
      <span class="kr">if</span> f a <span class="kr">then</span> (a :: s1, s2) <span class="kr">else</span> (s1, a :: s2)))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk1b7" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk1b7"><span class="highlight"><span class="nb">intros</span> x l Hrec f Hs; inv.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">f0</span> : elt -&gt; bool,
Sorted X.lt l -&gt;
Sorted X.lt (fst (partition f0 l))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt l</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x l</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Sorted X.lt
  (fst
     (<span class="kr">let</span> (<span class="nv">s1</span>, s2) := partition f l <span class="kr">in</span>
      <span class="kr">if</span> f x <span class="kr">then</span> (x :: s1, s2) <span class="kr">else</span> (s1, x :: s2)))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk1b8" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk1b8"><span class="highlight"><span class="nb">generalize</span> (Hrec f H); <span class="nb">generalize</span> (@partition_inf1 l f x).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">f0</span> : elt -&gt; bool,
Sorted X.lt l -&gt;
Sorted X.lt (fst (partition f0 l))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt l</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x l</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(Ok l -&gt; Inf x l -&gt; Inf x (fst (partition f l))) -&gt;
Sorted X.lt (fst (partition f l)) -&gt;
Sorted X.lt
  (fst
     (<span class="kr">let</span> (<span class="nv">s1</span>, s2) := partition f l <span class="kr">in</span>
      <span class="kr">if</span> f x <span class="kr">then</span> (x :: s1, s2) <span class="kr">else</span> (s1, x :: s2)))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">case</span> (f x); <span class="nb">case</span> (partition f l); <span class="nb">simpl</span>; <span class="nb">auto</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk1b9" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk1b9"><span class="highlight"><span class="kn">Instance</span> <span class="nf">partition_ok2</span> <span class="nv">s</span> <span class="nv">f</span> : <span class="kr">forall</span> `(Ok s), Ok (snd (partition f s)).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; bool</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Ok s -&gt; Ok (snd (partition f s))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk1ba" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk1ba"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; bool</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Ok s -&gt; Ok (snd (partition f s))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk1bb" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk1bb"><span class="highlight"><span class="kp">repeat</span> <span class="nb">rewrite</span> &lt;- isok_iff; <span class="nb">revert</span> s f.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">s</span> : t) (<span class="nv">f</span> : elt -&gt; bool),
Sorted X.lt s -&gt; Sorted X.lt (snd (partition f s))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk1bc" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk1bc"><span class="highlight"><span class="nb">simple induction</span> s; <span class="nb">simpl</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(elt -&gt; bool) -&gt; Sorted X.lt nil -&gt; Sorted X.lt nil</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chk1bd" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk1bd"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">a</span> : elt) (<span class="nv">l</span> : list elt),
(<span class="kr">forall</span> <span class="nv">f</span> : elt -&gt; bool,
 Sorted X.lt l -&gt; Sorted X.lt (snd (partition f l))) -&gt;
<span class="kr">forall</span> <span class="nv">f</span> : elt -&gt; bool,
Sorted X.lt (a :: l) -&gt;
Sorted X.lt
  (snd
     (<span class="kr">let</span> (<span class="nv">s1</span>, s2) := partition f l <span class="kr">in</span>
      <span class="kr">if</span> f a <span class="kr">then</span> (a :: s1, s2) <span class="kr">else</span> (s1, a :: s2)))</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk1be" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk1be"><span class="highlight"><span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">a</span> : elt) (<span class="nv">l</span> : list elt),
(<span class="kr">forall</span> <span class="nv">f</span> : elt -&gt; bool,
 Sorted X.lt l -&gt; Sorted X.lt (snd (partition f l))) -&gt;
<span class="kr">forall</span> <span class="nv">f</span> : elt -&gt; bool,
Sorted X.lt (a :: l) -&gt;
Sorted X.lt
  (snd
     (<span class="kr">let</span> (<span class="nv">s1</span>, s2) := partition f l <span class="kr">in</span>
      <span class="kr">if</span> f a <span class="kr">then</span> (a :: s1, s2) <span class="kr">else</span> (s1, a :: s2)))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk1bf" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk1bf"><span class="highlight"><span class="nb">intros</span> x l Hrec f Hs; inv.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">f0</span> : elt -&gt; bool,
Sorted X.lt l -&gt;
Sorted X.lt (snd (partition f0 l))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt l</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x l</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Sorted X.lt
  (snd
     (<span class="kr">let</span> (<span class="nv">s1</span>, s2) := partition f l <span class="kr">in</span>
      <span class="kr">if</span> f x <span class="kr">then</span> (x :: s1, s2) <span class="kr">else</span> (s1, x :: s2)))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk1c0" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk1c0"><span class="highlight"><span class="nb">generalize</span> (Hrec f H); <span class="nb">generalize</span> (@partition_inf2 l f x).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">f0</span> : elt -&gt; bool,
Sorted X.lt l -&gt;
Sorted X.lt (snd (partition f0 l))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt l</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Inf x l</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(Ok l -&gt; Inf x l -&gt; Inf x (snd (partition f l))) -&gt;
Sorted X.lt (snd (partition f l)) -&gt;
Sorted X.lt
  (snd
     (<span class="kr">let</span> (<span class="nv">s1</span>, s2) := partition f l <span class="kr">in</span>
      <span class="kr">if</span> f x <span class="kr">then</span> (x :: s1, s2) <span class="kr">else</span> (s1, x :: s2)))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">case</span> (f x); <span class="nb">case</span> (partition f l); <span class="nb">simpl</span>; <span class="nb">auto</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk1c1" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk1c1"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">partition_spec1</span> :
   <span class="kr">forall</span> (<span class="nv">s</span> : t) (<span class="nv">f</span> : elt -&gt; bool),
   Proper (X.eq==&gt;eq) f -&gt; Equal (fst (partition f s)) (filter f s).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">s</span> : t) (<span class="nv">f</span> : elt -&gt; bool),
Proper (X.eq ==&gt; eq) f -&gt;
Equal (fst (partition f s)) (filter f s)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk1c2" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk1c2"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">s</span> : t) (<span class="nv">f</span> : elt -&gt; bool),
Proper (X.eq ==&gt; eq) f -&gt;
Equal (fst (partition f s)) (filter f s)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk1c3" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk1c3"><span class="highlight"><span class="nb">simple induction</span> s; <span class="nb">simpl</span>; <span class="nb">auto</span>; <span class="nb">unfold</span> Equal.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">f</span> : elt -&gt; bool,
Proper (X.eq ==&gt; eq) f -&gt;
<span class="kr">forall</span> <span class="nv">a</span> : elt, In a nil &lt;-&gt; In a nil</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chk1c4" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk1c4"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">a</span> : elt) (<span class="nv">l</span> : list elt),
(<span class="kr">forall</span> <span class="nv">f</span> : elt -&gt; bool,
 Proper (X.eq ==&gt; eq) f -&gt;
 <span class="kr">forall</span> <span class="nv">a0</span> : elt,
 In a0 (fst (partition f l)) &lt;-&gt; In a0 (filter f l)) -&gt;
<span class="kr">forall</span> <span class="nv">f</span> : elt -&gt; bool,
Proper (X.eq ==&gt; eq) f -&gt;
<span class="kr">forall</span> <span class="nv">a0</span> : elt,
In a0
  (fst
     (<span class="kr">let</span> (<span class="nv">s1</span>, s2) := partition f l <span class="kr">in</span>
      <span class="kr">if</span> f a <span class="kr">then</span> (a :: s1, s2) <span class="kr">else</span> (s1, a :: s2))) &lt;-&gt;
In a0 (<span class="kr">if</span> f a <span class="kr">then</span> a :: filter f l <span class="kr">else</span> filter f l)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk1c5" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk1c5"><span class="highlight"><span class="nb">split</span>; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">a</span> : elt) (<span class="nv">l</span> : list elt),
(<span class="kr">forall</span> <span class="nv">f</span> : elt -&gt; bool,
 Proper (X.eq ==&gt; eq) f -&gt;
 <span class="kr">forall</span> <span class="nv">a0</span> : elt,
 In a0 (fst (partition f l)) &lt;-&gt; In a0 (filter f l)) -&gt;
<span class="kr">forall</span> <span class="nv">f</span> : elt -&gt; bool,
Proper (X.eq ==&gt; eq) f -&gt;
<span class="kr">forall</span> <span class="nv">a0</span> : elt,
In a0
  (fst
     (<span class="kr">let</span> (<span class="nv">s1</span>, s2) := partition f l <span class="kr">in</span>
      <span class="kr">if</span> f a <span class="kr">then</span> (a :: s1, s2) <span class="kr">else</span> (s1, a :: s2))) &lt;-&gt;
In a0 (<span class="kr">if</span> f a <span class="kr">then</span> a :: filter f l <span class="kr">else</span> filter f l)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk1c6" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk1c6"><span class="highlight"><span class="nb">intros</span> x l Hrec f Hf.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">f0</span> : elt -&gt; bool,
Proper (X.eq ==&gt; eq) f0 -&gt;
<span class="kr">forall</span> <span class="nv">a</span> : elt,
In a (fst (partition f0 l)) &lt;-&gt;
In a (filter f0 l)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (X.eq ==&gt; eq) f</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : elt,
In a
  (fst
     (<span class="kr">let</span> (<span class="nv">s1</span>, s2) := partition f l <span class="kr">in</span>
      <span class="kr">if</span> f x <span class="kr">then</span> (x :: s1, s2) <span class="kr">else</span> (s1, x :: s2))) &lt;-&gt;
In a (<span class="kr">if</span> f x <span class="kr">then</span> x :: filter f l <span class="kr">else</span> filter f l)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk1c7" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk1c7"><span class="highlight"><span class="nb">generalize</span> (Hrec f Hf); <span class="nb">clear</span> Hrec.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (X.eq ==&gt; eq) f</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="kr">forall</span> <span class="nv">a</span> : elt,
 In a (fst (partition f l)) &lt;-&gt; In a (filter f l)) -&gt;
<span class="kr">forall</span> <span class="nv">a</span> : elt,
In a
  (fst
     (<span class="kr">let</span> (<span class="nv">s1</span>, s2) := partition f l <span class="kr">in</span>
      <span class="kr">if</span> f x <span class="kr">then</span> (x :: s1, s2) <span class="kr">else</span> (s1, x :: s2))) &lt;-&gt;
In a (<span class="kr">if</span> f x <span class="kr">then</span> x :: filter f l <span class="kr">else</span> filter f l)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk1c8" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk1c8"><span class="highlight"><span class="nb">destruct</span> (partition f l) <span class="kr">as</span> [s1 s2]; <span class="nb">simpl</span>; <span class="nb">intros</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (X.eq ==&gt; eq) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1, s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">a0</span> : elt, In a0 s1 &lt;-&gt; In a0 (filter f l)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">In a
  (fst (<span class="kr">if</span> f x <span class="kr">then</span> (x :: s1, s2) <span class="kr">else</span> (s1, x :: s2))) &lt;-&gt;
In a (<span class="kr">if</span> f x <span class="kr">then</span> x :: filter f l <span class="kr">else</span> filter f l)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk1c9" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk1c9"><span class="highlight"><span class="nb">case</span> (f x); <span class="nb">simpl</span>; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (X.eq ==&gt; eq) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1, s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">a0</span> : elt, In a0 s1 &lt;-&gt; In a0 (filter f l)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">In a (x :: s1) &lt;-&gt; In a (x :: filter f l)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk1ca" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk1ca"><span class="highlight"><span class="nb">split</span>; <span class="nb">inversion_clear</span> <span class="mi">1</span>; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (X.eq ==&gt; eq) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1, s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">a0</span> : elt, In a0 s1 &lt;-&gt; In a0 (filter f l)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In a s1</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">In a (x :: filter f l)</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chk1cb" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (X.eq ==&gt; eq) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1, s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">a0</span> : elt, In a0 s1 &lt;-&gt; In a0 (filter f l)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In a (filter f l)</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk1cb"><hr></label><div class="goal-conclusion"><span class="highlight">In a (x :: s1)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk1cc" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk1cc"><span class="highlight"><span class="nb">constructor</span> <span class="mi">2</span>; <span class="nb">rewrite</span> &lt;- H; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (X.eq ==&gt; eq) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1, s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">a0</span> : elt, In a0 s1 &lt;-&gt; In a0 (filter f l)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In a (filter f l)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">In a (x :: s1)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">constructor</span> <span class="mi">2</span>; <span class="nb">rewrite</span> H; <span class="nb">auto</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk1cd" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk1cd"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">partition_spec2</span> :
   <span class="kr">forall</span> (<span class="nv">s</span> : t) (<span class="nv">f</span> : elt -&gt; bool),
   Proper (X.eq==&gt;eq) f -&gt;
   Equal (snd (partition f s)) (filter (<span class="kr">fun</span> <span class="nv">x</span> =&gt; negb (f x)) s).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">s</span> : t) (<span class="nv">f</span> : elt -&gt; bool),
Proper (X.eq ==&gt; eq) f -&gt;
Equal (snd (partition f s))
  (filter (<span class="kr">fun</span> <span class="nv">x</span> : elt =&gt; negb (f x)) s)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk1ce" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk1ce"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">s</span> : t) (<span class="nv">f</span> : elt -&gt; bool),
Proper (X.eq ==&gt; eq) f -&gt;
Equal (snd (partition f s))
  (filter (<span class="kr">fun</span> <span class="nv">x</span> : elt =&gt; negb (f x)) s)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk1cf" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk1cf"><span class="highlight"><span class="nb">simple induction</span> s; <span class="nb">simpl</span>; <span class="nb">auto</span>; <span class="nb">unfold</span> Equal.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">f</span> : elt -&gt; bool,
Proper (X.eq ==&gt; eq) f -&gt;
<span class="kr">forall</span> <span class="nv">a</span> : elt, In a nil &lt;-&gt; In a nil</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chk1d0" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk1d0"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">a</span> : elt) (<span class="nv">l</span> : list elt),
(<span class="kr">forall</span> <span class="nv">f</span> : elt -&gt; bool,
 Proper (X.eq ==&gt; eq) f -&gt;
 <span class="kr">forall</span> <span class="nv">a0</span> : elt,
 In a0 (snd (partition f l)) &lt;-&gt;
 In a0 (filter (<span class="kr">fun</span> <span class="nv">x</span> : elt =&gt; negb (f x)) l)) -&gt;
<span class="kr">forall</span> <span class="nv">f</span> : elt -&gt; bool,
Proper (X.eq ==&gt; eq) f -&gt;
<span class="kr">forall</span> <span class="nv">a0</span> : elt,
In a0
  (snd
     (<span class="kr">let</span> (<span class="nv">s1</span>, s2) := partition f l <span class="kr">in</span>
      <span class="kr">if</span> f a <span class="kr">then</span> (a :: s1, s2) <span class="kr">else</span> (s1, a :: s2))) &lt;-&gt;
In a0
  (<span class="kr">if</span> negb (f a)
   <span class="kr">then</span> a :: filter (<span class="kr">fun</span> <span class="nv">x</span> : elt =&gt; negb (f x)) l
   <span class="kr">else</span> filter (<span class="kr">fun</span> <span class="nv">x</span> : elt =&gt; negb (f x)) l)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk1d1" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk1d1"><span class="highlight"><span class="nb">split</span>; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">a</span> : elt) (<span class="nv">l</span> : list elt),
(<span class="kr">forall</span> <span class="nv">f</span> : elt -&gt; bool,
 Proper (X.eq ==&gt; eq) f -&gt;
 <span class="kr">forall</span> <span class="nv">a0</span> : elt,
 In a0 (snd (partition f l)) &lt;-&gt;
 In a0 (filter (<span class="kr">fun</span> <span class="nv">x</span> : elt =&gt; negb (f x)) l)) -&gt;
<span class="kr">forall</span> <span class="nv">f</span> : elt -&gt; bool,
Proper (X.eq ==&gt; eq) f -&gt;
<span class="kr">forall</span> <span class="nv">a0</span> : elt,
In a0
  (snd
     (<span class="kr">let</span> (<span class="nv">s1</span>, s2) := partition f l <span class="kr">in</span>
      <span class="kr">if</span> f a <span class="kr">then</span> (a :: s1, s2) <span class="kr">else</span> (s1, a :: s2))) &lt;-&gt;
In a0
  (<span class="kr">if</span> negb (f a)
   <span class="kr">then</span> a :: filter (<span class="kr">fun</span> <span class="nv">x</span> : elt =&gt; negb (f x)) l
   <span class="kr">else</span> filter (<span class="kr">fun</span> <span class="nv">x</span> : elt =&gt; negb (f x)) l)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk1d2" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk1d2"><span class="highlight"><span class="nb">intros</span> x l Hrec f Hf.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrec</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">f0</span> : elt -&gt; bool,
Proper (X.eq ==&gt; eq) f0 -&gt;
<span class="kr">forall</span> <span class="nv">a</span> : elt,
In a (snd (partition f0 l)) &lt;-&gt;
In a (filter (<span class="kr">fun</span> <span class="nv">x0</span> : elt =&gt; negb (f0 x0)) l)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (X.eq ==&gt; eq) f</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : elt,
In a
  (snd
     (<span class="kr">let</span> (<span class="nv">s1</span>, s2) := partition f l <span class="kr">in</span>
      <span class="kr">if</span> f x <span class="kr">then</span> (x :: s1, s2) <span class="kr">else</span> (s1, x :: s2))) &lt;-&gt;
In a
  (<span class="kr">if</span> negb (f x)
   <span class="kr">then</span> x :: filter (<span class="kr">fun</span> <span class="nv">x0</span> : elt =&gt; negb (f x0)) l
   <span class="kr">else</span> filter (<span class="kr">fun</span> <span class="nv">x0</span> : elt =&gt; negb (f x0)) l)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk1d3" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk1d3"><span class="highlight"><span class="nb">generalize</span> (Hrec f Hf); <span class="nb">clear</span> Hrec.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (X.eq ==&gt; eq) f</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="kr">forall</span> <span class="nv">a</span> : elt,
 In a (snd (partition f l)) &lt;-&gt;
 In a (filter (<span class="kr">fun</span> <span class="nv">x0</span> : elt =&gt; negb (f x0)) l)) -&gt;
<span class="kr">forall</span> <span class="nv">a</span> : elt,
In a
  (snd
     (<span class="kr">let</span> (<span class="nv">s1</span>, s2) := partition f l <span class="kr">in</span>
      <span class="kr">if</span> f x <span class="kr">then</span> (x :: s1, s2) <span class="kr">else</span> (s1, x :: s2))) &lt;-&gt;
In a
  (<span class="kr">if</span> negb (f x)
   <span class="kr">then</span> x :: filter (<span class="kr">fun</span> <span class="nv">x0</span> : elt =&gt; negb (f x0)) l
   <span class="kr">else</span> filter (<span class="kr">fun</span> <span class="nv">x0</span> : elt =&gt; negb (f x0)) l)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk1d4" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk1d4"><span class="highlight"><span class="nb">destruct</span> (partition f l) <span class="kr">as</span> [s1 s2]; <span class="nb">simpl</span>; <span class="nb">intros</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (X.eq ==&gt; eq) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1, s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">a0</span> : elt,
In a0 s2 &lt;-&gt;
In a0 (filter (<span class="kr">fun</span> <span class="nv">x0</span> : elt =&gt; negb (f x0)) l)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">In a
  (snd (<span class="kr">if</span> f x <span class="kr">then</span> (x :: s1, s2) <span class="kr">else</span> (s1, x :: s2))) &lt;-&gt;
In a
  (<span class="kr">if</span> negb (f x)
   <span class="kr">then</span> x :: filter (<span class="kr">fun</span> <span class="nv">x0</span> : elt =&gt; negb (f x0)) l
   <span class="kr">else</span> filter (<span class="kr">fun</span> <span class="nv">x0</span> : elt =&gt; negb (f x0)) l)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk1d5" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk1d5"><span class="highlight"><span class="nb">case</span> (f x); <span class="nb">simpl</span>; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (X.eq ==&gt; eq) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1, s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">a0</span> : elt,
In a0 s2 &lt;-&gt;
In a0 (filter (<span class="kr">fun</span> <span class="nv">x0</span> : elt =&gt; negb (f x0)) l)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">In a (x :: s2) &lt;-&gt;
In a (x :: filter (<span class="kr">fun</span> <span class="nv">x0</span> : elt =&gt; negb (f x0)) l)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk1d6" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk1d6"><span class="highlight"><span class="nb">split</span>; <span class="nb">inversion_clear</span> <span class="mi">1</span>; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (X.eq ==&gt; eq) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1, s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">a0</span> : elt,
In a0 s2 &lt;-&gt;
In a0 (filter (<span class="kr">fun</span> <span class="nv">x0</span> : elt =&gt; negb (f x0)) l)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In a s2</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">In a (x :: filter (<span class="kr">fun</span> <span class="nv">x0</span> : elt =&gt; negb (f x0)) l)</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chk1d7" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (X.eq ==&gt; eq) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1, s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">a0</span> : elt,
In a0 s2 &lt;-&gt;
In a0 (filter (<span class="kr">fun</span> <span class="nv">x0</span> : elt =&gt; negb (f x0)) l)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In a (filter (<span class="kr">fun</span> <span class="nv">x0</span> : elt =&gt; negb (f x0)) l)</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk1d7"><hr></label><div class="goal-conclusion"><span class="highlight">In a (x :: s2)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk1d8" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk1d8"><span class="highlight"><span class="nb">constructor</span> <span class="mi">2</span>; <span class="nb">rewrite</span> &lt;- H; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; bool</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (X.eq ==&gt; eq) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1, s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">a0</span> : elt,
In a0 s2 &lt;-&gt;
In a0 (filter (<span class="kr">fun</span> <span class="nv">x0</span> : elt =&gt; negb (f x0)) l)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In a (filter (<span class="kr">fun</span> <span class="nv">x0</span> : elt =&gt; negb (f x0)) l)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">In a (x :: s2)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">constructor</span> <span class="mi">2</span>; <span class="nb">rewrite</span> H; <span class="nb">auto</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">End</span> <span class="nf">ForNotations</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">In</span> := InA X.eq.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk1d9" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk1d9"><span class="highlight"><span class="kn">Instance</span> <span class="nf">In_compat</span> : Proper (X.eq==&gt;eq==&gt; iff) In.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Proper (X.eq ==&gt; eq ==&gt; iff) In</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk1da" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk1da"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Proper (X.eq ==&gt; eq ==&gt; iff) In</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kp">repeat</span> <span class="nb">red</span>; <span class="nb">intros</span>; <span class="nb">rewrite</span> H, H0; <span class="nb">auto</span>.</span></span><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Module</span> <span class="nf">L</span> := MakeListOrdering X.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">eq</span> := L.eq.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">eq_equiv</span> := L.eq_equiv.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">lt</span> <span class="nv">l1</span> <span class="nv">l2</span> :=
    <span class="kr">exists</span> <span class="nv">l1&#39;</span> <span class="nv">l2&#39;</span>, Ok l1&#39; /\ Ok l2&#39; /\ eq l1 l1&#39; /\ eq l2 l2&#39; /\ L.lt l1&#39; l2&#39;.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk1db" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk1db"><span class="highlight"><span class="kn">Instance</span> <span class="nf">lt_strorder</span> : StrictOrder lt.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">StrictOrder lt</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk1dc" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk1dc"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">StrictOrder lt</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk1dd" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk1dd"><span class="highlight"><span class="nb">split</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Irreflexive lt</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chk1de" style="display: none" type="checkbox"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Transitive lt</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk1df" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk1df"><span class="highlight"><span class="nb">intros</span> s (s1 &amp; s2 &amp; B1 &amp; B2 &amp; E1 &amp; E2 &amp; L).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1, s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok s1</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok s2</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s s1</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s s2</span></span></span></div><div class="goal-hyp"><span class="hyp-names">L</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">L.lt s1 s2</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kt">False</span></span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chk1e0" style="display: none" type="checkbox"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Transitive lt</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk1e1" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk1e1"><span class="highlight"><span class="kp">repeat</span> <span class="nb">rewrite</span> &lt;- isok_iff <span class="kr">in</span> *.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1, s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s1</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s2</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s s1</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s s2</span></span></span></div><div class="goal-hyp"><span class="hyp-names">L</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">L.lt s1 s2</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kt">False</span></span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chk1e2" style="display: none" type="checkbox"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Transitive lt</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk1e3" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk1e3"><span class="highlight"><span class="nb">assert</span> (eqlistA X.eq s1 s2).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1, s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s1</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s2</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s s1</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s s2</span></span></span></div><div class="goal-hyp"><span class="hyp-names">L</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">L.lt s1 s2</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">eqlistA X.eq s1 s2</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chk1e4" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1, s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s1</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s2</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s s1</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s s2</span></span></span></div><div class="goal-hyp"><span class="hyp-names">L</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">L.lt s1 s2</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eqlistA X.eq s1 s2</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk1e4"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kt">False</span></span></div></blockquote><input class="coq-extra-goal-toggle" id="MSetList-v-chk1e5" style="display: none" type="checkbox"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Transitive lt</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk1e6" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk1e6"><span class="highlight"><span class="nb">apply</span> SortA_equivlistA_eqlistA <span class="kr">with</span> (ltA:=X.lt); <span class="nb">auto using</span> @ok <span class="kr">with</span> *.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1, s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s1</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s2</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s s1</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s s2</span></span></span></div><div class="goal-hyp"><span class="hyp-names">L</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">L.lt s1 s2</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">equivlistA X.eq s1 s2</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chk1e7" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1, s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s1</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s2</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s s1</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s s2</span></span></span></div><div class="goal-hyp"><span class="hyp-names">L</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">L.lt s1 s2</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eqlistA X.eq s1 s2</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk1e7"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kt">False</span></span></div></blockquote><input class="coq-extra-goal-toggle" id="MSetList-v-chk1e8" style="display: none" type="checkbox"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Transitive lt</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk1e9" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk1e9"><span class="highlight"><span class="nb">transitivity</span> s; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1, s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s1</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s2</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s s1</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s s2</span></span></span></div><div class="goal-hyp"><span class="hyp-names">L</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">L.lt s1 s2</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">equivlistA X.eq s1 s</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chk1ea" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1, s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s1</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s2</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s s1</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s s2</span></span></span></div><div class="goal-hyp"><span class="hyp-names">L</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">L.lt s1 s2</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eqlistA X.eq s1 s2</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk1ea"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kt">False</span></span></div></blockquote><input class="coq-extra-goal-toggle" id="MSetList-v-chk1eb" style="display: none" type="checkbox"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Transitive lt</span></div></blockquote></div></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk1ec" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk1ec"><span class="highlight"><span class="nb">symmetry</span>; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1, s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s1</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s2</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s s1</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s s2</span></span></span></div><div class="goal-hyp"><span class="hyp-names">L</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">L.lt s1 s2</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eqlistA X.eq s1 s2</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kt">False</span></span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chk1ed" style="display: none" type="checkbox"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Transitive lt</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk1ee" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk1ee"><span class="highlight"><span class="nb">rewrite</span> H <span class="kr">in</span> L.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1, s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s1</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s2</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s s1</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s s2</span></span></span></div><div class="goal-hyp"><span class="hyp-names">L</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">L.lt s2 s2</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eqlistA X.eq s1 s2</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kt">False</span></span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chk1ef" style="display: none" type="checkbox"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Transitive lt</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk1f0" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk1f0"><span class="highlight"><span class="nb">apply</span> (StrictOrder_Irreflexive s2); <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Transitive lt</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk1f1" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk1f1"><span class="highlight"><span class="nb">intros</span> s1 s2 s3 (s1&#39; &amp; s2&#39; &amp; B1 &amp; B2 &amp; E1 &amp; E2 &amp; L12)
                  (s2&#39;&#39; &amp; s3&#39; &amp; B2&#39; &amp; B3 &amp; E2&#39; &amp; E3 &amp; L23).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1', s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok s1&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok s2&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s1 s1&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s2 s2&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">L12</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">L.lt s1&#39; s2&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'', s3'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok s2&#39;&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok s3&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s2 s2&#39;&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s3 s3&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">L23</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">L.lt s2&#39;&#39; s3&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">lt s1 s3</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk1f2" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk1f2"><span class="highlight"><span class="kr">exists</span> <span class="nv">s1&#39;</span>, s3&#39;.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1', s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok s1&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok s2&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s1 s1&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s2 s2&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">L12</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">L.lt s1&#39; s2&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'', s3'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok s2&#39;&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok s3&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s2 s2&#39;&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s3 s3&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">L23</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">L.lt s2&#39;&#39; s3&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Ok s1&#39; /\
Ok s3&#39; /\ eq s1 s1&#39; /\ eq s3 s3&#39; /\ L.lt s1&#39; s3&#39;</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk1f3" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk1f3"><span class="highlight"><span class="kp">repeat</span> <span class="nb">rewrite</span> &lt;- isok_iff <span class="kr">in</span> *.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1', s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s1&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s2&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s1 s1&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s2 s2&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">L12</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">L.lt s1&#39; s2&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'', s3'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s2&#39;&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s3&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s2 s2&#39;&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s3 s3&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">L23</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">L.lt s2&#39;&#39; s3&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Sorted X.lt s1&#39; /\
Sorted X.lt s3&#39; /\
eq s1 s1&#39; /\ eq s3 s3&#39; /\ L.lt s1&#39; s3&#39;</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk1f4" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk1f4"><span class="highlight"><span class="kp">do</span> <span class="mi">4</span> (<span class="nb">split</span>; <span class="nb">trivial</span>).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1', s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s1&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s2&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s1 s1&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s2 s2&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">L12</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">L.lt s1&#39; s2&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'', s3'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s2&#39;&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s3&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s2 s2&#39;&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s3 s3&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">L23</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">L.lt s2&#39;&#39; s3&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">L.lt s1&#39; s3&#39;</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk1f5" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk1f5"><span class="highlight"><span class="nb">assert</span> (eqlistA X.eq s2&#39; s2&#39;&#39;).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1', s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s1&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s2&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s1 s1&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s2 s2&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">L12</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">L.lt s1&#39; s2&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'', s3'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s2&#39;&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s3&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s2 s2&#39;&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s3 s3&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">L23</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">L.lt s2&#39;&#39; s3&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">eqlistA X.eq s2&#39; s2&#39;&#39;</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chk1f6" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1', s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s1&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s2&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s1 s1&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s2 s2&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">L12</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">L.lt s1&#39; s2&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'', s3'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s2&#39;&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s3&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s2 s2&#39;&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s3 s3&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">L23</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">L.lt s2&#39;&#39; s3&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eqlistA X.eq s2&#39; s2&#39;&#39;</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk1f6"><hr></label><div class="goal-conclusion"><span class="highlight">L.lt s1&#39; s3&#39;</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk1f7" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk1f7"><span class="highlight"><span class="nb">apply</span> SortA_equivlistA_eqlistA <span class="kr">with</span> (ltA:=X.lt); <span class="nb">auto using</span> @ok <span class="kr">with</span> *.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1', s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s1&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s2&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s1 s1&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s2 s2&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">L12</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">L.lt s1&#39; s2&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'', s3'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s2&#39;&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s3&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s2 s2&#39;&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s3 s3&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">L23</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">L.lt s2&#39;&#39; s3&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">equivlistA X.eq s2&#39; s2&#39;&#39;</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chk1f8" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1', s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s1&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s2&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s1 s1&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s2 s2&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">L12</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">L.lt s1&#39; s2&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'', s3'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s2&#39;&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s3&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s2 s2&#39;&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s3 s3&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">L23</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">L.lt s2&#39;&#39; s3&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eqlistA X.eq s2&#39; s2&#39;&#39;</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk1f8"><hr></label><div class="goal-conclusion"><span class="highlight">L.lt s1&#39; s3&#39;</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk1f9" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk1f9"><span class="highlight"><span class="nb">transitivity</span> s2; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1', s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s1&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s2&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s1 s1&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s2 s2&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">L12</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">L.lt s1&#39; s2&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'', s3'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s2&#39;&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s3&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s2 s2&#39;&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s3 s3&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">L23</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">L.lt s2&#39;&#39; s3&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">equivlistA X.eq s2&#39; s2</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chk1fa" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1', s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s1&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s2&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s1 s1&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s2 s2&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">L12</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">L.lt s1&#39; s2&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'', s3'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s2&#39;&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s3&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s2 s2&#39;&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s3 s3&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">L23</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">L.lt s2&#39;&#39; s3&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eqlistA X.eq s2&#39; s2&#39;&#39;</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk1fa"><hr></label><div class="goal-conclusion"><span class="highlight">L.lt s1&#39; s3&#39;</span></div></blockquote></div></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk1fb" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk1fb"><span class="highlight"><span class="nb">symmetry</span>; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1', s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s1&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s2&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s1 s1&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s2 s2&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">L12</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">L.lt s1&#39; s2&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'', s3'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s2&#39;&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s3&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s2 s2&#39;&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s3 s3&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">L23</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">L.lt s2&#39;&#39; s3&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eqlistA X.eq s2&#39; s2&#39;&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">L.lt s1&#39; s3&#39;</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk1fc" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk1fc"><span class="highlight"><span class="nb">transitivity</span> s2&#39;; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1', s2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s1&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s2&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s1 s1&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s2 s2&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">L12</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">L.lt s1&#39; s2&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2'', s3'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s2&#39;&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt s3&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E2'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s2 s2&#39;&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s3 s3&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">L23</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">L.lt s2&#39;&#39; s3&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eqlistA X.eq s2&#39; s2&#39;&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">L.lt s2&#39; s3&#39;</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">rewrite</span> H; <span class="nb">auto</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk1fd" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk1fd"><span class="highlight"><span class="kn">Instance</span> <span class="nf">lt_compat</span> : Proper (eq==&gt;eq==&gt;iff) lt.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Proper (eq ==&gt; eq ==&gt; iff) lt</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk1fe" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk1fe"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Proper (eq ==&gt; eq ==&gt; iff) lt</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk1ff" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk1ff"><span class="highlight"><span class="nb">intros</span> s1 s2 E12 s3 s4 E34.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s1, s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E12</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s1 s2</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s3, s4</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E34</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s3 s4</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">lt s1 s3 &lt;-&gt; lt s2 s4</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk200" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk200"><span class="highlight"><span class="nb">split</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s1, s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E12</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s1 s2</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s3, s4</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E34</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s3 s4</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">lt s1 s3 -&gt; lt s2 s4</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chk201" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s1, s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E12</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s1 s2</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s3, s4</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E34</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s3 s4</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk201"><hr></label><div class="goal-conclusion"><span class="highlight">lt s2 s4 -&gt; lt s1 s3</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk202" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk202"><span class="highlight"><span class="nb">intros</span> (s1&#39; &amp; s3&#39; &amp; B1 &amp; B3 &amp; E1 &amp; E3 &amp; LT).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s1, s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E12</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s1 s2</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s3, s4</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E34</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s3 s4</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1', s3'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok s1&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok s3&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s1 s1&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s3 s3&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LT</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">L.lt s1&#39; s3&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">lt s2 s4</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chk203" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s1, s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E12</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s1 s2</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s3, s4</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E34</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s3 s4</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk203"><hr></label><div class="goal-conclusion"><span class="highlight">lt s2 s4 -&gt; lt s1 s3</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk204" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk204"><span class="highlight"><span class="kr">exists</span> <span class="nv">s1&#39;</span>, s3&#39;; <span class="kp">do</span> <span class="mi">2</span> (<span class="nb">split</span>; <span class="nb">trivial</span>).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s1, s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E12</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s1 s2</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s3, s4</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E34</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s3 s4</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1', s3'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok s1&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok s3&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s1 s1&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s3 s3&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LT</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">L.lt s1&#39; s3&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">eq s2 s1&#39; /\ eq s4 s3&#39; /\ L.lt s1&#39; s3&#39;</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chk205" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s1, s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E12</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s1 s2</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s3, s4</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E34</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s3 s4</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk205"><hr></label><div class="goal-conclusion"><span class="highlight">lt s2 s4 -&gt; lt s1 s3</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk206" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk206"><span class="highlight"><span class="nb">split</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s1, s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E12</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s1 s2</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s3, s4</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E34</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s3 s4</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1', s3'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok s1&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok s3&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s1 s1&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s3 s3&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LT</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">L.lt s1&#39; s3&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">eq s2 s1&#39;</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chk207" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s1, s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E12</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s1 s2</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s3, s4</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E34</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s3 s4</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1', s3'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok s1&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok s3&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s1 s1&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s3 s3&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LT</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">L.lt s1&#39; s3&#39;</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk207"><hr></label><div class="goal-conclusion"><span class="highlight">eq s4 s3&#39; /\ L.lt s1&#39; s3&#39;</span></div></blockquote><input class="coq-extra-goal-toggle" id="MSetList-v-chk208" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s1, s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E12</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s1 s2</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s3, s4</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E34</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s3 s4</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk208"><hr></label><div class="goal-conclusion"><span class="highlight">lt s2 s4 -&gt; lt s1 s3</span></div></blockquote></div></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk209" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk209"><span class="highlight"><span class="nb">transitivity</span> s1; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s1, s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E12</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s1 s2</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s3, s4</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E34</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s3 s4</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1', s3'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok s1&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok s3&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s1 s1&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s3 s3&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LT</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">L.lt s1&#39; s3&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">eq s2 s1</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chk20a" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s1, s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E12</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s1 s2</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s3, s4</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E34</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s3 s4</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1', s3'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok s1&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok s3&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s1 s1&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s3 s3&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LT</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">L.lt s1&#39; s3&#39;</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk20a"><hr></label><div class="goal-conclusion"><span class="highlight">eq s4 s3&#39; /\ L.lt s1&#39; s3&#39;</span></div></blockquote><input class="coq-extra-goal-toggle" id="MSetList-v-chk20b" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s1, s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E12</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s1 s2</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s3, s4</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E34</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s3 s4</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk20b"><hr></label><div class="goal-conclusion"><span class="highlight">lt s2 s4 -&gt; lt s1 s3</span></div></blockquote></div></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk20c" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk20c"><span class="highlight"><span class="nb">symmetry</span>; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s1, s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E12</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s1 s2</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s3, s4</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E34</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s3 s4</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1', s3'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok s1&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok s3&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s1 s1&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s3 s3&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LT</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">L.lt s1&#39; s3&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">eq s4 s3&#39; /\ L.lt s1&#39; s3&#39;</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chk20d" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s1, s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E12</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s1 s2</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s3, s4</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E34</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s3 s4</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk20d"><hr></label><div class="goal-conclusion"><span class="highlight">lt s2 s4 -&gt; lt s1 s3</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk20e" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk20e"><span class="highlight"><span class="nb">split</span>; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s1, s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E12</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s1 s2</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s3, s4</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E34</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s3 s4</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1', s3'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok s1&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok s3&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s1 s1&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s3 s3&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LT</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">L.lt s1&#39; s3&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">eq s4 s3&#39;</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chk20f" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s1, s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E12</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s1 s2</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s3, s4</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E34</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s3 s4</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk20f"><hr></label><div class="goal-conclusion"><span class="highlight">lt s2 s4 -&gt; lt s1 s3</span></div></blockquote></div></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk210" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk210"><span class="highlight"><span class="nb">transitivity</span> s3; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s1, s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E12</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s1 s2</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s3, s4</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E34</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s3 s4</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1', s3'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok s1&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok s3&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s1 s1&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s3 s3&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LT</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">L.lt s1&#39; s3&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">eq s4 s3</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chk211" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s1, s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E12</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s1 s2</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s3, s4</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E34</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s3 s4</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk211"><hr></label><div class="goal-conclusion"><span class="highlight">lt s2 s4 -&gt; lt s1 s3</span></div></blockquote></div></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk212" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk212"><span class="highlight"><span class="nb">symmetry</span>; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s1, s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E12</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s1 s2</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s3, s4</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E34</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s3 s4</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">lt s2 s4 -&gt; lt s1 s3</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk213" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk213"><span class="highlight"><span class="nb">intros</span> (s1&#39; &amp; s3&#39; &amp; B1 &amp; B3 &amp; E1 &amp; E3 &amp; LT).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s1, s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E12</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s1 s2</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s3, s4</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E34</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s3 s4</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1', s3'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok s1&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok s3&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s2 s1&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s4 s3&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LT</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">L.lt s1&#39; s3&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">lt s1 s3</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk214" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk214"><span class="highlight"><span class="kr">exists</span> <span class="nv">s1&#39;</span>, s3&#39;; <span class="kp">do</span> <span class="mi">2</span> (<span class="nb">split</span>; <span class="nb">trivial</span>).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s1, s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E12</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s1 s2</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s3, s4</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E34</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s3 s4</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1', s3'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok s1&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok s3&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s2 s1&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s4 s3&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LT</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">L.lt s1&#39; s3&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">eq s1 s1&#39; /\ eq s3 s3&#39; /\ L.lt s1&#39; s3&#39;</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk215" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk215"><span class="highlight"><span class="nb">split</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s1, s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E12</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s1 s2</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s3, s4</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E34</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s3 s4</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1', s3'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok s1&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok s3&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s2 s1&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s4 s3&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LT</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">L.lt s1&#39; s3&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">eq s1 s1&#39;</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chk216" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s1, s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E12</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s1 s2</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s3, s4</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E34</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s3 s4</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1', s3'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok s1&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok s3&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s2 s1&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s4 s3&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LT</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">L.lt s1&#39; s3&#39;</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk216"><hr></label><div class="goal-conclusion"><span class="highlight">eq s3 s3&#39; /\ L.lt s1&#39; s3&#39;</span></div></blockquote></div></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk217" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk217"><span class="highlight"><span class="nb">transitivity</span> s2; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s1, s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E12</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s1 s2</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s3, s4</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E34</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s3 s4</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1', s3'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok s1&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok s3&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s2 s1&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s4 s3&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LT</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">L.lt s1&#39; s3&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">eq s3 s3&#39; /\ L.lt s1&#39; s3&#39;</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk218" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk218"><span class="highlight"><span class="nb">split</span>; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s1, s2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E12</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s1 s2</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s3, s4</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E34</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s3 s4</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1', s3'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok s1&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">B3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok s3&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s2 s1&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">E3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq s4 s3&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LT</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">L.lt s1&#39; s3&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">eq s3 s3&#39;</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">transitivity</span> s4; <span class="nb">auto</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk219" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk219"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">compare_spec_aux</span> : <span class="kr">forall</span> <span class="nv">s</span> <span class="nv">s&#39;</span>, CompSpec eq L.lt s s&#39; (<span class="nb">compare</span> s s&#39;).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">s</span> <span class="nv">s&#39;</span> : list X.t,
CompSpec eq L.lt s s&#39; (<span class="nb">compare</span> s s&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk21a" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk21a"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">s</span> <span class="nv">s&#39;</span> : list X.t,
CompSpec eq L.lt s s&#39; (<span class="nb">compare</span> s s&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk21b" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk21b"><span class="highlight"><span class="nb">induction</span> s <span class="kr">as</span> [|x s IH]; <span class="nb">intros</span> [|x&#39; s&#39;]; <span class="nb">simpl</span>; <span class="nb">intuition</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s&#39;0</span> : list X.t,
CompSpec eq L.lt s s&#39;0 (<span class="nb">compare</span> s s&#39;0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">CompSpec eq L.lt (x :: s) (x&#39; :: s&#39;)
  <span class="kr">match</span> X.<span class="nb">compare</span> x x&#39; <span class="kr">with</span>
  | Eq =&gt; <span class="nb">compare</span> s s&#39;
  | Lt =&gt; Lt
  | Gt =&gt; Gt
  <span class="kr">end</span></span></div></blockquote></div></div></small><span class="coq-wsp"> 
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight">elim_compare x x&#39;; <span class="nb">auto</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk21c" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk21c"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">compare_spec</span> : <span class="kr">forall</span> <span class="nv">s</span> <span class="nv">s&#39;</span>, Ok s -&gt; Ok s&#39; -&gt;
   CompSpec eq lt s s&#39; (<span class="nb">compare</span> s s&#39;).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">s</span> <span class="nv">s&#39;</span> : t,
Ok s -&gt; Ok s&#39; -&gt; CompSpec eq lt s s&#39; (<span class="nb">compare</span> s s&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk21d" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk21d"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">s</span> <span class="nv">s&#39;</span> : t,
Ok s -&gt; Ok s&#39; -&gt; CompSpec eq lt s s&#39; (<span class="nb">compare</span> s s&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk21e" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk21e"><span class="highlight"><span class="nb">intros</span> s s&#39; Hs Hs&#39;.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok s&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">CompSpec eq lt s s&#39; (<span class="nb">compare</span> s s&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk21f" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk21f"><span class="highlight"><span class="nb">destruct</span> (compare_spec_aux s s&#39;); <span class="nb">constructor</span>; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">L.lt s s&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">lt s s&#39;</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chk220" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">L.lt s&#39; s</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk220"><hr></label><div class="goal-conclusion"><span class="highlight">lt s&#39; s</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk221" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk221"><span class="highlight"><span class="kr">exists</span> <span class="nv">s</span>, s&#39;; <span class="kp">repeat</span> <span class="nb">split</span>; <span class="nb">auto using</span> @ok.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hs'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Ok s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">L.lt s&#39; s</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">lt s&#39; s</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kr">exists</span> <span class="nv">s&#39;</span>, s; <span class="kp">repeat</span> <span class="nb">split</span>; <span class="nb">auto using</span> @ok.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">End</span> <span class="nf">MakeRaw</span>.</span></span></span></pre><div class="doc">
<a name="lab5"></a><h1 class="section">Encapsulation</h1>
<div class="paragraph"> </div>

   Now, in order to really provide a functor implementing <span class="inlinecode"><span class="id" title="var">S</span></span>, we
   need to encapsulate everything into a type of strictly ordered lists. 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Module</span> <span class="nf">Make</span> (X: OrderedType) &lt;: S <span class="kr">with</span> <span class="kn">Module</span> <span class="nf">E</span> := X.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Module</span> <span class="nf">Raw</span> := MakeRaw X.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Include</span> Raw2Sets X Raw.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">End</span> <span class="nf">Make</span>.</span></span></span></pre><div class="doc">
For this specific implementation, eq coincides with Leibniz equality 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Require</span> Eqdep_dec.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Module Type</span> <span class="nf">OrderedTypeWithLeibniz</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Include</span> OrderedType.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Parameter</span> <span class="nv">eq_leibniz</span> : <span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span>, eq x y -&gt; x = y.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">End</span> <span class="nf">OrderedTypeWithLeibniz</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Module Type</span> <span class="nf">SWithLeibniz</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Declare Module</span> <span class="nf">E</span> : OrderedTypeWithLeibniz.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Include</span> SetsOn E.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Parameter</span> <span class="nv">eq_leibniz</span> : <span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span>, eq x y -&gt; x = y.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">End</span> <span class="nf">SWithLeibniz</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Module</span> <span class="nf">MakeWithLeibniz</span> (X: OrderedTypeWithLeibniz) &lt;: SWithLeibniz <span class="kr">with</span> <span class="kn">Module</span> <span class="nf">E</span> := X.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Module</span> <span class="nf">E</span> := X.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Module</span> <span class="nf">Raw</span> := MakeRaw X.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Include</span> Raw2SetsOn X Raw.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk222" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk222"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">eq_leibniz_list</span> : <span class="kr">forall</span> <span class="nv">xs</span> <span class="nv">ys</span>, eqlistA X.eq xs ys -&gt; xs = ys.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">xs</span> <span class="nv">ys</span> : list X.t, eqlistA X.eq xs ys -&gt; xs = ys</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk223" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk223"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">xs</span> <span class="nv">ys</span> : list X.t, eqlistA X.eq xs ys -&gt; xs = ys</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk224" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk224"><span class="highlight"><span class="nb">induction</span> xs <span class="kr">as</span> [|x xs]; <span class="nb">intros</span> [|y ys] H; <span class="nb">inversion</span> H; [ | ].</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eqlistA X.eq nil nil</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">nil = nil</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chk225" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">xs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHxs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">ys0</span> : list X.t,
eqlistA X.eq xs ys0 -&gt; xs = ys0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">ys</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eqlistA X.eq (x :: xs) (y :: ys)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x0, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l, l'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.eq x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H5</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eqlistA X.eq xs ys</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">x0 = x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">l = xs</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">x&#39; = y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H4</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">l&#39; = ys</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk225"><hr></label><div class="goal-conclusion"><span class="highlight">x :: xs = y :: ys</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk226" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk226"><span class="highlight"><span class="bp">reflexivity</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">xs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHxs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">ys0</span> : list X.t,
eqlistA X.eq xs ys0 -&gt; xs = ys0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">ys</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eqlistA X.eq (x :: xs) (y :: ys)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x0, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l, l'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.eq x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H5</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eqlistA X.eq xs ys</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">x0 = x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">l = xs</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">x&#39; = y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H4</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">l&#39; = ys</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">x :: xs = y :: ys</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk227" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk227"><span class="highlight"><span class="nb">f_equal</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">xs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHxs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">ys0</span> : list X.t,
eqlistA X.eq xs ys0 -&gt; xs = ys0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">ys</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eqlistA X.eq (x :: xs) (y :: ys)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x0, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l, l'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.eq x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H5</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eqlistA X.eq xs ys</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">x0 = x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">l = xs</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">x&#39; = y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H4</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">l&#39; = ys</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">x = y</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chk228" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">xs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHxs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">ys0</span> : list X.t,
eqlistA X.eq xs ys0 -&gt; xs = ys0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">ys</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eqlistA X.eq (x :: xs) (y :: ys)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x0, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l, l'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.eq x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H5</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eqlistA X.eq xs ys</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">x0 = x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">l = xs</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">x&#39; = y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H4</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">l&#39; = ys</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk228"><hr></label><div class="goal-conclusion"><span class="highlight">xs = ys</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk229" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk229"><span class="highlight"><span class="nb">apply</span> X.eq_leibniz; <span class="bp">congruence</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">xs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHxs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">ys0</span> : list X.t,
eqlistA X.eq xs ys0 -&gt; xs = ys0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">ys</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eqlistA X.eq (x :: xs) (y :: ys)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x0, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l, l'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list X.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">X.eq x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H5</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eqlistA X.eq xs ys</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">x0 = x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">l = xs</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">x&#39; = y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H4</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">l&#39; = ys</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">xs = ys</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">apply</span> IHxs; <span class="nb">subst</span>; <span class="bp">assumption</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk22a" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk22a"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">eq_leibniz</span> : <span class="kr">forall</span> <span class="nv">s</span> <span class="nv">s&#39;</span>, eq s s&#39; -&gt; s = s&#39;.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">s</span> <span class="nv">s&#39;</span> : t, eq s s&#39; -&gt; s = s&#39;</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk22b" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk22b"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">s</span> <span class="nv">s&#39;</span> : t, eq s s&#39; -&gt; s = s&#39;</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk22c" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk22c"><span class="highlight"><span class="nb">intros</span> [xs Hxs] [ys Hys] Heq.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">xs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Raw.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hxs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Raw.Ok xs</span></span></span></div><div class="goal-hyp"><span class="hyp-names">ys</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Raw.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hys</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Raw.Ok ys</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eq {| this := xs; is_ok := Hxs |} {| this := ys; is_ok := Hys |}</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">{| this := xs; is_ok := Hxs |} =
{| this := ys; is_ok := Hys |}</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk22d" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk22d"><span class="highlight"><span class="nb">change</span> (equivlistA X.eq xs ys) <span class="kr">in</span> Heq.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">xs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Raw.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hxs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Raw.Ok xs</span></span></span></div><div class="goal-hyp"><span class="hyp-names">ys</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Raw.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hys</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Raw.Ok ys</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">equivlistA X.eq xs ys</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">{| this := xs; is_ok := Hxs |} =
{| this := ys; is_ok := Hys |}</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk22e" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk22e"><span class="highlight"><span class="nb">assert</span> (H : eqlistA X.eq xs ys).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">xs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Raw.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hxs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Raw.Ok xs</span></span></span></div><div class="goal-hyp"><span class="hyp-names">ys</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Raw.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hys</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Raw.Ok ys</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">equivlistA X.eq xs ys</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">eqlistA X.eq xs ys</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chk22f" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">xs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Raw.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hxs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Raw.Ok xs</span></span></span></div><div class="goal-hyp"><span class="hyp-names">ys</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Raw.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hys</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Raw.Ok ys</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">equivlistA X.eq xs ys</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eqlistA X.eq xs ys</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk22f"><hr></label><div class="goal-conclusion"><span class="highlight">{| this := xs; is_ok := Hxs |} =
{| this := ys; is_ok := Hys |}</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">      </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk230" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk230"><span class="highlight"><span class="nb">rewrite</span> &lt;- Raw.isok_iff <span class="kr">in</span> Hxs, Hys.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">xs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Raw.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hxs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt xs</span></span></span></div><div class="goal-hyp"><span class="hyp-names">ys</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Raw.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hys</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Sorted X.lt ys</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">equivlistA X.eq xs ys</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">eqlistA X.eq xs ys</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetList-v-chk231" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">xs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Raw.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hxs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Raw.Ok xs</span></span></span></div><div class="goal-hyp"><span class="hyp-names">ys</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Raw.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hys</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Raw.Ok ys</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">equivlistA X.eq xs ys</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eqlistA X.eq xs ys</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetList-v-chk231"><hr></label><div class="goal-conclusion"><span class="highlight">{| this := xs; is_ok := Hxs |} =
{| this := ys; is_ok := Hys |}</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">      </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk232" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk232"><span class="highlight"><span class="nb">apply</span> SortA_equivlistA_eqlistA <span class="kr">with</span> X.lt; <span class="nb">auto with</span> *.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">xs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Raw.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hxs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Raw.Ok xs</span></span></span></div><div class="goal-hyp"><span class="hyp-names">ys</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Raw.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hys</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Raw.Ok ys</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">equivlistA X.eq xs ys</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eqlistA X.eq xs ys</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">{| this := xs; is_ok := Hxs |} =
{| this := ys; is_ok := Hys |}</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk233" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk233"><span class="highlight"><span class="nb">apply</span> eq_leibniz_list <span class="kr">in</span> H.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">xs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Raw.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hxs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Raw.Ok xs</span></span></span></div><div class="goal-hyp"><span class="hyp-names">ys</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Raw.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hys</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Raw.Ok ys</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">equivlistA X.eq xs ys</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">xs = ys</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">{| this := xs; is_ok := Hxs |} =
{| this := ys; is_ok := Hys |}</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk234" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk234"><span class="highlight"><span class="nb">subst</span> ys.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">xs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Raw.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hxs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Raw.Ok xs</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">equivlistA X.eq xs xs</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hys</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Raw.Ok xs</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">{| this := xs; is_ok := Hxs |} =
{| this := xs; is_ok := Hys |}</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk235" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk235"><span class="highlight"><span class="nb">f_equal</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">xs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Raw.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hxs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Raw.Ok xs</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">equivlistA X.eq xs xs</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hys</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Raw.Ok xs</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Hxs = Hys</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><input class="coq-toggle" id="MSetList-v-chk236" style="display: none" type="checkbox"><label class="coq-input" for="MSetList-v-chk236"><span class="highlight"><span class="nb">apply</span> Eqdep_dec.eq_proofs_unicity.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">xs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Raw.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hxs</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Raw.Ok xs</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">equivlistA X.eq xs xs</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hys</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Raw.Ok xs</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : bool, x = y \/ x &lt;&gt; y</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">    </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">intros</span> x y; <span class="nb">destruct</span> (bool_dec x y); <span class="bp">tauto</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">End</span> <span class="nf">MakeWithLeibniz</span>.</span></span></span></pre></article></body></html>