<!DOCTYPE html>
<html><head><title>MSetProperties.v</title><meta charset="utf-8"><meta content="Alectryon v0.2" name="generator"><link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Serif:ital,wght@0,400;0,700;1,400;1,700&amp;display=swap" rel="stylesheet"><link href="https://unpkg.com/firacode/distr/fira_code.css" rel="stylesheet"><link href="alectryon.css" rel="stylesheet"><script src="alectryon.js"></script><style type="text/css">.highlight .hll { background-color: #ffffcc }
.highlight .c { color: #555753; font-style: italic } /* Comment */
.highlight .err { color: #a40000; border: 1px solid #cc0000 } /* Error */
.highlight .g { color: #000000 } /* Generic */
.highlight .k { color: #8f5902 } /* Keyword */
.highlight .l { color: #2e3436 } /* Literal */
.highlight .n { color: #000000 } /* Name */
.highlight .o { color: #000000 } /* Operator */
.highlight .x { color: #2e3436 } /* Other */
.highlight .p { color: #000000 } /* Punctuation */
.highlight .ch { color: #555753; font-weight: bold; font-style: italic } /* Comment.Hashbang */
.highlight .cm { color: #555753; font-style: italic } /* Comment.Multiline */
.highlight .cp { color: #3465a4; font-style: italic } /* Comment.Preproc */
.highlight .cpf { color: #555753; font-style: italic } /* Comment.PreprocFile */
.highlight .c1 { color: #555753; font-style: italic } /* Comment.Single */
.highlight .cs { color: #3465a4; font-weight: bold; font-style: italic } /* Comment.Special */
.highlight .gd { color: #a40000 } /* Generic.Deleted */
.highlight .ge { color: #000000; font-style: italic } /* Generic.Emph */
.highlight .gr { color: #a40000 } /* Generic.Error */
.highlight .gh { color: #a40000; font-weight: bold } /* Generic.Heading */
.highlight .gi { color: #4e9a06 } /* Generic.Inserted */
.highlight .go { color: #000000; font-style: italic } /* Generic.Output */
.highlight .gp { color: #8f5902 } /* Generic.Prompt */
.highlight .gs { color: #000000; font-weight: bold } /* Generic.Strong */
.highlight .gu { color: #000000; font-weight: bold } /* Generic.Subheading */
.highlight .gt { color: #000000; font-style: italic } /* Generic.Traceback */
.highlight .kc { color: #204a87; font-weight: bold } /* Keyword.Constant */
.highlight .kd { color: #4e9a06; font-weight: bold } /* Keyword.Declaration */
.highlight .kn { color: #4e9a06; font-weight: bold } /* Keyword.Namespace */
.highlight .kp { color: #204a87 } /* Keyword.Pseudo */
.highlight .kr { color: #8f5902 } /* Keyword.Reserved */
.highlight .kt { color: #204a87 } /* Keyword.Type */
.highlight .ld { color: #2e3436 } /* Literal.Date */
.highlight .m { color: #2e3436 } /* Literal.Number */
.highlight .s { color: #ad7fa8 } /* Literal.String */
.highlight .na { color: #c4a000 } /* Name.Attribute */
.highlight .nb { color: #75507b } /* Name.Builtin */
.highlight .nc { color: #204a87 } /* Name.Class */
.highlight .no { color: #ce5c00 } /* Name.Constant */
.highlight .nd { color: #3465a4; font-weight: bold } /* Name.Decorator */
.highlight .ni { color: #c4a000; text-decoration: underline } /* Name.Entity */
.highlight .ne { color: #cc0000 } /* Name.Exception */
.highlight .nf { color: #a40000 } /* Name.Function */
.highlight .nl { color: #3465a4; font-weight: bold } /* Name.Label */
.highlight .nn { color: #000000 } /* Name.Namespace */
.highlight .nx { color: #000000 } /* Name.Other */
.highlight .py { color: #000000 } /* Name.Property */
.highlight .nt { color: #a40000 } /* Name.Tag */
.highlight .nv { color: #ce5c00 } /* Name.Variable */
.highlight .ow { color: #8f5902 } /* Operator.Word */
.highlight .w { color: #d3d7cf; text-decoration: underline } /* Text.Whitespace */
.highlight .mb { color: #2e3436 } /* Literal.Number.Bin */
.highlight .mf { color: #2e3436 } /* Literal.Number.Float */
.highlight .mh { color: #2e3436 } /* Literal.Number.Hex */
.highlight .mi { color: #2e3436 } /* Literal.Number.Integer */
.highlight .mo { color: #2e3436 } /* Literal.Number.Oct */
.highlight .sa { color: #ad7fa8 } /* Literal.String.Affix */
.highlight .sb { color: #ad7fa8 } /* Literal.String.Backtick */
.highlight .sc { color: #ad7fa8; font-weight: bold } /* Literal.String.Char */
.highlight .dl { color: #ad7fa8 } /* Literal.String.Delimiter */
.highlight .sd { color: #ad7fa8 } /* Literal.String.Doc */
.highlight .s2 { color: #ad7fa8 } /* Literal.String.Double */
.highlight .se { color: #ad7fa8; font-weight: bold } /* Literal.String.Escape */
.highlight .sh { color: #ad7fa8; text-decoration: underline } /* Literal.String.Heredoc */
.highlight .si { color: #ce5c00 } /* Literal.String.Interpol */
.highlight .sx { color: #ad7fa8 } /* Literal.String.Other */
.highlight .sr { color: #ad7fa8 } /* Literal.String.Regex */
.highlight .s1 { color: #ad7fa8 } /* Literal.String.Single */
.highlight .ss { color: #8f5902 } /* Literal.String.Symbol */
.highlight .bp { color: #5c35cc } /* Name.Builtin.Pseudo */
.highlight .fm { color: #a40000 } /* Name.Function.Magic */
.highlight .vc { color: #ce5c00 } /* Name.Variable.Class */
.highlight .vg { color: #ce5c00; text-decoration: underline } /* Name.Variable.Global */
.highlight .vi { color: #ce5c00 } /* Name.Variable.Instance */
.highlight .vm { color: #ce5c00 } /* Name.Variable.Magic */
.highlight .il { color: #2e3436 } /* Literal.Number.Integer.Long */</style></head><body><article class="alectryon-root alectryon-standalone alectryon-centered alectryon-coqdoc"><div class="alectryon-header">Built with <a href="https://github.com/cpitclaudel/alectryon/">Alectryon</a>, running <a href="https://coq.inria.fr/">Coq</a>+<a href="https://github.com/ejgallego/coq-serapi">SerAPI</a> v8.10.0+0.7.0. Coq sources are in this panel; goals and messages will appear in the other. Bubbles (<span class="alectryon-bubble"></span>) indicate interactive fragments: hover for details, tap to reveal contents. Use <kbd>Ctrl+‚Üë</kbd> <kbd>Ctrl+‚Üì</kbd> to navigate, <kbd>Ctrl+üñ±Ô∏è</kbd> to focus.</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-wsp"><span class="highlight"><span class="sd">(************************************************************************)</span>
<span class="c">(*         *   The Coq Proof Assistant / The Coq Development Team       *)</span>
<span class="c">(*  v      *   INRIA, CNRS and contributors - Copyright 1999-2018       *)</span>
<span class="c">(* &lt;O___,, *       (see CREDITS file for the list of authors)           *)</span>
<span class="c">(*   \VV/  **************************************************************)</span>
<span class="c">(*    //   *    This file is distributed under the terms of the         *)</span>
<span class="c">(*         *     GNU Lesser General Public License Version 2.1          *)</span>
<span class="c">(*         *     (see LICENSE file for the text of the license)         *)</span>
<span class="sd">(************************************************************************)</span></span></span></pre><div class="doc">
<a name="lab1"></a><h1 class="section">Finite sets library</h1>
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --></pre><div class="doc">
This functor derives additional properties from <span class="inlinecode"><span class="id" title="var">MSetInterface.S</span></span>.
    Contrary to the functor in <span class="inlinecode"><span class="id" title="var">MSetEqProperties</span></span> it uses
    predicates over sets instead of sets operations, i.e.
    <span class="inlinecode"><span class="id" title="var">In</span></span> <span class="inlinecode"><span class="id" title="var">x</span></span> <span class="inlinecode"><span class="id" title="var">s</span></span> instead of <span class="inlinecode"><span class="id" title="var">mem</span></span> <span class="inlinecode"><span class="id" title="var">x</span></span> <span class="inlinecode"><span class="id" title="var">s</span>=<span class="id" title="var">true</span></span>,
    <span class="inlinecode"><span class="id" title="var">Equal</span></span> <span class="inlinecode"><span class="id" title="var">s</span></span> <span class="inlinecode"><span class="id" title="var">s'</span></span> instead of <span class="inlinecode"><span class="id" title="var">equal</span></span> <span class="inlinecode"><span class="id" title="var">s</span></span> <span class="inlinecode"><span class="id" title="var">s'</span>=<span class="id" title="var">true</span></span>, etc. 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Require Export</span> MSetInterface.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Require Import</span> DecidableTypeEx OrdersLists MSetFacts MSetDecide.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Set Implicit Arguments</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Unset Strict Implicit</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Hint Unfold</span> transpose : core.</span></span></span></pre><div class="doc">
First, a functor for Weak Sets in functorial version. 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Module</span> <span class="nf">WPropertiesOn</span> (<span class="kn">Import</span> E : DecidableType)(M : WSetsOn E).</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Module</span> <span class="nf">Import</span> Dec := WDecideOn E M.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Module</span> <span class="nf">Import</span> FM := Dec.F <span class="c">(* MSetFacts.WFactsOn E M *)</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Import</span> M.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk0" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk0"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">In_dec</span> : <span class="kr">forall</span> <span class="nv">x</span> <span class="nv">s</span>, {In x s} + {~ In x s}.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">x</span> : elt) (<span class="nv">s</span> : t), {In x s} + {~ In x s}</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk1" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk1"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">x</span> : elt) (<span class="nv">s</span> : t), {In x s} + {~ In x s}</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">intros</span>; <span class="nb">generalize</span> (mem_iff s x); <span class="nb">case</span> (mem x s); <span class="nb">intuition</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">Add</span> <span class="nv">x</span> <span class="nv">s</span> <span class="nv">s&#39;</span> := <span class="kr">forall</span> <span class="nv">y</span>, In y s&#39; &lt;-&gt; E.eq x y \/ In y s.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk2" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk2"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">Add_Equal</span> : <span class="kr">forall</span> <span class="nv">x</span> <span class="nv">s</span> <span class="nv">s&#39;</span>, <span class="kn">Add</span> x s s&#39; &lt;-&gt; s&#39; [=] add x s.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">x</span> : E.t) (<span class="nv">s</span> <span class="nv">s&#39;</span> : t),
<span class="kn">Add</span> x s s&#39; &lt;-&gt; s&#39; [=] add x s</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk3" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk3"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">x</span> : E.t) (<span class="nv">s</span> <span class="nv">s&#39;</span> : t),
<span class="kn">Add</span> x s s&#39; &lt;-&gt; s&#39; [=] add x s</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk4" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk4"><span class="highlight"><span class="nb">unfold</span> <span class="kn">Add</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">x</span> : E.t) (<span class="nv">s</span> <span class="nv">s&#39;</span> : t),
(<span class="kr">forall</span> <span class="nv">y</span> : elt, In y s&#39; &lt;-&gt; E.eq x y \/ In y s) &lt;-&gt;
s&#39; [=] add x s</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk5" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk5"><span class="highlight"><span class="nb">split</span>; <span class="nb">intros</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">y</span> : elt, In y s&#39; &lt;-&gt; E.eq x y \/ In y s</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">s&#39; [=] add x s</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk6" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">s&#39; [=] add x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk6"><hr></label><div class="goal-conclusion"><span class="highlight">In y s&#39; &lt;-&gt; E.eq x y \/ In y s</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk7" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk7"><span class="highlight"><span class="nb">red</span>; <span class="nb">intros</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">y</span> : elt, In y s&#39; &lt;-&gt; E.eq x y \/ In y s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">In a s&#39; &lt;-&gt; In a (add x s)</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk8" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">s&#39; [=] add x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk8"><hr></label><div class="goal-conclusion"><span class="highlight">In y s&#39; &lt;-&gt; E.eq x y \/ In y s</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk9" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk9"><span class="highlight"><span class="nb">rewrite</span> H; <span class="nb">clear</span> H.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">E.eq x a \/ In a s &lt;-&gt; In a (add x s)</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chka" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">s&#39; [=] add x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chka"><hr></label><div class="goal-conclusion"><span class="highlight">In y s&#39; &lt;-&gt; E.eq x y \/ In y s</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chkb" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chkb"><span class="highlight">fsetdec.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">s&#39; [=] add x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">In y s&#39; &lt;-&gt; E.eq x y \/ In y s</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight">fsetdec.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Ltac</span> <span class="nf">expAdd</span> := <span class="kp">repeat</span> <span class="nb">rewrite</span> Add_Equal.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Section</span> <span class="nf">BasicProperties</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Variable</span> <span class="nv">s</span> <span class="nv">s&#39;</span> <span class="nv">s&#39;&#39;</span> <span class="nv">s1</span> <span class="nv">s2</span> <span class="nv">s3</span> : t.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Variable</span> <span class="nv">x</span> <span class="nv">x&#39;</span> : elt.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chkc" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chkc"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">equal_refl</span> : s[=]s.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">s [=] s</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chkd" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chkd"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">s [=] s</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight">fsetdec.</span></span><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chke" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chke"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">equal_sym</span> : s[=]s&#39; -&gt; s&#39;[=]s.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">s [=] s&#39; -&gt; s&#39; [=] s</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chkf" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chkf"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">s [=] s&#39; -&gt; s&#39; [=] s</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight">fsetdec.</span></span><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk10" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk10"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">equal_trans</span> : s1[=]s2 -&gt; s2[=]s3 -&gt; s1[=]s3.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">s1 [=] s2 -&gt; s2 [=] s3 -&gt; s1 [=] s3</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk11" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk11"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">s1 [=] s2 -&gt; s2 [=] s3 -&gt; s1 [=] s3</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight">fsetdec.</span></span><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk12" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk12"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">subset_refl</span> : s[&lt;=]s.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">s [&lt;=] s</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk13" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk13"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">s [&lt;=] s</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight">fsetdec.</span></span><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk14" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk14"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">subset_trans</span> : s1[&lt;=]s2 -&gt; s2[&lt;=]s3 -&gt; s1[&lt;=]s3.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">s1 [&lt;=] s2 -&gt; s2 [&lt;=] s3 -&gt; s1 [&lt;=] s3</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk15" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk15"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">s1 [&lt;=] s2 -&gt; s2 [&lt;=] s3 -&gt; s1 [&lt;=] s3</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight">fsetdec.</span></span><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk16" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk16"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">subset_antisym</span> : s[&lt;=]s&#39; -&gt; s&#39;[&lt;=]s -&gt; s[=]s&#39;.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">s [&lt;=] s&#39; -&gt; s&#39; [&lt;=] s -&gt; s [=] s&#39;</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk17" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk17"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">s [&lt;=] s&#39; -&gt; s&#39; [&lt;=] s -&gt; s [=] s&#39;</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight">fsetdec.</span></span><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk18" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk18"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">subset_equal</span> : s[=]s&#39; -&gt; s[&lt;=]s&#39;.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">s [=] s&#39; -&gt; s [&lt;=] s&#39;</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk19" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk19"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">s [=] s&#39; -&gt; s [&lt;=] s&#39;</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight">fsetdec.</span></span><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk1a" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk1a"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">subset_empty</span> : empty[&lt;=]s.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">empty [&lt;=] s</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk1b" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk1b"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">empty [&lt;=] s</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight">fsetdec.</span></span><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk1c" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk1c"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">subset_remove_3</span> : s1[&lt;=]s2 -&gt; remove x s1 [&lt;=] s2.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">s1 [&lt;=] s2 -&gt; remove x s1 [&lt;=] s2</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk1d" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk1d"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">s1 [&lt;=] s2 -&gt; remove x s1 [&lt;=] s2</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight">fsetdec.</span></span><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk1e" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk1e"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">subset_diff</span> : s1[&lt;=]s3 -&gt; diff s1 s2 [&lt;=] s3.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">s1 [&lt;=] s3 -&gt; diff s1 s2 [&lt;=] s3</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk1f" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk1f"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">s1 [&lt;=] s3 -&gt; diff s1 s2 [&lt;=] s3</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight">fsetdec.</span></span><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk20" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk20"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">subset_add_3</span> : In x s2 -&gt; s1[&lt;=]s2 -&gt; add x s1 [&lt;=] s2.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">In x s2 -&gt; s1 [&lt;=] s2 -&gt; add x s1 [&lt;=] s2</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk21" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk21"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">In x s2 -&gt; s1 [&lt;=] s2 -&gt; add x s1 [&lt;=] s2</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight">fsetdec.</span></span><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk22" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk22"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">subset_add_2</span> : s1[&lt;=]s2 -&gt; s1[&lt;=] add x s2.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">s1 [&lt;=] s2 -&gt; s1 [&lt;=] add x s2</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk23" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk23"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">s1 [&lt;=] s2 -&gt; s1 [&lt;=] add x s2</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight">fsetdec.</span></span><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk24" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk24"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">in_subset</span> : In x s1 -&gt; s1[&lt;=]s2 -&gt; In x s2.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">In x s1 -&gt; s1 [&lt;=] s2 -&gt; In x s2</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk25" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk25"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">In x s1 -&gt; s1 [&lt;=] s2 -&gt; In x s2</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight">fsetdec.</span></span><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk26" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk26"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">double_inclusion</span> : s1[=]s2 &lt;-&gt; s1[&lt;=]s2 /\ s2[&lt;=]s1.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">s1 [=] s2 &lt;-&gt; s1 [&lt;=] s2 /\ s2 [&lt;=] s1</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk27" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk27"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">s1 [=] s2 &lt;-&gt; s1 [&lt;=] s2 /\ s2 [&lt;=] s1</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">intuition</span> fsetdec.</span></span><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk28" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk28"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">empty_is_empty_1</span> : Empty s -&gt; s[=]empty.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Empty s -&gt; s [=] empty</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk29" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk29"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Empty s -&gt; s [=] empty</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight">fsetdec.</span></span><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk2a" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk2a"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">empty_is_empty_2</span> : s[=]empty -&gt; Empty s.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">s [=] empty -&gt; Empty s</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk2b" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk2b"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">s [=] empty -&gt; Empty s</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight">fsetdec.</span></span><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk2c" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk2c"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">add_equal</span> : In x s -&gt; add x s [=] s.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">In x s -&gt; add x s [=] s</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk2d" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk2d"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">In x s -&gt; add x s [=] s</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight">fsetdec.</span></span><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk2e" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk2e"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">add_add</span> : add x (add x&#39; s) [=] add x&#39; (add x s).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">add x (add x&#39; s) [=] add x&#39; (add x s)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk2f" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk2f"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">add x (add x&#39; s) [=] add x&#39; (add x s)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight">fsetdec.</span></span><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk30" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk30"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">remove_equal</span> : ~ In x s -&gt; remove x s [=] s.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">~ In x s -&gt; remove x s [=] s</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk31" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk31"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">~ In x s -&gt; remove x s [=] s</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight">fsetdec.</span></span><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk32" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk32"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">Equal_remove</span> : s[=]s&#39; -&gt; remove x s [=] remove x s&#39;.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">s [=] s&#39; -&gt; remove x s [=] remove x s&#39;</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk33" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk33"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">s [=] s&#39; -&gt; remove x s [=] remove x s&#39;</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight">fsetdec.</span></span><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk34" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk34"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">add_remove</span> : In x s -&gt; add x (remove x s) [=] s.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">In x s -&gt; add x (remove x s) [=] s</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk35" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk35"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">In x s -&gt; add x (remove x s) [=] s</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight">fsetdec.</span></span><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk36" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk36"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">remove_add</span> : ~In x s -&gt; remove x (add x s) [=] s.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">~ In x s -&gt; remove x (add x s) [=] s</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk37" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk37"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">~ In x s -&gt; remove x (add x s) [=] s</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight">fsetdec.</span></span><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk38" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk38"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">singleton_equal_add</span> : singleton x [=] add x empty.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">singleton x [=] add x empty</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk39" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk39"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">singleton x [=] add x empty</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight">fsetdec.</span></span><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk3a" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk3a"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">remove_singleton_empty</span> :
   In x s -&gt; remove x s [=] empty -&gt; singleton x [=] s.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">In x s -&gt; remove x s [=] empty -&gt; singleton x [=] s</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk3b" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk3b"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">In x s -&gt; remove x s [=] empty -&gt; singleton x [=] s</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight">fsetdec.</span></span><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk3c" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk3c"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">union_sym</span> : union s s&#39; [=] union s&#39; s.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">union s s&#39; [=] union s&#39; s</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk3d" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk3d"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">union s s&#39; [=] union s&#39; s</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight">fsetdec.</span></span><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk3e" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk3e"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">union_subset_equal</span> : s[&lt;=]s&#39; -&gt; union s s&#39; [=] s&#39;.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">s [&lt;=] s&#39; -&gt; union s s&#39; [=] s&#39;</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk3f" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk3f"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">s [&lt;=] s&#39; -&gt; union s s&#39; [=] s&#39;</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight">fsetdec.</span></span><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk40" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk40"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">union_equal_1</span> : s[=]s&#39; -&gt; union s s&#39;&#39; [=] union s&#39; s&#39;&#39;.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">s [=] s&#39; -&gt; union s s&#39;&#39; [=] union s&#39; s&#39;&#39;</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk41" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk41"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">s [=] s&#39; -&gt; union s s&#39;&#39; [=] union s&#39; s&#39;&#39;</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight">fsetdec.</span></span><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk42" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk42"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">union_equal_2</span> : s&#39;[=]s&#39;&#39; -&gt; union s s&#39; [=] union s s&#39;&#39;.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">s&#39; [=] s&#39;&#39; -&gt; union s s&#39; [=] union s s&#39;&#39;</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk43" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk43"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">s&#39; [=] s&#39;&#39; -&gt; union s s&#39; [=] union s s&#39;&#39;</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight">fsetdec.</span></span><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk44" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk44"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">union_assoc</span> : union (union s s&#39;) s&#39;&#39; [=] union s (union s&#39; s&#39;&#39;).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">union (union s s&#39;) s&#39;&#39; [=] union s (union s&#39; s&#39;&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk45" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk45"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">union (union s s&#39;) s&#39;&#39; [=] union s (union s&#39; s&#39;&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight">fsetdec.</span></span><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk46" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk46"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">add_union_singleton</span> : add x s [=] union (singleton x) s.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">add x s [=] union (singleton x) s</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk47" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk47"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">add x s [=] union (singleton x) s</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight">fsetdec.</span></span><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk48" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk48"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">union_add</span> : union (add x s) s&#39; [=] add x (union s s&#39;).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">union (add x s) s&#39; [=] add x (union s s&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk49" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk49"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">union (add x s) s&#39; [=] add x (union s s&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight">fsetdec.</span></span><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk4a" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk4a"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">union_remove_add_1</span> :
   union (remove x s) (add x s&#39;) [=] union (add x s) (remove x s&#39;).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">union (remove x s) (add x s&#39;) [=]
union (add x s) (remove x s&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk4b" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk4b"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">union (remove x s) (add x s&#39;) [=]
union (add x s) (remove x s&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight">fsetdec.</span></span><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk4c" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk4c"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">union_remove_add_2</span> : In x s -&gt;
   union (remove x s) (add x s&#39;) [=] union s s&#39;.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">In x s -&gt; union (remove x s) (add x s&#39;) [=] union s s&#39;</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk4d" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk4d"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">In x s -&gt; union (remove x s) (add x s&#39;) [=] union s s&#39;</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight">fsetdec.</span></span><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk4e" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk4e"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">union_subset_1</span> : s [&lt;=] union s s&#39;.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">s [&lt;=] union s s&#39;</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk4f" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk4f"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">s [&lt;=] union s s&#39;</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight">fsetdec.</span></span><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk50" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk50"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">union_subset_2</span> : s&#39; [&lt;=] union s s&#39;.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">s&#39; [&lt;=] union s s&#39;</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk51" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk51"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">s&#39; [&lt;=] union s s&#39;</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight">fsetdec.</span></span><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk52" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk52"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">union_subset_3</span> : s[&lt;=]s&#39;&#39; -&gt; s&#39;[&lt;=]s&#39;&#39; -&gt; union s s&#39; [&lt;=] s&#39;&#39;.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">s [&lt;=] s&#39;&#39; -&gt; s&#39; [&lt;=] s&#39;&#39; -&gt; union s s&#39; [&lt;=] s&#39;&#39;</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk53" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk53"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">s [&lt;=] s&#39;&#39; -&gt; s&#39; [&lt;=] s&#39;&#39; -&gt; union s s&#39; [&lt;=] s&#39;&#39;</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight">fsetdec.</span></span><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk54" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk54"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">union_subset_4</span> : s[&lt;=]s&#39; -&gt; union s s&#39;&#39; [&lt;=] union s&#39; s&#39;&#39;.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">s [&lt;=] s&#39; -&gt; union s s&#39;&#39; [&lt;=] union s&#39; s&#39;&#39;</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk55" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk55"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">s [&lt;=] s&#39; -&gt; union s s&#39;&#39; [&lt;=] union s&#39; s&#39;&#39;</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight">fsetdec.</span></span><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk56" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk56"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">union_subset_5</span> : s[&lt;=]s&#39; -&gt; union s&#39;&#39; s [&lt;=] union s&#39;&#39; s&#39;.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">s [&lt;=] s&#39; -&gt; union s&#39;&#39; s [&lt;=] union s&#39;&#39; s&#39;</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk57" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk57"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">s [&lt;=] s&#39; -&gt; union s&#39;&#39; s [&lt;=] union s&#39;&#39; s&#39;</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight">fsetdec.</span></span><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk58" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk58"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">empty_union_1</span> : Empty s -&gt; union s s&#39; [=] s&#39;.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Empty s -&gt; union s s&#39; [=] s&#39;</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk59" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk59"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Empty s -&gt; union s s&#39; [=] s&#39;</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight">fsetdec.</span></span><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk5a" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk5a"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">empty_union_2</span> : Empty s -&gt; union s&#39; s [=] s&#39;.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Empty s -&gt; union s&#39; s [=] s&#39;</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk5b" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk5b"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Empty s -&gt; union s&#39; s [=] s&#39;</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight">fsetdec.</span></span><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk5c" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk5c"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">not_in_union</span> : ~In x s -&gt; ~In x s&#39; -&gt; ~In x (union s s&#39;).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">~ In x s -&gt; ~ In x s&#39; -&gt; ~ In x (union s s&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk5d" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk5d"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">~ In x s -&gt; ~ In x s&#39; -&gt; ~ In x (union s s&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight">fsetdec.</span></span><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk5e" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk5e"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">inter_sym</span> : inter s s&#39; [=] inter s&#39; s.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">inter s s&#39; [=] inter s&#39; s</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk5f" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk5f"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">inter s s&#39; [=] inter s&#39; s</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight">fsetdec.</span></span><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk60" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk60"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">inter_subset_equal</span> : s[&lt;=]s&#39; -&gt; inter s s&#39; [=] s.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">s [&lt;=] s&#39; -&gt; inter s s&#39; [=] s</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk61" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk61"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">s [&lt;=] s&#39; -&gt; inter s s&#39; [=] s</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight">fsetdec.</span></span><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk62" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk62"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">inter_equal_1</span> : s[=]s&#39; -&gt; inter s s&#39;&#39; [=] inter s&#39; s&#39;&#39;.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">s [=] s&#39; -&gt; inter s s&#39;&#39; [=] inter s&#39; s&#39;&#39;</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk63" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk63"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">s [=] s&#39; -&gt; inter s s&#39;&#39; [=] inter s&#39; s&#39;&#39;</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight">fsetdec.</span></span><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk64" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk64"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">inter_equal_2</span> : s&#39;[=]s&#39;&#39; -&gt; inter s s&#39; [=] inter s s&#39;&#39;.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">s&#39; [=] s&#39;&#39; -&gt; inter s s&#39; [=] inter s s&#39;&#39;</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk65" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk65"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">s&#39; [=] s&#39;&#39; -&gt; inter s s&#39; [=] inter s s&#39;&#39;</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight">fsetdec.</span></span><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk66" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk66"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">inter_assoc</span> : inter (inter s s&#39;) s&#39;&#39; [=] inter s (inter s&#39; s&#39;&#39;).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">inter (inter s s&#39;) s&#39;&#39; [=] inter s (inter s&#39; s&#39;&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk67" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk67"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">inter (inter s s&#39;) s&#39;&#39; [=] inter s (inter s&#39; s&#39;&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight">fsetdec.</span></span><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk68" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk68"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">union_inter_1</span> : inter (union s s&#39;) s&#39;&#39; [=] union (inter s s&#39;&#39;) (inter s&#39; s&#39;&#39;).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">inter (union s s&#39;) s&#39;&#39; [=]
union (inter s s&#39;&#39;) (inter s&#39; s&#39;&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk69" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk69"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">inter (union s s&#39;) s&#39;&#39; [=]
union (inter s s&#39;&#39;) (inter s&#39; s&#39;&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight">fsetdec.</span></span><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk6a" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk6a"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">union_inter_2</span> : union (inter s s&#39;) s&#39;&#39; [=] inter (union s s&#39;&#39;) (union s&#39; s&#39;&#39;).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">union (inter s s&#39;) s&#39;&#39; [=]
inter (union s s&#39;&#39;) (union s&#39; s&#39;&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk6b" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk6b"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">union (inter s s&#39;) s&#39;&#39; [=]
inter (union s s&#39;&#39;) (union s&#39; s&#39;&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight">fsetdec.</span></span><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk6c" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk6c"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">inter_add_1</span> : In x s&#39; -&gt; inter (add x s) s&#39; [=] add x (inter s s&#39;).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">In x s&#39; -&gt; inter (add x s) s&#39; [=] add x (inter s s&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk6d" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk6d"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">In x s&#39; -&gt; inter (add x s) s&#39; [=] add x (inter s s&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight">fsetdec.</span></span><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk6e" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk6e"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">inter_add_2</span> : ~ In x s&#39; -&gt; inter (add x s) s&#39; [=] inter s s&#39;.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">~ In x s&#39; -&gt; inter (add x s) s&#39; [=] inter s s&#39;</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk6f" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk6f"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">~ In x s&#39; -&gt; inter (add x s) s&#39; [=] inter s s&#39;</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight">fsetdec.</span></span><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk70" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk70"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">empty_inter_1</span> : Empty s -&gt; Empty (inter s s&#39;).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Empty s -&gt; Empty (inter s s&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk71" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk71"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Empty s -&gt; Empty (inter s s&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight">fsetdec.</span></span><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk72" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk72"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">empty_inter_2</span> : Empty s&#39; -&gt; Empty (inter s s&#39;).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Empty s&#39; -&gt; Empty (inter s s&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk73" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk73"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Empty s&#39; -&gt; Empty (inter s s&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight">fsetdec.</span></span><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk74" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk74"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">inter_subset_1</span> : inter s s&#39; [&lt;=] s.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">inter s s&#39; [&lt;=] s</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk75" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk75"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">inter s s&#39; [&lt;=] s</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight">fsetdec.</span></span><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk76" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk76"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">inter_subset_2</span> : inter s s&#39; [&lt;=] s&#39;.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">inter s s&#39; [&lt;=] s&#39;</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk77" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk77"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">inter s s&#39; [&lt;=] s&#39;</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight">fsetdec.</span></span><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk78" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk78"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">inter_subset_3</span> :
   s&#39;&#39;[&lt;=]s -&gt; s&#39;&#39;[&lt;=]s&#39; -&gt; s&#39;&#39;[&lt;=] inter s s&#39;.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">s&#39;&#39; [&lt;=] s -&gt; s&#39;&#39; [&lt;=] s&#39; -&gt; s&#39;&#39; [&lt;=] inter s s&#39;</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk79" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk79"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">s&#39;&#39; [&lt;=] s -&gt; s&#39;&#39; [&lt;=] s&#39; -&gt; s&#39;&#39; [&lt;=] inter s s&#39;</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight">fsetdec.</span></span><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk7a" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk7a"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">empty_diff_1</span> : Empty s -&gt; Empty (diff s s&#39;).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Empty s -&gt; Empty (diff s s&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk7b" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk7b"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Empty s -&gt; Empty (diff s s&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight">fsetdec.</span></span><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk7c" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk7c"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">empty_diff_2</span> : Empty s -&gt; diff s&#39; s [=] s&#39;.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Empty s -&gt; diff s&#39; s [=] s&#39;</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk7d" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk7d"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Empty s -&gt; diff s&#39; s [=] s&#39;</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight">fsetdec.</span></span><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk7e" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk7e"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">diff_subset</span> : diff s s&#39; [&lt;=] s.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">diff s s&#39; [&lt;=] s</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk7f" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk7f"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">diff s s&#39; [&lt;=] s</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight">fsetdec.</span></span><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk80" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk80"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">diff_subset_equal</span> : s[&lt;=]s&#39; -&gt; diff s s&#39; [=] empty.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">s [&lt;=] s&#39; -&gt; diff s s&#39; [=] empty</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk81" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk81"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">s [&lt;=] s&#39; -&gt; diff s s&#39; [=] empty</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight">fsetdec.</span></span><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk82" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk82"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">remove_diff_singleton</span> :
   remove x s [=] diff s (singleton x).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">remove x s [=] diff s (singleton x)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk83" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk83"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">remove x s [=] diff s (singleton x)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight">fsetdec.</span></span><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk84" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk84"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">diff_inter_empty</span> : inter (diff s s&#39;) (inter s s&#39;) [=] empty.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">inter (diff s s&#39;) (inter s s&#39;) [=] empty</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk85" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk85"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">inter (diff s s&#39;) (inter s s&#39;) [=] empty</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight">fsetdec.</span></span><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk86" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk86"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">diff_inter_all</span> : union (diff s s&#39;) (inter s s&#39;) [=] s.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">union (diff s s&#39;) (inter s s&#39;) [=] s</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk87" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk87"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">union (diff s s&#39;) (inter s s&#39;) [=] s</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight">fsetdec.</span></span><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk88" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk88"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">Add_add</span> : <span class="kn">Add</span> x s (add x s).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kn">Add</span> x s (add x s)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk89" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk89"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kn">Add</span> x s (add x s)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight">expAdd; fsetdec.</span></span><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk8a" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk8a"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">Add_remove</span> : In x s -&gt; <span class="kn">Add</span> x (remove x s) s.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">In x s -&gt; <span class="kn">Add</span> x (remove x s) s</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk8b" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk8b"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">In x s -&gt; <span class="kn">Add</span> x (remove x s) s</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight">expAdd; fsetdec.</span></span><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk8c" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk8c"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">union_Add</span> : <span class="kn">Add</span> x s s&#39; -&gt; <span class="kn">Add</span> x (union s s&#39;&#39;) (union s&#39; s&#39;&#39;).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kn">Add</span> x s s&#39; -&gt; <span class="kn">Add</span> x (union s s&#39;&#39;) (union s&#39; s&#39;&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk8d" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk8d"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kn">Add</span> x s s&#39; -&gt; <span class="kn">Add</span> x (union s s&#39;&#39;) (union s&#39; s&#39;&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight">expAdd; fsetdec.</span></span><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk8e" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk8e"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">inter_Add</span> :
   In x s&#39;&#39; -&gt; <span class="kn">Add</span> x s s&#39; -&gt; <span class="kn">Add</span> x (inter s s&#39;&#39;) (inter s&#39; s&#39;&#39;).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">In x s&#39;&#39; -&gt;
<span class="kn">Add</span> x s s&#39; -&gt; <span class="kn">Add</span> x (inter s s&#39;&#39;) (inter s&#39; s&#39;&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk8f" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk8f"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">In x s&#39;&#39; -&gt;
<span class="kn">Add</span> x s s&#39; -&gt; <span class="kn">Add</span> x (inter s s&#39;&#39;) (inter s&#39; s&#39;&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight">expAdd; fsetdec.</span></span><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk90" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk90"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">union_Equal</span> :
   In x s&#39;&#39; -&gt; <span class="kn">Add</span> x s s&#39; -&gt; union s s&#39;&#39; [=] union s&#39; s&#39;&#39;.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">In x s&#39;&#39; -&gt; <span class="kn">Add</span> x s s&#39; -&gt; union s s&#39;&#39; [=] union s&#39; s&#39;&#39;</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk91" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk91"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">In x s&#39;&#39; -&gt; <span class="kn">Add</span> x s s&#39; -&gt; union s s&#39;&#39; [=] union s&#39; s&#39;&#39;</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight">expAdd; fsetdec.</span></span><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk92" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk92"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">inter_Add_2</span> :
   ~In x s&#39;&#39; -&gt; <span class="kn">Add</span> x s s&#39; -&gt; inter s s&#39;&#39; [=] inter s&#39; s&#39;&#39;.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">~ In x s&#39;&#39; -&gt;
<span class="kn">Add</span> x s s&#39; -&gt; inter s s&#39;&#39; [=] inter s&#39; s&#39;&#39;</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk93" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk93"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s', s'', s1, s2, s3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">~ In x s&#39;&#39; -&gt;
<span class="kn">Add</span> x s s&#39; -&gt; inter s s&#39;&#39; [=] inter s&#39; s&#39;&#39;</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight">expAdd; fsetdec.</span></span><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">End</span> <span class="nf">BasicProperties</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Hint Immediate</span> equal_sym add_remove remove_add union_sym inter_sym: <span class="nb">set</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Hint Resolve</span> equal_refl equal_trans subset_refl subset_equal subset_antisym
    subset_trans subset_empty subset_remove_3 subset_diff subset_add_3
    subset_add_2 in_subset empty_is_empty_1 empty_is_empty_2 add_equal
    remove_equal singleton_equal_add union_subset_equal union_equal_1
    union_equal_2 union_assoc add_union_singleton union_add union_subset_1
    union_subset_2 union_subset_3 inter_subset_equal inter_equal_1 inter_equal_2
    inter_assoc union_inter_1 union_inter_2 inter_add_1 inter_add_2
    empty_inter_1 empty_inter_2 empty_union_1 empty_union_2 empty_diff_1
    empty_diff_2 union_Add inter_Add union_Equal inter_Add_2 not_in_union
    inter_subset_1 inter_subset_2 inter_subset_3 diff_subset diff_subset_equal
    remove_diff_singleton diff_inter_empty diff_inter_all Add_add Add_remove
    Equal_remove add_add : <span class="nb">set</span>.</span></span></span></pre><div class="doc">
<a name="lab2"></a><h1 class="section">Properties of elements</h1>
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-wsp"><span class="highlight">  </span></span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk94" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk94"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">elements_Empty</span> : <span class="kr">forall</span> <span class="nv">s</span>, Empty s &lt;-&gt; elements s = nil.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">s</span> : t, Empty s &lt;-&gt; elements s = nil</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk95" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk95"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">s</span> : t, Empty s &lt;-&gt; elements s = nil</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk96" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk96"><span class="highlight"><span class="nb">intros</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Empty s &lt;-&gt; elements s = nil</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk97" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk97"><span class="highlight"><span class="nb">unfold</span> Empty.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="kr">forall</span> <span class="nv">a</span> : elt, ~ In a s) &lt;-&gt; elements s = nil</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk98" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk98"><span class="highlight"><span class="nb">split</span>; <span class="nb">intros</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : elt, ~ In a s</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">elements s = nil</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk99" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elements s = nil</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk99"><hr></label><div class="goal-conclusion"><span class="highlight">~ In a s</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk9a" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk9a"><span class="highlight"><span class="nb">assert</span> (<span class="kr">forall</span> <span class="nv">a</span>, ~ List.In a (elements s)).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : elt, ~ In a s</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : elt, ~ List.In a (elements s)</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk9b" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : elt, ~ In a s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : elt, ~ List.In a (elements s)</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk9b"><hr></label><div class="goal-conclusion"><span class="highlight">elements s = nil</span></div></blockquote><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk9c" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elements s = nil</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk9c"><hr></label><div class="goal-conclusion"><span class="highlight">~ In a s</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk9d" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk9d"><span class="highlight"><span class="nb">red</span>; <span class="nb">intros</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">a0</span> : elt, ~ In a0 s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">List.In a (elements s)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kt">False</span></span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk9e" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : elt, ~ In a s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : elt, ~ List.In a (elements s)</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk9e"><hr></label><div class="goal-conclusion"><span class="highlight">elements s = nil</span></div></blockquote><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk9f" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elements s = nil</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk9f"><hr></label><div class="goal-conclusion"><span class="highlight">~ In a s</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chka0" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chka0"><span class="highlight"><span class="nb">apply</span> (H a).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">a0</span> : elt, ~ In a0 s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">List.In a (elements s)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">In a s</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chka1" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : elt, ~ In a s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : elt, ~ List.In a (elements s)</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chka1"><hr></label><div class="goal-conclusion"><span class="highlight">elements s = nil</span></div></blockquote><input class="coq-extra-goal-toggle" id="MSetProperties-v-chka2" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elements s = nil</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chka2"><hr></label><div class="goal-conclusion"><span class="highlight">~ In a s</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chka3" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chka3"><span class="highlight"><span class="nb">rewrite</span> elements_iff.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">a0</span> : elt, ~ In a0 s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">List.In a (elements s)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">InA E.eq a (elements s)</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chka4" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : elt, ~ In a s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : elt, ~ List.In a (elements s)</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chka4"><hr></label><div class="goal-conclusion"><span class="highlight">elements s = nil</span></div></blockquote><input class="coq-extra-goal-toggle" id="MSetProperties-v-chka5" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elements s = nil</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chka5"><hr></label><div class="goal-conclusion"><span class="highlight">~ In a s</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chka6" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chka6"><span class="highlight"><span class="nb">rewrite</span> InA_alt; <span class="kr">exists</span> <span class="nv">a</span>; <span class="nb">auto with</span> relations.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : elt, ~ In a s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : elt, ~ List.In a (elements s)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">elements s = nil</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chka7" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elements s = nil</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chka7"><hr></label><div class="goal-conclusion"><span class="highlight">~ In a s</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chka8" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chka8"><span class="highlight"><span class="nb">destruct</span> (elements s); <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : elt, ~ In a s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : elt, ~ List.In a (e :: l)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">e :: l = nil</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chka9" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elements s = nil</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chka9"><hr></label><div class="goal-conclusion"><span class="highlight">~ In a s</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chkaa" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chkaa"><span class="highlight"><span class="nb">elim</span> (H0 e); <span class="nb">simpl</span>; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elements s = nil</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">~ In a s</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chkab" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chkab"><span class="highlight"><span class="nb">red</span>; <span class="nb">intros</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elements s = nil</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In a s</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kt">False</span></span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chkac" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chkac"><span class="highlight"><span class="nb">rewrite</span> elements_iff <span class="kr">in</span> H0.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elements s = nil</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">InA E.eq a (elements s)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kt">False</span></span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chkad" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chkad"><span class="highlight"><span class="nb">rewrite</span> InA_alt <span class="kr">in</span> H0; <span class="nb">destruct</span> H0.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elements s = nil</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.eq a x /\ List.In x (elements s)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kt">False</span></span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">rewrite</span> H <span class="kr">in</span> H0; <span class="nb">destruct</span> H0 <span class="kr">as</span> (_,H0); <span class="nb">inversion</span> H0.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chkae" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chkae"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">elements_empty</span> : elements empty = nil.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">elements empty = nil</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chkaf" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chkaf"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">elements empty = nil</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">rewrite</span> &lt;-elements_Empty; <span class="nb">auto with</span> <span class="nb">set</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span></span></pre><div class="doc">
<a name="lab3"></a><h1 class="section">Conversions between lists and sets</h1>
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-wsp"><span class="highlight">  </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">of_list</span> (<span class="nv">l</span> : list elt) := List.fold_right add empty l.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">to_list</span> := elements.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chkb0" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chkb0"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">of_list_1</span> : <span class="kr">forall</span> <span class="nv">l</span> <span class="nv">x</span>, In x (of_list l) &lt;-&gt; InA E.eq x l.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : list elt) (<span class="nv">x</span> : elt),
In x (of_list l) &lt;-&gt; InA E.eq x l</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chkb1" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chkb1"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : list elt) (<span class="nv">x</span> : elt),
In x (of_list l) &lt;-&gt; InA E.eq x l</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chkb2" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chkb2"><span class="highlight"><span class="nb">induction</span> l; <span class="nb">simpl</span>; <span class="nb">intro</span> x.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">In x empty &lt;-&gt; InA E.eq x nil</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chkb3" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : elt, In x0 (of_list l) &lt;-&gt; InA E.eq x0 l</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chkb3"><hr></label><div class="goal-conclusion"><span class="highlight">In x (add a (of_list l)) &lt;-&gt; InA E.eq x (a :: l)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chkb4" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chkb4"><span class="highlight"><span class="nb">rewrite</span> empty_iff, InA_nil.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kt">False</span> &lt;-&gt; <span class="kt">False</span></span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chkb5" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : elt, In x0 (of_list l) &lt;-&gt; InA E.eq x0 l</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chkb5"><hr></label><div class="goal-conclusion"><span class="highlight">In x (add a (of_list l)) &lt;-&gt; InA E.eq x (a :: l)</span></div></blockquote></div></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chkb6" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chkb6"><span class="highlight"><span class="nb">intuition</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : elt, In x0 (of_list l) &lt;-&gt; InA E.eq x0 l</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">In x (add a (of_list l)) &lt;-&gt; InA E.eq x (a :: l)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chkb7" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chkb7"><span class="highlight"><span class="nb">rewrite</span> add_iff, InA_cons, IHl.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : elt, In x0 (of_list l) &lt;-&gt; InA E.eq x0 l</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">E.eq a x \/ InA E.eq x l &lt;-&gt; E.eq x a \/ InA E.eq x l</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">intuition</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chkb8" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chkb8"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">of_list_2</span> : <span class="kr">forall</span> <span class="nv">l</span>, equivlistA E.eq (to_list (of_list l)) l.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">l</span> : list elt,
equivlistA E.eq (to_list (of_list l)) l</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chkb9" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chkb9"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">l</span> : list elt,
equivlistA E.eq (to_list (of_list l)) l</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chkba" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chkba"><span class="highlight"><span class="nb">unfold</span> to_list; <span class="nb">red</span>; <span class="nb">intros</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.t</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">InA E.eq x (elements (of_list l)) &lt;-&gt; InA E.eq x l</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">rewrite</span> &lt;- elements_iff; <span class="nb">apply</span> of_list_1.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chkbb" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chkbb"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">of_list_3</span> : <span class="kr">forall</span> <span class="nv">s</span>, of_list (to_list s) [=] s.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">s</span> : t, of_list (to_list s) [=] s</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chkbc" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chkbc"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">s</span> : t, of_list (to_list s) [=] s</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chkbd" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chkbd"><span class="highlight"><span class="nb">unfold</span> to_list; <span class="nb">red</span>; <span class="nb">intros</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">In a (of_list (elements s)) &lt;-&gt; In a s</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">rewrite</span> of_list_1; <span class="nb">symmetry</span>; <span class="nb">apply</span> elements_iff.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span></span></pre><div class="doc">
<a name="lab4"></a><h1 class="section">Fold</h1>
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-wsp"><span class="highlight">  </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Section</span> <span class="nf">Fold</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Notation</span> <span class="nf">NoDup</span> := (NoDupA E.eq).</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Notation</span> <span class="nf">InA</span> := (InA E.eq).</span></span></span></pre><div class="doc">
Alternative specification via <span class="inlinecode"><span class="id" title="var">fold_right</span></span>
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-wsp"><span class="highlight">  </span></span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chkbe" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chkbe"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">fold_spec_right</span> (<span class="nv">s</span>:t)(<span class="nv">A</span>:<span class="kt">Type</span>)(<span class="nv">i</span>:A)(<span class="nv">f</span> : elt -&gt; A -&gt; A) :
    <span class="nb">fold</span> f s i = List.fold_right f i (rev (elements s)).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="nb">fold</span> f s i = fold_right f i (rev (elements s))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chkbf" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chkbf"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="nb">fold</span> f s i = fold_right f i (rev (elements s))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chkc0" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chkc0"><span class="highlight"><span class="nb">rewrite</span> fold_spec.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">fold_left (flip f) (elements s) i =
fold_right f i (rev (elements s))</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chkc1" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chkc1"><span class="highlight"><span class="nb">symmetry</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">fold_right f i (rev (elements s)) =
fold_left (flip f) (elements s) i</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">apply</span> fold_left_rev_right.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span></span></pre><div class="doc">
<a name="lab5"></a><h2 class="section">Induction principles for fold (contributed by S. Lescuyer)</h2>
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-wsp"><span class="highlight">  </span></span></pre><div class="doc">
In the following lemma, the step hypothesis is deliberately restricted
      to the precise set s we are considering. 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-wsp"><span class="highlight">  </span></span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chkc2" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chkc2"><span class="highlight"><span class="kn">Theorem</span> <span class="nf">fold_rec</span> :
    <span class="kr">forall</span> (<span class="nv">A</span>:<span class="kt">Type</span>)(<span class="nv">P</span> : t -&gt; A -&gt; <span class="kt">Type</span>)(<span class="nv">f</span> : elt -&gt; A -&gt; A)(<span class="nv">i</span>:A)(<span class="nv">s</span>:t),
     (<span class="kr">forall</span> <span class="nv">s&#39;</span>, Empty s&#39; -&gt; P s&#39; i) -&gt;
     (<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">a</span> <span class="nv">s&#39;</span> <span class="nv">s&#39;&#39;</span>, In x s -&gt; ~In x s&#39; -&gt; <span class="kn">Add</span> x s&#39; s&#39;&#39; -&gt;
       P s&#39; a -&gt; P s&#39;&#39; (f x a)) -&gt;
     P s (<span class="nb">fold</span> f s i).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">A</span> : <span class="kt">Type</span>) (<span class="nv">P</span> : t -&gt; A -&gt; <span class="kt">Type</span>)
  (<span class="nv">f</span> : elt -&gt; A -&gt; A) (<span class="nv">i</span> : A) (<span class="nv">s</span> : t),
(<span class="kr">forall</span> <span class="nv">s&#39;</span> : t, Empty s&#39; -&gt; P s&#39; i) -&gt;
(<span class="kr">forall</span> (<span class="nv">x</span> : elt) (<span class="nv">a</span> : A) (<span class="nv">s&#39;</span> <span class="nv">s&#39;&#39;</span> : t),
 In x s -&gt;
 ~ In x s&#39; -&gt; <span class="kn">Add</span> x s&#39; s&#39;&#39; -&gt; P s&#39; a -&gt; P s&#39;&#39; (f x a)) -&gt;
P s (<span class="nb">fold</span> f s i)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chkc3" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chkc3"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">A</span> : <span class="kt">Type</span>) (<span class="nv">P</span> : t -&gt; A -&gt; <span class="kt">Type</span>)
  (<span class="nv">f</span> : elt -&gt; A -&gt; A) (<span class="nv">i</span> : A) (<span class="nv">s</span> : t),
(<span class="kr">forall</span> <span class="nv">s&#39;</span> : t, Empty s&#39; -&gt; P s&#39; i) -&gt;
(<span class="kr">forall</span> (<span class="nv">x</span> : elt) (<span class="nv">a</span> : A) (<span class="nv">s&#39;</span> <span class="nv">s&#39;&#39;</span> : t),
 In x s -&gt;
 ~ In x s&#39; -&gt; <span class="kn">Add</span> x s&#39; s&#39;&#39; -&gt; P s&#39; a -&gt; P s&#39;&#39; (f x a)) -&gt;
P s (<span class="nb">fold</span> f s i)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chkc4" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chkc4"><span class="highlight"><span class="nb">intros</span> A P f i s Pempty Pstep.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t -&gt; A -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Pempty</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s&#39;</span> : t, Empty s&#39; -&gt; P s&#39; i</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Pstep</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x</span> : elt) (<span class="nv">a</span> : A) (<span class="nv">s&#39;</span> <span class="nv">s&#39;&#39;</span> : t),
In x s -&gt;
~ In x s&#39; -&gt;
<span class="kn">Add</span> x s&#39; s&#39;&#39; -&gt; P s&#39; a -&gt; P s&#39;&#39; (f x a)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">P s (<span class="nb">fold</span> f s i)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chkc5" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chkc5"><span class="highlight"><span class="nb">rewrite</span> fold_spec_right.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t -&gt; A -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Pempty</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s&#39;</span> : t, Empty s&#39; -&gt; P s&#39; i</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Pstep</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x</span> : elt) (<span class="nv">a</span> : A) (<span class="nv">s&#39;</span> <span class="nv">s&#39;&#39;</span> : t),
In x s -&gt;
~ In x s&#39; -&gt;
<span class="kn">Add</span> x s&#39; s&#39;&#39; -&gt; P s&#39; a -&gt; P s&#39;&#39; (f x a)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">P s (fold_right f i (rev (elements s)))</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chkc6" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chkc6"><span class="highlight"><span class="nb">set</span> (l:=rev (elements s)).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t -&gt; A -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Pempty</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s&#39;</span> : t, Empty s&#39; -&gt; P s&#39; i</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Pstep</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x</span> : elt) (<span class="nv">a</span> : A) (<span class="nv">s&#39;</span> <span class="nv">s&#39;&#39;</span> : t),
In x s -&gt;
~ In x s&#39; -&gt;
<span class="kn">Add</span> x s&#39; s&#39;&#39; -&gt; P s&#39; a -&gt; P s&#39;&#39; (f x a)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">rev (elements s)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">P s (fold_right f i l)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chkc7" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chkc7"><span class="highlight"><span class="nb">assert</span> (Pstep&#39; : <span class="kr">forall</span> <span class="nv">x</span> <span class="nv">a</span> <span class="nv">s&#39;</span> <span class="nv">s&#39;&#39;</span>, InA x l -&gt; ~In x s&#39; -&gt; <span class="kn">Add</span> x s&#39; s&#39;&#39; -&gt;
           P s&#39; a -&gt; P s&#39;&#39; (f x a)).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t -&gt; A -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Pempty</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s&#39;</span> : t, Empty s&#39; -&gt; P s&#39; i</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Pstep</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x</span> : elt) (<span class="nv">a</span> : A) (<span class="nv">s&#39;</span> <span class="nv">s&#39;&#39;</span> : t),
In x s -&gt;
~ In x s&#39; -&gt;
<span class="kn">Add</span> x s&#39; s&#39;&#39; -&gt; P s&#39; a -&gt; P s&#39;&#39; (f x a)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">rev (elements s)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">x</span> : E.t) (<span class="nv">a</span> : A) (<span class="nv">s&#39;</span> <span class="nv">s&#39;&#39;</span> : t),
InA x l -&gt;
~ In x s&#39; -&gt; <span class="kn">Add</span> x s&#39; s&#39;&#39; -&gt; P s&#39; a -&gt; P s&#39;&#39; (f x a)</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chkc8" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t -&gt; A -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Pempty</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s&#39;</span> : t, Empty s&#39; -&gt; P s&#39; i</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Pstep</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x</span> : elt) (<span class="nv">a</span> : A) (<span class="nv">s&#39;</span> <span class="nv">s&#39;&#39;</span> : t),
In x s -&gt;
~ In x s&#39; -&gt;
<span class="kn">Add</span> x s&#39; s&#39;&#39; -&gt; P s&#39; a -&gt; P s&#39;&#39; (f x a)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">rev (elements s)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Pstep'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x</span> : E.t) (<span class="nv">a</span> : A) (<span class="nv">s&#39;</span> <span class="nv">s&#39;&#39;</span> : t),
InA x l -&gt;
~ In x s&#39; -&gt;
<span class="kn">Add</span> x s&#39; s&#39;&#39; -&gt; P s&#39; a -&gt; P s&#39;&#39; (f x a)</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chkc8"><hr></label><div class="goal-conclusion"><span class="highlight">P s (fold_right f i l)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chkc9" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chkc9"><span class="highlight"><span class="nb">intros</span>; <span class="nb">eapply</span> Pstep; <span class="nb">eauto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t -&gt; A -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Pempty</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s&#39;0</span> : t, Empty s&#39;0 -&gt; P s&#39;0 i</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Pstep</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x0</span> : elt) (<span class="nv">a0</span> : A) (<span class="nv">s&#39;0</span> <span class="nv">s&#39;&#39;0</span> : t),
In x0 s -&gt;
~ In x0 s&#39;0 -&gt;
<span class="kn">Add</span> x0 s&#39;0 s&#39;&#39;0 -&gt;
P s&#39;0 a0 -&gt; P s&#39;&#39;0 (f x0 a0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">rev (elements s)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s', s''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">InA x l</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s&#39; s&#39;&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">P s&#39; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">In x s</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chkca" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t -&gt; A -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Pempty</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s&#39;</span> : t, Empty s&#39; -&gt; P s&#39; i</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Pstep</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x</span> : elt) (<span class="nv">a</span> : A) (<span class="nv">s&#39;</span> <span class="nv">s&#39;&#39;</span> : t),
In x s -&gt;
~ In x s&#39; -&gt;
<span class="kn">Add</span> x s&#39; s&#39;&#39; -&gt; P s&#39; a -&gt; P s&#39;&#39; (f x a)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">rev (elements s)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Pstep'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x</span> : E.t) (<span class="nv">a</span> : A) (<span class="nv">s&#39;</span> <span class="nv">s&#39;&#39;</span> : t),
InA x l -&gt;
~ In x s&#39; -&gt;
<span class="kn">Add</span> x s&#39; s&#39;&#39; -&gt; P s&#39; a -&gt; P s&#39;&#39; (f x a)</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chkca"><hr></label><div class="goal-conclusion"><span class="highlight">P s (fold_right f i l)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chkcb" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chkcb"><span class="highlight"><span class="nb">rewrite</span> elements_iff, &lt;- InA_rev; <span class="nb">auto with</span> *.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t -&gt; A -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Pempty</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s&#39;</span> : t, Empty s&#39; -&gt; P s&#39; i</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Pstep</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x</span> : elt) (<span class="nv">a</span> : A) (<span class="nv">s&#39;</span> <span class="nv">s&#39;&#39;</span> : t),
In x s -&gt;
~ In x s&#39; -&gt;
<span class="kn">Add</span> x s&#39; s&#39;&#39; -&gt; P s&#39; a -&gt; P s&#39;&#39; (f x a)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">rev (elements s)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Pstep'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x</span> : E.t) (<span class="nv">a</span> : A) (<span class="nv">s&#39;</span> <span class="nv">s&#39;&#39;</span> : t),
InA x l -&gt;
~ In x s&#39; -&gt;
<span class="kn">Add</span> x s&#39; s&#39;&#39; -&gt; P s&#39; a -&gt; P s&#39;&#39; (f x a)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">P s (fold_right f i l)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chkcc" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chkcc"><span class="highlight"><span class="nb">assert</span> (Hdup : NoDup l) <span class="bp">by</span>
    (<span class="nb">unfold</span> l; <span class="nb">eauto using</span> elements_3w, NoDupA_rev <span class="kr">with</span> *).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t -&gt; A -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Pempty</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s&#39;</span> : t, Empty s&#39; -&gt; P s&#39; i</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Pstep</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x</span> : elt) (<span class="nv">a</span> : A) (<span class="nv">s&#39;</span> <span class="nv">s&#39;&#39;</span> : t),
In x s -&gt;
~ In x s&#39; -&gt;
<span class="kn">Add</span> x s&#39; s&#39;&#39; -&gt; P s&#39; a -&gt; P s&#39;&#39; (f x a)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">rev (elements s)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Pstep'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x</span> : E.t) (<span class="nv">a</span> : A) (<span class="nv">s&#39;</span> <span class="nv">s&#39;&#39;</span> : t),
InA x l -&gt;
~ In x s&#39; -&gt;
<span class="kn">Add</span> x s&#39; s&#39;&#39; -&gt; P s&#39; a -&gt; P s&#39;&#39; (f x a)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hdup</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">NoDup l</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">P s (fold_right f i l)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chkcd" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chkcd"><span class="highlight"><span class="nb">assert</span> (Hsame : <span class="kr">forall</span> <span class="nv">x</span>, In x s &lt;-&gt; InA x l) <span class="bp">by</span>
    (<span class="nb">unfold</span> l; <span class="nb">intros</span>; <span class="nb">rewrite</span> elements_iff, InA_rev; <span class="nb">intuition</span>).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t -&gt; A -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Pempty</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s&#39;</span> : t, Empty s&#39; -&gt; P s&#39; i</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Pstep</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x</span> : elt) (<span class="nv">a</span> : A) (<span class="nv">s&#39;</span> <span class="nv">s&#39;&#39;</span> : t),
In x s -&gt;
~ In x s&#39; -&gt;
<span class="kn">Add</span> x s&#39; s&#39;&#39; -&gt; P s&#39; a -&gt; P s&#39;&#39; (f x a)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">rev (elements s)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Pstep'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x</span> : E.t) (<span class="nv">a</span> : A) (<span class="nv">s&#39;</span> <span class="nv">s&#39;&#39;</span> : t),
InA x l -&gt;
~ In x s&#39; -&gt;
<span class="kn">Add</span> x s&#39; s&#39;&#39; -&gt; P s&#39; a -&gt; P s&#39;&#39; (f x a)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hdup</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">NoDup l</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsame</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : elt, In x s &lt;-&gt; InA x l</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">P s (fold_right f i l)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chkce" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chkce"><span class="highlight"><span class="nb">clear</span> Pstep; <span class="nb">clearbody</span> l; <span class="nb">revert</span> s Hsame; <span class="nb">induction</span> l.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t -&gt; A -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Pempty</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s&#39;</span> : t, Empty s&#39; -&gt; P s&#39; i</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Pstep'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x</span> : E.t) (<span class="nv">a</span> : A) (<span class="nv">s&#39;</span> <span class="nv">s&#39;&#39;</span> : t),
InA x nil -&gt;
~ In x s&#39; -&gt;
<span class="kn">Add</span> x s&#39; s&#39;&#39; -&gt; P s&#39; a -&gt; P s&#39;&#39; (f x a)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hdup</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">NoDup nil</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">s</span> : t,
(<span class="kr">forall</span> <span class="nv">x</span> : elt, In x s &lt;-&gt; InA x nil) -&gt;
P s (fold_right f i nil)</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chkcf" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t -&gt; A -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Pempty</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s&#39;</span> : t, Empty s&#39; -&gt; P s&#39; i</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Pstep'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x</span> : E.t) (<span class="nv">a0</span> : A) (<span class="nv">s&#39;</span> <span class="nv">s&#39;&#39;</span> : t),
InA x (a :: l) -&gt;
~ In x s&#39; -&gt;
<span class="kn">Add</span> x s&#39; s&#39;&#39; -&gt; P s&#39; a0 -&gt; P s&#39;&#39; (f x a0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hdup</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">NoDup (a :: l)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(<span class="kr">forall</span> (<span class="nv">x</span> : E.t) (<span class="nv">a0</span> : A) (<span class="nv">s&#39;</span> <span class="nv">s&#39;&#39;</span> : t),
 InA x l -&gt;
 ~ In x s&#39; -&gt;
 <span class="kn">Add</span> x s&#39; s&#39;&#39; -&gt; P s&#39; a0 -&gt; P s&#39;&#39; (f x a0)) -&gt;
NoDup l -&gt;
<span class="kr">forall</span> <span class="nv">s</span> : t,
(<span class="kr">forall</span> <span class="nv">x</span> : elt, In x s &lt;-&gt; InA x l) -&gt;
P s (fold_right f i l)</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chkcf"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">s</span> : t,
(<span class="kr">forall</span> <span class="nv">x</span> : elt, In x s &lt;-&gt; InA x (a :: l)) -&gt;
P s (fold_right f i (a :: l))</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">  <span class="c">(* empty *)</span>
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chkd0" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chkd0"><span class="highlight"><span class="nb">intros</span> s Hsame; <span class="nb">simpl</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t -&gt; A -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Pempty</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s&#39;</span> : t, Empty s&#39; -&gt; P s&#39; i</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Pstep'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x</span> : E.t) (<span class="nv">a</span> : A) (<span class="nv">s&#39;</span> <span class="nv">s&#39;&#39;</span> : t),
InA x nil -&gt;
~ In x s&#39; -&gt;
<span class="kn">Add</span> x s&#39; s&#39;&#39; -&gt; P s&#39; a -&gt; P s&#39;&#39; (f x a)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hdup</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">NoDup nil</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsame</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : elt, In x s &lt;-&gt; InA x nil</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">P s i</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chkd1" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t -&gt; A -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Pempty</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s&#39;</span> : t, Empty s&#39; -&gt; P s&#39; i</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Pstep'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x</span> : E.t) (<span class="nv">a0</span> : A) (<span class="nv">s&#39;</span> <span class="nv">s&#39;&#39;</span> : t),
InA x (a :: l) -&gt;
~ In x s&#39; -&gt;
<span class="kn">Add</span> x s&#39; s&#39;&#39; -&gt; P s&#39; a0 -&gt; P s&#39;&#39; (f x a0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hdup</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">NoDup (a :: l)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(<span class="kr">forall</span> (<span class="nv">x</span> : E.t) (<span class="nv">a0</span> : A) (<span class="nv">s&#39;</span> <span class="nv">s&#39;&#39;</span> : t),
 InA x l -&gt;
 ~ In x s&#39; -&gt;
 <span class="kn">Add</span> x s&#39; s&#39;&#39; -&gt; P s&#39; a0 -&gt; P s&#39;&#39; (f x a0)) -&gt;
NoDup l -&gt;
<span class="kr">forall</span> <span class="nv">s</span> : t,
(<span class="kr">forall</span> <span class="nv">x</span> : elt, In x s &lt;-&gt; InA x l) -&gt;
P s (fold_right f i l)</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chkd1"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">s</span> : t,
(<span class="kr">forall</span> <span class="nv">x</span> : elt, In x s &lt;-&gt; InA x (a :: l)) -&gt;
P s (fold_right f i (a :: l))</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chkd2" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chkd2"><span class="highlight"><span class="nb">apply</span> Pempty.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t -&gt; A -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Pempty</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s&#39;</span> : t, Empty s&#39; -&gt; P s&#39; i</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Pstep'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x</span> : E.t) (<span class="nv">a</span> : A) (<span class="nv">s&#39;</span> <span class="nv">s&#39;&#39;</span> : t),
InA x nil -&gt;
~ In x s&#39; -&gt;
<span class="kn">Add</span> x s&#39; s&#39;&#39; -&gt; P s&#39; a -&gt; P s&#39;&#39; (f x a)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hdup</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">NoDup nil</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsame</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : elt, In x s &lt;-&gt; InA x nil</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Empty s</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chkd3" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t -&gt; A -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Pempty</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s&#39;</span> : t, Empty s&#39; -&gt; P s&#39; i</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Pstep'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x</span> : E.t) (<span class="nv">a0</span> : A) (<span class="nv">s&#39;</span> <span class="nv">s&#39;&#39;</span> : t),
InA x (a :: l) -&gt;
~ In x s&#39; -&gt;
<span class="kn">Add</span> x s&#39; s&#39;&#39; -&gt; P s&#39; a0 -&gt; P s&#39;&#39; (f x a0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hdup</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">NoDup (a :: l)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(<span class="kr">forall</span> (<span class="nv">x</span> : E.t) (<span class="nv">a0</span> : A) (<span class="nv">s&#39;</span> <span class="nv">s&#39;&#39;</span> : t),
 InA x l -&gt;
 ~ In x s&#39; -&gt;
 <span class="kn">Add</span> x s&#39; s&#39;&#39; -&gt; P s&#39; a0 -&gt; P s&#39;&#39; (f x a0)) -&gt;
NoDup l -&gt;
<span class="kr">forall</span> <span class="nv">s</span> : t,
(<span class="kr">forall</span> <span class="nv">x</span> : elt, In x s &lt;-&gt; InA x l) -&gt;
P s (fold_right f i l)</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chkd3"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">s</span> : t,
(<span class="kr">forall</span> <span class="nv">x</span> : elt, In x s &lt;-&gt; InA x (a :: l)) -&gt;
P s (fold_right f i (a :: l))</span></div></blockquote></div></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chkd4" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chkd4"><span class="highlight"><span class="nb">intro</span> x.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t -&gt; A -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Pempty</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s&#39;</span> : t, Empty s&#39; -&gt; P s&#39; i</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Pstep'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x0</span> : E.t) (<span class="nv">a</span> : A) (<span class="nv">s&#39;</span> <span class="nv">s&#39;&#39;</span> : t),
InA x0 nil -&gt;
~ In x0 s&#39; -&gt;
<span class="kn">Add</span> x0 s&#39; s&#39;&#39; -&gt; P s&#39; a -&gt; P s&#39;&#39; (f x0 a)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hdup</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">NoDup nil</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsame</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : elt, In x0 s &lt;-&gt; InA x0 nil</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">~ In x s</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chkd5" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t -&gt; A -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Pempty</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s&#39;</span> : t, Empty s&#39; -&gt; P s&#39; i</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Pstep'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x</span> : E.t) (<span class="nv">a0</span> : A) (<span class="nv">s&#39;</span> <span class="nv">s&#39;&#39;</span> : t),
InA x (a :: l) -&gt;
~ In x s&#39; -&gt;
<span class="kn">Add</span> x s&#39; s&#39;&#39; -&gt; P s&#39; a0 -&gt; P s&#39;&#39; (f x a0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hdup</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">NoDup (a :: l)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(<span class="kr">forall</span> (<span class="nv">x</span> : E.t) (<span class="nv">a0</span> : A) (<span class="nv">s&#39;</span> <span class="nv">s&#39;&#39;</span> : t),
 InA x l -&gt;
 ~ In x s&#39; -&gt;
 <span class="kn">Add</span> x s&#39; s&#39;&#39; -&gt; P s&#39; a0 -&gt; P s&#39;&#39; (f x a0)) -&gt;
NoDup l -&gt;
<span class="kr">forall</span> <span class="nv">s</span> : t,
(<span class="kr">forall</span> <span class="nv">x</span> : elt, In x s &lt;-&gt; InA x l) -&gt;
P s (fold_right f i l)</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chkd5"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">s</span> : t,
(<span class="kr">forall</span> <span class="nv">x</span> : elt, In x s &lt;-&gt; InA x (a :: l)) -&gt;
P s (fold_right f i (a :: l))</span></div></blockquote></div></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chkd6" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chkd6"><span class="highlight"><span class="nb">rewrite</span> Hsame, InA_nil; <span class="nb">intuition</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t -&gt; A -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Pempty</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s&#39;</span> : t, Empty s&#39; -&gt; P s&#39; i</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Pstep'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x</span> : E.t) (<span class="nv">a0</span> : A) (<span class="nv">s&#39;</span> <span class="nv">s&#39;&#39;</span> : t),
InA x (a :: l) -&gt;
~ In x s&#39; -&gt;
<span class="kn">Add</span> x s&#39; s&#39;&#39; -&gt; P s&#39; a0 -&gt; P s&#39;&#39; (f x a0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hdup</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">NoDup (a :: l)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(<span class="kr">forall</span> (<span class="nv">x</span> : E.t) (<span class="nv">a0</span> : A) (<span class="nv">s&#39;</span> <span class="nv">s&#39;&#39;</span> : t),
 InA x l -&gt;
 ~ In x s&#39; -&gt;
 <span class="kn">Add</span> x s&#39; s&#39;&#39; -&gt; P s&#39; a0 -&gt; P s&#39;&#39; (f x a0)) -&gt;
NoDup l -&gt;
<span class="kr">forall</span> <span class="nv">s</span> : t,
(<span class="kr">forall</span> <span class="nv">x</span> : elt, In x s &lt;-&gt; InA x l) -&gt;
P s (fold_right f i l)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">s</span> : t,
(<span class="kr">forall</span> <span class="nv">x</span> : elt, In x s &lt;-&gt; InA x (a :: l)) -&gt;
P s (fold_right f i (a :: l))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">  <span class="c">(* step *)</span>
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chkd7" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chkd7"><span class="highlight"><span class="nb">intros</span> s Hsame; <span class="nb">simpl</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t -&gt; A -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Pempty</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s&#39;</span> : t, Empty s&#39; -&gt; P s&#39; i</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Pstep'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x</span> : E.t) (<span class="nv">a0</span> : A) (<span class="nv">s&#39;</span> <span class="nv">s&#39;&#39;</span> : t),
InA x (a :: l) -&gt;
~ In x s&#39; -&gt;
<span class="kn">Add</span> x s&#39; s&#39;&#39; -&gt; P s&#39; a0 -&gt; P s&#39;&#39; (f x a0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hdup</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">NoDup (a :: l)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(<span class="kr">forall</span> (<span class="nv">x</span> : E.t) (<span class="nv">a0</span> : A) (<span class="nv">s&#39;</span> <span class="nv">s&#39;&#39;</span> : t),
 InA x l -&gt;
 ~ In x s&#39; -&gt;
 <span class="kn">Add</span> x s&#39; s&#39;&#39; -&gt; P s&#39; a0 -&gt; P s&#39;&#39; (f x a0)) -&gt;
NoDup l -&gt;
<span class="kr">forall</span> <span class="nv">s0</span> : t,
(<span class="kr">forall</span> <span class="nv">x</span> : elt, In x s0 &lt;-&gt; InA x l) -&gt;
P s0 (fold_right f i l)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsame</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : elt, In x s &lt;-&gt; InA x (a :: l)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">P s (f a (fold_right f i l))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chkd8" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chkd8"><span class="highlight"><span class="nb">apply</span> Pstep&#39; <span class="kr">with</span> (of_list l); <span class="nb">auto with</span> relations.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t -&gt; A -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Pempty</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s&#39;</span> : t, Empty s&#39; -&gt; P s&#39; i</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Pstep'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x</span> : E.t) (<span class="nv">a0</span> : A) (<span class="nv">s&#39;</span> <span class="nv">s&#39;&#39;</span> : t),
InA x (a :: l) -&gt;
~ In x s&#39; -&gt;
<span class="kn">Add</span> x s&#39; s&#39;&#39; -&gt; P s&#39; a0 -&gt; P s&#39;&#39; (f x a0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hdup</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">NoDup (a :: l)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(<span class="kr">forall</span> (<span class="nv">x</span> : E.t) (<span class="nv">a0</span> : A) (<span class="nv">s&#39;</span> <span class="nv">s&#39;&#39;</span> : t),
 InA x l -&gt;
 ~ In x s&#39; -&gt;
 <span class="kn">Add</span> x s&#39; s&#39;&#39; -&gt; P s&#39; a0 -&gt; P s&#39;&#39; (f x a0)) -&gt;
NoDup l -&gt;
<span class="kr">forall</span> <span class="nv">s0</span> : t,
(<span class="kr">forall</span> <span class="nv">x</span> : elt, In x s0 &lt;-&gt; InA x l) -&gt;
P s0 (fold_right f i l)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsame</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : elt, In x s &lt;-&gt; InA x (a :: l)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">~ In a (of_list l)</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chkd9" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t -&gt; A -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Pempty</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s&#39;</span> : t, Empty s&#39; -&gt; P s&#39; i</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Pstep'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x</span> : E.t) (<span class="nv">a0</span> : A) (<span class="nv">s&#39;</span> <span class="nv">s&#39;&#39;</span> : t),
InA x (a :: l) -&gt;
~ In x s&#39; -&gt;
<span class="kn">Add</span> x s&#39; s&#39;&#39; -&gt; P s&#39; a0 -&gt; P s&#39;&#39; (f x a0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hdup</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">NoDup (a :: l)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(<span class="kr">forall</span> (<span class="nv">x</span> : E.t) (<span class="nv">a0</span> : A) (<span class="nv">s&#39;</span> <span class="nv">s&#39;&#39;</span> : t),
 InA x l -&gt;
 ~ In x s&#39; -&gt;
 <span class="kn">Add</span> x s&#39; s&#39;&#39; -&gt; P s&#39; a0 -&gt; P s&#39;&#39; (f x a0)) -&gt;
NoDup l -&gt;
<span class="kr">forall</span> <span class="nv">s0</span> : t,
(<span class="kr">forall</span> <span class="nv">x</span> : elt, In x s0 &lt;-&gt; InA x l) -&gt;
P s0 (fold_right f i l)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsame</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : elt, In x s &lt;-&gt; InA x (a :: l)</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chkd9"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kn">Add</span> a (of_list l) s</span></div></blockquote><input class="coq-extra-goal-toggle" id="MSetProperties-v-chkda" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t -&gt; A -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Pempty</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s&#39;</span> : t, Empty s&#39; -&gt; P s&#39; i</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Pstep'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x</span> : E.t) (<span class="nv">a0</span> : A) (<span class="nv">s&#39;</span> <span class="nv">s&#39;&#39;</span> : t),
InA x (a :: l) -&gt;
~ In x s&#39; -&gt;
<span class="kn">Add</span> x s&#39; s&#39;&#39; -&gt; P s&#39; a0 -&gt; P s&#39;&#39; (f x a0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hdup</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">NoDup (a :: l)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(<span class="kr">forall</span> (<span class="nv">x</span> : E.t) (<span class="nv">a0</span> : A) (<span class="nv">s&#39;</span> <span class="nv">s&#39;&#39;</span> : t),
 InA x l -&gt;
 ~ In x s&#39; -&gt;
 <span class="kn">Add</span> x s&#39; s&#39;&#39; -&gt; P s&#39; a0 -&gt; P s&#39;&#39; (f x a0)) -&gt;
NoDup l -&gt;
<span class="kr">forall</span> <span class="nv">s0</span> : t,
(<span class="kr">forall</span> <span class="nv">x</span> : elt, In x s0 &lt;-&gt; InA x l) -&gt;
P s0 (fold_right f i l)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsame</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : elt, In x s &lt;-&gt; InA x (a :: l)</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chkda"><hr></label><div class="goal-conclusion"><span class="highlight">P (of_list l) (fold_right f i l)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chkdb" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chkdb"><span class="highlight"><span class="nb">inversion_clear</span> Hdup; <span class="nb">rewrite</span> of_list_1; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t -&gt; A -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Pempty</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s&#39;</span> : t, Empty s&#39; -&gt; P s&#39; i</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Pstep'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x</span> : E.t) (<span class="nv">a0</span> : A) (<span class="nv">s&#39;</span> <span class="nv">s&#39;&#39;</span> : t),
InA x (a :: l) -&gt;
~ In x s&#39; -&gt;
<span class="kn">Add</span> x s&#39; s&#39;&#39; -&gt; P s&#39; a0 -&gt; P s&#39;&#39; (f x a0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hdup</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">NoDup (a :: l)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(<span class="kr">forall</span> (<span class="nv">x</span> : E.t) (<span class="nv">a0</span> : A) (<span class="nv">s&#39;</span> <span class="nv">s&#39;&#39;</span> : t),
 InA x l -&gt;
 ~ In x s&#39; -&gt;
 <span class="kn">Add</span> x s&#39; s&#39;&#39; -&gt; P s&#39; a0 -&gt; P s&#39;&#39; (f x a0)) -&gt;
NoDup l -&gt;
<span class="kr">forall</span> <span class="nv">s0</span> : t,
(<span class="kr">forall</span> <span class="nv">x</span> : elt, In x s0 &lt;-&gt; InA x l) -&gt;
P s0 (fold_right f i l)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsame</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : elt, In x s &lt;-&gt; InA x (a :: l)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kn">Add</span> a (of_list l) s</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chkdc" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t -&gt; A -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Pempty</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s&#39;</span> : t, Empty s&#39; -&gt; P s&#39; i</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Pstep'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x</span> : E.t) (<span class="nv">a0</span> : A) (<span class="nv">s&#39;</span> <span class="nv">s&#39;&#39;</span> : t),
InA x (a :: l) -&gt;
~ In x s&#39; -&gt;
<span class="kn">Add</span> x s&#39; s&#39;&#39; -&gt; P s&#39; a0 -&gt; P s&#39;&#39; (f x a0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hdup</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">NoDup (a :: l)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(<span class="kr">forall</span> (<span class="nv">x</span> : E.t) (<span class="nv">a0</span> : A) (<span class="nv">s&#39;</span> <span class="nv">s&#39;&#39;</span> : t),
 InA x l -&gt;
 ~ In x s&#39; -&gt;
 <span class="kn">Add</span> x s&#39; s&#39;&#39; -&gt; P s&#39; a0 -&gt; P s&#39;&#39; (f x a0)) -&gt;
NoDup l -&gt;
<span class="kr">forall</span> <span class="nv">s0</span> : t,
(<span class="kr">forall</span> <span class="nv">x</span> : elt, In x s0 &lt;-&gt; InA x l) -&gt;
P s0 (fold_right f i l)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsame</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : elt, In x s &lt;-&gt; InA x (a :: l)</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chkdc"><hr></label><div class="goal-conclusion"><span class="highlight">P (of_list l) (fold_right f i l)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chkdd" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chkdd"><span class="highlight"><span class="nb">red</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t -&gt; A -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Pempty</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s&#39;</span> : t, Empty s&#39; -&gt; P s&#39; i</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Pstep'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x</span> : E.t) (<span class="nv">a0</span> : A) (<span class="nv">s&#39;</span> <span class="nv">s&#39;&#39;</span> : t),
InA x (a :: l) -&gt;
~ In x s&#39; -&gt;
<span class="kn">Add</span> x s&#39; s&#39;&#39; -&gt; P s&#39; a0 -&gt; P s&#39;&#39; (f x a0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hdup</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">NoDup (a :: l)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(<span class="kr">forall</span> (<span class="nv">x</span> : E.t) (<span class="nv">a0</span> : A) (<span class="nv">s&#39;</span> <span class="nv">s&#39;&#39;</span> : t),
 InA x l -&gt;
 ~ In x s&#39; -&gt;
 <span class="kn">Add</span> x s&#39; s&#39;&#39; -&gt; P s&#39; a0 -&gt; P s&#39;&#39; (f x a0)) -&gt;
NoDup l -&gt;
<span class="kr">forall</span> <span class="nv">s0</span> : t,
(<span class="kr">forall</span> <span class="nv">x</span> : elt, In x s0 &lt;-&gt; InA x l) -&gt;
P s0 (fold_right f i l)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsame</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : elt, In x s &lt;-&gt; InA x (a :: l)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">y</span> : elt,
In y s &lt;-&gt; E.eq a y \/ In y (of_list l)</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chkde" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t -&gt; A -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Pempty</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s&#39;</span> : t, Empty s&#39; -&gt; P s&#39; i</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Pstep'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x</span> : E.t) (<span class="nv">a0</span> : A) (<span class="nv">s&#39;</span> <span class="nv">s&#39;&#39;</span> : t),
InA x (a :: l) -&gt;
~ In x s&#39; -&gt;
<span class="kn">Add</span> x s&#39; s&#39;&#39; -&gt; P s&#39; a0 -&gt; P s&#39;&#39; (f x a0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hdup</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">NoDup (a :: l)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(<span class="kr">forall</span> (<span class="nv">x</span> : E.t) (<span class="nv">a0</span> : A) (<span class="nv">s&#39;</span> <span class="nv">s&#39;&#39;</span> : t),
 InA x l -&gt;
 ~ In x s&#39; -&gt;
 <span class="kn">Add</span> x s&#39; s&#39;&#39; -&gt; P s&#39; a0 -&gt; P s&#39;&#39; (f x a0)) -&gt;
NoDup l -&gt;
<span class="kr">forall</span> <span class="nv">s0</span> : t,
(<span class="kr">forall</span> <span class="nv">x</span> : elt, In x s0 &lt;-&gt; InA x l) -&gt;
P s0 (fold_right f i l)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsame</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : elt, In x s &lt;-&gt; InA x (a :: l)</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chkde"><hr></label><div class="goal-conclusion"><span class="highlight">P (of_list l) (fold_right f i l)</span></div></blockquote></div></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chkdf" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chkdf"><span class="highlight"><span class="nb">intros</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t -&gt; A -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Pempty</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s&#39;</span> : t, Empty s&#39; -&gt; P s&#39; i</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Pstep'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x</span> : E.t) (<span class="nv">a0</span> : A) (<span class="nv">s&#39;</span> <span class="nv">s&#39;&#39;</span> : t),
InA x (a :: l) -&gt;
~ In x s&#39; -&gt;
<span class="kn">Add</span> x s&#39; s&#39;&#39; -&gt; P s&#39; a0 -&gt; P s&#39;&#39; (f x a0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hdup</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">NoDup (a :: l)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(<span class="kr">forall</span> (<span class="nv">x</span> : E.t) (<span class="nv">a0</span> : A) (<span class="nv">s&#39;</span> <span class="nv">s&#39;&#39;</span> : t),
 InA x l -&gt;
 ~ In x s&#39; -&gt;
 <span class="kn">Add</span> x s&#39; s&#39;&#39; -&gt; P s&#39; a0 -&gt; P s&#39;&#39; (f x a0)) -&gt;
NoDup l -&gt;
<span class="kr">forall</span> <span class="nv">s0</span> : t,
(<span class="kr">forall</span> <span class="nv">x</span> : elt, In x s0 &lt;-&gt; InA x l) -&gt;
P s0 (fold_right f i l)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsame</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : elt, In x s &lt;-&gt; InA x (a :: l)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">In y s &lt;-&gt; E.eq a y \/ In y (of_list l)</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chke0" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t -&gt; A -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Pempty</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s&#39;</span> : t, Empty s&#39; -&gt; P s&#39; i</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Pstep'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x</span> : E.t) (<span class="nv">a0</span> : A) (<span class="nv">s&#39;</span> <span class="nv">s&#39;&#39;</span> : t),
InA x (a :: l) -&gt;
~ In x s&#39; -&gt;
<span class="kn">Add</span> x s&#39; s&#39;&#39; -&gt; P s&#39; a0 -&gt; P s&#39;&#39; (f x a0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hdup</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">NoDup (a :: l)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(<span class="kr">forall</span> (<span class="nv">x</span> : E.t) (<span class="nv">a0</span> : A) (<span class="nv">s&#39;</span> <span class="nv">s&#39;&#39;</span> : t),
 InA x l -&gt;
 ~ In x s&#39; -&gt;
 <span class="kn">Add</span> x s&#39; s&#39;&#39; -&gt; P s&#39; a0 -&gt; P s&#39;&#39; (f x a0)) -&gt;
NoDup l -&gt;
<span class="kr">forall</span> <span class="nv">s0</span> : t,
(<span class="kr">forall</span> <span class="nv">x</span> : elt, In x s0 &lt;-&gt; InA x l) -&gt;
P s0 (fold_right f i l)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsame</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : elt, In x s &lt;-&gt; InA x (a :: l)</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chke0"><hr></label><div class="goal-conclusion"><span class="highlight">P (of_list l) (fold_right f i l)</span></div></blockquote></div></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chke1" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chke1"><span class="highlight"><span class="nb">rewrite</span> Hsame, of_list_1, InA_cons; <span class="nb">intuition</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t -&gt; A -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Pempty</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s&#39;</span> : t, Empty s&#39; -&gt; P s&#39; i</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Pstep'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x</span> : E.t) (<span class="nv">a0</span> : A) (<span class="nv">s&#39;</span> <span class="nv">s&#39;&#39;</span> : t),
InA x (a :: l) -&gt;
~ In x s&#39; -&gt;
<span class="kn">Add</span> x s&#39; s&#39;&#39; -&gt; P s&#39; a0 -&gt; P s&#39;&#39; (f x a0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hdup</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">NoDup (a :: l)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(<span class="kr">forall</span> (<span class="nv">x</span> : E.t) (<span class="nv">a0</span> : A) (<span class="nv">s&#39;</span> <span class="nv">s&#39;&#39;</span> : t),
 InA x l -&gt;
 ~ In x s&#39; -&gt;
 <span class="kn">Add</span> x s&#39; s&#39;&#39; -&gt; P s&#39; a0 -&gt; P s&#39;&#39; (f x a0)) -&gt;
NoDup l -&gt;
<span class="kr">forall</span> <span class="nv">s0</span> : t,
(<span class="kr">forall</span> <span class="nv">x</span> : elt, In x s0 &lt;-&gt; InA x l) -&gt;
P s0 (fold_right f i l)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsame</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : elt, In x s &lt;-&gt; InA x (a :: l)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">P (of_list l) (fold_right f i l)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chke2" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chke2"><span class="highlight"><span class="nb">apply</span> IHl.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t -&gt; A -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Pempty</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s&#39;</span> : t, Empty s&#39; -&gt; P s&#39; i</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Pstep'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x</span> : E.t) (<span class="nv">a0</span> : A) (<span class="nv">s&#39;</span> <span class="nv">s&#39;&#39;</span> : t),
InA x (a :: l) -&gt;
~ In x s&#39; -&gt;
<span class="kn">Add</span> x s&#39; s&#39;&#39; -&gt; P s&#39; a0 -&gt; P s&#39;&#39; (f x a0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hdup</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">NoDup (a :: l)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(<span class="kr">forall</span> (<span class="nv">x</span> : E.t) (<span class="nv">a0</span> : A) (<span class="nv">s&#39;</span> <span class="nv">s&#39;&#39;</span> : t),
 InA x l -&gt;
 ~ In x s&#39; -&gt;
 <span class="kn">Add</span> x s&#39; s&#39;&#39; -&gt; P s&#39; a0 -&gt; P s&#39;&#39; (f x a0)) -&gt;
NoDup l -&gt;
<span class="kr">forall</span> <span class="nv">s0</span> : t,
(<span class="kr">forall</span> <span class="nv">x</span> : elt, In x s0 &lt;-&gt; InA x l) -&gt;
P s0 (fold_right f i l)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsame</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : elt, In x s &lt;-&gt; InA x (a :: l)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">x</span> : E.t) (<span class="nv">a0</span> : A) (<span class="nv">s&#39;</span> <span class="nv">s&#39;&#39;</span> : t),
InA x l -&gt;
~ In x s&#39; -&gt; <span class="kn">Add</span> x s&#39; s&#39;&#39; -&gt; P s&#39; a0 -&gt; P s&#39;&#39; (f x a0)</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chke3" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t -&gt; A -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Pempty</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s&#39;</span> : t, Empty s&#39; -&gt; P s&#39; i</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Pstep'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x</span> : E.t) (<span class="nv">a0</span> : A) (<span class="nv">s&#39;</span> <span class="nv">s&#39;&#39;</span> : t),
InA x (a :: l) -&gt;
~ In x s&#39; -&gt;
<span class="kn">Add</span> x s&#39; s&#39;&#39; -&gt; P s&#39; a0 -&gt; P s&#39;&#39; (f x a0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hdup</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">NoDup (a :: l)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(<span class="kr">forall</span> (<span class="nv">x</span> : E.t) (<span class="nv">a0</span> : A) (<span class="nv">s&#39;</span> <span class="nv">s&#39;&#39;</span> : t),
 InA x l -&gt;
 ~ In x s&#39; -&gt;
 <span class="kn">Add</span> x s&#39; s&#39;&#39; -&gt; P s&#39; a0 -&gt; P s&#39;&#39; (f x a0)) -&gt;
NoDup l -&gt;
<span class="kr">forall</span> <span class="nv">s0</span> : t,
(<span class="kr">forall</span> <span class="nv">x</span> : elt, In x s0 &lt;-&gt; InA x l) -&gt;
P s0 (fold_right f i l)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsame</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : elt, In x s &lt;-&gt; InA x (a :: l)</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chke3"><hr></label><div class="goal-conclusion"><span class="highlight">NoDup l</span></div></blockquote><input class="coq-extra-goal-toggle" id="MSetProperties-v-chke4" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t -&gt; A -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Pempty</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s&#39;</span> : t, Empty s&#39; -&gt; P s&#39; i</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Pstep'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x</span> : E.t) (<span class="nv">a0</span> : A) (<span class="nv">s&#39;</span> <span class="nv">s&#39;&#39;</span> : t),
InA x (a :: l) -&gt;
~ In x s&#39; -&gt;
<span class="kn">Add</span> x s&#39; s&#39;&#39; -&gt; P s&#39; a0 -&gt; P s&#39;&#39; (f x a0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hdup</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">NoDup (a :: l)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(<span class="kr">forall</span> (<span class="nv">x</span> : E.t) (<span class="nv">a0</span> : A) (<span class="nv">s&#39;</span> <span class="nv">s&#39;&#39;</span> : t),
 InA x l -&gt;
 ~ In x s&#39; -&gt;
 <span class="kn">Add</span> x s&#39; s&#39;&#39; -&gt; P s&#39; a0 -&gt; P s&#39;&#39; (f x a0)) -&gt;
NoDup l -&gt;
<span class="kr">forall</span> <span class="nv">s0</span> : t,
(<span class="kr">forall</span> <span class="nv">x</span> : elt, In x s0 &lt;-&gt; InA x l) -&gt;
P s0 (fold_right f i l)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsame</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : elt, In x s &lt;-&gt; InA x (a :: l)</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chke4"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : elt, In x (of_list l) &lt;-&gt; InA x l</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chke5" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chke5"><span class="highlight"><span class="nb">intros</span>; <span class="nb">eapply</span> Pstep&#39;; <span class="nb">eauto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t -&gt; A -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Pempty</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s&#39;</span> : t, Empty s&#39; -&gt; P s&#39; i</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Pstep'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x</span> : E.t) (<span class="nv">a0</span> : A) (<span class="nv">s&#39;</span> <span class="nv">s&#39;&#39;</span> : t),
InA x (a :: l) -&gt;
~ In x s&#39; -&gt;
<span class="kn">Add</span> x s&#39; s&#39;&#39; -&gt; P s&#39; a0 -&gt; P s&#39;&#39; (f x a0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hdup</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">NoDup (a :: l)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(<span class="kr">forall</span> (<span class="nv">x</span> : E.t) (<span class="nv">a0</span> : A) (<span class="nv">s&#39;</span> <span class="nv">s&#39;&#39;</span> : t),
 InA x l -&gt;
 ~ In x s&#39; -&gt;
 <span class="kn">Add</span> x s&#39; s&#39;&#39; -&gt; P s&#39; a0 -&gt; P s&#39;&#39; (f x a0)) -&gt;
NoDup l -&gt;
<span class="kr">forall</span> <span class="nv">s0</span> : t,
(<span class="kr">forall</span> <span class="nv">x</span> : elt, In x s0 &lt;-&gt; InA x l) -&gt;
P s0 (fold_right f i l)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsame</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : elt, In x s &lt;-&gt; InA x (a :: l)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">NoDup l</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chke6" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t -&gt; A -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Pempty</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s&#39;</span> : t, Empty s&#39; -&gt; P s&#39; i</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Pstep'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x</span> : E.t) (<span class="nv">a0</span> : A) (<span class="nv">s&#39;</span> <span class="nv">s&#39;&#39;</span> : t),
InA x (a :: l) -&gt;
~ In x s&#39; -&gt;
<span class="kn">Add</span> x s&#39; s&#39;&#39; -&gt; P s&#39; a0 -&gt; P s&#39;&#39; (f x a0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hdup</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">NoDup (a :: l)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(<span class="kr">forall</span> (<span class="nv">x</span> : E.t) (<span class="nv">a0</span> : A) (<span class="nv">s&#39;</span> <span class="nv">s&#39;&#39;</span> : t),
 InA x l -&gt;
 ~ In x s&#39; -&gt;
 <span class="kn">Add</span> x s&#39; s&#39;&#39; -&gt; P s&#39; a0 -&gt; P s&#39;&#39; (f x a0)) -&gt;
NoDup l -&gt;
<span class="kr">forall</span> <span class="nv">s0</span> : t,
(<span class="kr">forall</span> <span class="nv">x</span> : elt, In x s0 &lt;-&gt; InA x l) -&gt;
P s0 (fold_right f i l)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsame</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : elt, In x s &lt;-&gt; InA x (a :: l)</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chke6"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : elt, In x (of_list l) &lt;-&gt; InA x l</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chke7" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chke7"><span class="highlight"><span class="nb">inversion_clear</span> Hdup; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t -&gt; A -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Pempty</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s&#39;</span> : t, Empty s&#39; -&gt; P s&#39; i</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Pstep'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x</span> : E.t) (<span class="nv">a0</span> : A) (<span class="nv">s&#39;</span> <span class="nv">s&#39;&#39;</span> : t),
InA x (a :: l) -&gt;
~ In x s&#39; -&gt;
<span class="kn">Add</span> x s&#39; s&#39;&#39; -&gt; P s&#39; a0 -&gt; P s&#39;&#39; (f x a0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hdup</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">NoDup (a :: l)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">(<span class="kr">forall</span> (<span class="nv">x</span> : E.t) (<span class="nv">a0</span> : A) (<span class="nv">s&#39;</span> <span class="nv">s&#39;&#39;</span> : t),
 InA x l -&gt;
 ~ In x s&#39; -&gt;
 <span class="kn">Add</span> x s&#39; s&#39;&#39; -&gt; P s&#39; a0 -&gt; P s&#39;&#39; (f x a0)) -&gt;
NoDup l -&gt;
<span class="kr">forall</span> <span class="nv">s0</span> : t,
(<span class="kr">forall</span> <span class="nv">x</span> : elt, In x s0 &lt;-&gt; InA x l) -&gt;
P s0 (fold_right f i l)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsame</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : elt, In x s &lt;-&gt; InA x (a :: l)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : elt, In x (of_list l) &lt;-&gt; InA x l</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">exact</span> (of_list_1 l).</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span></span></pre><div class="doc">
Same, with <span class="inlinecode"><span class="id" title="var">empty</span></span> and <span class="inlinecode"><span class="id" title="var">add</span></span> instead of <span class="inlinecode"><span class="id" title="var">Empty</span></span> and <span class="inlinecode"><span class="id" title="keyword">Add</span></span>. In this
      case, <span class="inlinecode"><span class="id" title="var">P</span></span> must be compatible with equality of sets 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-wsp"><span class="highlight">  </span></span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chke8" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chke8"><span class="highlight"><span class="kn">Theorem</span> <span class="nf">fold_rec_bis</span> :
    <span class="kr">forall</span> (<span class="nv">A</span>:<span class="kt">Type</span>)(<span class="nv">P</span> : t -&gt; A -&gt; <span class="kt">Type</span>)(<span class="nv">f</span> : elt -&gt; A -&gt; A)(<span class="nv">i</span>:A)(<span class="nv">s</span>:t),
     (<span class="kr">forall</span> <span class="nv">s</span> <span class="nv">s&#39;</span> <span class="nv">a</span>, s[=]s&#39; -&gt; P s a -&gt; P s&#39; a) -&gt;
     (P empty i) -&gt;
     (<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">a</span> <span class="nv">s&#39;</span>, In x s -&gt; ~In x s&#39; -&gt; P s&#39; a -&gt; P (add x s&#39;) (f x a)) -&gt;
     P s (<span class="nb">fold</span> f s i).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">A</span> : <span class="kt">Type</span>) (<span class="nv">P</span> : t -&gt; A -&gt; <span class="kt">Type</span>)
  (<span class="nv">f</span> : elt -&gt; A -&gt; A) (<span class="nv">i</span> : A) (<span class="nv">s</span> : t),
(<span class="kr">forall</span> (<span class="nv">s0</span> <span class="nv">s&#39;</span> : t) (<span class="nv">a</span> : A),
 s0 [=] s&#39; -&gt; P s0 a -&gt; P s&#39; a) -&gt;
P empty i -&gt;
(<span class="kr">forall</span> (<span class="nv">x</span> : elt) (<span class="nv">a</span> : A) (<span class="nv">s&#39;</span> : t),
 In x s -&gt; ~ In x s&#39; -&gt; P s&#39; a -&gt; P (add x s&#39;) (f x a)) -&gt;
P s (<span class="nb">fold</span> f s i)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chke9" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chke9"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">A</span> : <span class="kt">Type</span>) (<span class="nv">P</span> : t -&gt; A -&gt; <span class="kt">Type</span>)
  (<span class="nv">f</span> : elt -&gt; A -&gt; A) (<span class="nv">i</span> : A) (<span class="nv">s</span> : t),
(<span class="kr">forall</span> (<span class="nv">s0</span> <span class="nv">s&#39;</span> : t) (<span class="nv">a</span> : A),
 s0 [=] s&#39; -&gt; P s0 a -&gt; P s&#39; a) -&gt;
P empty i -&gt;
(<span class="kr">forall</span> (<span class="nv">x</span> : elt) (<span class="nv">a</span> : A) (<span class="nv">s&#39;</span> : t),
 In x s -&gt; ~ In x s&#39; -&gt; P s&#39; a -&gt; P (add x s&#39;) (f x a)) -&gt;
P s (<span class="nb">fold</span> f s i)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chkea" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chkea"><span class="highlight"><span class="nb">intros</span> A P f i s Pmorphism Pempty Pstep.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t -&gt; A -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Pmorphism</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">s0</span> <span class="nv">s&#39;</span> : t) (<span class="nv">a</span> : A),
s0 [=] s&#39; -&gt; P s0 a -&gt; P s&#39; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Pempty</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">P empty i</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Pstep</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x</span> : elt) (<span class="nv">a</span> : A) (<span class="nv">s&#39;</span> : t),
In x s -&gt;
~ In x s&#39; -&gt; P s&#39; a -&gt; P (add x s&#39;) (f x a)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">P s (<span class="nb">fold</span> f s i)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chkeb" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chkeb"><span class="highlight"><span class="nb">apply</span> fold_rec; <span class="nb">intros</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t -&gt; A -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Pmorphism</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">s0</span> <span class="nv">s&#39;0</span> : t) (<span class="nv">a</span> : A),
s0 [=] s&#39;0 -&gt; P s0 a -&gt; P s&#39;0 a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Pempty</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">P empty i</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Pstep</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x</span> : elt) (<span class="nv">a</span> : A) (<span class="nv">s&#39;0</span> : t),
In x s -&gt;
~ In x s&#39;0 -&gt; P s&#39;0 a -&gt; P (add x s&#39;0) (f x a)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Empty s&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">P s&#39; i</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chkec" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t -&gt; A -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Pmorphism</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">s0</span> <span class="nv">s&#39;0</span> : t) (<span class="nv">a0</span> : A),
s0 [=] s&#39;0 -&gt; P s0 a0 -&gt; P s&#39;0 a0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Pempty</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">P empty i</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Pstep</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x0</span> : elt) (<span class="nv">a0</span> : A) (<span class="nv">s&#39;0</span> : t),
In x0 s -&gt;
~ In x0 s&#39;0 -&gt;
P s&#39;0 a0 -&gt; P (add x0 s&#39;0) (f x0 a0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s', s''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s&#39; s&#39;&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">P s&#39; a</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chkec"><hr></label><div class="goal-conclusion"><span class="highlight">P s&#39;&#39; (f x a)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chked" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chked"><span class="highlight"><span class="nb">apply</span> Pmorphism <span class="kr">with</span> empty; <span class="nb">auto with</span> <span class="nb">set</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t -&gt; A -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Pmorphism</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">s0</span> <span class="nv">s&#39;0</span> : t) (<span class="nv">a0</span> : A),
s0 [=] s&#39;0 -&gt; P s0 a0 -&gt; P s&#39;0 a0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Pempty</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">P empty i</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Pstep</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x0</span> : elt) (<span class="nv">a0</span> : A) (<span class="nv">s&#39;0</span> : t),
In x0 s -&gt;
~ In x0 s&#39;0 -&gt;
P s&#39;0 a0 -&gt; P (add x0 s&#39;0) (f x0 a0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s', s''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s&#39; s&#39;&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">P s&#39; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">P s&#39;&#39; (f x a)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chkee" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chkee"><span class="highlight"><span class="nb">rewrite</span> Add_Equal <span class="kr">in</span> H1; <span class="nb">auto with</span> <span class="nb">set</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t -&gt; A -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Pmorphism</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">s0</span> <span class="nv">s&#39;0</span> : t) (<span class="nv">a0</span> : A),
s0 [=] s&#39;0 -&gt; P s0 a0 -&gt; P s&#39;0 a0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Pempty</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">P empty i</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Pstep</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x0</span> : elt) (<span class="nv">a0</span> : A) (<span class="nv">s&#39;0</span> : t),
In x0 s -&gt;
~ In x0 s&#39;0 -&gt;
P s&#39;0 a0 -&gt; P (add x0 s&#39;0) (f x0 a0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s', s''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">s&#39;&#39; [=] add x s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">P s&#39; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">P s&#39;&#39; (f x a)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">apply</span> Pmorphism <span class="kr">with</span> (add x s&#39;); <span class="nb">auto with</span> <span class="nb">set</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chkef" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chkef"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">fold_rec_nodep</span> :
    <span class="kr">forall</span> (<span class="nv">A</span>:<span class="kt">Type</span>)(<span class="nv">P</span> : A -&gt; <span class="kt">Type</span>)(<span class="nv">f</span> : elt -&gt; A -&gt; A)(<span class="nv">i</span>:A)(<span class="nv">s</span>:t),
     P i -&gt; (<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">a</span>, In x s -&gt; P a -&gt; P (f x a)) -&gt;
     P (<span class="nb">fold</span> f s i).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">A</span> : <span class="kt">Type</span>) (<span class="nv">P</span> : A -&gt; <span class="kt">Type</span>) (<span class="nv">f</span> : elt -&gt; A -&gt; A)
  (<span class="nv">i</span> : A) (<span class="nv">s</span> : t),
P i -&gt;
(<span class="kr">forall</span> (<span class="nv">x</span> : elt) (<span class="nv">a</span> : A), In x s -&gt; P a -&gt; P (f x a)) -&gt;
P (<span class="nb">fold</span> f s i)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chkf0" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chkf0"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">A</span> : <span class="kt">Type</span>) (<span class="nv">P</span> : A -&gt; <span class="kt">Type</span>) (<span class="nv">f</span> : elt -&gt; A -&gt; A)
  (<span class="nv">i</span> : A) (<span class="nv">s</span> : t),
P i -&gt;
(<span class="kr">forall</span> (<span class="nv">x</span> : elt) (<span class="nv">a</span> : A), In x s -&gt; P a -&gt; P (f x a)) -&gt;
P (<span class="nb">fold</span> f s i)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">intros</span>; <span class="nb">apply</span> fold_rec_bis <span class="kr">with</span> (P:=<span class="kr">fun</span> <span class="nv">_</span> =&gt; P); <span class="nb">auto</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span></span></pre><div class="doc">
<span class="inlinecode"><span class="id" title="var">fold_rec_weak</span></span> is a weaker principle than <span class="inlinecode"><span class="id" title="var">fold_rec_bis</span></span> :
      the step hypothesis must here be applicable to any <span class="inlinecode"><span class="id" title="var">x</span></span>.
      At the same time, it looks more like an induction principle,
      and hence can be easier to use. 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-wsp"><span class="highlight">  </span></span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chkf1" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chkf1"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">fold_rec_weak</span> :
    <span class="kr">forall</span> (<span class="nv">A</span>:<span class="kt">Type</span>)(<span class="nv">P</span> : t -&gt; A -&gt; <span class="kt">Type</span>)(<span class="nv">f</span> : elt -&gt; A -&gt; A)(<span class="nv">i</span>:A),
    (<span class="kr">forall</span> <span class="nv">s</span> <span class="nv">s&#39;</span> <span class="nv">a</span>, s[=]s&#39; -&gt; P s a -&gt; P s&#39; a) -&gt;
    P empty i -&gt;
    (<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">a</span> <span class="nv">s</span>, ~In x s -&gt; P s a -&gt; P (add x s) (f x a)) -&gt;
    <span class="kr">forall</span> <span class="nv">s</span>, P s (<span class="nb">fold</span> f s i).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">A</span> : <span class="kt">Type</span>) (<span class="nv">P</span> : t -&gt; A -&gt; <span class="kt">Type</span>)
  (<span class="nv">f</span> : elt -&gt; A -&gt; A) (<span class="nv">i</span> : A),
(<span class="kr">forall</span> (<span class="nv">s</span> <span class="nv">s&#39;</span> : t) (<span class="nv">a</span> : A),
 s [=] s&#39; -&gt; P s a -&gt; P s&#39; a) -&gt;
P empty i -&gt;
(<span class="kr">forall</span> (<span class="nv">x</span> : elt) (<span class="nv">a</span> : A) (<span class="nv">s</span> : t),
 ~ In x s -&gt; P s a -&gt; P (add x s) (f x a)) -&gt;
<span class="kr">forall</span> <span class="nv">s</span> : t, P s (<span class="nb">fold</span> f s i)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chkf2" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chkf2"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">A</span> : <span class="kt">Type</span>) (<span class="nv">P</span> : t -&gt; A -&gt; <span class="kt">Type</span>)
  (<span class="nv">f</span> : elt -&gt; A -&gt; A) (<span class="nv">i</span> : A),
(<span class="kr">forall</span> (<span class="nv">s</span> <span class="nv">s&#39;</span> : t) (<span class="nv">a</span> : A),
 s [=] s&#39; -&gt; P s a -&gt; P s&#39; a) -&gt;
P empty i -&gt;
(<span class="kr">forall</span> (<span class="nv">x</span> : elt) (<span class="nv">a</span> : A) (<span class="nv">s</span> : t),
 ~ In x s -&gt; P s a -&gt; P (add x s) (f x a)) -&gt;
<span class="kr">forall</span> <span class="nv">s</span> : t, P s (<span class="nb">fold</span> f s i)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">intros</span>; <span class="nb">apply</span> fold_rec_bis; <span class="nb">auto</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chkf3" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chkf3"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">fold_rel</span> :
    <span class="kr">forall</span> (<span class="nv">A</span> <span class="nv">B</span>:<span class="kt">Type</span>)(<span class="nv">R</span> : A -&gt; B -&gt; <span class="kt">Type</span>)
     (<span class="nv">f</span> : elt -&gt; A -&gt; A)(<span class="nv">g</span> : elt -&gt; B -&gt; B)(<span class="nv">i</span> : A)(<span class="nv">j</span> : B)(<span class="nv">s</span> : t),
     R i j -&gt;
     (<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">a</span> <span class="nv">b</span>, In x s -&gt; R a b -&gt; R (f x a) (g x b)) -&gt;
     R (<span class="nb">fold</span> f s i) (<span class="nb">fold</span> g s j).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">A</span> <span class="nv">B</span> : <span class="kt">Type</span>) (<span class="nv">R</span> : A -&gt; B -&gt; <span class="kt">Type</span>)
  (<span class="nv">f</span> : elt -&gt; A -&gt; A) (<span class="nv">g</span> : elt -&gt; B -&gt; B) (<span class="nv">i</span> : A)
  (<span class="nv">j</span> : B) (<span class="nv">s</span> : t),
R i j -&gt;
(<span class="kr">forall</span> (<span class="nv">x</span> : elt) (<span class="nv">a</span> : A) (<span class="nv">b</span> : B),
 In x s -&gt; R a b -&gt; R (f x a) (g x b)) -&gt;
R (<span class="nb">fold</span> f s i) (<span class="nb">fold</span> g s j)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chkf4" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chkf4"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">A</span> <span class="nv">B</span> : <span class="kt">Type</span>) (<span class="nv">R</span> : A -&gt; B -&gt; <span class="kt">Type</span>)
  (<span class="nv">f</span> : elt -&gt; A -&gt; A) (<span class="nv">g</span> : elt -&gt; B -&gt; B) (<span class="nv">i</span> : A)
  (<span class="nv">j</span> : B) (<span class="nv">s</span> : t),
R i j -&gt;
(<span class="kr">forall</span> (<span class="nv">x</span> : elt) (<span class="nv">a</span> : A) (<span class="nv">b</span> : B),
 In x s -&gt; R a b -&gt; R (f x a) (g x b)) -&gt;
R (<span class="nb">fold</span> f s i) (<span class="nb">fold</span> g s j)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chkf5" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chkf5"><span class="highlight"><span class="nb">intros</span> A B R f g i j s Rempty Rstep.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; B -&gt; B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">j</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rempty</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R i j</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rstep</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x</span> : elt) (<span class="nv">a</span> : A) (<span class="nv">b</span> : B),
In x s -&gt; R a b -&gt; R (f x a) (g x b)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">R (<span class="nb">fold</span> f s i) (<span class="nb">fold</span> g s j)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chkf6" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chkf6"><span class="highlight"><span class="nb">rewrite</span> <span class="mi">2</span> fold_spec_right.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; B -&gt; B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">j</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rempty</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R i j</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rstep</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x</span> : elt) (<span class="nv">a</span> : A) (<span class="nv">b</span> : B),
In x s -&gt; R a b -&gt; R (f x a) (g x b)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">R (fold_right f i (rev (elements s)))
  (fold_right g j (rev (elements s)))</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chkf7" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chkf7"><span class="highlight"><span class="nb">set</span> (l:=rev (elements s)).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; B -&gt; B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">j</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rempty</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R i j</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rstep</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x</span> : elt) (<span class="nv">a</span> : A) (<span class="nv">b</span> : B),
In x s -&gt; R a b -&gt; R (f x a) (g x b)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">rev (elements s)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">R (fold_right f i l) (fold_right g j l)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chkf8" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chkf8"><span class="highlight"><span class="nb">assert</span> (Rstep&#39; : <span class="kr">forall</span> <span class="nv">x</span> <span class="nv">a</span> <span class="nv">b</span>, InA x l -&gt; R a b -&gt; R (f x a) (g x b)) <span class="bp">by</span>
    (<span class="nb">intros</span>; <span class="nb">apply</span> Rstep; <span class="nb">auto</span>; <span class="nb">rewrite</span> elements_iff, &lt;- InA_rev; <span class="nb">auto with</span> *).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; B -&gt; B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">j</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rempty</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R i j</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rstep</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x</span> : elt) (<span class="nv">a</span> : A) (<span class="nv">b</span> : B),
In x s -&gt; R a b -&gt; R (f x a) (g x b)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body"><span class="hyp-punct">:=</span><span class="highlight">rev (elements s)</span></span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rstep'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x</span> : E.t) (<span class="nv">a</span> : A) (<span class="nv">b</span> : B),
InA x l -&gt; R a b -&gt; R (f x a) (g x b)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">R (fold_right f i l) (fold_right g j l)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chkf9" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chkf9"><span class="highlight"><span class="nb">clearbody</span> l; <span class="nb">clear</span> Rstep s.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; B -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; B -&gt; B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">j</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">B</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rempty</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">R i j</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Rstep'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x</span> : E.t) (<span class="nv">a</span> : A) (<span class="nv">b</span> : B),
InA x l -&gt; R a b -&gt; R (f x a) (g x b)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">R (fold_right f i l) (fold_right g j l)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">induction</span> l; <span class="nb">simpl</span>; <span class="nb">auto with</span> relations.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span></span></pre><div class="doc">
From the induction principle on <span class="inlinecode"><span class="id" title="tactic">fold</span></span>, we can deduce some general
      induction principles on sets. 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-wsp"><span class="highlight">  </span></span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chkfa" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chkfa"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">set_induction</span> :
   <span class="kr">forall</span> <span class="nv">P</span> : t -&gt; <span class="kt">Type</span>,
   (<span class="kr">forall</span> <span class="nv">s</span>, Empty s -&gt; P s) -&gt;
   (<span class="kr">forall</span> <span class="nv">s</span> <span class="nv">s&#39;</span>, P s -&gt; <span class="kr">forall</span> <span class="nv">x</span>, ~In x s -&gt; <span class="kn">Add</span> x s s&#39; -&gt; P s&#39;) -&gt;
   <span class="kr">forall</span> <span class="nv">s</span>, P s.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : t -&gt; <span class="kt">Type</span>,
(<span class="kr">forall</span> <span class="nv">s</span> : t, Empty s -&gt; P s) -&gt;
(<span class="kr">forall</span> <span class="nv">s</span> <span class="nv">s&#39;</span> : t,
 P s -&gt; <span class="kr">forall</span> <span class="nv">x</span> : elt, ~ In x s -&gt; <span class="kn">Add</span> x s s&#39; -&gt; P s&#39;) -&gt;
<span class="kr">forall</span> <span class="nv">s</span> : t, P s</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chkfb" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chkfb"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : t -&gt; <span class="kt">Type</span>,
(<span class="kr">forall</span> <span class="nv">s</span> : t, Empty s -&gt; P s) -&gt;
(<span class="kr">forall</span> <span class="nv">s</span> <span class="nv">s&#39;</span> : t,
 P s -&gt; <span class="kr">forall</span> <span class="nv">x</span> : elt, ~ In x s -&gt; <span class="kn">Add</span> x s s&#39; -&gt; P s&#39;) -&gt;
<span class="kr">forall</span> <span class="nv">s</span> : t, P s</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chkfc" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chkfc"><span class="highlight"><span class="nb">intros</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t, Empty s0 -&gt; P s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> <span class="nv">s&#39;</span> : t,
P s0 -&gt;
<span class="kr">forall</span> <span class="nv">x</span> : elt, ~ In x s0 -&gt; <span class="kn">Add</span> x s0 s&#39; -&gt; P s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">P s</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">apply</span> (@fold_rec _ (<span class="kr">fun</span> <span class="nv">s</span> <span class="nv">_</span> =&gt; P s) (<span class="kr">fun</span> <span class="nv">_</span> <span class="nv">_</span> =&gt; tt) tt s); <span class="nb">eauto</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chkfd" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chkfd"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">set_induction_bis</span> :
   <span class="kr">forall</span> <span class="nv">P</span> : t -&gt; <span class="kt">Type</span>,
   (<span class="kr">forall</span> <span class="nv">s</span> <span class="nv">s&#39;</span>, s [=] s&#39; -&gt; P s -&gt; P s&#39;) -&gt;
   P empty -&gt;
   (<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">s</span>, ~In x s -&gt; P s -&gt; P (add x s)) -&gt;
   <span class="kr">forall</span> <span class="nv">s</span>, P s.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : t -&gt; <span class="kt">Type</span>,
(<span class="kr">forall</span> <span class="nv">s</span> <span class="nv">s&#39;</span> : t, s [=] s&#39; -&gt; P s -&gt; P s&#39;) -&gt;
P empty -&gt;
(<span class="kr">forall</span> (<span class="nv">x</span> : elt) (<span class="nv">s</span> : t),
 ~ In x s -&gt; P s -&gt; P (add x s)) -&gt; <span class="kr">forall</span> <span class="nv">s</span> : t, P s</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chkfe" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chkfe"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : t -&gt; <span class="kt">Type</span>,
(<span class="kr">forall</span> <span class="nv">s</span> <span class="nv">s&#39;</span> : t, s [=] s&#39; -&gt; P s -&gt; P s&#39;) -&gt;
P empty -&gt;
(<span class="kr">forall</span> (<span class="nv">x</span> : elt) (<span class="nv">s</span> : t),
 ~ In x s -&gt; P s -&gt; P (add x s)) -&gt; <span class="kr">forall</span> <span class="nv">s</span> : t, P s</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chkff" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chkff"><span class="highlight"><span class="nb">intros</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> <span class="nv">s&#39;</span> : t, s0 [=] s&#39; -&gt; P s0 -&gt; P s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">P empty</span></span></span></div><div class="goal-hyp"><span class="hyp-names">X1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> (<span class="nv">x</span> : elt) (<span class="nv">s0</span> : t),
~ In x s0 -&gt; P s0 -&gt; P (add x s0)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">P s</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">apply</span> (@fold_rec_bis _ (<span class="kr">fun</span> <span class="nv">s</span> <span class="nv">_</span> =&gt; P s) (<span class="kr">fun</span> <span class="nv">_</span> <span class="nv">_</span> =&gt; tt) tt s); <span class="nb">eauto</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span></span></pre><div class="doc">
<span class="inlinecode"><span class="id" title="tactic">fold</span></span> can be used to reconstruct the same initial set. 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-wsp"><span class="highlight">  </span></span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk100" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk100"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">fold_identity</span> : <span class="kr">forall</span> <span class="nv">s</span>, <span class="nb">fold</span> add s empty [=] s.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">s</span> : t, <span class="nb">fold</span> add s empty [=] s</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk101" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk101"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">s</span> : t, <span class="nb">fold</span> add s empty [=] s</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk102" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk102"><span class="highlight"><span class="nb">intros</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="nb">fold</span> add s empty [=] s</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk103" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk103"><span class="highlight"><span class="nb">apply</span> fold_rec <span class="kr">with</span> (P:=<span class="kr">fun</span> <span class="nv">s</span> <span class="nv">acc</span> =&gt; acc[=]s); <span class="nb">auto with</span> <span class="nb">set</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">x</span> : elt) (<span class="nv">a</span> <span class="nv">s&#39;</span> <span class="nv">s&#39;&#39;</span> : t),
In x s -&gt;
~ In x s&#39; -&gt;
<span class="kn">Add</span> x s&#39; s&#39;&#39; -&gt; a [=] s&#39; -&gt; add x a [=] s&#39;&#39;</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk104" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk104"><span class="highlight"><span class="nb">intros</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a, s', s''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s&#39; s&#39;&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a [=] s&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">add x a [=] s&#39;&#39;</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">rewrite</span> H2; <span class="nb">rewrite</span> Add_Equal <span class="kr">in</span> H1; <span class="nb">auto with</span> <span class="nb">set</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span></span></pre><div class="doc">
<a name="lab6"></a><h2 class="section">Alternative (weaker) specifications for <span class="inlinecode"><span class="id" title="tactic">fold</span></span></h2>
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-wsp"><span class="highlight">  </span></span></pre><div class="doc">
When <span class="inlinecode"><span class="id" title="var">MSets</span></span> was first designed, the order in which Ocaml's <span class="inlinecode"><span class="id" title="var">Set.fold</span></span>
      takes the set elements was unspecified. This specification reflects
      this fact:
  
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-wsp"><span class="highlight">  </span></span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk105" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk105"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">fold_0</span> :
      <span class="kr">forall</span> <span class="nv">s</span> (<span class="nv">A</span> : <span class="kt">Type</span>) (<span class="nv">i</span> : A) (<span class="nv">f</span> : elt -&gt; A -&gt; A),
      <span class="kr">exists</span> <span class="nv">l</span> : list elt,
        NoDup l /\
        (<span class="kr">forall</span> <span class="nv">x</span> : elt, In x s &lt;-&gt; InA x l) /\
        <span class="nb">fold</span> f s i = fold_right f i l.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">s</span> : t) (<span class="nv">A</span> : <span class="kt">Type</span>) (<span class="nv">i</span> : A) (<span class="nv">f</span> : elt -&gt; A -&gt; A),
<span class="kr">exists</span> <span class="nv">l</span> : list elt,
  NoDup l /\
  (<span class="kr">forall</span> <span class="nv">x</span> : elt, In x s &lt;-&gt; InA x l) /\
  <span class="nb">fold</span> f s i = fold_right f i l</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk106" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk106"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">s</span> : t) (<span class="nv">A</span> : <span class="kt">Type</span>) (<span class="nv">i</span> : A) (<span class="nv">f</span> : elt -&gt; A -&gt; A),
<span class="kr">exists</span> <span class="nv">l</span> : list elt,
  NoDup l /\
  (<span class="kr">forall</span> <span class="nv">x</span> : elt, In x s &lt;-&gt; InA x l) /\
  <span class="nb">fold</span> f s i = fold_right f i l</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk107" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk107"><span class="highlight"><span class="nb">intros</span>; <span class="kr">exists</span> (<span class="nv">rev</span> (elements s)); <span class="nb">split</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">NoDup (rev (elements s))</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk108" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk108"><hr></label><div class="goal-conclusion"><span class="highlight">(<span class="kr">forall</span> <span class="nv">x</span> : elt, In x s &lt;-&gt; InA x (rev (elements s))) /\
<span class="nb">fold</span> f s i = fold_right f i (rev (elements s))</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk109" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk109"><span class="highlight"><span class="nb">apply</span> NoDupA_rev; <span class="nb">auto with</span> *.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="kr">forall</span> <span class="nv">x</span> : elt, In x s &lt;-&gt; InA x (rev (elements s))) /\
<span class="nb">fold</span> f s i = fold_right f i (rev (elements s))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk10a" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk10a"><span class="highlight"><span class="nb">split</span>; <span class="nb">intros</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">In x s &lt;-&gt; InA x (rev (elements s))</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk10b" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk10b"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="nb">fold</span> f s i = fold_right f i (rev (elements s))</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk10c" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk10c"><span class="highlight"><span class="nb">rewrite</span> elements_iff; <span class="kp">do</span> <span class="mi">2</span> <span class="nb">rewrite</span> InA_alt.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="kr">exists</span> <span class="nv">y</span> : E.t, E.eq x y /\ List.In y (elements s)) &lt;-&gt;
(<span class="kr">exists</span> <span class="nv">y</span> : E.t,
   E.eq x y /\ List.In y (rev (elements s)))</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk10d" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk10d"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="nb">fold</span> f s i = fold_right f i (rev (elements s))</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk10e" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk10e"><span class="highlight"><span class="nb">split</span>; <span class="nb">destruct</span> <span class="mi">1</span>; <span class="nb">generalize</span> (In_rev (elements s) x0); <span class="kr">exists</span> <span class="nv">x0</span>; <span class="nb">intuition</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="nb">fold</span> f s i = fold_right f i (rev (elements s))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">apply</span> fold_spec_right.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span></span></pre><div class="doc">
An alternate (and previous) specification for <span class="inlinecode"><span class="id" title="tactic">fold</span></span> was based on
      the recursive structure of a set. It is now lemmas <span class="inlinecode"><span class="id" title="var">fold_1</span></span> and
      <span class="inlinecode"><span class="id" title="var">fold_2</span></span>. 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-wsp"><span class="highlight">  </span></span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk10f" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk10f"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">fold_1</span> :
   <span class="kr">forall</span> <span class="nv">s</span> (<span class="nv">A</span> : <span class="kt">Type</span>) (<span class="nv">eqA</span> : A -&gt; A -&gt; <span class="kt">Prop</span>)
     (<span class="nv">st</span> : Equivalence eqA) (<span class="nv">i</span> : A) (<span class="nv">f</span> : elt -&gt; A -&gt; A),
   Empty s -&gt; eqA (<span class="nb">fold</span> f s i) i.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">s</span> : t) (<span class="nv">A</span> : <span class="kt">Type</span>) (<span class="nv">eqA</span> : A -&gt; A -&gt; <span class="kt">Prop</span>),
Equivalence eqA -&gt;
<span class="kr">forall</span> (<span class="nv">i</span> : A) (<span class="nv">f</span> : elt -&gt; A -&gt; A),
Empty s -&gt; eqA (<span class="nb">fold</span> f s i) i</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk110" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk110"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">s</span> : t) (<span class="nv">A</span> : <span class="kt">Type</span>) (<span class="nv">eqA</span> : A -&gt; A -&gt; <span class="kt">Prop</span>),
Equivalence eqA -&gt;
<span class="kr">forall</span> (<span class="nv">i</span> : A) (<span class="nv">f</span> : elt -&gt; A -&gt; A),
Empty s -&gt; eqA (<span class="nb">fold</span> f s i) i</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk111" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk111"><span class="highlight"><span class="nb">unfold</span> Empty; <span class="nb">intros</span>; <span class="nb">destruct</span> (fold_0 s i f) <span class="kr">as</span> (l,(H1, (H2, H3))).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : elt, ~ In a s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">NoDup l</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : elt, In x s &lt;-&gt; InA x l</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="nb">fold</span> f s i = fold_right f i l</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">eqA (<span class="nb">fold</span> f s i) i</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk112" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk112"><span class="highlight"><span class="nb">rewrite</span> H3; <span class="nb">clear</span> H3.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : elt, ~ In a s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">NoDup l</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : elt, In x s &lt;-&gt; InA x l</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">eqA (fold_right f i l) i</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk113" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk113"><span class="highlight"><span class="nb">generalize</span> H H2; <span class="nb">clear</span> H H2; <span class="nb">case</span> l; <span class="nb">simpl</span>; <span class="nb">intros</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">NoDup l</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : elt, ~ In a s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : elt, In x s &lt;-&gt; InA x nil</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">eqA i i</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk114" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">NoDup l</span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : elt, ~ In a s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : elt, In x s &lt;-&gt; InA x (e :: l0)</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk114"><hr></label><div class="goal-conclusion"><span class="highlight">eqA (f e (fold_right f i l0)) i</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk115" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk115"><span class="highlight"><span class="bp">reflexivity</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">NoDup l</span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : elt, ~ In a s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : elt, In x s &lt;-&gt; InA x (e :: l0)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">eqA (f e (fold_right f i l0)) i</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk116" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk116"><span class="highlight"><span class="nb">elim</span> (H e).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">NoDup l</span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : elt, ~ In a s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : elt, In x s &lt;-&gt; InA x (e :: l0)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">In e s</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">elim</span> (H2 e); <span class="nb">intuition</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk117" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk117"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">fold_2</span> :
   <span class="kr">forall</span> <span class="nv">s</span> <span class="nv">s&#39;</span> <span class="nv">x</span> (<span class="nv">A</span> : <span class="kt">Type</span>) (<span class="nv">eqA</span> : A -&gt; A -&gt; <span class="kt">Prop</span>)
     (<span class="nv">st</span> : Equivalence eqA) (<span class="nv">i</span> : A) (<span class="nv">f</span> : elt -&gt; A -&gt; A),
   Proper (E.eq==&gt;eqA==&gt;eqA) f -&gt;
   transpose eqA f -&gt;
   ~ In x s -&gt; <span class="kn">Add</span> x s s&#39; -&gt; eqA (<span class="nb">fold</span> f s&#39; i) (f x (<span class="nb">fold</span> f s i)).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">s</span> <span class="nv">s&#39;</span> : t) (<span class="nv">x</span> : elt) (<span class="nv">A</span> : <span class="kt">Type</span>)
  (<span class="nv">eqA</span> : A -&gt; A -&gt; <span class="kt">Prop</span>),
Equivalence eqA -&gt;
<span class="kr">forall</span> (<span class="nv">i</span> : A) (<span class="nv">f</span> : elt -&gt; A -&gt; A),
Proper (E.eq ==&gt; eqA ==&gt; eqA) f -&gt;
transpose eqA f -&gt;
~ In x s -&gt;
<span class="kn">Add</span> x s s&#39; -&gt; eqA (<span class="nb">fold</span> f s&#39; i) (f x (<span class="nb">fold</span> f s i))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk118" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk118"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">s</span> <span class="nv">s&#39;</span> : t) (<span class="nv">x</span> : elt) (<span class="nv">A</span> : <span class="kt">Type</span>)
  (<span class="nv">eqA</span> : A -&gt; A -&gt; <span class="kt">Prop</span>),
Equivalence eqA -&gt;
<span class="kr">forall</span> (<span class="nv">i</span> : A) (<span class="nv">f</span> : elt -&gt; A -&gt; A),
Proper (E.eq ==&gt; eqA ==&gt; eqA) f -&gt;
transpose eqA f -&gt;
~ In x s -&gt;
<span class="kn">Add</span> x s s&#39; -&gt; eqA (<span class="nb">fold</span> f s&#39; i) (f x (<span class="nb">fold</span> f s i))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk119" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk119"><span class="highlight"><span class="nb">intros</span>; <span class="nb">destruct</span> (fold_0 s i f) <span class="kr">as</span> (l,(Hl, (Hl1, Hl2)));
    <span class="nb">destruct</span> (fold_0 s&#39; i f) <span class="kr">as</span> (l&#39;,(Hl&#39;, (Hl&#39;1, Hl&#39;2))).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">NoDup l</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : elt, In x0 s &lt;-&gt; InA x0 l</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="nb">fold</span> f s i = fold_right f i l</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">NoDup l&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl'1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : elt, In x0 s&#39; &lt;-&gt; InA x0 l&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl'2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="nb">fold</span> f s&#39; i = fold_right f i l&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">eqA (<span class="nb">fold</span> f s&#39; i) (f x (<span class="nb">fold</span> f s i))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk11a" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk11a"><span class="highlight"><span class="nb">rewrite</span> Hl2; <span class="nb">rewrite</span> Hl&#39;2; <span class="nb">clear</span> Hl2 Hl&#39;2.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">NoDup l</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : elt, In x0 s &lt;-&gt; InA x0 l</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">NoDup l&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl'1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : elt, In x0 s&#39; &lt;-&gt; InA x0 l&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">eqA (fold_right f i l&#39;) (f x (fold_right f i l))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk11b" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk11b"><span class="highlight"><span class="nb">apply</span> fold_right_add <span class="kr">with</span> (eqA:=E.eq)(eqB:=eqA); <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">NoDup l</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : elt, In x0 s &lt;-&gt; InA x0 l</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">NoDup l&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl'1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : elt, In x0 s&#39; &lt;-&gt; InA x0 l&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Equivalence E.eq</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk11c" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">NoDup l</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : elt, In x0 s &lt;-&gt; InA x0 l</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">NoDup l&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl'1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : elt, In x0 s&#39; &lt;-&gt; InA x0 l&#39;</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk11c"><hr></label><div class="goal-conclusion"><span class="highlight">~ InA x l</span></div></blockquote><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk11d" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">NoDup l</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : elt, In x0 s &lt;-&gt; InA x0 l</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">NoDup l&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl'1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : elt, In x0 s&#39; &lt;-&gt; InA x0 l&#39;</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk11d"><hr></label><div class="goal-conclusion"><span class="highlight">equivlistA E.eq l&#39; (x :: l)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk11e" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk11e"><span class="highlight"><span class="nb">eauto with</span> *.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">NoDup l</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : elt, In x0 s &lt;-&gt; InA x0 l</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">NoDup l&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl'1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : elt, In x0 s&#39; &lt;-&gt; InA x0 l&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">~ InA x l</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk11f" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">NoDup l</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : elt, In x0 s &lt;-&gt; InA x0 l</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">NoDup l&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl'1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : elt, In x0 s&#39; &lt;-&gt; InA x0 l&#39;</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk11f"><hr></label><div class="goal-conclusion"><span class="highlight">equivlistA E.eq l&#39; (x :: l)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk120" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk120"><span class="highlight"><span class="nb">rewrite</span> &lt;- Hl1; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">NoDup l</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : elt, In x0 s &lt;-&gt; InA x0 l</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">NoDup l&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl'1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : elt, In x0 s&#39; &lt;-&gt; InA x0 l&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">equivlistA E.eq l&#39; (x :: l)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">intros</span> a; <span class="nb">rewrite</span> InA_cons; <span class="nb">rewrite</span> &lt;- Hl1; <span class="nb">rewrite</span> &lt;- Hl&#39;1;
   <span class="nb">rewrite</span> (H2 a); <span class="nb">intuition</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span></span></pre><div class="doc">
In fact, <span class="inlinecode"><span class="id" title="tactic">fold</span></span> on empty sets is more than equivalent to
      the initial element, it is Leibniz-equal to it. 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-wsp"><span class="highlight">  </span></span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk121" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk121"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">fold_1b</span> :
   <span class="kr">forall</span> <span class="nv">s</span> (<span class="nv">A</span> : <span class="kt">Type</span>)(<span class="nv">i</span> : A) (<span class="nv">f</span> : elt -&gt; A -&gt; A),
   Empty s -&gt; (<span class="nb">fold</span> f s i) = i.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">s</span> : t) (<span class="nv">A</span> : <span class="kt">Type</span>) (<span class="nv">i</span> : A) (<span class="nv">f</span> : elt -&gt; A -&gt; A),
Empty s -&gt; <span class="nb">fold</span> f s i = i</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk122" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk122"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">s</span> : t) (<span class="nv">A</span> : <span class="kt">Type</span>) (<span class="nv">i</span> : A) (<span class="nv">f</span> : elt -&gt; A -&gt; A),
Empty s -&gt; <span class="nb">fold</span> f s i = i</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk123" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk123"><span class="highlight"><span class="nb">intros</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Empty s</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="nb">fold</span> f s i = i</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk124" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk124"><span class="highlight"><span class="nb">rewrite</span> FM.fold_1.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Empty s</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">fold_left (flip f) (elements s) i = i</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">rewrite</span> elements_Empty <span class="kr">in</span> H; <span class="nb">rewrite</span> H; <span class="nb">simpl</span>; <span class="nb">auto</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Section</span> <span class="nf">Fold_More</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Variables</span> (<span class="nv">A</span>:<span class="kt">Type</span>)(<span class="nv">eqA</span>:A-&gt;A-&gt;<span class="kt">Prop</span>)(<span class="nv">st</span>:Equivalence eqA).</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Variables</span> (<span class="nv">f</span>:elt-&gt;A-&gt;A)(<span class="nv">Comp</span>:Proper (E.eq==&gt;eqA==&gt;eqA) f)(<span class="nv">Ass</span>:transpose eqA f).</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk125" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk125"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">fold_commutes</span> : <span class="kr">forall</span> <span class="nv">i</span> <span class="nv">s</span> <span class="nv">x</span>,
   eqA (<span class="nb">fold</span> f s (f x i)) (f x (<span class="nb">fold</span> f s i)).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> : A) (<span class="nv">s</span> : t) (<span class="nv">x</span> : elt),
eqA (<span class="nb">fold</span> f s (f x i)) (f x (<span class="nb">fold</span> f s i))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk126" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk126"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> : A) (<span class="nv">s</span> : t) (<span class="nv">x</span> : elt),
eqA (<span class="nb">fold</span> f s (f x i)) (f x (<span class="nb">fold</span> f s i))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk127" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk127"><span class="highlight"><span class="nb">intros</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">eqA (<span class="nb">fold</span> f s (f x i)) (f x (<span class="nb">fold</span> f s i))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk128" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk128"><span class="highlight"><span class="nb">apply</span> fold_rel <span class="kr">with</span> (R:=<span class="kr">fun</span> <span class="nv">u</span> <span class="nv">v</span> =&gt; eqA u (f x v)); <span class="nb">intros</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">eqA (f x i) (f x i)</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk129" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In x0 s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eqA a (f x b)</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk129"><hr></label><div class="goal-conclusion"><span class="highlight">eqA (f x0 a) (f x (f x0 b))</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk12a" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk12a"><span class="highlight"><span class="bp">reflexivity</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In x0 s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eqA a (f x b)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">eqA (f x0 a) (f x (f x0 b))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk12b" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk12b"><span class="highlight"><span class="nb">transitivity</span> (f x0 (f x b)); <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, x0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In x0 s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eqA a (f x b)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">eqA (f x0 a) (f x0 (f x b))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">apply</span> Comp; <span class="nb">auto with</span> relations.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span></span></pre><div class="doc">
<a name="lab7"></a><h2 class="section">Fold is a morphism</h2>
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-wsp"><span class="highlight">  </span></span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk12c" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk12c"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">fold_init</span> : <span class="kr">forall</span> <span class="nv">i</span> <span class="nv">i&#39;</span> <span class="nv">s</span>, eqA i i&#39; -&gt;
   eqA (<span class="nb">fold</span> f s i) (<span class="nb">fold</span> f s i&#39;).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">i&#39;</span> : A) (<span class="nv">s</span> : t),
eqA i i&#39; -&gt; eqA (<span class="nb">fold</span> f s i) (<span class="nb">fold</span> f s i&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk12d" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk12d"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">i&#39;</span> : A) (<span class="nv">s</span> : t),
eqA i i&#39; -&gt; eqA (<span class="nb">fold</span> f s i) (<span class="nb">fold</span> f s i&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk12e" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk12e"><span class="highlight"><span class="nb">intros</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, i'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eqA i i&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">eqA (<span class="nb">fold</span> f s i) (<span class="nb">fold</span> f s i&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk12f" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk12f"><span class="highlight"><span class="nb">apply</span> fold_rel <span class="kr">with</span> (R:=eqA); <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, i'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eqA i i&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">x</span> : elt) (<span class="nv">a</span> <span class="nv">b</span> : A),
In x s -&gt; eqA a b -&gt; eqA (f x a) (f x b)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">intros</span>; <span class="nb">apply</span> Comp; <span class="nb">auto with</span> relations.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk130" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk130"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">fold_equal</span> :
   <span class="kr">forall</span> <span class="nv">i</span> <span class="nv">s</span> <span class="nv">s&#39;</span>, s[=]s&#39; -&gt; eqA (<span class="nb">fold</span> f s i) (<span class="nb">fold</span> f s&#39; i).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> : A) (<span class="nv">s</span> <span class="nv">s&#39;</span> : t),
s [=] s&#39; -&gt; eqA (<span class="nb">fold</span> f s i) (<span class="nb">fold</span> f s&#39; i)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk131" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk131"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> : A) (<span class="nv">s</span> <span class="nv">s&#39;</span> : t),
s [=] s&#39; -&gt; eqA (<span class="nb">fold</span> f s i) (<span class="nb">fold</span> f s&#39; i)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk132" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk132"><span class="highlight"><span class="nb">intros</span> i s; <span class="nb">pattern</span> s; <span class="nb">apply</span> set_induction; <span class="nb">clear</span> s; <span class="nb">intros</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Empty s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">s [=] s&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">eqA (<span class="nb">fold</span> f s i) (<span class="nb">fold</span> f s&#39; i)</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk133" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s&#39;1</span> : t,
s [=] s&#39;1 -&gt; eqA (<span class="nb">fold</span> f s i) (<span class="nb">fold</span> f s&#39;1 i)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">s&#39; [=] s&#39;0</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk133"><hr></label><div class="goal-conclusion"><span class="highlight">eqA (<span class="nb">fold</span> f s&#39; i) (<span class="nb">fold</span> f s&#39;0 i)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk134" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk134"><span class="highlight"><span class="nb">transitivity</span> i.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Empty s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">s [=] s&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">eqA (<span class="nb">fold</span> f s i) i</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk135" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Empty s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">s [=] s&#39;</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk135"><hr></label><div class="goal-conclusion"><span class="highlight">eqA i (<span class="nb">fold</span> f s&#39; i)</span></div></blockquote><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk136" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s&#39;1</span> : t,
s [=] s&#39;1 -&gt; eqA (<span class="nb">fold</span> f s i) (<span class="nb">fold</span> f s&#39;1 i)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">s&#39; [=] s&#39;0</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk136"><hr></label><div class="goal-conclusion"><span class="highlight">eqA (<span class="nb">fold</span> f s&#39; i) (<span class="nb">fold</span> f s&#39;0 i)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk137" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk137"><span class="highlight"><span class="nb">apply</span> fold_1; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Empty s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">s [=] s&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">eqA i (<span class="nb">fold</span> f s&#39; i)</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk138" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s&#39;1</span> : t,
s [=] s&#39;1 -&gt; eqA (<span class="nb">fold</span> f s i) (<span class="nb">fold</span> f s&#39;1 i)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">s&#39; [=] s&#39;0</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk138"><hr></label><div class="goal-conclusion"><span class="highlight">eqA (<span class="nb">fold</span> f s&#39; i) (<span class="nb">fold</span> f s&#39;0 i)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk139" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk139"><span class="highlight"><span class="nb">symmetry</span>; <span class="nb">apply</span> fold_1; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Empty s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">s [=] s&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Empty s&#39;</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk13a" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s&#39;1</span> : t,
s [=] s&#39;1 -&gt; eqA (<span class="nb">fold</span> f s i) (<span class="nb">fold</span> f s&#39;1 i)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">s&#39; [=] s&#39;0</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk13a"><hr></label><div class="goal-conclusion"><span class="highlight">eqA (<span class="nb">fold</span> f s&#39; i) (<span class="nb">fold</span> f s&#39;0 i)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk13b" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk13b"><span class="highlight"><span class="nb">rewrite</span> &lt;- H0; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s&#39;1</span> : t,
s [=] s&#39;1 -&gt; eqA (<span class="nb">fold</span> f s i) (<span class="nb">fold</span> f s&#39;1 i)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">s&#39; [=] s&#39;0</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">eqA (<span class="nb">fold</span> f s&#39; i) (<span class="nb">fold</span> f s&#39;0 i)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk13c" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk13c"><span class="highlight"><span class="nb">transitivity</span> (f x (<span class="nb">fold</span> f s i)).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s&#39;1</span> : t,
s [=] s&#39;1 -&gt; eqA (<span class="nb">fold</span> f s i) (<span class="nb">fold</span> f s&#39;1 i)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">s&#39; [=] s&#39;0</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">eqA (<span class="nb">fold</span> f s&#39; i) (f x (<span class="nb">fold</span> f s i))</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk13d" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s&#39;1</span> : t,
s [=] s&#39;1 -&gt; eqA (<span class="nb">fold</span> f s i) (<span class="nb">fold</span> f s&#39;1 i)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">s&#39; [=] s&#39;0</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk13d"><hr></label><div class="goal-conclusion"><span class="highlight">eqA (f x (<span class="nb">fold</span> f s i)) (<span class="nb">fold</span> f s&#39;0 i)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk13e" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk13e"><span class="highlight"><span class="nb">apply</span> fold_2 <span class="kr">with</span> (eqA := eqA); <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s&#39;1</span> : t,
s [=] s&#39;1 -&gt; eqA (<span class="nb">fold</span> f s i) (<span class="nb">fold</span> f s&#39;1 i)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">s&#39; [=] s&#39;0</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">eqA (f x (<span class="nb">fold</span> f s i)) (<span class="nb">fold</span> f s&#39;0 i)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk13f" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk13f"><span class="highlight"><span class="nb">symmetry</span>; <span class="nb">apply</span> fold_2 <span class="kr">with</span> (eqA := eqA); <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s&#39;1</span> : t,
s [=] s&#39;1 -&gt; eqA (<span class="nb">fold</span> f s i) (<span class="nb">fold</span> f s&#39;1 i)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">s&#39; [=] s&#39;0</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kn">Add</span> x s s&#39;0</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk140" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk140"><span class="highlight"><span class="nb">unfold</span> <span class="kn">Add</span> <span class="kr">in</span> *; <span class="nb">intros</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s&#39;1</span> : t,
s [=] s&#39;1 -&gt; eqA (<span class="nb">fold</span> f s i) (<span class="nb">fold</span> f s&#39;1 i)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">y0</span> : elt,
In y0 s&#39; &lt;-&gt; E.eq x y0 \/ In y0 s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s'0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">s&#39; [=] s&#39;0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">In y s&#39;0 &lt;-&gt; E.eq x y \/ In y s</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">rewrite</span> &lt;- H2; <span class="nb">auto</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span></span></pre><div class="doc">
<a name="lab8"></a><h2 class="section">Fold and other set operators</h2>
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-wsp"><span class="highlight">  </span></span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk141" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk141"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">fold_empty</span> : <span class="kr">forall</span> <span class="nv">i</span>, <span class="nb">fold</span> f empty i = i.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">i</span> : A, <span class="nb">fold</span> f empty i = i</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk142" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk142"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">i</span> : A, <span class="nb">fold</span> f empty i = i</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">intros</span> i; <span class="nb">apply</span> fold_1b; <span class="nb">auto with</span> <span class="nb">set</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk143" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk143"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">fold_add</span> : <span class="kr">forall</span> <span class="nv">i</span> <span class="nv">s</span> <span class="nv">x</span>, ~In x s -&gt;
   eqA (<span class="nb">fold</span> f (add x s) i) (f x (<span class="nb">fold</span> f s i)).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> : A) (<span class="nv">s</span> : t) (<span class="nv">x</span> : elt),
~ In x s -&gt;
eqA (<span class="nb">fold</span> f (add x s) i) (f x (<span class="nb">fold</span> f s i))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk144" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk144"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> : A) (<span class="nv">s</span> : t) (<span class="nv">x</span> : elt),
~ In x s -&gt;
eqA (<span class="nb">fold</span> f (add x s) i) (f x (<span class="nb">fold</span> f s i))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">intros</span>; <span class="nb">apply</span> fold_2 <span class="kr">with</span> (eqA := eqA); <span class="nb">auto with</span> <span class="nb">set</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk145" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk145"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">add_fold</span> : <span class="kr">forall</span> <span class="nv">i</span> <span class="nv">s</span> <span class="nv">x</span>, In x s -&gt;
   eqA (<span class="nb">fold</span> f (add x s) i) (<span class="nb">fold</span> f s i).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> : A) (<span class="nv">s</span> : t) (<span class="nv">x</span> : elt),
In x s -&gt; eqA (<span class="nb">fold</span> f (add x s) i) (<span class="nb">fold</span> f s i)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk146" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk146"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> : A) (<span class="nv">s</span> : t) (<span class="nv">x</span> : elt),
In x s -&gt; eqA (<span class="nb">fold</span> f (add x s) i) (<span class="nb">fold</span> f s i)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">intros</span>; <span class="nb">apply</span> fold_equal; <span class="nb">auto with</span> <span class="nb">set</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk147" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk147"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">remove_fold_1</span>: <span class="kr">forall</span> <span class="nv">i</span> <span class="nv">s</span> <span class="nv">x</span>, In x s -&gt;
   eqA (f x (<span class="nb">fold</span> f (remove x s) i)) (<span class="nb">fold</span> f s i).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> : A) (<span class="nv">s</span> : t) (<span class="nv">x</span> : elt),
In x s -&gt;
eqA (f x (<span class="nb">fold</span> f (remove x s) i)) (<span class="nb">fold</span> f s i)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk148" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk148"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> : A) (<span class="nv">s</span> : t) (<span class="nv">x</span> : elt),
In x s -&gt;
eqA (f x (<span class="nb">fold</span> f (remove x s) i)) (<span class="nb">fold</span> f s i)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk149" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk149"><span class="highlight"><span class="nb">intros</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In x s</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">eqA (f x (<span class="nb">fold</span> f (remove x s) i)) (<span class="nb">fold</span> f s i)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk14a" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk14a"><span class="highlight"><span class="nb">symmetry</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In x s</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">eqA (<span class="nb">fold</span> f s i) (f x (<span class="nb">fold</span> f (remove x s) i))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">apply</span> fold_2 <span class="kr">with</span> (eqA:=eqA); <span class="nb">auto with</span> <span class="nb">set</span> relations.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk14b" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk14b"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">remove_fold_2</span>: <span class="kr">forall</span> <span class="nv">i</span> <span class="nv">s</span> <span class="nv">x</span>, ~In x s -&gt;
   eqA (<span class="nb">fold</span> f (remove x s) i) (<span class="nb">fold</span> f s i).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> : A) (<span class="nv">s</span> : t) (<span class="nv">x</span> : elt),
~ In x s -&gt; eqA (<span class="nb">fold</span> f (remove x s) i) (<span class="nb">fold</span> f s i)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk14c" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk14c"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> : A) (<span class="nv">s</span> : t) (<span class="nv">x</span> : elt),
~ In x s -&gt; eqA (<span class="nb">fold</span> f (remove x s) i) (<span class="nb">fold</span> f s i)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk14d" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk14d"><span class="highlight"><span class="nb">intros</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">eqA (<span class="nb">fold</span> f (remove x s) i) (<span class="nb">fold</span> f s i)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">apply</span> fold_equal; <span class="nb">auto with</span> <span class="nb">set</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk14e" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk14e"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">fold_union_inter</span> : <span class="kr">forall</span> <span class="nv">i</span> <span class="nv">s</span> <span class="nv">s&#39;</span>,
   eqA (<span class="nb">fold</span> f (union s s&#39;) (<span class="nb">fold</span> f (inter s s&#39;) i))
       (<span class="nb">fold</span> f s (<span class="nb">fold</span> f s&#39; i)).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> : A) (<span class="nv">s</span> <span class="nv">s&#39;</span> : t),
eqA (<span class="nb">fold</span> f (union s s&#39;) (<span class="nb">fold</span> f (inter s s&#39;) i))
  (<span class="nb">fold</span> f s (<span class="nb">fold</span> f s&#39; i))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk14f" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk14f"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> : A) (<span class="nv">s</span> <span class="nv">s&#39;</span> : t),
eqA (<span class="nb">fold</span> f (union s s&#39;) (<span class="nb">fold</span> f (inter s s&#39;) i))
  (<span class="nb">fold</span> f s (<span class="nb">fold</span> f s&#39; i))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk150" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk150"><span class="highlight"><span class="nb">intros</span>; <span class="nb">pattern</span> s; <span class="nb">apply</span> set_induction; <span class="nb">clear</span> s; <span class="nb">intros</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s', s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Empty s</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">eqA (<span class="nb">fold</span> f (union s s&#39;) (<span class="nb">fold</span> f (inter s s&#39;) i))
  (<span class="nb">fold</span> f s (<span class="nb">fold</span> f s&#39; i))</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk151" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s', s, s'0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eqA (<span class="nb">fold</span> f (union s s&#39;) (<span class="nb">fold</span> f (inter s s&#39;) i))
  (<span class="nb">fold</span> f s (<span class="nb">fold</span> f s&#39; i))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;0</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk151"><hr></label><div class="goal-conclusion"><span class="highlight">eqA (<span class="nb">fold</span> f (union s&#39;0 s&#39;) (<span class="nb">fold</span> f (inter s&#39;0 s&#39;) i))
  (<span class="nb">fold</span> f s&#39;0 (<span class="nb">fold</span> f s&#39; i))</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk152" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk152"><span class="highlight"><span class="nb">transitivity</span> (<span class="nb">fold</span> f s&#39; (<span class="nb">fold</span> f (inter s s&#39;) i)).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s', s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Empty s</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">eqA (<span class="nb">fold</span> f (union s s&#39;) (<span class="nb">fold</span> f (inter s s&#39;) i))
  (<span class="nb">fold</span> f s&#39; (<span class="nb">fold</span> f (inter s s&#39;) i))</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk153" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s', s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Empty s</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk153"><hr></label><div class="goal-conclusion"><span class="highlight">eqA (<span class="nb">fold</span> f s&#39; (<span class="nb">fold</span> f (inter s s&#39;) i))
  (<span class="nb">fold</span> f s (<span class="nb">fold</span> f s&#39; i))</span></div></blockquote><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk154" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s', s, s'0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eqA (<span class="nb">fold</span> f (union s s&#39;) (<span class="nb">fold</span> f (inter s s&#39;) i))
  (<span class="nb">fold</span> f s (<span class="nb">fold</span> f s&#39; i))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;0</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk154"><hr></label><div class="goal-conclusion"><span class="highlight">eqA (<span class="nb">fold</span> f (union s&#39;0 s&#39;) (<span class="nb">fold</span> f (inter s&#39;0 s&#39;) i))
  (<span class="nb">fold</span> f s&#39;0 (<span class="nb">fold</span> f s&#39; i))</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk155" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk155"><span class="highlight"><span class="nb">apply</span> fold_equal; <span class="nb">auto with</span> <span class="nb">set</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s', s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Empty s</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">eqA (<span class="nb">fold</span> f s&#39; (<span class="nb">fold</span> f (inter s s&#39;) i))
  (<span class="nb">fold</span> f s (<span class="nb">fold</span> f s&#39; i))</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk156" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s', s, s'0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eqA (<span class="nb">fold</span> f (union s s&#39;) (<span class="nb">fold</span> f (inter s s&#39;) i))
  (<span class="nb">fold</span> f s (<span class="nb">fold</span> f s&#39; i))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;0</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk156"><hr></label><div class="goal-conclusion"><span class="highlight">eqA (<span class="nb">fold</span> f (union s&#39;0 s&#39;) (<span class="nb">fold</span> f (inter s&#39;0 s&#39;) i))
  (<span class="nb">fold</span> f s&#39;0 (<span class="nb">fold</span> f s&#39; i))</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk157" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk157"><span class="highlight"><span class="nb">transitivity</span> (<span class="nb">fold</span> f s&#39; i).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s', s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Empty s</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">eqA (<span class="nb">fold</span> f s&#39; (<span class="nb">fold</span> f (inter s s&#39;) i)) (<span class="nb">fold</span> f s&#39; i)</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk158" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s', s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Empty s</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk158"><hr></label><div class="goal-conclusion"><span class="highlight">eqA (<span class="nb">fold</span> f s&#39; i) (<span class="nb">fold</span> f s (<span class="nb">fold</span> f s&#39; i))</span></div></blockquote><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk159" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s', s, s'0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eqA (<span class="nb">fold</span> f (union s s&#39;) (<span class="nb">fold</span> f (inter s s&#39;) i))
  (<span class="nb">fold</span> f s (<span class="nb">fold</span> f s&#39; i))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;0</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk159"><hr></label><div class="goal-conclusion"><span class="highlight">eqA (<span class="nb">fold</span> f (union s&#39;0 s&#39;) (<span class="nb">fold</span> f (inter s&#39;0 s&#39;) i))
  (<span class="nb">fold</span> f s&#39;0 (<span class="nb">fold</span> f s&#39; i))</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk15a" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk15a"><span class="highlight"><span class="nb">apply</span> fold_init; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s', s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Empty s</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">eqA (<span class="nb">fold</span> f (inter s s&#39;) i) i</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk15b" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s', s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Empty s</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk15b"><hr></label><div class="goal-conclusion"><span class="highlight">eqA (<span class="nb">fold</span> f s&#39; i) (<span class="nb">fold</span> f s (<span class="nb">fold</span> f s&#39; i))</span></div></blockquote><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk15c" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s', s, s'0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eqA (<span class="nb">fold</span> f (union s s&#39;) (<span class="nb">fold</span> f (inter s s&#39;) i))
  (<span class="nb">fold</span> f s (<span class="nb">fold</span> f s&#39; i))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;0</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk15c"><hr></label><div class="goal-conclusion"><span class="highlight">eqA (<span class="nb">fold</span> f (union s&#39;0 s&#39;) (<span class="nb">fold</span> f (inter s&#39;0 s&#39;) i))
  (<span class="nb">fold</span> f s&#39;0 (<span class="nb">fold</span> f s&#39; i))</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk15d" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk15d"><span class="highlight"><span class="nb">apply</span> fold_1; <span class="nb">auto with</span> <span class="nb">set</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s', s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Empty s</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">eqA (<span class="nb">fold</span> f s&#39; i) (<span class="nb">fold</span> f s (<span class="nb">fold</span> f s&#39; i))</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk15e" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s', s, s'0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eqA (<span class="nb">fold</span> f (union s s&#39;) (<span class="nb">fold</span> f (inter s s&#39;) i))
  (<span class="nb">fold</span> f s (<span class="nb">fold</span> f s&#39; i))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;0</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk15e"><hr></label><div class="goal-conclusion"><span class="highlight">eqA (<span class="nb">fold</span> f (union s&#39;0 s&#39;) (<span class="nb">fold</span> f (inter s&#39;0 s&#39;) i))
  (<span class="nb">fold</span> f s&#39;0 (<span class="nb">fold</span> f s&#39; i))</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk15f" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk15f"><span class="highlight"><span class="nb">symmetry</span>; <span class="nb">apply</span> fold_1; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s', s, s'0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eqA (<span class="nb">fold</span> f (union s s&#39;) (<span class="nb">fold</span> f (inter s s&#39;) i))
  (<span class="nb">fold</span> f s (<span class="nb">fold</span> f s&#39; i))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;0</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">eqA (<span class="nb">fold</span> f (union s&#39;0 s&#39;) (<span class="nb">fold</span> f (inter s&#39;0 s&#39;) i))
  (<span class="nb">fold</span> f s&#39;0 (<span class="nb">fold</span> f s&#39; i))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk160" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk160"><span class="highlight"><span class="nb">rename</span> s&#39;0 <span class="nb">into</span> s&#39;&#39;.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s', s, s''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eqA (<span class="nb">fold</span> f (union s s&#39;) (<span class="nb">fold</span> f (inter s s&#39;) i))
  (<span class="nb">fold</span> f s (<span class="nb">fold</span> f s&#39; i))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">eqA (<span class="nb">fold</span> f (union s&#39;&#39; s&#39;) (<span class="nb">fold</span> f (inter s&#39;&#39; s&#39;) i))
  (<span class="nb">fold</span> f s&#39;&#39; (<span class="nb">fold</span> f s&#39; i))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk161" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk161"><span class="highlight"><span class="nb">destruct</span> (In_dec x s&#39;).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s', s, s''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eqA (<span class="nb">fold</span> f (union s s&#39;) (<span class="nb">fold</span> f (inter s s&#39;) i))
  (<span class="nb">fold</span> f s (<span class="nb">fold</span> f s&#39; i))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In x s&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">eqA (<span class="nb">fold</span> f (union s&#39;&#39; s&#39;) (<span class="nb">fold</span> f (inter s&#39;&#39; s&#39;) i))
  (<span class="nb">fold</span> f s&#39;&#39; (<span class="nb">fold</span> f s&#39; i))</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk162" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s', s, s''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eqA (<span class="nb">fold</span> f (union s s&#39;) (<span class="nb">fold</span> f (inter s s&#39;) i))
  (<span class="nb">fold</span> f s (<span class="nb">fold</span> f s&#39; i))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s&#39;</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk162"><hr></label><div class="goal-conclusion"><span class="highlight">eqA (<span class="nb">fold</span> f (union s&#39;&#39; s&#39;) (<span class="nb">fold</span> f (inter s&#39;&#39; s&#39;) i))
  (<span class="nb">fold</span> f s&#39;&#39; (<span class="nb">fold</span> f s&#39; i))</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">  <span class="c">(* In x s&#39; *)</span>
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk163" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk163"><span class="highlight"><span class="nb">transitivity</span> (<span class="nb">fold</span> f (union s&#39;&#39; s&#39;) (f x (<span class="nb">fold</span> f (inter s s&#39;) i))); <span class="nb">auto with</span> <span class="nb">set</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s', s, s''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eqA (<span class="nb">fold</span> f (union s s&#39;) (<span class="nb">fold</span> f (inter s s&#39;) i))
  (<span class="nb">fold</span> f s (<span class="nb">fold</span> f s&#39; i))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In x s&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">eqA (<span class="nb">fold</span> f (union s&#39;&#39; s&#39;) (<span class="nb">fold</span> f (inter s&#39;&#39; s&#39;) i))
  (<span class="nb">fold</span> f (union s&#39;&#39; s&#39;) (f x (<span class="nb">fold</span> f (inter s s&#39;) i)))</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk164" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s', s, s''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eqA (<span class="nb">fold</span> f (union s s&#39;) (<span class="nb">fold</span> f (inter s s&#39;) i))
  (<span class="nb">fold</span> f s (<span class="nb">fold</span> f s&#39; i))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In x s&#39;</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk164"><hr></label><div class="goal-conclusion"><span class="highlight">eqA
  (<span class="nb">fold</span> f (union s&#39;&#39; s&#39;) (f x (<span class="nb">fold</span> f (inter s s&#39;) i)))
  (<span class="nb">fold</span> f s&#39;&#39; (<span class="nb">fold</span> f s&#39; i))</span></div></blockquote><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk165" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s', s, s''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eqA (<span class="nb">fold</span> f (union s s&#39;) (<span class="nb">fold</span> f (inter s s&#39;) i))
  (<span class="nb">fold</span> f s (<span class="nb">fold</span> f s&#39; i))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s&#39;</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk165"><hr></label><div class="goal-conclusion"><span class="highlight">eqA (<span class="nb">fold</span> f (union s&#39;&#39; s&#39;) (<span class="nb">fold</span> f (inter s&#39;&#39; s&#39;) i))
  (<span class="nb">fold</span> f s&#39;&#39; (<span class="nb">fold</span> f s&#39; i))</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk166" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk166"><span class="highlight"><span class="nb">apply</span> fold_init; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s', s, s''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eqA (<span class="nb">fold</span> f (union s s&#39;) (<span class="nb">fold</span> f (inter s s&#39;) i))
  (<span class="nb">fold</span> f s (<span class="nb">fold</span> f s&#39; i))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In x s&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">eqA (<span class="nb">fold</span> f (inter s&#39;&#39; s&#39;) i)
  (f x (<span class="nb">fold</span> f (inter s s&#39;) i))</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk167" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s', s, s''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eqA (<span class="nb">fold</span> f (union s s&#39;) (<span class="nb">fold</span> f (inter s s&#39;) i))
  (<span class="nb">fold</span> f s (<span class="nb">fold</span> f s&#39; i))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In x s&#39;</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk167"><hr></label><div class="goal-conclusion"><span class="highlight">eqA
  (<span class="nb">fold</span> f (union s&#39;&#39; s&#39;) (f x (<span class="nb">fold</span> f (inter s s&#39;) i)))
  (<span class="nb">fold</span> f s&#39;&#39; (<span class="nb">fold</span> f s&#39; i))</span></div></blockquote><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk168" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s', s, s''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eqA (<span class="nb">fold</span> f (union s s&#39;) (<span class="nb">fold</span> f (inter s s&#39;) i))
  (<span class="nb">fold</span> f s (<span class="nb">fold</span> f s&#39; i))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s&#39;</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk168"><hr></label><div class="goal-conclusion"><span class="highlight">eqA (<span class="nb">fold</span> f (union s&#39;&#39; s&#39;) (<span class="nb">fold</span> f (inter s&#39;&#39; s&#39;) i))
  (<span class="nb">fold</span> f s&#39;&#39; (<span class="nb">fold</span> f s&#39; i))</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk169" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk169"><span class="highlight"><span class="nb">apply</span> fold_2 <span class="kr">with</span> (eqA:=eqA); <span class="nb">auto with</span> <span class="nb">set</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s', s, s''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eqA (<span class="nb">fold</span> f (union s s&#39;) (<span class="nb">fold</span> f (inter s s&#39;) i))
  (<span class="nb">fold</span> f s (<span class="nb">fold</span> f s&#39; i))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In x s&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">~ In x (inter s s&#39;)</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk16a" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s', s, s''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eqA (<span class="nb">fold</span> f (union s s&#39;) (<span class="nb">fold</span> f (inter s s&#39;) i))
  (<span class="nb">fold</span> f s (<span class="nb">fold</span> f s&#39; i))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In x s&#39;</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk16a"><hr></label><div class="goal-conclusion"><span class="highlight">eqA
  (<span class="nb">fold</span> f (union s&#39;&#39; s&#39;) (f x (<span class="nb">fold</span> f (inter s s&#39;) i)))
  (<span class="nb">fold</span> f s&#39;&#39; (<span class="nb">fold</span> f s&#39; i))</span></div></blockquote><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk16b" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s', s, s''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eqA (<span class="nb">fold</span> f (union s s&#39;) (<span class="nb">fold</span> f (inter s s&#39;) i))
  (<span class="nb">fold</span> f s (<span class="nb">fold</span> f s&#39; i))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s&#39;</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk16b"><hr></label><div class="goal-conclusion"><span class="highlight">eqA (<span class="nb">fold</span> f (union s&#39;&#39; s&#39;) (<span class="nb">fold</span> f (inter s&#39;&#39; s&#39;) i))
  (<span class="nb">fold</span> f s&#39;&#39; (<span class="nb">fold</span> f s&#39; i))</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk16c" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk16c"><span class="highlight"><span class="nb">rewrite</span> inter_iff; <span class="nb">intuition</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s', s, s''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eqA (<span class="nb">fold</span> f (union s s&#39;) (<span class="nb">fold</span> f (inter s s&#39;) i))
  (<span class="nb">fold</span> f s (<span class="nb">fold</span> f s&#39; i))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In x s&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">eqA
  (<span class="nb">fold</span> f (union s&#39;&#39; s&#39;) (f x (<span class="nb">fold</span> f (inter s s&#39;) i)))
  (<span class="nb">fold</span> f s&#39;&#39; (<span class="nb">fold</span> f s&#39; i))</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk16d" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s', s, s''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eqA (<span class="nb">fold</span> f (union s s&#39;) (<span class="nb">fold</span> f (inter s s&#39;) i))
  (<span class="nb">fold</span> f s (<span class="nb">fold</span> f s&#39; i))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s&#39;</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk16d"><hr></label><div class="goal-conclusion"><span class="highlight">eqA (<span class="nb">fold</span> f (union s&#39;&#39; s&#39;) (<span class="nb">fold</span> f (inter s&#39;&#39; s&#39;) i))
  (<span class="nb">fold</span> f s&#39;&#39; (<span class="nb">fold</span> f s&#39; i))</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk16e" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk16e"><span class="highlight"><span class="nb">transitivity</span> (f x (<span class="nb">fold</span> f s (<span class="nb">fold</span> f s&#39; i))).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s', s, s''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eqA (<span class="nb">fold</span> f (union s s&#39;) (<span class="nb">fold</span> f (inter s s&#39;) i))
  (<span class="nb">fold</span> f s (<span class="nb">fold</span> f s&#39; i))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In x s&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">eqA
  (<span class="nb">fold</span> f (union s&#39;&#39; s&#39;) (f x (<span class="nb">fold</span> f (inter s s&#39;) i)))
  (f x (<span class="nb">fold</span> f s (<span class="nb">fold</span> f s&#39; i)))</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk16f" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s', s, s''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eqA (<span class="nb">fold</span> f (union s s&#39;) (<span class="nb">fold</span> f (inter s s&#39;) i))
  (<span class="nb">fold</span> f s (<span class="nb">fold</span> f s&#39; i))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In x s&#39;</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk16f"><hr></label><div class="goal-conclusion"><span class="highlight">eqA (f x (<span class="nb">fold</span> f s (<span class="nb">fold</span> f s&#39; i)))
  (<span class="nb">fold</span> f s&#39;&#39; (<span class="nb">fold</span> f s&#39; i))</span></div></blockquote><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk170" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s', s, s''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eqA (<span class="nb">fold</span> f (union s s&#39;) (<span class="nb">fold</span> f (inter s s&#39;) i))
  (<span class="nb">fold</span> f s (<span class="nb">fold</span> f s&#39; i))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s&#39;</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk170"><hr></label><div class="goal-conclusion"><span class="highlight">eqA (<span class="nb">fold</span> f (union s&#39;&#39; s&#39;) (<span class="nb">fold</span> f (inter s&#39;&#39; s&#39;) i))
  (<span class="nb">fold</span> f s&#39;&#39; (<span class="nb">fold</span> f s&#39; i))</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk171" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk171"><span class="highlight"><span class="nb">transitivity</span> (<span class="nb">fold</span> f (union s s&#39;) (f x (<span class="nb">fold</span> f (inter s s&#39;) i))).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s', s, s''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eqA (<span class="nb">fold</span> f (union s s&#39;) (<span class="nb">fold</span> f (inter s s&#39;) i))
  (<span class="nb">fold</span> f s (<span class="nb">fold</span> f s&#39; i))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In x s&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">eqA
  (<span class="nb">fold</span> f (union s&#39;&#39; s&#39;) (f x (<span class="nb">fold</span> f (inter s s&#39;) i)))
  (<span class="nb">fold</span> f (union s s&#39;) (f x (<span class="nb">fold</span> f (inter s s&#39;) i)))</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk172" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s', s, s''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eqA (<span class="nb">fold</span> f (union s s&#39;) (<span class="nb">fold</span> f (inter s s&#39;) i))
  (<span class="nb">fold</span> f s (<span class="nb">fold</span> f s&#39; i))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In x s&#39;</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk172"><hr></label><div class="goal-conclusion"><span class="highlight">eqA
  (<span class="nb">fold</span> f (union s s&#39;) (f x (<span class="nb">fold</span> f (inter s s&#39;) i)))
  (f x (<span class="nb">fold</span> f s (<span class="nb">fold</span> f s&#39; i)))</span></div></blockquote><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk173" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s', s, s''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eqA (<span class="nb">fold</span> f (union s s&#39;) (<span class="nb">fold</span> f (inter s s&#39;) i))
  (<span class="nb">fold</span> f s (<span class="nb">fold</span> f s&#39; i))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In x s&#39;</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk173"><hr></label><div class="goal-conclusion"><span class="highlight">eqA (f x (<span class="nb">fold</span> f s (<span class="nb">fold</span> f s&#39; i)))
  (<span class="nb">fold</span> f s&#39;&#39; (<span class="nb">fold</span> f s&#39; i))</span></div></blockquote><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk174" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s', s, s''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eqA (<span class="nb">fold</span> f (union s s&#39;) (<span class="nb">fold</span> f (inter s s&#39;) i))
  (<span class="nb">fold</span> f s (<span class="nb">fold</span> f s&#39; i))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s&#39;</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk174"><hr></label><div class="goal-conclusion"><span class="highlight">eqA (<span class="nb">fold</span> f (union s&#39;&#39; s&#39;) (<span class="nb">fold</span> f (inter s&#39;&#39; s&#39;) i))
  (<span class="nb">fold</span> f s&#39;&#39; (<span class="nb">fold</span> f s&#39; i))</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk175" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk175"><span class="highlight"><span class="nb">apply</span> fold_equal; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s', s, s''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eqA (<span class="nb">fold</span> f (union s s&#39;) (<span class="nb">fold</span> f (inter s s&#39;) i))
  (<span class="nb">fold</span> f s (<span class="nb">fold</span> f s&#39; i))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In x s&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">union s&#39;&#39; s&#39; [=] union s s&#39;</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk176" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s', s, s''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eqA (<span class="nb">fold</span> f (union s s&#39;) (<span class="nb">fold</span> f (inter s s&#39;) i))
  (<span class="nb">fold</span> f s (<span class="nb">fold</span> f s&#39; i))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In x s&#39;</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk176"><hr></label><div class="goal-conclusion"><span class="highlight">eqA
  (<span class="nb">fold</span> f (union s s&#39;) (f x (<span class="nb">fold</span> f (inter s s&#39;) i)))
  (f x (<span class="nb">fold</span> f s (<span class="nb">fold</span> f s&#39; i)))</span></div></blockquote><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk177" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s', s, s''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eqA (<span class="nb">fold</span> f (union s s&#39;) (<span class="nb">fold</span> f (inter s s&#39;) i))
  (<span class="nb">fold</span> f s (<span class="nb">fold</span> f s&#39; i))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In x s&#39;</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk177"><hr></label><div class="goal-conclusion"><span class="highlight">eqA (f x (<span class="nb">fold</span> f s (<span class="nb">fold</span> f s&#39; i)))
  (<span class="nb">fold</span> f s&#39;&#39; (<span class="nb">fold</span> f s&#39; i))</span></div></blockquote><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk178" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s', s, s''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eqA (<span class="nb">fold</span> f (union s s&#39;) (<span class="nb">fold</span> f (inter s s&#39;) i))
  (<span class="nb">fold</span> f s (<span class="nb">fold</span> f s&#39; i))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s&#39;</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk178"><hr></label><div class="goal-conclusion"><span class="highlight">eqA (<span class="nb">fold</span> f (union s&#39;&#39; s&#39;) (<span class="nb">fold</span> f (inter s&#39;&#39; s&#39;) i))
  (<span class="nb">fold</span> f s&#39;&#39; (<span class="nb">fold</span> f s&#39; i))</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk179" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk179"><span class="highlight"><span class="nb">apply</span> equal_sym; <span class="nb">apply</span> union_Equal <span class="kr">with</span> x; <span class="nb">auto with</span> <span class="nb">set</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s', s, s''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eqA (<span class="nb">fold</span> f (union s s&#39;) (<span class="nb">fold</span> f (inter s s&#39;) i))
  (<span class="nb">fold</span> f s (<span class="nb">fold</span> f s&#39; i))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In x s&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">eqA
  (<span class="nb">fold</span> f (union s s&#39;) (f x (<span class="nb">fold</span> f (inter s s&#39;) i)))
  (f x (<span class="nb">fold</span> f s (<span class="nb">fold</span> f s&#39; i)))</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk17a" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s', s, s''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eqA (<span class="nb">fold</span> f (union s s&#39;) (<span class="nb">fold</span> f (inter s s&#39;) i))
  (<span class="nb">fold</span> f s (<span class="nb">fold</span> f s&#39; i))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In x s&#39;</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk17a"><hr></label><div class="goal-conclusion"><span class="highlight">eqA (f x (<span class="nb">fold</span> f s (<span class="nb">fold</span> f s&#39; i)))
  (<span class="nb">fold</span> f s&#39;&#39; (<span class="nb">fold</span> f s&#39; i))</span></div></blockquote><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk17b" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s', s, s''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eqA (<span class="nb">fold</span> f (union s s&#39;) (<span class="nb">fold</span> f (inter s s&#39;) i))
  (<span class="nb">fold</span> f s (<span class="nb">fold</span> f s&#39; i))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s&#39;</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk17b"><hr></label><div class="goal-conclusion"><span class="highlight">eqA (<span class="nb">fold</span> f (union s&#39;&#39; s&#39;) (<span class="nb">fold</span> f (inter s&#39;&#39; s&#39;) i))
  (<span class="nb">fold</span> f s&#39;&#39; (<span class="nb">fold</span> f s&#39; i))</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk17c" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk17c"><span class="highlight"><span class="nb">transitivity</span> (f x (<span class="nb">fold</span> f (union s s&#39;) (<span class="nb">fold</span> f (inter s s&#39;) i))).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s', s, s''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eqA (<span class="nb">fold</span> f (union s s&#39;) (<span class="nb">fold</span> f (inter s s&#39;) i))
  (<span class="nb">fold</span> f s (<span class="nb">fold</span> f s&#39; i))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In x s&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">eqA
  (<span class="nb">fold</span> f (union s s&#39;) (f x (<span class="nb">fold</span> f (inter s s&#39;) i)))
  (f x (<span class="nb">fold</span> f (union s s&#39;) (<span class="nb">fold</span> f (inter s s&#39;) i)))</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk17d" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s', s, s''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eqA (<span class="nb">fold</span> f (union s s&#39;) (<span class="nb">fold</span> f (inter s s&#39;) i))
  (<span class="nb">fold</span> f s (<span class="nb">fold</span> f s&#39; i))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In x s&#39;</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk17d"><hr></label><div class="goal-conclusion"><span class="highlight">eqA
  (f x (<span class="nb">fold</span> f (union s s&#39;) (<span class="nb">fold</span> f (inter s s&#39;) i)))
  (f x (<span class="nb">fold</span> f s (<span class="nb">fold</span> f s&#39; i)))</span></div></blockquote><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk17e" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s', s, s''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eqA (<span class="nb">fold</span> f (union s s&#39;) (<span class="nb">fold</span> f (inter s s&#39;) i))
  (<span class="nb">fold</span> f s (<span class="nb">fold</span> f s&#39; i))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In x s&#39;</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk17e"><hr></label><div class="goal-conclusion"><span class="highlight">eqA (f x (<span class="nb">fold</span> f s (<span class="nb">fold</span> f s&#39; i)))
  (<span class="nb">fold</span> f s&#39;&#39; (<span class="nb">fold</span> f s&#39; i))</span></div></blockquote><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk17f" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s', s, s''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eqA (<span class="nb">fold</span> f (union s s&#39;) (<span class="nb">fold</span> f (inter s s&#39;) i))
  (<span class="nb">fold</span> f s (<span class="nb">fold</span> f s&#39; i))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s&#39;</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk17f"><hr></label><div class="goal-conclusion"><span class="highlight">eqA (<span class="nb">fold</span> f (union s&#39;&#39; s&#39;) (<span class="nb">fold</span> f (inter s&#39;&#39; s&#39;) i))
  (<span class="nb">fold</span> f s&#39;&#39; (<span class="nb">fold</span> f s&#39; i))</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk180" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk180"><span class="highlight"><span class="nb">apply</span> fold_commutes; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s', s, s''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eqA (<span class="nb">fold</span> f (union s s&#39;) (<span class="nb">fold</span> f (inter s s&#39;) i))
  (<span class="nb">fold</span> f s (<span class="nb">fold</span> f s&#39; i))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In x s&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">eqA
  (f x (<span class="nb">fold</span> f (union s s&#39;) (<span class="nb">fold</span> f (inter s s&#39;) i)))
  (f x (<span class="nb">fold</span> f s (<span class="nb">fold</span> f s&#39; i)))</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk181" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s', s, s''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eqA (<span class="nb">fold</span> f (union s s&#39;) (<span class="nb">fold</span> f (inter s s&#39;) i))
  (<span class="nb">fold</span> f s (<span class="nb">fold</span> f s&#39; i))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In x s&#39;</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk181"><hr></label><div class="goal-conclusion"><span class="highlight">eqA (f x (<span class="nb">fold</span> f s (<span class="nb">fold</span> f s&#39; i)))
  (<span class="nb">fold</span> f s&#39;&#39; (<span class="nb">fold</span> f s&#39; i))</span></div></blockquote><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk182" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s', s, s''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eqA (<span class="nb">fold</span> f (union s s&#39;) (<span class="nb">fold</span> f (inter s s&#39;) i))
  (<span class="nb">fold</span> f s (<span class="nb">fold</span> f s&#39; i))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s&#39;</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk182"><hr></label><div class="goal-conclusion"><span class="highlight">eqA (<span class="nb">fold</span> f (union s&#39;&#39; s&#39;) (<span class="nb">fold</span> f (inter s&#39;&#39; s&#39;) i))
  (<span class="nb">fold</span> f s&#39;&#39; (<span class="nb">fold</span> f s&#39; i))</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk183" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk183"><span class="highlight"><span class="nb">apply</span> Comp; <span class="nb">auto with</span> relations.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s', s, s''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eqA (<span class="nb">fold</span> f (union s s&#39;) (<span class="nb">fold</span> f (inter s s&#39;) i))
  (<span class="nb">fold</span> f s (<span class="nb">fold</span> f s&#39; i))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In x s&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">eqA (f x (<span class="nb">fold</span> f s (<span class="nb">fold</span> f s&#39; i)))
  (<span class="nb">fold</span> f s&#39;&#39; (<span class="nb">fold</span> f s&#39; i))</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk184" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s', s, s''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eqA (<span class="nb">fold</span> f (union s s&#39;) (<span class="nb">fold</span> f (inter s s&#39;) i))
  (<span class="nb">fold</span> f s (<span class="nb">fold</span> f s&#39; i))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s&#39;</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk184"><hr></label><div class="goal-conclusion"><span class="highlight">eqA (<span class="nb">fold</span> f (union s&#39;&#39; s&#39;) (<span class="nb">fold</span> f (inter s&#39;&#39; s&#39;) i))
  (<span class="nb">fold</span> f s&#39;&#39; (<span class="nb">fold</span> f s&#39; i))</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk185" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk185"><span class="highlight"><span class="nb">symmetry</span>; <span class="nb">apply</span> fold_2 <span class="kr">with</span> (eqA:=eqA); <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s', s, s''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eqA (<span class="nb">fold</span> f (union s s&#39;) (<span class="nb">fold</span> f (inter s s&#39;) i))
  (<span class="nb">fold</span> f s (<span class="nb">fold</span> f s&#39; i))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">eqA (<span class="nb">fold</span> f (union s&#39;&#39; s&#39;) (<span class="nb">fold</span> f (inter s&#39;&#39; s&#39;) i))
  (<span class="nb">fold</span> f s&#39;&#39; (<span class="nb">fold</span> f s&#39; i))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">  <span class="c">(* ~(In x s&#39;) *)</span>
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk186" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk186"><span class="highlight"><span class="nb">transitivity</span> (f x (<span class="nb">fold</span> f (union s s&#39;) (<span class="nb">fold</span> f (inter s&#39;&#39; s&#39;) i))).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s', s, s''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eqA (<span class="nb">fold</span> f (union s s&#39;) (<span class="nb">fold</span> f (inter s s&#39;) i))
  (<span class="nb">fold</span> f s (<span class="nb">fold</span> f s&#39; i))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">eqA (<span class="nb">fold</span> f (union s&#39;&#39; s&#39;) (<span class="nb">fold</span> f (inter s&#39;&#39; s&#39;) i))
  (f x (<span class="nb">fold</span> f (union s s&#39;) (<span class="nb">fold</span> f (inter s&#39;&#39; s&#39;) i)))</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk187" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s', s, s''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eqA (<span class="nb">fold</span> f (union s s&#39;) (<span class="nb">fold</span> f (inter s s&#39;) i))
  (<span class="nb">fold</span> f s (<span class="nb">fold</span> f s&#39; i))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s&#39;</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk187"><hr></label><div class="goal-conclusion"><span class="highlight">eqA
  (f x (<span class="nb">fold</span> f (union s s&#39;) (<span class="nb">fold</span> f (inter s&#39;&#39; s&#39;) i)))
  (<span class="nb">fold</span> f s&#39;&#39; (<span class="nb">fold</span> f s&#39; i))</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk188" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk188"><span class="highlight"><span class="nb">apply</span> fold_2 <span class="kr">with</span> (eqA:=eqA); <span class="nb">auto with</span> <span class="nb">set</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s', s, s''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eqA (<span class="nb">fold</span> f (union s s&#39;) (<span class="nb">fold</span> f (inter s s&#39;) i))
  (<span class="nb">fold</span> f s (<span class="nb">fold</span> f s&#39; i))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">eqA
  (f x (<span class="nb">fold</span> f (union s s&#39;) (<span class="nb">fold</span> f (inter s&#39;&#39; s&#39;) i)))
  (<span class="nb">fold</span> f s&#39;&#39; (<span class="nb">fold</span> f s&#39; i))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk189" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk189"><span class="highlight"><span class="nb">transitivity</span> (f x (<span class="nb">fold</span> f (union s s&#39;) (<span class="nb">fold</span> f (inter s s&#39;) i))).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s', s, s''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eqA (<span class="nb">fold</span> f (union s s&#39;) (<span class="nb">fold</span> f (inter s s&#39;) i))
  (<span class="nb">fold</span> f s (<span class="nb">fold</span> f s&#39; i))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">eqA
  (f x (<span class="nb">fold</span> f (union s s&#39;) (<span class="nb">fold</span> f (inter s&#39;&#39; s&#39;) i)))
  (f x (<span class="nb">fold</span> f (union s s&#39;) (<span class="nb">fold</span> f (inter s s&#39;) i)))</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk18a" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s', s, s''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eqA (<span class="nb">fold</span> f (union s s&#39;) (<span class="nb">fold</span> f (inter s s&#39;) i))
  (<span class="nb">fold</span> f s (<span class="nb">fold</span> f s&#39; i))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s&#39;</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk18a"><hr></label><div class="goal-conclusion"><span class="highlight">eqA
  (f x (<span class="nb">fold</span> f (union s s&#39;) (<span class="nb">fold</span> f (inter s s&#39;) i)))
  (<span class="nb">fold</span> f s&#39;&#39; (<span class="nb">fold</span> f s&#39; i))</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk18b" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk18b"><span class="highlight"><span class="nb">apply</span> Comp;<span class="nb">auto with</span> relations.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s', s, s''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eqA (<span class="nb">fold</span> f (union s s&#39;) (<span class="nb">fold</span> f (inter s s&#39;) i))
  (<span class="nb">fold</span> f s (<span class="nb">fold</span> f s&#39; i))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">eqA (<span class="nb">fold</span> f (union s s&#39;) (<span class="nb">fold</span> f (inter s&#39;&#39; s&#39;) i))
  (<span class="nb">fold</span> f (union s s&#39;) (<span class="nb">fold</span> f (inter s s&#39;) i))</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk18c" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s', s, s''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eqA (<span class="nb">fold</span> f (union s s&#39;) (<span class="nb">fold</span> f (inter s s&#39;) i))
  (<span class="nb">fold</span> f s (<span class="nb">fold</span> f s&#39; i))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s&#39;</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk18c"><hr></label><div class="goal-conclusion"><span class="highlight">eqA
  (f x (<span class="nb">fold</span> f (union s s&#39;) (<span class="nb">fold</span> f (inter s s&#39;) i)))
  (<span class="nb">fold</span> f s&#39;&#39; (<span class="nb">fold</span> f s&#39; i))</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk18d" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk18d"><span class="highlight"><span class="nb">apply</span> fold_init;<span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s', s, s''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eqA (<span class="nb">fold</span> f (union s s&#39;) (<span class="nb">fold</span> f (inter s s&#39;) i))
  (<span class="nb">fold</span> f s (<span class="nb">fold</span> f s&#39; i))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">eqA (<span class="nb">fold</span> f (inter s&#39;&#39; s&#39;) i) (<span class="nb">fold</span> f (inter s s&#39;) i)</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk18e" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s', s, s''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eqA (<span class="nb">fold</span> f (union s s&#39;) (<span class="nb">fold</span> f (inter s s&#39;) i))
  (<span class="nb">fold</span> f s (<span class="nb">fold</span> f s&#39; i))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s&#39;</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk18e"><hr></label><div class="goal-conclusion"><span class="highlight">eqA
  (f x (<span class="nb">fold</span> f (union s s&#39;) (<span class="nb">fold</span> f (inter s s&#39;) i)))
  (<span class="nb">fold</span> f s&#39;&#39; (<span class="nb">fold</span> f s&#39; i))</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk18f" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk18f"><span class="highlight"><span class="nb">apply</span> fold_equal;<span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s', s, s''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eqA (<span class="nb">fold</span> f (union s s&#39;) (<span class="nb">fold</span> f (inter s s&#39;) i))
  (<span class="nb">fold</span> f s (<span class="nb">fold</span> f s&#39; i))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">inter s&#39;&#39; s&#39; [=] inter s s&#39;</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk190" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s', s, s''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eqA (<span class="nb">fold</span> f (union s s&#39;) (<span class="nb">fold</span> f (inter s s&#39;) i))
  (<span class="nb">fold</span> f s (<span class="nb">fold</span> f s&#39; i))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s&#39;</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk190"><hr></label><div class="goal-conclusion"><span class="highlight">eqA
  (f x (<span class="nb">fold</span> f (union s s&#39;) (<span class="nb">fold</span> f (inter s s&#39;) i)))
  (<span class="nb">fold</span> f s&#39;&#39; (<span class="nb">fold</span> f s&#39; i))</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk191" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk191"><span class="highlight"><span class="nb">apply</span> equal_sym; <span class="nb">apply</span> inter_Add_2 <span class="kr">with</span> x; <span class="nb">auto with</span> <span class="nb">set</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s', s, s''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eqA (<span class="nb">fold</span> f (union s s&#39;) (<span class="nb">fold</span> f (inter s s&#39;) i))
  (<span class="nb">fold</span> f s (<span class="nb">fold</span> f s&#39; i))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">eqA
  (f x (<span class="nb">fold</span> f (union s s&#39;) (<span class="nb">fold</span> f (inter s s&#39;) i)))
  (<span class="nb">fold</span> f s&#39;&#39; (<span class="nb">fold</span> f s&#39; i))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk192" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk192"><span class="highlight"><span class="nb">transitivity</span> (f x (<span class="nb">fold</span> f s (<span class="nb">fold</span> f s&#39; i))).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s', s, s''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eqA (<span class="nb">fold</span> f (union s s&#39;) (<span class="nb">fold</span> f (inter s s&#39;) i))
  (<span class="nb">fold</span> f s (<span class="nb">fold</span> f s&#39; i))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">eqA
  (f x (<span class="nb">fold</span> f (union s s&#39;) (<span class="nb">fold</span> f (inter s s&#39;) i)))
  (f x (<span class="nb">fold</span> f s (<span class="nb">fold</span> f s&#39; i)))</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk193" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s', s, s''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eqA (<span class="nb">fold</span> f (union s s&#39;) (<span class="nb">fold</span> f (inter s s&#39;) i))
  (<span class="nb">fold</span> f s (<span class="nb">fold</span> f s&#39; i))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s&#39;</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk193"><hr></label><div class="goal-conclusion"><span class="highlight">eqA (f x (<span class="nb">fold</span> f s (<span class="nb">fold</span> f s&#39; i)))
  (<span class="nb">fold</span> f s&#39;&#39; (<span class="nb">fold</span> f s&#39; i))</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk194" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk194"><span class="highlight"><span class="nb">apply</span> Comp; <span class="nb">auto with</span> relations.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s', s, s''</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">eqA (<span class="nb">fold</span> f (union s s&#39;) (<span class="nb">fold</span> f (inter s s&#39;) i))
  (<span class="nb">fold</span> f s (<span class="nb">fold</span> f s&#39; i))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">eqA (f x (<span class="nb">fold</span> f s (<span class="nb">fold</span> f s&#39; i)))
  (<span class="nb">fold</span> f s&#39;&#39; (<span class="nb">fold</span> f s&#39; i))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">symmetry</span>; <span class="nb">apply</span> fold_2 <span class="kr">with</span> (eqA:=eqA); <span class="nb">auto</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk195" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk195"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">fold_diff_inter</span> : <span class="kr">forall</span> <span class="nv">i</span> <span class="nv">s</span> <span class="nv">s&#39;</span>,
   eqA (<span class="nb">fold</span> f (diff s s&#39;) (<span class="nb">fold</span> f (inter s s&#39;) i)) (<span class="nb">fold</span> f s i).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> : A) (<span class="nv">s</span> <span class="nv">s&#39;</span> : t),
eqA (<span class="nb">fold</span> f (diff s s&#39;) (<span class="nb">fold</span> f (inter s s&#39;) i))
  (<span class="nb">fold</span> f s i)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk196" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk196"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> : A) (<span class="nv">s</span> <span class="nv">s&#39;</span> : t),
eqA (<span class="nb">fold</span> f (diff s s&#39;) (<span class="nb">fold</span> f (inter s s&#39;) i))
  (<span class="nb">fold</span> f s i)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk197" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk197"><span class="highlight"><span class="nb">intros</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">eqA (<span class="nb">fold</span> f (diff s s&#39;) (<span class="nb">fold</span> f (inter s s&#39;) i))
  (<span class="nb">fold</span> f s i)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk198" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk198"><span class="highlight"><span class="nb">transitivity</span> (<span class="nb">fold</span> f (union (diff s s&#39;) (inter s s&#39;))
               (<span class="nb">fold</span> f (inter (diff s s&#39;) (inter s s&#39;)) i)).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">eqA (<span class="nb">fold</span> f (diff s s&#39;) (<span class="nb">fold</span> f (inter s s&#39;) i))
  (<span class="nb">fold</span> f (union (diff s s&#39;) (inter s s&#39;))
     (<span class="nb">fold</span> f (inter (diff s s&#39;) (inter s s&#39;)) i))</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk199" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk199"><hr></label><div class="goal-conclusion"><span class="highlight">eqA
  (<span class="nb">fold</span> f (union (diff s s&#39;) (inter s s&#39;))
     (<span class="nb">fold</span> f (inter (diff s s&#39;) (inter s s&#39;)) i))
  (<span class="nb">fold</span> f s i)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk19a" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk19a"><span class="highlight"><span class="nb">symmetry</span>; <span class="nb">apply</span> fold_union_inter; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">eqA
  (<span class="nb">fold</span> f (union (diff s s&#39;) (inter s s&#39;))
     (<span class="nb">fold</span> f (inter (diff s s&#39;) (inter s s&#39;)) i))
  (<span class="nb">fold</span> f s i)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk19b" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk19b"><span class="highlight"><span class="nb">transitivity</span> (<span class="nb">fold</span> f s (<span class="nb">fold</span> f (inter (diff s s&#39;) (inter s s&#39;)) i)).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">eqA
  (<span class="nb">fold</span> f (union (diff s s&#39;) (inter s s&#39;))
     (<span class="nb">fold</span> f (inter (diff s s&#39;) (inter s s&#39;)) i))
  (<span class="nb">fold</span> f s
     (<span class="nb">fold</span> f (inter (diff s s&#39;) (inter s s&#39;)) i))</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk19c" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk19c"><hr></label><div class="goal-conclusion"><span class="highlight">eqA
  (<span class="nb">fold</span> f s
     (<span class="nb">fold</span> f (inter (diff s s&#39;) (inter s s&#39;)) i))
  (<span class="nb">fold</span> f s i)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk19d" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk19d"><span class="highlight"><span class="nb">apply</span> fold_equal; <span class="nb">auto with</span> <span class="nb">set</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">eqA
  (<span class="nb">fold</span> f s
     (<span class="nb">fold</span> f (inter (diff s s&#39;) (inter s s&#39;)) i))
  (<span class="nb">fold</span> f s i)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk19e" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk19e"><span class="highlight"><span class="nb">apply</span> fold_init; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">eqA (<span class="nb">fold</span> f (inter (diff s s&#39;) (inter s s&#39;)) i) i</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">apply</span> fold_1; <span class="nb">auto with</span> <span class="nb">set</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk19f" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk19f"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">fold_union</span>: <span class="kr">forall</span> <span class="nv">i</span> <span class="nv">s</span> <span class="nv">s&#39;</span>,
   (<span class="kr">forall</span> <span class="nv">x</span>, ~(In x s/\In x s&#39;)) -&gt;
   eqA (<span class="nb">fold</span> f (union s s&#39;) i) (<span class="nb">fold</span> f s (<span class="nb">fold</span> f s&#39; i)).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> : A) (<span class="nv">s</span> <span class="nv">s&#39;</span> : t),
(<span class="kr">forall</span> <span class="nv">x</span> : elt, ~ (In x s /\ In x s&#39;)) -&gt;
eqA (<span class="nb">fold</span> f (union s s&#39;) i) (<span class="nb">fold</span> f s (<span class="nb">fold</span> f s&#39; i))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk1a0" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk1a0"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> : A) (<span class="nv">s</span> <span class="nv">s&#39;</span> : t),
(<span class="kr">forall</span> <span class="nv">x</span> : elt, ~ (In x s /\ In x s&#39;)) -&gt;
eqA (<span class="nb">fold</span> f (union s s&#39;) i) (<span class="nb">fold</span> f s (<span class="nb">fold</span> f s&#39; i))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk1a1" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk1a1"><span class="highlight"><span class="nb">intros</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : elt, ~ (In x s /\ In x s&#39;)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">eqA (<span class="nb">fold</span> f (union s s&#39;) i) (<span class="nb">fold</span> f s (<span class="nb">fold</span> f s&#39; i))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk1a2" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk1a2"><span class="highlight"><span class="nb">transitivity</span> (<span class="nb">fold</span> f (union s s&#39;) (<span class="nb">fold</span> f (inter s s&#39;) i)).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : elt, ~ (In x s /\ In x s&#39;)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">eqA (<span class="nb">fold</span> f (union s s&#39;) i)
  (<span class="nb">fold</span> f (union s s&#39;) (<span class="nb">fold</span> f (inter s s&#39;) i))</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk1a3" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : elt, ~ (In x s /\ In x s&#39;)</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk1a3"><hr></label><div class="goal-conclusion"><span class="highlight">eqA (<span class="nb">fold</span> f (union s s&#39;) (<span class="nb">fold</span> f (inter s s&#39;) i))
  (<span class="nb">fold</span> f s (<span class="nb">fold</span> f s&#39; i))</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk1a4" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk1a4"><span class="highlight"><span class="nb">apply</span> fold_init; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : elt, ~ (In x s /\ In x s&#39;)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">eqA i (<span class="nb">fold</span> f (inter s s&#39;) i)</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk1a5" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : elt, ~ (In x s /\ In x s&#39;)</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk1a5"><hr></label><div class="goal-conclusion"><span class="highlight">eqA (<span class="nb">fold</span> f (union s s&#39;) (<span class="nb">fold</span> f (inter s s&#39;) i))
  (<span class="nb">fold</span> f s (<span class="nb">fold</span> f s&#39; i))</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk1a6" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk1a6"><span class="highlight"><span class="nb">symmetry</span>; <span class="nb">apply</span> fold_1; <span class="nb">auto with</span> <span class="nb">set</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : elt, ~ (In x s /\ In x s&#39;)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Empty (inter s s&#39;)</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk1a7" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : elt, ~ (In x s /\ In x s&#39;)</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk1a7"><hr></label><div class="goal-conclusion"><span class="highlight">eqA (<span class="nb">fold</span> f (union s s&#39;) (<span class="nb">fold</span> f (inter s s&#39;) i))
  (<span class="nb">fold</span> f s (<span class="nb">fold</span> f s&#39; i))</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk1a8" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk1a8"><span class="highlight"><span class="nb">unfold</span> Empty; <span class="nb">intro</span> a; <span class="nb">generalize</span> (H a); set_iff; <span class="bp">tauto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ass</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">transpose eqA f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : elt, ~ (In x s /\ In x s&#39;)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">eqA (<span class="nb">fold</span> f (union s s&#39;) (<span class="nb">fold</span> f (inter s s&#39;) i))
  (<span class="nb">fold</span> f s (<span class="nb">fold</span> f s&#39; i))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">apply</span> fold_union_inter; <span class="nb">auto</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">End</span> <span class="nf">Fold_More</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk1a9" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk1a9"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">fold_plus</span> :
   <span class="kr">forall</span> <span class="nv">s</span> <span class="nv">p</span>, <span class="nb">fold</span> (<span class="kr">fun</span> <span class="nv">_</span> =&gt; S) s p = <span class="nb">fold</span> (<span class="kr">fun</span> <span class="nv">_</span> =&gt; S) s <span class="mi">0</span> + p.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">s</span> : t) (<span class="nv">p</span> : nat),
<span class="nb">fold</span> (<span class="kr">fun</span> <span class="nv">_</span> : elt =&gt; S) s p =
<span class="nb">fold</span> (<span class="kr">fun</span> <span class="nv">_</span> : elt =&gt; S) s <span class="mi">0</span> + p</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk1aa" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk1aa"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">s</span> : t) (<span class="nv">p</span> : nat),
<span class="nb">fold</span> (<span class="kr">fun</span> <span class="nv">_</span> : elt =&gt; S) s p =
<span class="nb">fold</span> (<span class="kr">fun</span> <span class="nv">_</span> : elt =&gt; S) s <span class="mi">0</span> + p</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk1ab" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk1ab"><span class="highlight"><span class="nb">intros</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="nb">fold</span> (<span class="kr">fun</span> <span class="nv">_</span> : elt =&gt; S) s p =
<span class="nb">fold</span> (<span class="kr">fun</span> <span class="nv">_</span> : elt =&gt; S) s <span class="mi">0</span> + p</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">apply</span> fold_rel <span class="kr">with</span> (R:=<span class="kr">fun</span> <span class="nv">u</span> <span class="nv">v</span> =&gt; u = v + p); <span class="nb">simpl</span>; <span class="nb">auto</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">End</span> <span class="nf">Fold</span>.</span></span></span></pre><div class="doc">
<a name="lab9"></a><h1 class="section">Cardinal</h1>
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-wsp"><span class="highlight">  </span></span></pre><div class="doc">
<a name="lab10"></a><h2 class="section">Characterization of cardinal in terms of fold</h2>
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-wsp"><span class="highlight">  </span></span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk1ac" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk1ac"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">cardinal_fold</span> : <span class="kr">forall</span> <span class="nv">s</span>, cardinal s = <span class="nb">fold</span> (<span class="kr">fun</span> <span class="nv">_</span> =&gt; S) s <span class="mi">0</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">s</span> : t, cardinal s = <span class="nb">fold</span> (<span class="kr">fun</span> <span class="nv">_</span> : elt =&gt; S) s <span class="mi">0</span></span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk1ad" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk1ad"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">s</span> : t, cardinal s = <span class="nb">fold</span> (<span class="kr">fun</span> <span class="nv">_</span> : elt =&gt; S) s <span class="mi">0</span></span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk1ae" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk1ae"><span class="highlight"><span class="nb">intros</span>; <span class="nb">rewrite</span> cardinal_1; <span class="nb">rewrite</span> FM.fold_1.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">length (elements s) =
fold_left (flip (<span class="kr">fun</span> <span class="nv">_</span> : elt =&gt; S)) (elements s) <span class="mi">0</span></span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">symmetry</span>; <span class="nb">apply</span> fold_left_length; <span class="nb">auto</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span></span></pre><div class="doc">
<a name="lab11"></a><h2 class="section">Old specifications for <span class="inlinecode"><span class="id" title="var">cardinal</span></span>.</h2>
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-wsp"><span class="highlight">  </span></span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk1af" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk1af"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">cardinal_0</span> :
     <span class="kr">forall</span> <span class="nv">s</span>, <span class="kr">exists</span> <span class="nv">l</span> : list elt,
        NoDupA E.eq l /\
        (<span class="kr">forall</span> <span class="nv">x</span> : elt, In x s &lt;-&gt; InA E.eq x l) /\
        cardinal s = length l.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">s</span> : t,
<span class="kr">exists</span> <span class="nv">l</span> : list elt,
  NoDupA E.eq l /\
  (<span class="kr">forall</span> <span class="nv">x</span> : elt, In x s &lt;-&gt; InA E.eq x l) /\
  cardinal s = length l</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk1b0" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk1b0"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">s</span> : t,
<span class="kr">exists</span> <span class="nv">l</span> : list elt,
  NoDupA E.eq l /\
  (<span class="kr">forall</span> <span class="nv">x</span> : elt, In x s &lt;-&gt; InA E.eq x l) /\
  cardinal s = length l</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">intros</span>; <span class="kr">exists</span> (<span class="nv">elements</span> <span class="nv">s</span>); <span class="nb">intuition</span>; <span class="nb">apply</span> cardinal_1.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk1b1" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk1b1"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">cardinal_1</span> : <span class="kr">forall</span> <span class="nv">s</span>, Empty s -&gt; cardinal s = <span class="mi">0</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">s</span> : t, Empty s -&gt; cardinal s = <span class="mi">0</span></span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk1b2" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk1b2"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">s</span> : t, Empty s -&gt; cardinal s = <span class="mi">0</span></span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">intros</span>; <span class="nb">rewrite</span> cardinal_fold; <span class="nb">apply</span> fold_1; <span class="nb">auto with</span> *.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk1b3" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk1b3"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">cardinal_2</span> :
    <span class="kr">forall</span> <span class="nv">s</span> <span class="nv">s&#39;</span> <span class="nv">x</span>, ~ In x s -&gt; <span class="kn">Add</span> x s s&#39; -&gt; cardinal s&#39; = S (cardinal s).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">s</span> <span class="nv">s&#39;</span> : t) (<span class="nv">x</span> : elt),
~ In x s -&gt; <span class="kn">Add</span> x s s&#39; -&gt; cardinal s&#39; = S (cardinal s)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk1b4" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk1b4"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">s</span> <span class="nv">s&#39;</span> : t) (<span class="nv">x</span> : elt),
~ In x s -&gt; <span class="kn">Add</span> x s s&#39; -&gt; cardinal s&#39; = S (cardinal s)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk1b5" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk1b5"><span class="highlight"><span class="nb">intros</span>; <span class="kp">do</span> <span class="mi">2</span> <span class="nb">rewrite</span> cardinal_fold.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="nb">fold</span> (<span class="kr">fun</span> <span class="nv">_</span> : elt =&gt; S) s&#39; <span class="mi">0</span> =
S (<span class="nb">fold</span> (<span class="kr">fun</span> <span class="nv">_</span> : elt =&gt; S) s <span class="mi">0</span>)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk1b6" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk1b6"><span class="highlight"><span class="nb">change</span> S <span class="kr">with</span> ((<span class="kr">fun</span> <span class="nv">_</span> =&gt; S) x).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="nb">fold</span> (<span class="kr">fun</span> <span class="nv">_</span> : elt =&gt; (<span class="kr">fun</span> <span class="nv">_</span> : elt =&gt; S) x) s&#39; <span class="mi">0</span> =
(<span class="kr">fun</span> <span class="nv">_</span> : elt =&gt; S) x
  (<span class="nb">fold</span> (<span class="kr">fun</span> <span class="nv">_</span> : elt =&gt; (<span class="kr">fun</span> <span class="nv">_</span> : elt =&gt; S) x) s <span class="mi">0</span>)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk1b7" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk1b7"><span class="highlight"><span class="nb">apply</span> fold_2; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Equivalence (<span class="kr">fun</span> <span class="nv">n</span> <span class="nv">n0</span> : nat =&gt; n = n0)</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk1b8" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk1b8"><hr></label><div class="goal-conclusion"><span class="highlight">Proper
  (E.eq ==&gt;
   (<span class="kr">fun</span> <span class="nv">n</span> <span class="nv">n0</span> : nat =&gt; n = n0) ==&gt;
   (<span class="kr">fun</span> <span class="nv">n</span> <span class="nv">n0</span> : nat =&gt; n = n0)) (<span class="kr">fun</span> <span class="nv">_</span> : elt =&gt; S)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk1b9" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk1b9"><span class="highlight"><span class="nb">split</span>; <span class="bp">congruence</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Proper
  (E.eq ==&gt;
   (<span class="kr">fun</span> <span class="nv">n</span> <span class="nv">n0</span> : nat =&gt; n = n0) ==&gt;
   (<span class="kr">fun</span> <span class="nv">n</span> <span class="nv">n0</span> : nat =&gt; n = n0)) (<span class="kr">fun</span> <span class="nv">_</span> : elt =&gt; S)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">congruence</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span></span></pre><div class="doc">
<a name="lab12"></a><h2 class="section">Cardinal and (non-)emptiness</h2>
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-wsp"><span class="highlight">  </span></span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk1ba" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk1ba"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">cardinal_Empty</span> : <span class="kr">forall</span> <span class="nv">s</span>, Empty s &lt;-&gt; cardinal s = <span class="mi">0</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">s</span> : t, Empty s &lt;-&gt; cardinal s = <span class="mi">0</span></span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk1bb" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk1bb"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">s</span> : t, Empty s &lt;-&gt; cardinal s = <span class="mi">0</span></span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk1bc" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk1bc"><span class="highlight"><span class="nb">intros</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Empty s &lt;-&gt; cardinal s = <span class="mi">0</span></span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk1bd" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk1bd"><span class="highlight"><span class="nb">rewrite</span> elements_Empty, FM.cardinal_1.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">elements s = nil &lt;-&gt; length (elements s) = <span class="mi">0</span></span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">destruct</span> (elements s); <span class="nb">intuition</span>; <span class="bp">discriminate</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk1be" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk1be"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">cardinal_inv_1</span> : <span class="kr">forall</span> <span class="nv">s</span>, cardinal s = <span class="mi">0</span> -&gt; Empty s.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">s</span> : t, cardinal s = <span class="mi">0</span> -&gt; Empty s</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk1bf" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk1bf"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">s</span> : t, cardinal s = <span class="mi">0</span> -&gt; Empty s</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">intros</span>; <span class="nb">rewrite</span> cardinal_Empty; <span class="nb">auto</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Hint Resolve</span> cardinal_inv_1 : core.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk1c0" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk1c0"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">cardinal_inv_2</span> :
   <span class="kr">forall</span> <span class="nv">s</span> <span class="nv">n</span>, cardinal s = S n -&gt; { x : elt | In x s }.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">s</span> : t) (<span class="nv">n</span> : nat),
cardinal s = S n -&gt; {x : elt | In x s}</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk1c1" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk1c1"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">s</span> : t) (<span class="nv">n</span> : nat),
cardinal s = S n -&gt; {x : elt | In x s}</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk1c2" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk1c2"><span class="highlight"><span class="nb">intros</span>; <span class="nb">rewrite</span> FM.cardinal_1 <span class="kr">in</span> H.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">length (elements s) = S n</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">{x : elt | In x s}</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk1c3" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk1c3"><span class="highlight"><span class="nb">generalize</span> (elements_2 (s:=s)).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">length (elements s) = S n</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="kr">forall</span> <span class="nv">x</span> : elt, InA E.eq x (elements s) -&gt; In x s) -&gt;
{x : elt | In x s}</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk1c4" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk1c4"><span class="highlight"><span class="nb">destruct</span> (elements s); <span class="kp">try</span> <span class="bp">discriminate</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">list elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">length (e :: l) = S n</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="kr">forall</span> <span class="nv">x</span> : elt, InA E.eq x (e :: l) -&gt; In x s) -&gt;
{x : elt | In x s}</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kr">exists</span> <span class="nv">e</span>; <span class="nb">auto with</span> relations.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk1c5" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk1c5"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">cardinal_inv_2b</span> :
   <span class="kr">forall</span> <span class="nv">s</span>, cardinal s &lt;&gt; <span class="mi">0</span> -&gt; { x : elt | In x s }.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">s</span> : t, cardinal s &lt;&gt; <span class="mi">0</span> -&gt; {x : elt | In x s}</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk1c6" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk1c6"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">s</span> : t, cardinal s &lt;&gt; <span class="mi">0</span> -&gt; {x : elt | In x s}</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">intro</span>; <span class="nb">generalize</span> (@cardinal_inv_2 s); <span class="nb">destruct</span> cardinal;
   [<span class="nb">intuition</span>|<span class="nb">eauto</span>].</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span></span></pre><div class="doc">
<a name="lab13"></a><h2 class="section">Cardinal is a morphism</h2>
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-wsp"><span class="highlight">  </span></span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk1c7" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk1c7"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">Equal_cardinal</span> : <span class="kr">forall</span> <span class="nv">s</span> <span class="nv">s&#39;</span>, s[=]s&#39; -&gt; cardinal s = cardinal s&#39;.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">s</span> <span class="nv">s&#39;</span> : t, s [=] s&#39; -&gt; cardinal s = cardinal s&#39;</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk1c8" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk1c8"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">s</span> <span class="nv">s&#39;</span> : t, s [=] s&#39; -&gt; cardinal s = cardinal s&#39;</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk1c9" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk1c9"><span class="highlight"><span class="nb">symmetry</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">s [=] s&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">cardinal s&#39; = cardinal s</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk1ca" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk1ca"><span class="highlight"><span class="nb">remember</span> (cardinal s) <span class="kr">as</span> n; <span class="nb">symmetry in</span> Heqn; <span class="nb">revert</span> s s&#39; Heqn H.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">s</span> <span class="nv">s&#39;</span> : t,
cardinal s = n -&gt; s [=] s&#39; -&gt; cardinal s&#39; = n</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk1cb" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk1cb"><span class="highlight"><span class="nb">induction</span> n; <span class="nb">intros</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heqn</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">cardinal s = <span class="mi">0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">s [=] s&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">cardinal s&#39; = <span class="mi">0</span></span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk1cc" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHn</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> <span class="nv">s&#39;0</span> : t,
cardinal s0 = n -&gt;
s0 [=] s&#39;0 -&gt; cardinal s&#39;0 = n</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heqn</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">cardinal s = S n</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">s [=] s&#39;</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk1cc"><hr></label><div class="goal-conclusion"><span class="highlight">cardinal s&#39; = S n</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk1cd" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk1cd"><span class="highlight"><span class="nb">apply</span> cardinal_1; <span class="nb">rewrite</span> &lt;- H; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHn</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> <span class="nv">s&#39;0</span> : t, cardinal s0 = n -&gt; s0 [=] s&#39;0 -&gt; cardinal s&#39;0 = n</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heqn</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">cardinal s = S n</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">s [=] s&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">cardinal s&#39; = S n</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk1ce" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk1ce"><span class="highlight"><span class="nb">destruct</span> (cardinal_inv_2 Heqn) <span class="kr">as</span> (x,H2).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHn</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> <span class="nv">s&#39;0</span> : t, cardinal s0 = n -&gt; s0 [=] s&#39;0 -&gt; cardinal s&#39;0 = n</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heqn</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">cardinal s = S n</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">s [=] s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In x s</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">cardinal s&#39; = S n</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk1cf" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk1cf"><span class="highlight"><span class="nb">revert</span> Heqn.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHn</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> <span class="nv">s&#39;0</span> : t, cardinal s0 = n -&gt; s0 [=] s&#39;0 -&gt; cardinal s&#39;0 = n</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">s [=] s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In x s</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">cardinal s = S n -&gt; cardinal s&#39; = S n</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk1d0" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk1d0"><span class="highlight"><span class="nb">rewrite</span> (cardinal_2 (s:=remove x s) (s&#39;:=s) (x:=x));
   <span class="nb">auto with</span> <span class="nb">set</span> relations.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHn</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> <span class="nv">s&#39;0</span> : t, cardinal s0 = n -&gt; s0 [=] s&#39;0 -&gt; cardinal s&#39;0 = n</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">s [=] s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In x s</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">S (cardinal (remove x s)) = S n -&gt; cardinal s&#39; = S n</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">rewrite</span> (cardinal_2 (s:=remove x s&#39;) (s&#39;:=s&#39;) (x:=x));
   <span class="nb">eauto with</span> <span class="nb">set</span> relations.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk1d1" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk1d1"><span class="highlight"><span class="kn">Instance</span> <span class="nf">cardinal_m</span> : Proper (Equal==&gt;Logic.eq) cardinal.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Proper (Equal ==&gt; Logic.eq) cardinal</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk1d2" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk1d2"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Proper (Equal ==&gt; Logic.eq) cardinal</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">exact</span> Equal_cardinal.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Hint Resolve</span> Add_add Add_remove Equal_remove cardinal_inv_1 Equal_cardinal : core.</span></span></span></pre><div class="doc">
<a name="lab14"></a><h2 class="section">Cardinal and set operators</h2>
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-wsp"><span class="highlight">  </span></span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk1d3" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk1d3"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">empty_cardinal</span> : cardinal empty = <span class="mi">0</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">cardinal empty = <span class="mi">0</span></span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk1d4" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk1d4"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">cardinal empty = <span class="mi">0</span></span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">rewrite</span> cardinal_fold; <span class="nb">apply</span> fold_1; <span class="nb">auto with</span> *.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Hint Immediate</span> empty_cardinal cardinal_1 : <span class="nb">set</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk1d5" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk1d5"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">singleton_cardinal</span> : <span class="kr">forall</span> <span class="nv">x</span>, cardinal (singleton x) = <span class="mi">1</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : elt, cardinal (singleton x) = <span class="mi">1</span></span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk1d6" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk1d6"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : elt, cardinal (singleton x) = <span class="mi">1</span></span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk1d7" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk1d7"><span class="highlight"><span class="nb">intros</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">cardinal (singleton x) = <span class="mi">1</span></span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk1d8" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk1d8"><span class="highlight"><span class="nb">rewrite</span> (singleton_equal_add x).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">cardinal (add x empty) = <span class="mi">1</span></span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk1d9" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk1d9"><span class="highlight"><span class="nb">replace</span> <span class="mi">0</span> <span class="kr">with</span> (cardinal empty); <span class="nb">auto with</span> <span class="nb">set</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">cardinal (add x empty) = S (cardinal empty)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">apply</span> cardinal_2 <span class="kr">with</span> x; <span class="nb">auto with</span> <span class="nb">set</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Hint Resolve</span> singleton_cardinal: <span class="nb">set</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk1da" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk1da"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">diff_inter_cardinal</span> :
   <span class="kr">forall</span> <span class="nv">s</span> <span class="nv">s&#39;</span>, cardinal (diff s s&#39;) + cardinal (inter s s&#39;) = cardinal s .</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">s</span> <span class="nv">s&#39;</span> : t,
cardinal (diff s s&#39;) + cardinal (inter s s&#39;) =
cardinal s</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk1db" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk1db"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">s</span> <span class="nv">s&#39;</span> : t,
cardinal (diff s s&#39;) + cardinal (inter s s&#39;) =
cardinal s</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk1dc" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk1dc"><span class="highlight"><span class="nb">intros</span>; <span class="kp">do</span> <span class="mi">3</span> <span class="nb">rewrite</span> cardinal_fold.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="nb">fold</span> (<span class="kr">fun</span> <span class="nv">_</span> : elt =&gt; S) (diff s s&#39;) <span class="mi">0</span> +
<span class="nb">fold</span> (<span class="kr">fun</span> <span class="nv">_</span> : elt =&gt; S) (inter s s&#39;) <span class="mi">0</span> =
<span class="nb">fold</span> (<span class="kr">fun</span> <span class="nv">_</span> : elt =&gt; S) s <span class="mi">0</span></span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk1dd" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk1dd"><span class="highlight"><span class="nb">rewrite</span> &lt;- fold_plus.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="nb">fold</span> (<span class="kr">fun</span> <span class="nv">_</span> : elt =&gt; S) (diff s s&#39;)
  (<span class="nb">fold</span> (<span class="kr">fun</span> <span class="nv">_</span> : elt =&gt; S) (inter s s&#39;) <span class="mi">0</span>) =
<span class="nb">fold</span> (<span class="kr">fun</span> <span class="nv">_</span> : elt =&gt; S) s <span class="mi">0</span></span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk1de" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk1de"><span class="highlight"><span class="nb">apply</span> fold_diff_inter <span class="kr">with</span> (eqA:=@Logic.eq nat); <span class="nb">auto with</span> *.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Proper (E.eq ==&gt; Logic.eq ==&gt; Logic.eq)
  (<span class="kr">fun</span> <span class="nv">_</span> : elt =&gt; S)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">congruence</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk1df" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk1df"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">union_cardinal</span>:
   <span class="kr">forall</span> <span class="nv">s</span> <span class="nv">s&#39;</span>, (<span class="kr">forall</span> <span class="nv">x</span>, ~(In x s/\In x s&#39;)) -&gt;
   cardinal (union s s&#39;)=cardinal s+cardinal s&#39;.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">s</span> <span class="nv">s&#39;</span> : t,
(<span class="kr">forall</span> <span class="nv">x</span> : elt, ~ (In x s /\ In x s&#39;)) -&gt;
cardinal (union s s&#39;) = cardinal s + cardinal s&#39;</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk1e0" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk1e0"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">s</span> <span class="nv">s&#39;</span> : t,
(<span class="kr">forall</span> <span class="nv">x</span> : elt, ~ (In x s /\ In x s&#39;)) -&gt;
cardinal (union s s&#39;) = cardinal s + cardinal s&#39;</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk1e1" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk1e1"><span class="highlight"><span class="nb">intros</span>; <span class="kp">do</span> <span class="mi">3</span> <span class="nb">rewrite</span> cardinal_fold.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : elt, ~ (In x s /\ In x s&#39;)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="nb">fold</span> (<span class="kr">fun</span> <span class="nv">_</span> : elt =&gt; S) (union s s&#39;) <span class="mi">0</span> =
<span class="nb">fold</span> (<span class="kr">fun</span> <span class="nv">_</span> : elt =&gt; S) s <span class="mi">0</span> +
<span class="nb">fold</span> (<span class="kr">fun</span> <span class="nv">_</span> : elt =&gt; S) s&#39; <span class="mi">0</span></span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk1e2" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk1e2"><span class="highlight"><span class="nb">rewrite</span> &lt;- fold_plus.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : elt, ~ (In x s /\ In x s&#39;)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="nb">fold</span> (<span class="kr">fun</span> <span class="nv">_</span> : elt =&gt; S) (union s s&#39;) <span class="mi">0</span> =
<span class="nb">fold</span> (<span class="kr">fun</span> <span class="nv">_</span> : elt =&gt; S) s
  (<span class="nb">fold</span> (<span class="kr">fun</span> <span class="nv">_</span> : elt =&gt; S) s&#39; <span class="mi">0</span>)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk1e3" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk1e3"><span class="highlight"><span class="nb">apply</span> fold_union; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : elt, ~ (In x s /\ In x s&#39;)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Equivalence (<span class="kr">fun</span> <span class="nv">n</span> <span class="nv">n0</span> : nat =&gt; n = n0)</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk1e4" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : elt, ~ (In x s /\ In x s&#39;)</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk1e4"><hr></label><div class="goal-conclusion"><span class="highlight">Proper
  (E.eq ==&gt;
   (<span class="kr">fun</span> <span class="nv">n</span> <span class="nv">n0</span> : nat =&gt; n = n0) ==&gt;
   (<span class="kr">fun</span> <span class="nv">n</span> <span class="nv">n0</span> : nat =&gt; n = n0)) (<span class="kr">fun</span> <span class="nv">_</span> : elt =&gt; S)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk1e5" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk1e5"><span class="highlight"><span class="nb">split</span>; <span class="bp">congruence</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : elt, ~ (In x s /\ In x s&#39;)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Proper
  (E.eq ==&gt;
   (<span class="kr">fun</span> <span class="nv">n</span> <span class="nv">n0</span> : nat =&gt; n = n0) ==&gt;
   (<span class="kr">fun</span> <span class="nv">n</span> <span class="nv">n0</span> : nat =&gt; n = n0)) (<span class="kr">fun</span> <span class="nv">_</span> : elt =&gt; S)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">congruence</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk1e6" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk1e6"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">subset_cardinal</span> :
   <span class="kr">forall</span> <span class="nv">s</span> <span class="nv">s&#39;</span>, s[&lt;=]s&#39; -&gt; cardinal s &lt;= cardinal s&#39; .</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">s</span> <span class="nv">s&#39;</span> : t,
s [&lt;=] s&#39; -&gt; cardinal s &lt;= cardinal s&#39;</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk1e7" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk1e7"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">s</span> <span class="nv">s&#39;</span> : t,
s [&lt;=] s&#39; -&gt; cardinal s &lt;= cardinal s&#39;</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk1e8" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk1e8"><span class="highlight"><span class="nb">intros</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">s [&lt;=] s&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">cardinal s &lt;= cardinal s&#39;</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk1e9" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk1e9"><span class="highlight"><span class="nb">rewrite</span> &lt;- (diff_inter_cardinal s&#39; s).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">s [&lt;=] s&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">cardinal s &lt;=
cardinal (diff s&#39; s) + cardinal (inter s&#39; s)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk1ea" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk1ea"><span class="highlight"><span class="nb">rewrite</span> (inter_sym s&#39; s).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">s [&lt;=] s&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">cardinal s &lt;=
cardinal (diff s&#39; s) + cardinal (inter s s&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">rewrite</span> (inter_subset_equal H); <span class="nb">auto with</span> arith.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk1eb" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk1eb"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">subset_cardinal_lt</span> :
   <span class="kr">forall</span> <span class="nv">s</span> <span class="nv">s&#39;</span> <span class="nv">x</span>, s[&lt;=]s&#39; -&gt; In x s&#39; -&gt; ~In x s -&gt; cardinal s &lt; cardinal s&#39;.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">s</span> <span class="nv">s&#39;</span> : t) (<span class="nv">x</span> : elt),
s [&lt;=] s&#39; -&gt;
In x s&#39; -&gt; ~ In x s -&gt; cardinal s &lt; cardinal s&#39;</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk1ec" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk1ec"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">s</span> <span class="nv">s&#39;</span> : t) (<span class="nv">x</span> : elt),
s [&lt;=] s&#39; -&gt;
In x s&#39; -&gt; ~ In x s -&gt; cardinal s &lt; cardinal s&#39;</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk1ed" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk1ed"><span class="highlight"><span class="nb">intros</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">s [&lt;=] s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In x s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">cardinal s &lt; cardinal s&#39;</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk1ee" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk1ee"><span class="highlight"><span class="nb">rewrite</span> &lt;- (diff_inter_cardinal s&#39; s).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">s [&lt;=] s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In x s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">cardinal s &lt;
cardinal (diff s&#39; s) + cardinal (inter s&#39; s)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk1ef" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk1ef"><span class="highlight"><span class="nb">rewrite</span> (inter_sym s&#39; s).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">s [&lt;=] s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In x s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">cardinal s &lt;
cardinal (diff s&#39; s) + cardinal (inter s s&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk1f0" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk1f0"><span class="highlight"><span class="nb">rewrite</span> (inter_subset_equal H).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">s [&lt;=] s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In x s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">cardinal s &lt; cardinal (diff s&#39; s) + cardinal s</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk1f1" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk1f1"><span class="highlight"><span class="nb">generalize</span> (@cardinal_inv_1 (diff s&#39; s)).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">s [&lt;=] s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In x s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(cardinal (diff s&#39; s) = <span class="mi">0</span> -&gt; Empty (diff s&#39; s)) -&gt;
cardinal s &lt; cardinal (diff s&#39; s) + cardinal s</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk1f2" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk1f2"><span class="highlight"><span class="nb">destruct</span> (cardinal (diff s&#39; s)).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">s [&lt;=] s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In x s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="mi">0</span> = <span class="mi">0</span> -&gt; Empty (diff s&#39; s)) -&gt;
cardinal s &lt; <span class="mi">0</span> + cardinal s</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk1f3" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">s [&lt;=] s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In x s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk1f3"><hr></label><div class="goal-conclusion"><span class="highlight">(S n = <span class="mi">0</span> -&gt; Empty (diff s&#39; s)) -&gt;
cardinal s &lt; S n + cardinal s</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk1f4" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk1f4"><span class="highlight"><span class="nb">intro</span> H2; <span class="nb">destruct</span> (H2 (eq_refl _) x).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">s [&lt;=] s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In x s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> = <span class="mi">0</span> -&gt; Empty (diff s&#39; s)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">In x (diff s&#39; s)</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk1f5" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">s [&lt;=] s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In x s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk1f5"><hr></label><div class="goal-conclusion"><span class="highlight">(S n = <span class="mi">0</span> -&gt; Empty (diff s&#39; s)) -&gt;
cardinal s &lt; S n + cardinal s</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk1f6" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk1f6"><span class="highlight">set_iff; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">s [&lt;=] s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In x s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(S n = <span class="mi">0</span> -&gt; Empty (diff s&#39; s)) -&gt;
cardinal s &lt; S n + cardinal s</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk1f7" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk1f7"><span class="highlight"><span class="nb">intros</span> _.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">s [&lt;=] s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In x s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">cardinal s &lt; S n + cardinal s</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk1f8" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk1f8"><span class="highlight"><span class="nb">change</span> (<span class="mi">0</span> + cardinal s &lt; S n + cardinal s).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">s [&lt;=] s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In x s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">0</span> + cardinal s &lt; S n + cardinal s</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">apply</span> Plus.plus_lt_le_compat; <span class="nb">auto with</span> arith.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk1f9" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk1f9"><span class="highlight"><span class="kn">Theorem</span> <span class="nf">union_inter_cardinal</span> :
   <span class="kr">forall</span> <span class="nv">s</span> <span class="nv">s&#39;</span>, cardinal (union s s&#39;) + cardinal (inter s s&#39;)  = cardinal s  + cardinal s&#39; .</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">s</span> <span class="nv">s&#39;</span> : t,
cardinal (union s s&#39;) + cardinal (inter s s&#39;) =
cardinal s + cardinal s&#39;</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk1fa" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk1fa"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">s</span> <span class="nv">s&#39;</span> : t,
cardinal (union s s&#39;) + cardinal (inter s s&#39;) =
cardinal s + cardinal s&#39;</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk1fb" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk1fb"><span class="highlight"><span class="nb">intros</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">cardinal (union s s&#39;) + cardinal (inter s s&#39;) =
cardinal s + cardinal s&#39;</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk1fc" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk1fc"><span class="highlight"><span class="kp">do</span> <span class="mi">4</span> <span class="nb">rewrite</span> cardinal_fold.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="nb">fold</span> (<span class="kr">fun</span> <span class="nv">_</span> : elt =&gt; S) (union s s&#39;) <span class="mi">0</span> +
<span class="nb">fold</span> (<span class="kr">fun</span> <span class="nv">_</span> : elt =&gt; S) (inter s s&#39;) <span class="mi">0</span> =
<span class="nb">fold</span> (<span class="kr">fun</span> <span class="nv">_</span> : elt =&gt; S) s <span class="mi">0</span> +
<span class="nb">fold</span> (<span class="kr">fun</span> <span class="nv">_</span> : elt =&gt; S) s&#39; <span class="mi">0</span></span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk1fd" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk1fd"><span class="highlight"><span class="kp">do</span> <span class="mi">2</span> <span class="nb">rewrite</span> &lt;- fold_plus.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="nb">fold</span> (<span class="kr">fun</span> <span class="nv">_</span> : elt =&gt; S) (union s s&#39;)
  (<span class="nb">fold</span> (<span class="kr">fun</span> <span class="nv">_</span> : elt =&gt; S) (inter s s&#39;) <span class="mi">0</span>) =
<span class="nb">fold</span> (<span class="kr">fun</span> <span class="nv">_</span> : elt =&gt; S) s
  (<span class="nb">fold</span> (<span class="kr">fun</span> <span class="nv">_</span> : elt =&gt; S) s&#39; <span class="mi">0</span>)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk1fe" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk1fe"><span class="highlight"><span class="nb">apply</span> fold_union_inter <span class="kr">with</span> (eqA:=@Logic.eq nat); <span class="nb">auto with</span> *.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Proper (E.eq ==&gt; Logic.eq ==&gt; Logic.eq)
  (<span class="kr">fun</span> <span class="nv">_</span> : elt =&gt; S)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">congruence</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk1ff" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk1ff"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">union_cardinal_inter</span> :
   <span class="kr">forall</span> <span class="nv">s</span> <span class="nv">s&#39;</span>, cardinal (union s s&#39;) = cardinal s + cardinal s&#39; - cardinal (inter s s&#39;).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">s</span> <span class="nv">s&#39;</span> : t,
cardinal (union s s&#39;) =
cardinal s + cardinal s&#39; - cardinal (inter s s&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk200" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk200"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">s</span> <span class="nv">s&#39;</span> : t,
cardinal (union s s&#39;) =
cardinal s + cardinal s&#39; - cardinal (inter s s&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk201" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk201"><span class="highlight"><span class="nb">intros</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">cardinal (union s s&#39;) =
cardinal s + cardinal s&#39; - cardinal (inter s s&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk202" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk202"><span class="highlight"><span class="nb">rewrite</span> &lt;- union_inter_cardinal.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">cardinal (union s s&#39;) =
cardinal (union s s&#39;) + cardinal (inter s s&#39;) -
cardinal (inter s s&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk203" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk203"><span class="highlight"><span class="nb">rewrite</span> Plus.plus_comm.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">cardinal (union s s&#39;) =
cardinal (inter s s&#39;) + cardinal (union s s&#39;) -
cardinal (inter s s&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">auto with</span> arith.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk204" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk204"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">union_cardinal_le</span> :
   <span class="kr">forall</span> <span class="nv">s</span> <span class="nv">s&#39;</span>, cardinal (union s s&#39;) &lt;= cardinal s  + cardinal s&#39;.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">s</span> <span class="nv">s&#39;</span> : t,
cardinal (union s s&#39;) &lt;= cardinal s + cardinal s&#39;</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk205" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk205"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">s</span> <span class="nv">s&#39;</span> : t,
cardinal (union s s&#39;) &lt;= cardinal s + cardinal s&#39;</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk206" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk206"><span class="highlight"><span class="nb">intros</span>; <span class="nb">generalize</span> (union_inter_cardinal s s&#39;).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">cardinal (union s s&#39;) + cardinal (inter s s&#39;) =
cardinal s + cardinal s&#39; -&gt;
cardinal (union s s&#39;) &lt;= cardinal s + cardinal s&#39;</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">intros</span>; <span class="nb">rewrite</span> &lt;- H; <span class="nb">auto with</span> arith.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk207" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk207"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">add_cardinal_1</span> :
   <span class="kr">forall</span> <span class="nv">s</span> <span class="nv">x</span>, In x s -&gt; cardinal (add x s) = cardinal s.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">s</span> : t) (<span class="nv">x</span> : elt),
In x s -&gt; cardinal (add x s) = cardinal s</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk208" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk208"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">s</span> : t) (<span class="nv">x</span> : elt),
In x s -&gt; cardinal (add x s) = cardinal s</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">auto with</span> <span class="nb">set</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk209" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk209"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">add_cardinal_2</span> :
   <span class="kr">forall</span> <span class="nv">s</span> <span class="nv">x</span>, ~In x s -&gt; cardinal (add x s) = S (cardinal s).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">s</span> : t) (<span class="nv">x</span> : elt),
~ In x s -&gt; cardinal (add x s) = S (cardinal s)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk20a" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk20a"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">s</span> : t) (<span class="nv">x</span> : elt),
~ In x s -&gt; cardinal (add x s) = S (cardinal s)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk20b" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk20b"><span class="highlight"><span class="nb">intros</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">cardinal (add x s) = S (cardinal s)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk20c" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk20c"><span class="highlight"><span class="kp">do</span> <span class="mi">2</span> <span class="nb">rewrite</span> cardinal_fold.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="nb">fold</span> (<span class="kr">fun</span> <span class="nv">_</span> : elt =&gt; S) (add x s) <span class="mi">0</span> =
S (<span class="nb">fold</span> (<span class="kr">fun</span> <span class="nv">_</span> : elt =&gt; S) s <span class="mi">0</span>)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk20d" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk20d"><span class="highlight"><span class="nb">change</span> S <span class="kr">with</span> ((<span class="kr">fun</span> <span class="nv">_</span> =&gt; S) x);
   <span class="nb">apply</span> fold_add <span class="kr">with</span> (eqA:=@Logic.eq nat); <span class="nb">auto with</span> *.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Proper (E.eq ==&gt; Logic.eq ==&gt; Logic.eq)
  (<span class="kr">fun</span> <span class="nv">_</span> : elt =&gt; S)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">congruence</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk20e" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk20e"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">remove_cardinal_1</span> :
   <span class="kr">forall</span> <span class="nv">s</span> <span class="nv">x</span>, In x s -&gt; S (cardinal (remove x s)) = cardinal s.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">s</span> : t) (<span class="nv">x</span> : elt),
In x s -&gt; S (cardinal (remove x s)) = cardinal s</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk20f" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk20f"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">s</span> : t) (<span class="nv">x</span> : elt),
In x s -&gt; S (cardinal (remove x s)) = cardinal s</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk210" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk210"><span class="highlight"><span class="nb">intros</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In x s</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">S (cardinal (remove x s)) = cardinal s</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk211" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk211"><span class="highlight"><span class="kp">do</span> <span class="mi">2</span> <span class="nb">rewrite</span> cardinal_fold.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In x s</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">S (<span class="nb">fold</span> (<span class="kr">fun</span> <span class="nv">_</span> : elt =&gt; S) (remove x s) <span class="mi">0</span>) =
<span class="nb">fold</span> (<span class="kr">fun</span> <span class="nv">_</span> : elt =&gt; S) s <span class="mi">0</span></span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk212" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk212"><span class="highlight"><span class="nb">change</span> S <span class="kr">with</span> ((<span class="kr">fun</span> <span class="nv">_</span> =&gt;S) x).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In x s</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="kr">fun</span> <span class="nv">_</span> : elt =&gt; S) x
  (<span class="nb">fold</span> (<span class="kr">fun</span> <span class="nv">_</span> : elt =&gt; (<span class="kr">fun</span> <span class="nv">_</span> : elt =&gt; S) x)
     (remove x s) <span class="mi">0</span>) =
<span class="nb">fold</span> (<span class="kr">fun</span> <span class="nv">_</span> : elt =&gt; (<span class="kr">fun</span> <span class="nv">_</span> : elt =&gt; S) x) s <span class="mi">0</span></span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk213" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk213"><span class="highlight"><span class="nb">apply</span> remove_fold_1 <span class="kr">with</span> (eqA:=@Logic.eq nat); <span class="nb">auto with</span> *.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In x s</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Proper (E.eq ==&gt; Logic.eq ==&gt; Logic.eq)
  (<span class="kr">fun</span> <span class="nv">_</span> : elt =&gt; S)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">congruence</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk214" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk214"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">remove_cardinal_2</span> :
   <span class="kr">forall</span> <span class="nv">s</span> <span class="nv">x</span>, ~In x s -&gt; cardinal (remove x s) = cardinal s.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">s</span> : t) (<span class="nv">x</span> : elt),
~ In x s -&gt; cardinal (remove x s) = cardinal s</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk215" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk215"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">s</span> : t) (<span class="nv">x</span> : elt),
~ In x s -&gt; cardinal (remove x s) = cardinal s</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">auto with</span> <span class="nb">set</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Hint Resolve</span> subset_cardinal union_cardinal add_cardinal_1 add_cardinal_2 : core.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">End</span> <span class="nf">WPropertiesOn</span>.</span></span></span></pre><div class="doc">
Now comes variants for self-contained weak sets and for full sets.
    For these variants, only one argument is necessary. Thanks to
    the subtyping <span class="inlinecode"><span class="id" title="var">WS</span>‚â§<span class="id" title="var">S</span></span>, the <span class="inlinecode"><span class="id" title="var">Properties</span></span> functor which is meant to be
    used on modules <span class="inlinecode">(<span class="id" title="var">M</span>:<span class="id" title="var">S</span>)</span> can simply be an alias of <span class="inlinecode"><span class="id" title="var">WProperties</span></span>. 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Module</span> <span class="nf">WProperties</span> (M:WSets) := WPropertiesOn M.E M.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Module</span> <span class="nf">Properties</span> := WProperties.</span></span></span></pre><div class="doc">
Now comes some properties specific to the element ordering,
    invalid for Weak Sets. 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Module</span> <span class="nf">OrdProperties</span> (M:Sets).</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Module</span> <span class="nf">Import</span> ME:=OrderedTypeFacts(M.E).</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Module</span> <span class="nf">Import</span> ML:=OrderedTypeLists(M.E).</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Module</span> <span class="nf">Import</span> P := Properties M.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Import</span> FM.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Import</span> M.E.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Import</span> M.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Hint Resolve</span> elements_spec2 : core.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Hint Immediate</span>
    min_elt_spec1 min_elt_spec2 min_elt_spec3
    max_elt_spec1 max_elt_spec2 max_elt_spec3 : <span class="nb">set</span>.</span></span></span></pre><div class="doc">
First, a specialized version of SortA_equivlistA_eqlistA: 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-wsp"><span class="highlight">  </span></span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk216" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk216"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">sort_equivlistA_eqlistA</span> : <span class="kr">forall</span> <span class="nv">l</span> <span class="nv">l&#39;</span> : list elt,
   sort E.lt l -&gt; sort E.lt l&#39; -&gt; equivlistA E.eq l l&#39; -&gt; eqlistA E.eq l l&#39;.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">l</span> <span class="nv">l&#39;</span> : list elt,
Sorted E.lt l -&gt;
Sorted E.lt l&#39; -&gt;
equivlistA E.eq l l&#39; -&gt; eqlistA E.eq l l&#39;</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk217" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk217"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">l</span> <span class="nv">l&#39;</span> : list elt,
Sorted E.lt l -&gt;
Sorted E.lt l&#39; -&gt;
equivlistA E.eq l l&#39; -&gt; eqlistA E.eq l l&#39;</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">apply</span> SortA_equivlistA_eqlistA; <span class="nb">eauto with</span> *.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">gtb</span> <span class="nv">x</span> <span class="nv">y</span> := <span class="kr">match</span> E.<span class="nb">compare</span> x y <span class="kr">with</span> Gt =&gt; true | _ =&gt; false <span class="kr">end</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">leb</span> <span class="nv">x</span> := <span class="kr">fun</span> <span class="nv">y</span> =&gt; negb (gtb x y).</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">elements_lt</span> <span class="nv">x</span> <span class="nv">s</span> := List.filter (gtb x) (elements s).</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">elements_ge</span> <span class="nv">x</span> <span class="nv">s</span> := List.filter (leb x) (elements s).</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk218" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk218"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">gtb_1</span> : <span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span>, gtb x y = true &lt;-&gt; E.lt y x.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : E.t, gtb x y = true &lt;-&gt; E.lt y x</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk219" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk219"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : E.t, gtb x y = true &lt;-&gt; E.lt y x</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk21a" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk21a"><span class="highlight"><span class="nb">intros</span>; <span class="nb">rewrite</span> &lt;- compare_gt_iff.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x, y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.t</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">gtb x y = true &lt;-&gt; E.<span class="nb">compare</span> x y = Gt</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk21b" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk21b"><span class="highlight"><span class="nb">unfold</span> gtb.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x, y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.t</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">match</span> E.<span class="nb">compare</span> x y <span class="kr">with</span>
| Gt =&gt; true
| _ =&gt; false
<span class="kr">end</span> = true &lt;-&gt; E.<span class="nb">compare</span> x y = Gt</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">destruct</span> E.<span class="nb">compare</span>; <span class="nb">intuition</span>; <span class="kp">try</span> <span class="bp">discriminate</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk21c" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk21c"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">leb_1</span> : <span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span>, leb x y = true &lt;-&gt; ~E.lt y x.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : E.t, leb x y = true &lt;-&gt; ~ E.lt y x</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk21d" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk21d"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : E.t, leb x y = true &lt;-&gt; ~ E.lt y x</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk21e" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk21e"><span class="highlight"><span class="nb">intros</span>; <span class="nb">rewrite</span> &lt;- compare_gt_iff.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x, y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.t</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">leb x y = true &lt;-&gt; E.<span class="nb">compare</span> x y &lt;&gt; Gt</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk21f" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk21f"><span class="highlight"><span class="nb">unfold</span> leb, gtb.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x, y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.t</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">negb
  <span class="kr">match</span> E.<span class="nb">compare</span> x y <span class="kr">with</span>
  | Gt =&gt; true
  | _ =&gt; false
  <span class="kr">end</span> = true &lt;-&gt; E.<span class="nb">compare</span> x y &lt;&gt; Gt</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">destruct</span> E.<span class="nb">compare</span>; <span class="nb">intuition</span>; <span class="kp">try</span> <span class="bp">discriminate</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk220" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk220"><span class="highlight"><span class="kn">Instance</span> <span class="nf">gtb_compat</span> <span class="nv">x</span> : Proper (E.eq==&gt;Logic.eq) (gtb x).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.t</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Proper (E.eq ==&gt; Logic.eq) (gtb x)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk221" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk221"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.t</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Proper (E.eq ==&gt; Logic.eq) (gtb x)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk222" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk222"><span class="highlight"><span class="nb">intros</span> a b H.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x, a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.eq a b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">gtb x a = gtb x b</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk223" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk223"><span class="highlight"><span class="nb">unfold</span> gtb.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x, a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.eq a b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">match</span> E.<span class="nb">compare</span> x a <span class="kr">with</span>
| Gt =&gt; true
| _ =&gt; false
<span class="kr">end</span> =
<span class="kr">match</span> E.<span class="nb">compare</span> x b <span class="kr">with</span>
| Gt =&gt; true
| _ =&gt; false
<span class="kr">end</span></span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">rewrite</span> H; <span class="nb">auto</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk224" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk224"><span class="highlight"><span class="kn">Instance</span> <span class="nf">leb_compat</span> <span class="nv">x</span> : Proper (E.eq==&gt;Logic.eq) (leb x).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.t</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Proper (E.eq ==&gt; Logic.eq) (leb x)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk225" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk225"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.t</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Proper (E.eq ==&gt; Logic.eq) (leb x)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk226" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk226"><span class="highlight"><span class="nb">intros</span> a b H; <span class="nb">unfold</span> leb.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x, a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.eq a b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">negb (gtb x a) = negb (gtb x b)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">rewrite</span> H; <span class="nb">auto</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Hint Resolve</span> gtb_compat leb_compat : core.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk227" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk227"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">elements_split</span> : <span class="kr">forall</span> <span class="nv">x</span> <span class="nv">s</span>,
   elements s = elements_lt x s ++ elements_ge x s.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">x</span> : E.t) (<span class="nv">s</span> : t),
elements s = elements_lt x s ++ elements_ge x s</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk228" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk228"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">x</span> : E.t) (<span class="nv">s</span> : t),
elements s = elements_lt x s ++ elements_ge x s</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk229" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk229"><span class="highlight"><span class="nb">unfold</span> elements_lt, elements_ge, leb; <span class="nb">intros</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">elements s =
List.filter (gtb x) (elements s) ++
List.filter (<span class="kr">fun</span> <span class="nv">y</span> : E.t =&gt; negb (gtb x y))
  (elements s)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk22a" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk22a"><span class="highlight"><span class="nb">eapply</span> (@filter_split _ E.eq); <span class="nb">eauto with</span> *.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> <span class="nv">y</span> : E.t,
gtb x x0 = true -&gt;
gtb x y = false -&gt; OrderTac.TO.lt x0 y</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk22b" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk22b"><span class="highlight"><span class="nb">intros</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x0, y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">gtb x x0 = true</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">gtb x y = false</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">OrderTac.TO.lt x0 y</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk22c" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk22c"><span class="highlight"><span class="nb">rewrite</span> gtb_1 <span class="kr">in</span> H.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x0, y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.lt x0 x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">gtb x y = false</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">OrderTac.TO.lt x0 y</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk22d" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk22d"><span class="highlight"><span class="nb">assert</span> (~E.lt y x).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x0, y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.lt x0 x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">gtb x y = false</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">~ E.lt y x</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk22e" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x0, y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.lt x0 x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">gtb x y = false</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ E.lt y x</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk22e"><hr></label><div class="goal-conclusion"><span class="highlight">OrderTac.TO.lt x0 y</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk22f" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk22f"><span class="highlight"><span class="nb">unfold</span> gtb <span class="kr">in</span> *; elim_compare x y; <span class="nb">intuition</span>;
   <span class="kp">try</span> <span class="bp">discriminate</span>; order.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x0, y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.lt x0 x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">gtb x y = false</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ E.lt y x</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">OrderTac.TO.lt x0 y</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight">order.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk230" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk230"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">elements_Add</span> : <span class="kr">forall</span> <span class="nv">s</span> <span class="nv">s&#39;</span> <span class="nv">x</span>, ~In x s -&gt; <span class="kn">Add</span> x s s&#39; -&gt;
    eqlistA E.eq (elements s&#39;) (elements_lt x s ++ x :: elements_ge x s).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">s</span> <span class="nv">s&#39;</span> : t) (<span class="nv">x</span> : elt),
~ In x s -&gt;
<span class="kn">Add</span> x s s&#39; -&gt;
eqlistA E.eq (elements s&#39;)
  (elements_lt x s ++ x :: elements_ge x s)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk231" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk231"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">s</span> <span class="nv">s&#39;</span> : t) (<span class="nv">x</span> : elt),
~ In x s -&gt;
<span class="kn">Add</span> x s s&#39; -&gt;
eqlistA E.eq (elements s&#39;)
  (elements_lt x s ++ x :: elements_ge x s)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk232" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk232"><span class="highlight"><span class="nb">intros</span>; <span class="nb">unfold</span> elements_ge, elements_lt.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">eqlistA E.eq (elements s&#39;)
  (List.filter (gtb x) (elements s) ++
   x :: List.filter (leb x) (elements s))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk233" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk233"><span class="highlight"><span class="nb">apply</span> sort_equivlistA_eqlistA; <span class="nb">auto with</span> <span class="nb">set</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Sorted E.lt
  (List.filter (gtb x) (elements s) ++
   x :: List.filter (leb x) (elements s))</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk234" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk234"><hr></label><div class="goal-conclusion"><span class="highlight">equivlistA E.eq (elements s&#39;)
  (List.filter (gtb x) (elements s) ++
   x :: List.filter (leb x) (elements s))</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk235" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk235"><span class="highlight"><span class="nb">apply</span> (@SortA_app _ E.eq); <span class="nb">auto with</span> *.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Sorted E.lt (List.filter (gtb x) (elements s))</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk236" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk236"><hr></label><div class="goal-conclusion"><span class="highlight">Sorted E.lt (x :: List.filter (leb x) (elements s))</span></div></blockquote><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk237" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk237"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> <span class="nv">y</span> : E.t,
InA E.eq x0 (List.filter (gtb x) (elements s)) -&gt;
InA E.eq y (x :: List.filter (leb x) (elements s)) -&gt;
E.lt x0 y</span></div></blockquote><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk238" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk238"><hr></label><div class="goal-conclusion"><span class="highlight">equivlistA E.eq (elements s&#39;)
  (List.filter (gtb x) (elements s) ++
   x :: List.filter (leb x) (elements s))</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk239" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk239"><span class="highlight"><span class="nb">apply</span> (@filter_sort _ E.eq); <span class="nb">auto with</span> *; <span class="nb">eauto with</span> *.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Sorted E.lt (x :: List.filter (leb x) (elements s))</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk23a" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk23a"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> <span class="nv">y</span> : E.t,
InA E.eq x0 (List.filter (gtb x) (elements s)) -&gt;
InA E.eq y (x :: List.filter (leb x) (elements s)) -&gt;
E.lt x0 y</span></div></blockquote><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk23b" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk23b"><hr></label><div class="goal-conclusion"><span class="highlight">equivlistA E.eq (elements s&#39;)
  (List.filter (gtb x) (elements s) ++
   x :: List.filter (leb x) (elements s))</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk23c" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk23c"><span class="highlight"><span class="nb">constructor</span>; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Sorted E.lt (List.filter (leb x) (elements s))</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk23d" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk23d"><hr></label><div class="goal-conclusion"><span class="highlight">HdRel E.lt x (List.filter (leb x) (elements s))</span></div></blockquote><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk23e" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk23e"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> <span class="nv">y</span> : E.t,
InA E.eq x0 (List.filter (gtb x) (elements s)) -&gt;
InA E.eq y (x :: List.filter (leb x) (elements s)) -&gt;
E.lt x0 y</span></div></blockquote><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk23f" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk23f"><hr></label><div class="goal-conclusion"><span class="highlight">equivlistA E.eq (elements s&#39;)
  (List.filter (gtb x) (elements s) ++
   x :: List.filter (leb x) (elements s))</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk240" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk240"><span class="highlight"><span class="nb">apply</span> (@filter_sort _ E.eq); <span class="nb">auto with</span> *; <span class="nb">eauto with</span> *.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">HdRel E.lt x (List.filter (leb x) (elements s))</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk241" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk241"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> <span class="nv">y</span> : E.t,
InA E.eq x0 (List.filter (gtb x) (elements s)) -&gt;
InA E.eq y (x :: List.filter (leb x) (elements s)) -&gt;
E.lt x0 y</span></div></blockquote><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk242" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk242"><hr></label><div class="goal-conclusion"><span class="highlight">equivlistA E.eq (elements s&#39;)
  (List.filter (gtb x) (elements s) ++
   x :: List.filter (leb x) (elements s))</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk243" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk243"><span class="highlight"><span class="nb">rewrite</span> Inf_alt <span class="bp">by</span> (<span class="nb">apply</span> (@filter_sort _ E.eq); <span class="nb">eauto with</span> *).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">y</span> : E.t,
InA E.eq y (List.filter (leb x) (elements s)) -&gt;
E.lt x y</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk244" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk244"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> <span class="nv">y</span> : E.t,
InA E.eq x0 (List.filter (gtb x) (elements s)) -&gt;
InA E.eq y (x :: List.filter (leb x) (elements s)) -&gt;
E.lt x0 y</span></div></blockquote><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk245" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk245"><hr></label><div class="goal-conclusion"><span class="highlight">equivlistA E.eq (elements s&#39;)
  (List.filter (gtb x) (elements s) ++
   x :: List.filter (leb x) (elements s))</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk246" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk246"><span class="highlight"><span class="nb">intros</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">InA E.eq y (List.filter (leb x) (elements s))</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">E.lt x y</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk247" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk247"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> <span class="nv">y</span> : E.t,
InA E.eq x0 (List.filter (gtb x) (elements s)) -&gt;
InA E.eq y (x :: List.filter (leb x) (elements s)) -&gt;
E.lt x0 y</span></div></blockquote><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk248" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk248"><hr></label><div class="goal-conclusion"><span class="highlight">equivlistA E.eq (elements s&#39;)
  (List.filter (gtb x) (elements s) ++
   x :: List.filter (leb x) (elements s))</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk249" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk249"><span class="highlight"><span class="nb">rewrite</span> filter_InA <span class="kr">in</span> H1; <span class="nb">auto with</span> *; <span class="nb">destruct</span> H1.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">InA E.eq y (elements s)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">leb x y = true</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">E.lt x y</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk24a" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk24a"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> <span class="nv">y</span> : E.t,
InA E.eq x0 (List.filter (gtb x) (elements s)) -&gt;
InA E.eq y (x :: List.filter (leb x) (elements s)) -&gt;
E.lt x0 y</span></div></blockquote><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk24b" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk24b"><hr></label><div class="goal-conclusion"><span class="highlight">equivlistA E.eq (elements s&#39;)
  (List.filter (gtb x) (elements s) ++
   x :: List.filter (leb x) (elements s))</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk24c" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk24c"><span class="highlight"><span class="nb">rewrite</span> leb_1 <span class="kr">in</span> H2.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">InA E.eq y (elements s)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ E.lt y x</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">E.lt x y</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk24d" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk24d"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> <span class="nv">y</span> : E.t,
InA E.eq x0 (List.filter (gtb x) (elements s)) -&gt;
InA E.eq y (x :: List.filter (leb x) (elements s)) -&gt;
E.lt x0 y</span></div></blockquote><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk24e" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk24e"><hr></label><div class="goal-conclusion"><span class="highlight">equivlistA E.eq (elements s&#39;)
  (List.filter (gtb x) (elements s) ++
   x :: List.filter (leb x) (elements s))</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk24f" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk24f"><span class="highlight"><span class="nb">rewrite</span> &lt;- elements_iff <span class="kr">in</span> H1.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In y s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ E.lt y x</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">E.lt x y</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk250" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk250"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> <span class="nv">y</span> : E.t,
InA E.eq x0 (List.filter (gtb x) (elements s)) -&gt;
InA E.eq y (x :: List.filter (leb x) (elements s)) -&gt;
E.lt x0 y</span></div></blockquote><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk251" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk251"><hr></label><div class="goal-conclusion"><span class="highlight">equivlistA E.eq (elements s&#39;)
  (List.filter (gtb x) (elements s) ++
   x :: List.filter (leb x) (elements s))</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk252" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk252"><span class="highlight"><span class="nb">assert</span> (~E.eq x y).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In y s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ E.lt y x</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">~ E.eq x y</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk253" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In y s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ E.lt y x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ E.eq x y</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk253"><hr></label><div class="goal-conclusion"><span class="highlight">E.lt x y</span></div></blockquote><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk254" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk254"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> <span class="nv">y</span> : E.t,
InA E.eq x0 (List.filter (gtb x) (elements s)) -&gt;
InA E.eq y (x :: List.filter (leb x) (elements s)) -&gt;
E.lt x0 y</span></div></blockquote><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk255" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk255"><hr></label><div class="goal-conclusion"><span class="highlight">equivlistA E.eq (elements s&#39;)
  (List.filter (gtb x) (elements s) ++
   x :: List.filter (leb x) (elements s))</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk256" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk256"><span class="highlight"><span class="bp">contradict</span> H; <span class="nb">rewrite</span> H; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In y s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ E.lt y x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ E.eq x y</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">E.lt x y</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk257" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk257"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> <span class="nv">y</span> : E.t,
InA E.eq x0 (List.filter (gtb x) (elements s)) -&gt;
InA E.eq y (x :: List.filter (leb x) (elements s)) -&gt;
E.lt x0 y</span></div></blockquote><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk258" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk258"><hr></label><div class="goal-conclusion"><span class="highlight">equivlistA E.eq (elements s&#39;)
  (List.filter (gtb x) (elements s) ++
   x :: List.filter (leb x) (elements s))</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk259" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk259"><span class="highlight">order.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> <span class="nv">y</span> : E.t,
InA E.eq x0 (List.filter (gtb x) (elements s)) -&gt;
InA E.eq y (x :: List.filter (leb x) (elements s)) -&gt;
E.lt x0 y</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk25a" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk25a"><hr></label><div class="goal-conclusion"><span class="highlight">equivlistA E.eq (elements s&#39;)
  (List.filter (gtb x) (elements s) ++
   x :: List.filter (leb x) (elements s))</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk25b" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk25b"><span class="highlight"><span class="nb">intros</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x0, y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">InA E.eq x0 (List.filter (gtb x) (elements s))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">InA E.eq y
  (x :: List.filter (leb x) (elements s))</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">E.lt x0 y</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk25c" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk25c"><hr></label><div class="goal-conclusion"><span class="highlight">equivlistA E.eq (elements s&#39;)
  (List.filter (gtb x) (elements s) ++
   x :: List.filter (leb x) (elements s))</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk25d" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk25d"><span class="highlight"><span class="nb">rewrite</span> filter_InA <span class="kr">in</span> H1; <span class="nb">auto with</span> *; <span class="nb">destruct</span> H1.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x0, y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">InA E.eq x0 (elements s)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">gtb x x0 = true</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">InA E.eq y
  (x :: List.filter (leb x) (elements s))</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">E.lt x0 y</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk25e" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk25e"><hr></label><div class="goal-conclusion"><span class="highlight">equivlistA E.eq (elements s&#39;)
  (List.filter (gtb x) (elements s) ++
   x :: List.filter (leb x) (elements s))</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk25f" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk25f"><span class="highlight"><span class="nb">rewrite</span> gtb_1 <span class="kr">in</span> H3.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x0, y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">InA E.eq x0 (elements s)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.lt x0 x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">InA E.eq y
  (x :: List.filter (leb x) (elements s))</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">E.lt x0 y</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk260" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk260"><hr></label><div class="goal-conclusion"><span class="highlight">equivlistA E.eq (elements s&#39;)
  (List.filter (gtb x) (elements s) ++
   x :: List.filter (leb x) (elements s))</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk261" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk261"><span class="highlight"><span class="nb">inversion_clear</span> H2.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x0, y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">InA E.eq x0 (elements s)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.lt x0 x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H4</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.eq y x</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">E.lt x0 y</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk262" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x0, y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">InA E.eq x0 (elements s)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.lt x0 x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H4</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">InA E.eq y (List.filter (leb x) (elements s))</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk262"><hr></label><div class="goal-conclusion"><span class="highlight">E.lt x0 y</span></div></blockquote><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk263" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk263"><hr></label><div class="goal-conclusion"><span class="highlight">equivlistA E.eq (elements s&#39;)
  (List.filter (gtb x) (elements s) ++
   x :: List.filter (leb x) (elements s))</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk264" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk264"><span class="highlight">order.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x0, y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">InA E.eq x0 (elements s)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.lt x0 x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H4</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">InA E.eq y (List.filter (leb x) (elements s))</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">E.lt x0 y</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk265" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk265"><hr></label><div class="goal-conclusion"><span class="highlight">equivlistA E.eq (elements s&#39;)
  (List.filter (gtb x) (elements s) ++
   x :: List.filter (leb x) (elements s))</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk266" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk266"><span class="highlight"><span class="nb">rewrite</span> filter_InA <span class="kr">in</span> H4; <span class="nb">auto with</span> *; <span class="nb">destruct</span> H4.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x0, y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">InA E.eq x0 (elements s)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.lt x0 x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">InA E.eq y (elements s)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H4</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">leb x y = true</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">E.lt x0 y</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk267" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk267"><hr></label><div class="goal-conclusion"><span class="highlight">equivlistA E.eq (elements s&#39;)
  (List.filter (gtb x) (elements s) ++
   x :: List.filter (leb x) (elements s))</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk268" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk268"><span class="highlight"><span class="nb">rewrite</span> leb_1 <span class="kr">in</span> H4.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x0, y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">InA E.eq x0 (elements s)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.lt x0 x</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">InA E.eq y (elements s)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H4</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ E.lt y x</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">E.lt x0 y</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk269" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk269"><hr></label><div class="goal-conclusion"><span class="highlight">equivlistA E.eq (elements s&#39;)
  (List.filter (gtb x) (elements s) ++
   x :: List.filter (leb x) (elements s))</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk26a" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk26a"><span class="highlight">order.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">equivlistA E.eq (elements s&#39;)
  (List.filter (gtb x) (elements s) ++
   x :: List.filter (leb x) (elements s))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk26b" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk26b"><span class="highlight"><span class="nb">red</span>; <span class="nb">intros</span> a.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.t</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">InA E.eq a (elements s&#39;) &lt;-&gt;
InA E.eq a
  (List.filter (gtb x) (elements s) ++
   x :: List.filter (leb x) (elements s))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk26c" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk26c"><span class="highlight"><span class="nb">rewrite</span> InA_app_iff, InA_cons, !filter_InA, &lt;-!elements_iff,
   leb_1, gtb_1, (H0 a) <span class="bp">by</span> (<span class="nb">auto with</span> *).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.t</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">E.eq x a \/ In a s &lt;-&gt;
In a s /\ E.lt a x \/ E.eq a x \/ In a s /\ ~ E.lt a x</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk26d" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk26d"><span class="highlight"><span class="nb">intuition</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In x s -&gt; <span class="kt">False</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In a s</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">In a s /\ E.lt a x \/
E.eq a x \/ In a s /\ (E.lt a x -&gt; <span class="kt">False</span>)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk26e" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk26e"><span class="highlight">elim_compare a x; <span class="nb">intuition</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In x s -&gt; <span class="kt">False</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In a s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.lt x a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">In a s /\ E.lt a x \/
E.eq a x \/ In a s /\ (E.lt a x -&gt; <span class="kt">False</span>)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk26f" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk26f"><span class="highlight"><span class="nb">right</span>; <span class="nb">right</span>; <span class="nb">split</span>; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In x s -&gt; <span class="kt">False</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In a s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.lt x a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">E.lt a x -&gt; <span class="kt">False</span></span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight">order.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">Above</span> <span class="nv">x</span> <span class="nv">s</span> := <span class="kr">forall</span> <span class="nv">y</span>, In y s -&gt; E.lt y x.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">Below</span> <span class="nv">x</span> <span class="nv">s</span> := <span class="kr">forall</span> <span class="nv">y</span>, In y s -&gt; E.lt x y.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk270" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk270"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">elements_Add_Above</span> : <span class="kr">forall</span> <span class="nv">s</span> <span class="nv">s&#39;</span> <span class="nv">x</span>,
   Above x s -&gt; <span class="kn">Add</span> x s s&#39; -&gt;
     eqlistA E.eq (elements s&#39;) (elements s ++ x::nil).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">s</span> <span class="nv">s&#39;</span> : t) (<span class="nv">x</span> : E.t),
Above x s -&gt;
<span class="kn">Add</span> x s s&#39; -&gt;
eqlistA E.eq (elements s&#39;) (elements s ++ x :: nil)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk271" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk271"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">s</span> <span class="nv">s&#39;</span> : t) (<span class="nv">x</span> : E.t),
Above x s -&gt;
<span class="kn">Add</span> x s s&#39; -&gt;
eqlistA E.eq (elements s&#39;) (elements s ++ x :: nil)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk272" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk272"><span class="highlight"><span class="nb">intros</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Above x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">eqlistA E.eq (elements s&#39;) (elements s ++ x :: nil)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk273" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk273"><span class="highlight"><span class="nb">apply</span> sort_equivlistA_eqlistA; <span class="nb">auto with</span> <span class="nb">set</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Above x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Sorted E.lt (elements s ++ x :: nil)</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk274" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Above x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk274"><hr></label><div class="goal-conclusion"><span class="highlight">equivlistA E.eq (elements s&#39;) (elements s ++ x :: nil)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk275" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk275"><span class="highlight"><span class="nb">apply</span> (@SortA_app _ E.eq); <span class="nb">auto with</span> *.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Above x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> <span class="nv">y</span> : E.t,
InA E.eq x0 (elements s) -&gt;
InA E.eq y (x :: nil) -&gt; E.lt x0 y</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk276" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Above x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk276"><hr></label><div class="goal-conclusion"><span class="highlight">equivlistA E.eq (elements s&#39;) (elements s ++ x :: nil)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk277" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk277"><span class="highlight"><span class="nb">intros</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Above x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x0, y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">InA E.eq x0 (elements s)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">InA E.eq y (x :: nil)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">E.lt x0 y</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk278" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Above x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk278"><hr></label><div class="goal-conclusion"><span class="highlight">equivlistA E.eq (elements s&#39;) (elements s ++ x :: nil)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk279" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk279"><span class="highlight">invlist InA.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Above x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x0, y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">InA E.eq x0 (elements s)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.eq y x</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">E.lt x0 y</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk27a" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Above x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk27a"><hr></label><div class="goal-conclusion"><span class="highlight">equivlistA E.eq (elements s&#39;) (elements s ++ x :: nil)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk27b" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk27b"><span class="highlight"><span class="nb">rewrite</span> &lt;- elements_iff <span class="kr">in</span> H1.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Above x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x0, y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In x0 s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.eq y x</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">E.lt x0 y</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk27c" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Above x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk27c"><hr></label><div class="goal-conclusion"><span class="highlight">equivlistA E.eq (elements s&#39;) (elements s ++ x :: nil)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk27d" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk27d"><span class="highlight"><span class="nb">setoid_replace</span> y <span class="kr">with</span> x; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Above x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">equivlistA E.eq (elements s&#39;) (elements s ++ x :: nil)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk27e" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk27e"><span class="highlight"><span class="nb">red</span>; <span class="nb">intros</span> a.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Above x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.t</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">InA E.eq a (elements s&#39;) &lt;-&gt;
InA E.eq a (elements s ++ x :: nil)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk27f" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk27f"><span class="highlight"><span class="nb">rewrite</span> InA_app_iff, InA_cons, InA_nil, &lt;-!elements_iff, (H0 a)
   <span class="bp">by</span> (<span class="nb">auto with</span> *).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Above x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.t</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">E.eq x a \/ In a s &lt;-&gt; In a s \/ E.eq a x \/ <span class="kt">False</span></span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">intuition</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk280" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk280"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">elements_Add_Below</span> : <span class="kr">forall</span> <span class="nv">s</span> <span class="nv">s&#39;</span> <span class="nv">x</span>,
   Below x s -&gt; <span class="kn">Add</span> x s s&#39; -&gt;
     eqlistA E.eq (elements s&#39;) (x::elements s).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">s</span> <span class="nv">s&#39;</span> : t) (<span class="nv">x</span> : E.t),
Below x s -&gt;
<span class="kn">Add</span> x s s&#39; -&gt;
eqlistA E.eq (elements s&#39;) (x :: elements s)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk281" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk281"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">s</span> <span class="nv">s&#39;</span> : t) (<span class="nv">x</span> : E.t),
Below x s -&gt;
<span class="kn">Add</span> x s s&#39; -&gt;
eqlistA E.eq (elements s&#39;) (x :: elements s)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk282" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk282"><span class="highlight"><span class="nb">intros</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Below x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">eqlistA E.eq (elements s&#39;) (x :: elements s)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk283" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk283"><span class="highlight"><span class="nb">apply</span> sort_equivlistA_eqlistA; <span class="nb">auto with</span> <span class="nb">set</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Below x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Sorted E.lt (x :: elements s)</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk284" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Below x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk284"><hr></label><div class="goal-conclusion"><span class="highlight">equivlistA E.eq (elements s&#39;) (x :: elements s)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk285" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk285"><span class="highlight"><span class="nb">change</span> (sort E.lt ((x::nil) ++ elements s)).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Below x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Sorted E.lt ((x :: nil) ++ elements s)</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk286" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Below x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk286"><hr></label><div class="goal-conclusion"><span class="highlight">equivlistA E.eq (elements s&#39;) (x :: elements s)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk287" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk287"><span class="highlight"><span class="nb">apply</span> (@SortA_app _ E.eq); <span class="nb">auto with</span> *.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Below x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> <span class="nv">y</span> : E.t,
InA E.eq x0 (x :: nil) -&gt;
InA E.eq y (elements s) -&gt; E.lt x0 y</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk288" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Below x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk288"><hr></label><div class="goal-conclusion"><span class="highlight">equivlistA E.eq (elements s&#39;) (x :: elements s)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk289" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk289"><span class="highlight"><span class="nb">intros</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Below x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x0, y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">InA E.eq x0 (x :: nil)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">InA E.eq y (elements s)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">E.lt x0 y</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk28a" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Below x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk28a"><hr></label><div class="goal-conclusion"><span class="highlight">equivlistA E.eq (elements s&#39;) (x :: elements s)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk28b" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk28b"><span class="highlight">invlist InA.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Below x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x0, y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">InA E.eq y (elements s)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.eq x0 x</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">E.lt x0 y</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk28c" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Below x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk28c"><hr></label><div class="goal-conclusion"><span class="highlight">equivlistA E.eq (elements s&#39;) (x :: elements s)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk28d" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk28d"><span class="highlight"><span class="nb">rewrite</span> &lt;- elements_iff <span class="kr">in</span> H2.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Below x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x0, y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In y s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.eq x0 x</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">E.lt x0 y</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk28e" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Below x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk28e"><hr></label><div class="goal-conclusion"><span class="highlight">equivlistA E.eq (elements s&#39;) (x :: elements s)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk28f" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk28f"><span class="highlight"><span class="nb">setoid_replace</span> x0 <span class="kr">with</span> x; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Below x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">equivlistA E.eq (elements s&#39;) (x :: elements s)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk290" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk290"><span class="highlight"><span class="nb">red</span>; <span class="nb">intros</span> a.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Below x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.t</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">InA E.eq a (elements s&#39;) &lt;-&gt;
InA E.eq a (x :: elements s)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">rewrite</span> InA_cons, &lt;- !elements_iff, (H0 a); <span class="nb">intuition</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span></span></pre><div class="doc">
Two other induction principles on sets: we can be more restrictive
      on the element we add at each step.  
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-wsp"><span class="highlight">  </span></span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk291" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk291"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">set_induction_max</span> :
   <span class="kr">forall</span> <span class="nv">P</span> : t -&gt; <span class="kt">Type</span>,
   (<span class="kr">forall</span> <span class="nv">s</span> : t, Empty s -&gt; P s) -&gt;
   (<span class="kr">forall</span> <span class="nv">s</span> <span class="nv">s&#39;</span>, P s -&gt; <span class="kr">forall</span> <span class="nv">x</span>, Above x s -&gt; <span class="kn">Add</span> x s s&#39; -&gt; P s&#39;) -&gt;
   <span class="kr">forall</span> <span class="nv">s</span> : t, P s.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : t -&gt; <span class="kt">Type</span>,
(<span class="kr">forall</span> <span class="nv">s</span> : t, Empty s -&gt; P s) -&gt;
(<span class="kr">forall</span> <span class="nv">s</span> <span class="nv">s&#39;</span> : t,
 P s -&gt;
 <span class="kr">forall</span> <span class="nv">x</span> : E.t, Above x s -&gt; <span class="kn">Add</span> x s s&#39; -&gt; P s&#39;) -&gt;
<span class="kr">forall</span> <span class="nv">s</span> : t, P s</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk292" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk292"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : t -&gt; <span class="kt">Type</span>,
(<span class="kr">forall</span> <span class="nv">s</span> : t, Empty s -&gt; P s) -&gt;
(<span class="kr">forall</span> <span class="nv">s</span> <span class="nv">s&#39;</span> : t,
 P s -&gt;
 <span class="kr">forall</span> <span class="nv">x</span> : E.t, Above x s -&gt; <span class="kn">Add</span> x s s&#39; -&gt; P s&#39;) -&gt;
<span class="kr">forall</span> <span class="nv">s</span> : t, P s</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk293" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk293"><span class="highlight"><span class="nb">intros</span>; <span class="nb">remember</span> (cardinal s) <span class="kr">as</span> n; <span class="nb">revert</span> s Heqn; <span class="nb">induction</span> n; <span class="nb">intros</span>; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t, Empty s0 -&gt; P s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> <span class="nv">s&#39;</span> : t,
P s0 -&gt;
<span class="kr">forall</span> <span class="nv">x</span> : E.t, Above x s0 -&gt; <span class="kn">Add</span> x s0 s&#39; -&gt; P s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHn</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t, n = cardinal s0 -&gt; P s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heqn</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S n = cardinal s</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">P s</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk294" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk294"><span class="highlight"><span class="nb">case_eq</span> (max_elt s); <span class="nb">intros</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t, Empty s0 -&gt; P s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> <span class="nv">s&#39;</span> : t,
P s0 -&gt;
<span class="kr">forall</span> <span class="nv">x</span> : E.t, Above x s0 -&gt; <span class="kn">Add</span> x s0 s&#39; -&gt; P s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHn</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t, n = cardinal s0 -&gt; P s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heqn</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S n = cardinal s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">max_elt s = Some e</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">P s</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk295" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t, Empty s0 -&gt; P s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> <span class="nv">s&#39;</span> : t,
P s0 -&gt;
<span class="kr">forall</span> <span class="nv">x</span> : E.t, Above x s0 -&gt; <span class="kn">Add</span> x s0 s&#39; -&gt; P s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHn</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t, n = cardinal s0 -&gt; P s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heqn</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S n = cardinal s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">max_elt s = None</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk295"><hr></label><div class="goal-conclusion"><span class="highlight">P s</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk296" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk296"><span class="highlight"><span class="nb">apply</span> X0 <span class="kr">with</span> (remove e s) e; <span class="nb">auto with</span> <span class="nb">set</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t, Empty s0 -&gt; P s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> <span class="nv">s&#39;</span> : t,
P s0 -&gt;
<span class="kr">forall</span> <span class="nv">x</span> : E.t, Above x s0 -&gt; <span class="kn">Add</span> x s0 s&#39; -&gt; P s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHn</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t, n = cardinal s0 -&gt; P s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heqn</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S n = cardinal s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">max_elt s = Some e</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">P (remove e s)</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk297" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t, Empty s0 -&gt; P s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> <span class="nv">s&#39;</span> : t,
P s0 -&gt;
<span class="kr">forall</span> <span class="nv">x</span> : E.t, Above x s0 -&gt; <span class="kn">Add</span> x s0 s&#39; -&gt; P s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHn</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t, n = cardinal s0 -&gt; P s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heqn</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S n = cardinal s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">max_elt s = Some e</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk297"><hr></label><div class="goal-conclusion"><span class="highlight">Above e (remove e s)</span></div></blockquote><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk298" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t, Empty s0 -&gt; P s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> <span class="nv">s&#39;</span> : t,
P s0 -&gt;
<span class="kr">forall</span> <span class="nv">x</span> : E.t, Above x s0 -&gt; <span class="kn">Add</span> x s0 s&#39; -&gt; P s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHn</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t, n = cardinal s0 -&gt; P s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heqn</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S n = cardinal s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">max_elt s = None</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk298"><hr></label><div class="goal-conclusion"><span class="highlight">P s</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk299" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk299"><span class="highlight"><span class="nb">apply</span> IHn.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t, Empty s0 -&gt; P s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> <span class="nv">s&#39;</span> : t,
P s0 -&gt;
<span class="kr">forall</span> <span class="nv">x</span> : E.t, Above x s0 -&gt; <span class="kn">Add</span> x s0 s&#39; -&gt; P s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHn</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t, n = cardinal s0 -&gt; P s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heqn</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S n = cardinal s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">max_elt s = Some e</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">n = cardinal (remove e s)</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk29a" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t, Empty s0 -&gt; P s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> <span class="nv">s&#39;</span> : t,
P s0 -&gt;
<span class="kr">forall</span> <span class="nv">x</span> : E.t, Above x s0 -&gt; <span class="kn">Add</span> x s0 s&#39; -&gt; P s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHn</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t, n = cardinal s0 -&gt; P s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heqn</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S n = cardinal s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">max_elt s = Some e</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk29a"><hr></label><div class="goal-conclusion"><span class="highlight">Above e (remove e s)</span></div></blockquote><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk29b" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t, Empty s0 -&gt; P s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> <span class="nv">s&#39;</span> : t,
P s0 -&gt;
<span class="kr">forall</span> <span class="nv">x</span> : E.t, Above x s0 -&gt; <span class="kn">Add</span> x s0 s&#39; -&gt; P s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHn</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t, n = cardinal s0 -&gt; P s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heqn</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S n = cardinal s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">max_elt s = None</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk29b"><hr></label><div class="goal-conclusion"><span class="highlight">P s</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk29c" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk29c"><span class="highlight"><span class="nb">assert</span> (S n = S (cardinal (remove e s))).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t, Empty s0 -&gt; P s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> <span class="nv">s&#39;</span> : t,
P s0 -&gt;
<span class="kr">forall</span> <span class="nv">x</span> : E.t, Above x s0 -&gt; <span class="kn">Add</span> x s0 s&#39; -&gt; P s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHn</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t, n = cardinal s0 -&gt; P s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heqn</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S n = cardinal s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">max_elt s = Some e</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">S n = S (cardinal (remove e s))</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk29d" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t, Empty s0 -&gt; P s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> <span class="nv">s&#39;</span> : t,
P s0 -&gt;
<span class="kr">forall</span> <span class="nv">x</span> : E.t, Above x s0 -&gt; <span class="kn">Add</span> x s0 s&#39; -&gt; P s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHn</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t, n = cardinal s0 -&gt; P s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heqn</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S n = cardinal s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">max_elt s = Some e</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S n = S (cardinal (remove e s))</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk29d"><hr></label><div class="goal-conclusion"><span class="highlight">n = cardinal (remove e s)</span></div></blockquote><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk29e" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t, Empty s0 -&gt; P s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> <span class="nv">s&#39;</span> : t,
P s0 -&gt;
<span class="kr">forall</span> <span class="nv">x</span> : E.t, Above x s0 -&gt; <span class="kn">Add</span> x s0 s&#39; -&gt; P s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHn</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t, n = cardinal s0 -&gt; P s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heqn</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S n = cardinal s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">max_elt s = Some e</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk29e"><hr></label><div class="goal-conclusion"><span class="highlight">Above e (remove e s)</span></div></blockquote><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk29f" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t, Empty s0 -&gt; P s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> <span class="nv">s&#39;</span> : t,
P s0 -&gt;
<span class="kr">forall</span> <span class="nv">x</span> : E.t, Above x s0 -&gt; <span class="kn">Add</span> x s0 s&#39; -&gt; P s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHn</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t, n = cardinal s0 -&gt; P s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heqn</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S n = cardinal s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">max_elt s = None</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk29f"><hr></label><div class="goal-conclusion"><span class="highlight">P s</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk2a0" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk2a0"><span class="highlight"><span class="nb">rewrite</span> Heqn; <span class="nb">apply</span> cardinal_2 <span class="kr">with</span> e; <span class="nb">auto with</span> <span class="nb">set</span> relations.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t, Empty s0 -&gt; P s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> <span class="nv">s&#39;</span> : t,
P s0 -&gt;
<span class="kr">forall</span> <span class="nv">x</span> : E.t, Above x s0 -&gt; <span class="kn">Add</span> x s0 s&#39; -&gt; P s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHn</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t, n = cardinal s0 -&gt; P s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heqn</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S n = cardinal s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">max_elt s = Some e</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S n = S (cardinal (remove e s))</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">n = cardinal (remove e s)</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk2a1" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t, Empty s0 -&gt; P s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> <span class="nv">s&#39;</span> : t,
P s0 -&gt;
<span class="kr">forall</span> <span class="nv">x</span> : E.t, Above x s0 -&gt; <span class="kn">Add</span> x s0 s&#39; -&gt; P s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHn</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t, n = cardinal s0 -&gt; P s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heqn</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S n = cardinal s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">max_elt s = Some e</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk2a1"><hr></label><div class="goal-conclusion"><span class="highlight">Above e (remove e s)</span></div></blockquote><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk2a2" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t, Empty s0 -&gt; P s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> <span class="nv">s&#39;</span> : t,
P s0 -&gt;
<span class="kr">forall</span> <span class="nv">x</span> : E.t, Above x s0 -&gt; <span class="kn">Add</span> x s0 s&#39; -&gt; P s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHn</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t, n = cardinal s0 -&gt; P s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heqn</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S n = cardinal s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">max_elt s = None</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk2a2"><hr></label><div class="goal-conclusion"><span class="highlight">P s</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk2a3" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk2a3"><span class="highlight"><span class="nb">inversion</span> H0; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t, Empty s0 -&gt; P s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> <span class="nv">s&#39;</span> : t,
P s0 -&gt;
<span class="kr">forall</span> <span class="nv">x</span> : E.t, Above x s0 -&gt; <span class="kn">Add</span> x s0 s&#39; -&gt; P s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHn</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t, n = cardinal s0 -&gt; P s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heqn</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S n = cardinal s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">max_elt s = Some e</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Above e (remove e s)</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk2a4" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t, Empty s0 -&gt; P s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> <span class="nv">s&#39;</span> : t,
P s0 -&gt;
<span class="kr">forall</span> <span class="nv">x</span> : E.t, Above x s0 -&gt; <span class="kn">Add</span> x s0 s&#39; -&gt; P s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHn</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t, n = cardinal s0 -&gt; P s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heqn</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S n = cardinal s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">max_elt s = None</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk2a4"><hr></label><div class="goal-conclusion"><span class="highlight">P s</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk2a5" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk2a5"><span class="highlight"><span class="nb">red</span>; <span class="nb">intros</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t, Empty s0 -&gt; P s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> <span class="nv">s&#39;</span> : t,
P s0 -&gt;
<span class="kr">forall</span> <span class="nv">x</span> : E.t, Above x s0 -&gt; <span class="kn">Add</span> x s0 s&#39; -&gt; P s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHn</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t, n = cardinal s0 -&gt; P s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heqn</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S n = cardinal s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">max_elt s = Some e</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In y (remove e s)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">E.lt y e</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk2a6" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t, Empty s0 -&gt; P s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> <span class="nv">s&#39;</span> : t,
P s0 -&gt;
<span class="kr">forall</span> <span class="nv">x</span> : E.t, Above x s0 -&gt; <span class="kn">Add</span> x s0 s&#39; -&gt; P s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHn</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t, n = cardinal s0 -&gt; P s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heqn</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S n = cardinal s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">max_elt s = None</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk2a6"><hr></label><div class="goal-conclusion"><span class="highlight">P s</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk2a7" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk2a7"><span class="highlight"><span class="nb">rewrite</span> remove_iff <span class="kr">in</span> H0; <span class="nb">destruct</span> H0.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t, Empty s0 -&gt; P s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> <span class="nv">s&#39;</span> : t,
P s0 -&gt;
<span class="kr">forall</span> <span class="nv">x</span> : E.t, Above x s0 -&gt; <span class="kn">Add</span> x s0 s&#39; -&gt; P s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHn</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t, n = cardinal s0 -&gt; P s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heqn</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S n = cardinal s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">max_elt s = Some e</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In y s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ E.eq e y</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">E.lt y e</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk2a8" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t, Empty s0 -&gt; P s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> <span class="nv">s&#39;</span> : t,
P s0 -&gt;
<span class="kr">forall</span> <span class="nv">x</span> : E.t, Above x s0 -&gt; <span class="kn">Add</span> x s0 s&#39; -&gt; P s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHn</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t, n = cardinal s0 -&gt; P s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heqn</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S n = cardinal s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">max_elt s = None</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk2a8"><hr></label><div class="goal-conclusion"><span class="highlight">P s</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk2a9" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk2a9"><span class="highlight"><span class="nb">generalize</span> (@max_elt_spec2 s e y H H0); order.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t, Empty s0 -&gt; P s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> <span class="nv">s&#39;</span> : t,
P s0 -&gt;
<span class="kr">forall</span> <span class="nv">x</span> : E.t, Above x s0 -&gt; <span class="kn">Add</span> x s0 s&#39; -&gt; P s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHn</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t, n = cardinal s0 -&gt; P s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heqn</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S n = cardinal s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">max_elt s = None</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">P s</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk2aa" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk2aa"><span class="highlight"><span class="nb">assert</span> (H0:=max_elt_spec3 H).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t, Empty s0 -&gt; P s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> <span class="nv">s&#39;</span> : t,
P s0 -&gt;
<span class="kr">forall</span> <span class="nv">x</span> : E.t, Above x s0 -&gt; <span class="kn">Add</span> x s0 s&#39; -&gt; P s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHn</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t, n = cardinal s0 -&gt; P s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heqn</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S n = cardinal s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">max_elt s = None</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Empty s</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">P s</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">rewrite</span> cardinal_Empty <span class="kr">in</span> H0; <span class="nb">rewrite</span> H0 <span class="kr">in</span> Heqn; <span class="nb">inversion</span> Heqn.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk2ab" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk2ab"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">set_induction_min</span> :
   <span class="kr">forall</span> <span class="nv">P</span> : t -&gt; <span class="kt">Type</span>,
   (<span class="kr">forall</span> <span class="nv">s</span> : t, Empty s -&gt; P s) -&gt;
   (<span class="kr">forall</span> <span class="nv">s</span> <span class="nv">s&#39;</span>, P s -&gt; <span class="kr">forall</span> <span class="nv">x</span>, Below x s -&gt; <span class="kn">Add</span> x s s&#39; -&gt; P s&#39;) -&gt;
   <span class="kr">forall</span> <span class="nv">s</span> : t, P s.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : t -&gt; <span class="kt">Type</span>,
(<span class="kr">forall</span> <span class="nv">s</span> : t, Empty s -&gt; P s) -&gt;
(<span class="kr">forall</span> <span class="nv">s</span> <span class="nv">s&#39;</span> : t,
 P s -&gt;
 <span class="kr">forall</span> <span class="nv">x</span> : E.t, Below x s -&gt; <span class="kn">Add</span> x s s&#39; -&gt; P s&#39;) -&gt;
<span class="kr">forall</span> <span class="nv">s</span> : t, P s</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk2ac" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk2ac"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : t -&gt; <span class="kt">Type</span>,
(<span class="kr">forall</span> <span class="nv">s</span> : t, Empty s -&gt; P s) -&gt;
(<span class="kr">forall</span> <span class="nv">s</span> <span class="nv">s&#39;</span> : t,
 P s -&gt;
 <span class="kr">forall</span> <span class="nv">x</span> : E.t, Below x s -&gt; <span class="kn">Add</span> x s s&#39; -&gt; P s&#39;) -&gt;
<span class="kr">forall</span> <span class="nv">s</span> : t, P s</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk2ad" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk2ad"><span class="highlight"><span class="nb">intros</span>; <span class="nb">remember</span> (cardinal s) <span class="kr">as</span> n; <span class="nb">revert</span> s Heqn; <span class="nb">induction</span> n; <span class="nb">intros</span>; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t, Empty s0 -&gt; P s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> <span class="nv">s&#39;</span> : t,
P s0 -&gt;
<span class="kr">forall</span> <span class="nv">x</span> : E.t, Below x s0 -&gt; <span class="kn">Add</span> x s0 s&#39; -&gt; P s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHn</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t, n = cardinal s0 -&gt; P s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heqn</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S n = cardinal s</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">P s</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk2ae" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk2ae"><span class="highlight"><span class="nb">case_eq</span> (min_elt s); <span class="nb">intros</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t, Empty s0 -&gt; P s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> <span class="nv">s&#39;</span> : t,
P s0 -&gt;
<span class="kr">forall</span> <span class="nv">x</span> : E.t, Below x s0 -&gt; <span class="kn">Add</span> x s0 s&#39; -&gt; P s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHn</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t, n = cardinal s0 -&gt; P s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heqn</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S n = cardinal s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">min_elt s = Some e</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">P s</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk2af" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t, Empty s0 -&gt; P s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> <span class="nv">s&#39;</span> : t,
P s0 -&gt;
<span class="kr">forall</span> <span class="nv">x</span> : E.t, Below x s0 -&gt; <span class="kn">Add</span> x s0 s&#39; -&gt; P s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHn</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t, n = cardinal s0 -&gt; P s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heqn</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S n = cardinal s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">min_elt s = None</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk2af"><hr></label><div class="goal-conclusion"><span class="highlight">P s</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk2b0" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk2b0"><span class="highlight"><span class="nb">apply</span> X0 <span class="kr">with</span> (remove e s) e; <span class="nb">auto with</span> <span class="nb">set</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t, Empty s0 -&gt; P s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> <span class="nv">s&#39;</span> : t,
P s0 -&gt;
<span class="kr">forall</span> <span class="nv">x</span> : E.t, Below x s0 -&gt; <span class="kn">Add</span> x s0 s&#39; -&gt; P s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHn</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t, n = cardinal s0 -&gt; P s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heqn</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S n = cardinal s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">min_elt s = Some e</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">P (remove e s)</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk2b1" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t, Empty s0 -&gt; P s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> <span class="nv">s&#39;</span> : t,
P s0 -&gt;
<span class="kr">forall</span> <span class="nv">x</span> : E.t, Below x s0 -&gt; <span class="kn">Add</span> x s0 s&#39; -&gt; P s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHn</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t, n = cardinal s0 -&gt; P s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heqn</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S n = cardinal s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">min_elt s = Some e</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk2b1"><hr></label><div class="goal-conclusion"><span class="highlight">Below e (remove e s)</span></div></blockquote><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk2b2" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t, Empty s0 -&gt; P s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> <span class="nv">s&#39;</span> : t,
P s0 -&gt;
<span class="kr">forall</span> <span class="nv">x</span> : E.t, Below x s0 -&gt; <span class="kn">Add</span> x s0 s&#39; -&gt; P s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHn</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t, n = cardinal s0 -&gt; P s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heqn</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S n = cardinal s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">min_elt s = None</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk2b2"><hr></label><div class="goal-conclusion"><span class="highlight">P s</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk2b3" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk2b3"><span class="highlight"><span class="nb">apply</span> IHn.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t, Empty s0 -&gt; P s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> <span class="nv">s&#39;</span> : t,
P s0 -&gt;
<span class="kr">forall</span> <span class="nv">x</span> : E.t, Below x s0 -&gt; <span class="kn">Add</span> x s0 s&#39; -&gt; P s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHn</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t, n = cardinal s0 -&gt; P s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heqn</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S n = cardinal s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">min_elt s = Some e</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">n = cardinal (remove e s)</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk2b4" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t, Empty s0 -&gt; P s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> <span class="nv">s&#39;</span> : t,
P s0 -&gt;
<span class="kr">forall</span> <span class="nv">x</span> : E.t, Below x s0 -&gt; <span class="kn">Add</span> x s0 s&#39; -&gt; P s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHn</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t, n = cardinal s0 -&gt; P s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heqn</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S n = cardinal s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">min_elt s = Some e</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk2b4"><hr></label><div class="goal-conclusion"><span class="highlight">Below e (remove e s)</span></div></blockquote><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk2b5" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t, Empty s0 -&gt; P s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> <span class="nv">s&#39;</span> : t,
P s0 -&gt;
<span class="kr">forall</span> <span class="nv">x</span> : E.t, Below x s0 -&gt; <span class="kn">Add</span> x s0 s&#39; -&gt; P s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHn</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t, n = cardinal s0 -&gt; P s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heqn</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S n = cardinal s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">min_elt s = None</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk2b5"><hr></label><div class="goal-conclusion"><span class="highlight">P s</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk2b6" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk2b6"><span class="highlight"><span class="nb">assert</span> (S n = S (cardinal (remove e s))).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t, Empty s0 -&gt; P s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> <span class="nv">s&#39;</span> : t,
P s0 -&gt;
<span class="kr">forall</span> <span class="nv">x</span> : E.t, Below x s0 -&gt; <span class="kn">Add</span> x s0 s&#39; -&gt; P s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHn</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t, n = cardinal s0 -&gt; P s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heqn</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S n = cardinal s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">min_elt s = Some e</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">S n = S (cardinal (remove e s))</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk2b7" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t, Empty s0 -&gt; P s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> <span class="nv">s&#39;</span> : t,
P s0 -&gt;
<span class="kr">forall</span> <span class="nv">x</span> : E.t, Below x s0 -&gt; <span class="kn">Add</span> x s0 s&#39; -&gt; P s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHn</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t, n = cardinal s0 -&gt; P s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heqn</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S n = cardinal s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">min_elt s = Some e</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S n = S (cardinal (remove e s))</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk2b7"><hr></label><div class="goal-conclusion"><span class="highlight">n = cardinal (remove e s)</span></div></blockquote><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk2b8" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t, Empty s0 -&gt; P s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> <span class="nv">s&#39;</span> : t,
P s0 -&gt;
<span class="kr">forall</span> <span class="nv">x</span> : E.t, Below x s0 -&gt; <span class="kn">Add</span> x s0 s&#39; -&gt; P s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHn</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t, n = cardinal s0 -&gt; P s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heqn</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S n = cardinal s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">min_elt s = Some e</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk2b8"><hr></label><div class="goal-conclusion"><span class="highlight">Below e (remove e s)</span></div></blockquote><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk2b9" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t, Empty s0 -&gt; P s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> <span class="nv">s&#39;</span> : t,
P s0 -&gt;
<span class="kr">forall</span> <span class="nv">x</span> : E.t, Below x s0 -&gt; <span class="kn">Add</span> x s0 s&#39; -&gt; P s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHn</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t, n = cardinal s0 -&gt; P s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heqn</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S n = cardinal s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">min_elt s = None</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk2b9"><hr></label><div class="goal-conclusion"><span class="highlight">P s</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk2ba" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk2ba"><span class="highlight"><span class="nb">rewrite</span> Heqn; <span class="nb">apply</span> cardinal_2 <span class="kr">with</span> e; <span class="nb">auto with</span> <span class="nb">set</span> relations.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t, Empty s0 -&gt; P s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> <span class="nv">s&#39;</span> : t,
P s0 -&gt;
<span class="kr">forall</span> <span class="nv">x</span> : E.t, Below x s0 -&gt; <span class="kn">Add</span> x s0 s&#39; -&gt; P s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHn</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t, n = cardinal s0 -&gt; P s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heqn</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S n = cardinal s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">min_elt s = Some e</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S n = S (cardinal (remove e s))</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">n = cardinal (remove e s)</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk2bb" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t, Empty s0 -&gt; P s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> <span class="nv">s&#39;</span> : t,
P s0 -&gt;
<span class="kr">forall</span> <span class="nv">x</span> : E.t, Below x s0 -&gt; <span class="kn">Add</span> x s0 s&#39; -&gt; P s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHn</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t, n = cardinal s0 -&gt; P s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heqn</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S n = cardinal s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">min_elt s = Some e</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk2bb"><hr></label><div class="goal-conclusion"><span class="highlight">Below e (remove e s)</span></div></blockquote><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk2bc" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t, Empty s0 -&gt; P s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> <span class="nv">s&#39;</span> : t,
P s0 -&gt;
<span class="kr">forall</span> <span class="nv">x</span> : E.t, Below x s0 -&gt; <span class="kn">Add</span> x s0 s&#39; -&gt; P s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHn</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t, n = cardinal s0 -&gt; P s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heqn</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S n = cardinal s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">min_elt s = None</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk2bc"><hr></label><div class="goal-conclusion"><span class="highlight">P s</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk2bd" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk2bd"><span class="highlight"><span class="nb">inversion</span> H0; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t, Empty s0 -&gt; P s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> <span class="nv">s&#39;</span> : t,
P s0 -&gt;
<span class="kr">forall</span> <span class="nv">x</span> : E.t, Below x s0 -&gt; <span class="kn">Add</span> x s0 s&#39; -&gt; P s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHn</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t, n = cardinal s0 -&gt; P s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heqn</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S n = cardinal s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">min_elt s = Some e</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Below e (remove e s)</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk2be" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t, Empty s0 -&gt; P s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> <span class="nv">s&#39;</span> : t,
P s0 -&gt;
<span class="kr">forall</span> <span class="nv">x</span> : E.t, Below x s0 -&gt; <span class="kn">Add</span> x s0 s&#39; -&gt; P s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHn</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t, n = cardinal s0 -&gt; P s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heqn</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S n = cardinal s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">min_elt s = None</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk2be"><hr></label><div class="goal-conclusion"><span class="highlight">P s</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk2bf" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk2bf"><span class="highlight"><span class="nb">red</span>; <span class="nb">intros</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t, Empty s0 -&gt; P s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> <span class="nv">s&#39;</span> : t,
P s0 -&gt;
<span class="kr">forall</span> <span class="nv">x</span> : E.t, Below x s0 -&gt; <span class="kn">Add</span> x s0 s&#39; -&gt; P s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHn</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t, n = cardinal s0 -&gt; P s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heqn</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S n = cardinal s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">min_elt s = Some e</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In y (remove e s)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">E.lt e y</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk2c0" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t, Empty s0 -&gt; P s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> <span class="nv">s&#39;</span> : t,
P s0 -&gt;
<span class="kr">forall</span> <span class="nv">x</span> : E.t, Below x s0 -&gt; <span class="kn">Add</span> x s0 s&#39; -&gt; P s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHn</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t, n = cardinal s0 -&gt; P s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heqn</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S n = cardinal s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">min_elt s = None</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk2c0"><hr></label><div class="goal-conclusion"><span class="highlight">P s</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk2c1" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk2c1"><span class="highlight"><span class="nb">rewrite</span> remove_iff <span class="kr">in</span> H0; <span class="nb">destruct</span> H0.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t, Empty s0 -&gt; P s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> <span class="nv">s&#39;</span> : t,
P s0 -&gt;
<span class="kr">forall</span> <span class="nv">x</span> : E.t, Below x s0 -&gt; <span class="kn">Add</span> x s0 s&#39; -&gt; P s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHn</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t, n = cardinal s0 -&gt; P s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heqn</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S n = cardinal s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">min_elt s = Some e</span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">In y s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ E.eq e y</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">E.lt e y</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk2c2" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t, Empty s0 -&gt; P s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> <span class="nv">s&#39;</span> : t,
P s0 -&gt;
<span class="kr">forall</span> <span class="nv">x</span> : E.t, Below x s0 -&gt; <span class="kn">Add</span> x s0 s&#39; -&gt; P s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHn</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t, n = cardinal s0 -&gt; P s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heqn</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S n = cardinal s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">min_elt s = None</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk2c2"><hr></label><div class="goal-conclusion"><span class="highlight">P s</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk2c3" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk2c3"><span class="highlight"><span class="nb">generalize</span> (@min_elt_spec2 s e y H H0); order.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t, Empty s0 -&gt; P s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> <span class="nv">s&#39;</span> : t,
P s0 -&gt;
<span class="kr">forall</span> <span class="nv">x</span> : E.t, Below x s0 -&gt; <span class="kn">Add</span> x s0 s&#39; -&gt; P s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHn</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t, n = cardinal s0 -&gt; P s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heqn</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S n = cardinal s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">min_elt s = None</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">P s</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk2c4" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk2c4"><span class="highlight"><span class="nb">assert</span> (H0:=min_elt_spec3 H).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t -&gt; <span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t, Empty s0 -&gt; P s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> <span class="nv">s&#39;</span> : t,
P s0 -&gt;
<span class="kr">forall</span> <span class="nv">x</span> : E.t, Below x s0 -&gt; <span class="kn">Add</span> x s0 s&#39; -&gt; P s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHn</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">s0</span> : t, n = cardinal s0 -&gt; P s0</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heqn</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S n = cardinal s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">min_elt s = None</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Empty s</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">P s</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">rewrite</span> cardinal_Empty <span class="kr">in</span> H0; <span class="nb">auto</span>; <span class="nb">rewrite</span> H0 <span class="kr">in</span> Heqn; <span class="nb">inversion</span> Heqn.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span></span></pre><div class="doc">
More properties of <span class="inlinecode"><span class="id" title="tactic">fold</span></span> : behavior with respect to Above/Below 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-wsp"><span class="highlight">  </span></span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk2c5" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk2c5"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">fold_3</span> :
   <span class="kr">forall</span> <span class="nv">s</span> <span class="nv">s&#39;</span> <span class="nv">x</span> (<span class="nv">A</span> : <span class="kt">Type</span>) (<span class="nv">eqA</span> : A -&gt; A -&gt; <span class="kt">Prop</span>)
     (<span class="nv">st</span> : Equivalence eqA) (<span class="nv">i</span> : A) (<span class="nv">f</span> : elt -&gt; A -&gt; A),
   Proper (E.eq==&gt;eqA==&gt;eqA) f -&gt;
   Above x s -&gt; <span class="kn">Add</span> x s s&#39; -&gt; eqA (<span class="nb">fold</span> f s&#39; i) (f x (<span class="nb">fold</span> f s i)).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">s</span> <span class="nv">s&#39;</span> : t) (<span class="nv">x</span> : E.t) (<span class="nv">A</span> : <span class="kt">Type</span>)
  (<span class="nv">eqA</span> : A -&gt; A -&gt; <span class="kt">Prop</span>),
Equivalence eqA -&gt;
<span class="kr">forall</span> (<span class="nv">i</span> : A) (<span class="nv">f</span> : elt -&gt; A -&gt; A),
Proper (E.eq ==&gt; eqA ==&gt; eqA) f -&gt;
Above x s -&gt;
<span class="kn">Add</span> x s s&#39; -&gt; eqA (<span class="nb">fold</span> f s&#39; i) (f x (<span class="nb">fold</span> f s i))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk2c6" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk2c6"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">s</span> <span class="nv">s&#39;</span> : t) (<span class="nv">x</span> : E.t) (<span class="nv">A</span> : <span class="kt">Type</span>)
  (<span class="nv">eqA</span> : A -&gt; A -&gt; <span class="kt">Prop</span>),
Equivalence eqA -&gt;
<span class="kr">forall</span> (<span class="nv">i</span> : A) (<span class="nv">f</span> : elt -&gt; A -&gt; A),
Proper (E.eq ==&gt; eqA ==&gt; eqA) f -&gt;
Above x s -&gt;
<span class="kn">Add</span> x s s&#39; -&gt; eqA (<span class="nb">fold</span> f s&#39; i) (f x (<span class="nb">fold</span> f s i))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk2c7" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk2c7"><span class="highlight"><span class="nb">intros</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Above x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">eqA (<span class="nb">fold</span> f s&#39; i) (f x (<span class="nb">fold</span> f s i))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk2c8" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk2c8"><span class="highlight"><span class="nb">rewrite</span> <span class="mi">2</span> fold_spec_right.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Above x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">eqA (fold_right f i (rev (elements s&#39;)))
  (f x (fold_right f i (rev (elements s))))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk2c9" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk2c9"><span class="highlight"><span class="nb">change</span> (f x (fold_right f i (rev (elements s)))) <span class="kr">with</span>
    (fold_right f i (rev (x::nil)++rev (elements s))).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Above x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">eqA (fold_right f i (rev (elements s&#39;)))
  (fold_right f i (rev (x :: nil) ++ rev (elements s)))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk2ca" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk2ca"><span class="highlight"><span class="nb">apply</span> (@fold_right_eqlistA E.t E.eq A eqA st); <span class="nb">auto with</span> *.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Above x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">eqlistA E.eq (rev (elements s&#39;))
  (rev (x :: nil) ++ rev (elements s))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk2cb" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk2cb"><span class="highlight"><span class="nb">rewrite</span> &lt;- distr_rev.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Above x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">eqlistA E.eq (rev (elements s&#39;))
  (rev (elements s ++ x :: nil))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk2cc" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk2cc"><span class="highlight"><span class="nb">apply</span> eqlistA_rev.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Above x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">eqlistA E.eq (elements s&#39;) (elements s ++ x :: nil)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">apply</span> elements_Add_Above; <span class="nb">auto</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk2cd" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk2cd"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">fold_4</span> :
   <span class="kr">forall</span> <span class="nv">s</span> <span class="nv">s&#39;</span> <span class="nv">x</span> (<span class="nv">A</span> : <span class="kt">Type</span>) (<span class="nv">eqA</span> : A -&gt; A -&gt; <span class="kt">Prop</span>)
     (<span class="nv">st</span> : Equivalence eqA) (<span class="nv">i</span> : A) (<span class="nv">f</span> : elt -&gt; A -&gt; A),
   Proper (E.eq==&gt;eqA==&gt;eqA) f -&gt;
   Below x s -&gt; <span class="kn">Add</span> x s s&#39; -&gt; eqA (<span class="nb">fold</span> f s&#39; i) (<span class="nb">fold</span> f s (f x i)).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">s</span> <span class="nv">s&#39;</span> : t) (<span class="nv">x</span> : E.t) (<span class="nv">A</span> : <span class="kt">Type</span>)
  (<span class="nv">eqA</span> : A -&gt; A -&gt; <span class="kt">Prop</span>),
Equivalence eqA -&gt;
<span class="kr">forall</span> (<span class="nv">i</span> : A) (<span class="nv">f</span> : elt -&gt; A -&gt; A),
Proper (E.eq ==&gt; eqA ==&gt; eqA) f -&gt;
Below x s -&gt;
<span class="kn">Add</span> x s s&#39; -&gt; eqA (<span class="nb">fold</span> f s&#39; i) (<span class="nb">fold</span> f s (f x i))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk2ce" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk2ce"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">s</span> <span class="nv">s&#39;</span> : t) (<span class="nv">x</span> : E.t) (<span class="nv">A</span> : <span class="kt">Type</span>)
  (<span class="nv">eqA</span> : A -&gt; A -&gt; <span class="kt">Prop</span>),
Equivalence eqA -&gt;
<span class="kr">forall</span> (<span class="nv">i</span> : A) (<span class="nv">f</span> : elt -&gt; A -&gt; A),
Proper (E.eq ==&gt; eqA ==&gt; eqA) f -&gt;
Below x s -&gt;
<span class="kn">Add</span> x s s&#39; -&gt; eqA (<span class="nb">fold</span> f s&#39; i) (<span class="nb">fold</span> f s (f x i))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk2cf" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk2cf"><span class="highlight"><span class="nb">intros</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Below x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">eqA (<span class="nb">fold</span> f s&#39; i) (<span class="nb">fold</span> f s (f x i))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk2d0" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk2d0"><span class="highlight"><span class="nb">rewrite</span> !fold_spec.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Below x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">eqA (fold_left (flip f) (elements s&#39;) i)
  (fold_left (flip f) (elements s) (f x i))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk2d1" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk2d1"><span class="highlight"><span class="nb">change</span> (eqA (fold_left (flip f) (elements s&#39;) i)
              (fold_left (flip f) (x::elements s) i)).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Below x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">eqA (fold_left (flip f) (elements s&#39;) i)
  (fold_left (flip f) (x :: elements s) i)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk2d2" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk2d2"><span class="highlight"><span class="nb">unfold</span> flip; <span class="nb">rewrite</span> &lt;-!fold_left_rev_right.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Below x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">eqA (fold_right f i (rev (elements s&#39;)))
  (fold_right f i (rev (x :: elements s)))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk2d3" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk2d3"><span class="highlight"><span class="nb">apply</span> (@fold_right_eqlistA E.t E.eq A eqA st); <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Below x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">eqlistA E.eq (rev (elements s&#39;))
  (rev (x :: elements s))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk2d4" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk2d4"><span class="highlight"><span class="nb">apply</span> eqlistA_rev.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">E.t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Below x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kn">Add</span> x s s&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">eqlistA E.eq (elements s&#39;) (x :: elements s)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">apply</span> elements_Add_Below; <span class="nb">auto</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span></span></pre><div class="doc">
The following results have already been proved earlier,
    but we can now prove them with one hypothesis less:
    no need for <span class="inlinecode">(<span class="id" title="var">transpose</span></span> <span class="inlinecode"><span class="id" title="var">eqA</span></span> <span class="inlinecode"><span class="id" title="var">f</span>)</span>. 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-wsp"><span class="highlight">  </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Section</span> <span class="nf">FoldOpt</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Variables</span> (<span class="nv">A</span>:<span class="kt">Type</span>)(<span class="nv">eqA</span>:A-&gt;A-&gt;<span class="kt">Prop</span>)(<span class="nv">st</span>:Equivalence eqA).</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Variables</span> (<span class="nv">f</span>:elt-&gt;A-&gt;A)(<span class="nv">Comp</span>:Proper (E.eq==&gt;eqA==&gt;eqA) f).</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk2d5" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk2d5"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">fold_equal</span> :
   <span class="kr">forall</span> <span class="nv">i</span> <span class="nv">s</span> <span class="nv">s&#39;</span>, s[=]s&#39; -&gt; eqA (<span class="nb">fold</span> f s i) (<span class="nb">fold</span> f s&#39; i).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> : A) (<span class="nv">s</span> <span class="nv">s&#39;</span> : t),
s [=] s&#39; -&gt; eqA (<span class="nb">fold</span> f s i) (<span class="nb">fold</span> f s&#39; i)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk2d6" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk2d6"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> : A) (<span class="nv">s</span> <span class="nv">s&#39;</span> : t),
s [=] s&#39; -&gt; eqA (<span class="nb">fold</span> f s i) (<span class="nb">fold</span> f s&#39; i)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk2d7" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk2d7"><span class="highlight"><span class="nb">intros</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">s [=] s&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">eqA (<span class="nb">fold</span> f s i) (<span class="nb">fold</span> f s&#39; i)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk2d8" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk2d8"><span class="highlight"><span class="nb">rewrite</span> <span class="mi">2</span> fold_spec_right.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">s [=] s&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">eqA (fold_right f i (rev (elements s)))
  (fold_right f i (rev (elements s&#39;)))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk2d9" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk2d9"><span class="highlight"><span class="nb">apply</span> (@fold_right_eqlistA E.t E.eq A eqA st); <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">s [=] s&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">eqlistA E.eq (rev (elements s)) (rev (elements s&#39;))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk2da" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk2da"><span class="highlight"><span class="nb">apply</span> eqlistA_rev.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">s [=] s&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">eqlistA E.eq (elements s) (elements s&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk2db" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk2db"><span class="highlight"><span class="nb">apply</span> sort_equivlistA_eqlistA; <span class="nb">auto with</span> <span class="nb">set</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">s [=] s&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">equivlistA E.eq (elements s) (elements s&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">red</span>; <span class="nb">intro</span> a; <span class="kp">do</span> <span class="mi">2</span> <span class="nb">rewrite</span> &lt;- elements_iff; <span class="nb">auto</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk2dc" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk2dc"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">add_fold</span> : <span class="kr">forall</span> <span class="nv">i</span> <span class="nv">s</span> <span class="nv">x</span>, In x s -&gt;
   eqA (<span class="nb">fold</span> f (add x s) i) (<span class="nb">fold</span> f s i).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> : A) (<span class="nv">s</span> : t) (<span class="nv">x</span> : elt),
In x s -&gt; eqA (<span class="nb">fold</span> f (add x s) i) (<span class="nb">fold</span> f s i)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk2dd" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk2dd"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> : A) (<span class="nv">s</span> : t) (<span class="nv">x</span> : elt),
In x s -&gt; eqA (<span class="nb">fold</span> f (add x s) i) (<span class="nb">fold</span> f s i)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">intros</span>; <span class="nb">apply</span> fold_equal; <span class="nb">auto with</span> <span class="nb">set</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk2de" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk2de"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">remove_fold_2</span>: <span class="kr">forall</span> <span class="nv">i</span> <span class="nv">s</span> <span class="nv">x</span>, ~In x s -&gt;
   eqA (<span class="nb">fold</span> f (remove x s) i) (<span class="nb">fold</span> f s i).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> : A) (<span class="nv">s</span> : t) (<span class="nv">x</span> : elt),
~ In x s -&gt; eqA (<span class="nb">fold</span> f (remove x s) i) (<span class="nb">fold</span> f s i)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk2df" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk2df"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> : A) (<span class="nv">s</span> : t) (<span class="nv">x</span> : elt),
~ In x s -&gt; eqA (<span class="nb">fold</span> f (remove x s) i) (<span class="nb">fold</span> f s i)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk2e0" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk2e0"><span class="highlight"><span class="nb">intros</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kt">Type</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqA</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A -&gt; A -&gt; <span class="kt">Prop</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">st</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Equivalence eqA</span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt -&gt; A -&gt; A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Comp</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (E.eq ==&gt; eqA ==&gt; eqA) f</span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">A</span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">~ In x s</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">eqA (<span class="nb">fold</span> f (remove x s) i) (<span class="nb">fold</span> f s i)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">apply</span> fold_equal; <span class="nb">auto with</span> <span class="nb">set</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">End</span> <span class="nf">FoldOpt</span>.</span></span></span></pre><div class="doc">
An alternative version of <span class="inlinecode"><span class="id" title="var">choose_3</span></span>
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-wsp"><span class="highlight">  </span></span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk2e1" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk2e1"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">choose_equal</span> : <span class="kr">forall</span> <span class="nv">s</span> <span class="nv">s&#39;</span>, Equal s s&#39; -&gt;
    <span class="kr">match</span> choose s, choose s&#39; <span class="kr">with</span>
      | Some x, Some x&#39; =&gt; E.eq x x&#39;
      | None, None =&gt; <span class="kt">True</span>
      | _, _ =&gt; <span class="kt">False</span>
     <span class="kr">end</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">s</span> <span class="nv">s&#39;</span> : t,
s [=] s&#39; -&gt;
<span class="kr">match</span> choose s <span class="kr">with</span>
| Some x =&gt;
    <span class="kr">match</span> choose s&#39; <span class="kr">with</span>
    | Some x&#39; =&gt; E.eq x x&#39;
    | None =&gt; <span class="kt">False</span>
    <span class="kr">end</span>
| None =&gt;
    <span class="kr">match</span> choose s&#39; <span class="kr">with</span>
    | Some _ =&gt; <span class="kt">False</span>
    | None =&gt; <span class="kt">True</span>
    <span class="kr">end</span>
<span class="kr">end</span></span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk2e2" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk2e2"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">s</span> <span class="nv">s&#39;</span> : t,
s [=] s&#39; -&gt;
<span class="kr">match</span> choose s <span class="kr">with</span>
| Some x =&gt;
    <span class="kr">match</span> choose s&#39; <span class="kr">with</span>
    | Some x&#39; =&gt; E.eq x x&#39;
    | None =&gt; <span class="kt">False</span>
    <span class="kr">end</span>
| None =&gt;
    <span class="kr">match</span> choose s&#39; <span class="kr">with</span>
    | Some _ =&gt; <span class="kt">False</span>
    | None =&gt; <span class="kt">True</span>
    <span class="kr">end</span>
<span class="kr">end</span></span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk2e3" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk2e3"><span class="highlight"><span class="nb">intros</span> s s&#39; H;
  <span class="nb">generalize</span> (@choose_spec1 s)(@choose_spec2 s)
             (@choose_spec1 s&#39;)(@choose_spec2 s&#39;)(@choose_spec3 s s&#39;);
  <span class="nb">destruct</span> (choose s); <span class="nb">destruct</span> (choose s&#39;); <span class="nb">simpl</span>; <span class="nb">intuition</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">s [=] s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : elt, Some e = Some x -&gt; In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Some e = None -&gt; Empty s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : elt, None = Some x -&gt; In x s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H4</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : elt,
Some e = Some x -&gt;
None = Some y -&gt; s [=] s&#39; -&gt; E.eq x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H5</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Empty s&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kt">False</span></span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="MSetProperties-v-chk2e4" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">s [=] s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : elt, None = Some x -&gt; In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : elt, Some e = Some x -&gt; In x s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Some e = None -&gt; Empty s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H4</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : elt,
None = Some x -&gt;
Some e = Some y -&gt; s [=] s&#39; -&gt; E.eq x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H5</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Empty s</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="MSetProperties-v-chk2e4"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kt">False</span></span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><input class="coq-toggle" id="MSetProperties-v-chk2e5" style="display: none" type="checkbox"><label class="coq-input" for="MSetProperties-v-chk2e5"><span class="highlight"><span class="nb">apply</span> H5 <span class="kr">with</span> e; <span class="nb">rewrite</span> &lt;-H; <span class="nb">auto</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">s [=] s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">elt</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : elt, None = Some x -&gt; In x s</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : elt, Some e = Some x -&gt; In x s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H3</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Some e = None -&gt; Empty s&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H4</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : elt,
None = Some x -&gt;
Some e = Some y -&gt; s [=] s&#39; -&gt; E.eq x y</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H5</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Empty s</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kt">False</span></span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">apply</span> H5 <span class="kr">with</span> e; <span class="nb">rewrite</span> H; <span class="nb">auto</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">  </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">End</span> <span class="nf">OrdProperties</span>.</span></span></span></pre></article></body></html>