<!DOCTYPE html>
<html><head><title>NZLog.v</title><meta charset="utf-8"><meta content="Alectryon v0.2" name="generator"><link href="alectryon.css" rel="stylesheet"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/IBM-type/0.5.4/css/ibm-type.min.css" integrity="sha512-sky5cf9Ts6FY1kstGOBHSybfKqdHR41M0Ldb0BjNiv3ifltoQIsg0zIaQ+wwdwgQ0w9vKFW7Js50lxH9vqNSSw==" crossorigin="anonymous" /><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/firacode/5.2.0/fira_code.min.css" integrity="sha512-MbysAYimH1hH2xYzkkMHB6MqxBqfP0megxsCLknbYqHVwXTCg9IqHbk+ZP/vnhO8UEW6PaXAkKe2vQ+SWACxxA==" crossorigin="anonymous" /><script src="alectryon.js"></script><style type="text/css">.highlight .hll { background-color: #ffffcc }
.highlight .c { color: #555753; font-style: italic } /* Comment */
.highlight .err { color: #a40000; border: 1px solid #cc0000 } /* Error */
.highlight .g { color: #000000 } /* Generic */
.highlight .k { color: #8f5902 } /* Keyword */
.highlight .l { color: #2e3436 } /* Literal */
.highlight .n { color: #000000 } /* Name */
.highlight .o { color: #000000 } /* Operator */
.highlight .x { color: #2e3436 } /* Other */
.highlight .p { color: #000000 } /* Punctuation */
.highlight .ch { color: #555753; font-weight: bold; font-style: italic } /* Comment.Hashbang */
.highlight .cm { color: #555753; font-style: italic } /* Comment.Multiline */
.highlight .cp { color: #3465a4; font-style: italic } /* Comment.Preproc */
.highlight .cpf { color: #555753; font-style: italic } /* Comment.PreprocFile */
.highlight .c1 { color: #555753; font-style: italic } /* Comment.Single */
.highlight .cs { color: #3465a4; font-weight: bold; font-style: italic } /* Comment.Special */
.highlight .gd { color: #a40000 } /* Generic.Deleted */
.highlight .ge { color: #000000; font-style: italic } /* Generic.Emph */
.highlight .gr { color: #a40000 } /* Generic.Error */
.highlight .gh { color: #a40000; font-weight: bold } /* Generic.Heading */
.highlight .gi { color: #4e9a06 } /* Generic.Inserted */
.highlight .go { color: #000000; font-style: italic } /* Generic.Output */
.highlight .gp { color: #8f5902 } /* Generic.Prompt */
.highlight .gs { color: #000000; font-weight: bold } /* Generic.Strong */
.highlight .gu { color: #000000; font-weight: bold } /* Generic.Subheading */
.highlight .gt { color: #000000; font-style: italic } /* Generic.Traceback */
.highlight .kc { color: #204a87; font-weight: bold } /* Keyword.Constant */
.highlight .kd { color: #4e9a06; font-weight: bold } /* Keyword.Declaration */
.highlight .kn { color: #4e9a06; font-weight: bold } /* Keyword.Namespace */
.highlight .kp { color: #204a87 } /* Keyword.Pseudo */
.highlight .kr { color: #8f5902 } /* Keyword.Reserved */
.highlight .kt { color: #204a87 } /* Keyword.Type */
.highlight .ld { color: #2e3436 } /* Literal.Date */
.highlight .m { color: #2e3436 } /* Literal.Number */
.highlight .s { color: #ad7fa8 } /* Literal.String */
.highlight .na { color: #c4a000 } /* Name.Attribute */
.highlight .nb { color: #75507b } /* Name.Builtin */
.highlight .nc { color: #204a87 } /* Name.Class */
.highlight .no { color: #ce5c00 } /* Name.Constant */
.highlight .nd { color: #3465a4; font-weight: bold } /* Name.Decorator */
.highlight .ni { color: #c4a000; text-decoration: underline } /* Name.Entity */
.highlight .ne { color: #cc0000 } /* Name.Exception */
.highlight .nf { color: #a40000 } /* Name.Function */
.highlight .nl { color: #3465a4; font-weight: bold } /* Name.Label */
.highlight .nn { color: #000000 } /* Name.Namespace */
.highlight .nx { color: #000000 } /* Name.Other */
.highlight .py { color: #000000 } /* Name.Property */
.highlight .nt { color: #a40000 } /* Name.Tag */
.highlight .nv { color: #ce5c00 } /* Name.Variable */
.highlight .ow { color: #8f5902 } /* Operator.Word */
.highlight .w { color: #d3d7cf; text-decoration: underline } /* Text.Whitespace */
.highlight .mb { color: #2e3436 } /* Literal.Number.Bin */
.highlight .mf { color: #2e3436 } /* Literal.Number.Float */
.highlight .mh { color: #2e3436 } /* Literal.Number.Hex */
.highlight .mi { color: #2e3436 } /* Literal.Number.Integer */
.highlight .mo { color: #2e3436 } /* Literal.Number.Oct */
.highlight .sa { color: #ad7fa8 } /* Literal.String.Affix */
.highlight .sb { color: #ad7fa8 } /* Literal.String.Backtick */
.highlight .sc { color: #ad7fa8; font-weight: bold } /* Literal.String.Char */
.highlight .dl { color: #ad7fa8 } /* Literal.String.Delimiter */
.highlight .sd { color: #ad7fa8 } /* Literal.String.Doc */
.highlight .s2 { color: #ad7fa8 } /* Literal.String.Double */
.highlight .se { color: #ad7fa8; font-weight: bold } /* Literal.String.Escape */
.highlight .sh { color: #ad7fa8; text-decoration: underline } /* Literal.String.Heredoc */
.highlight .si { color: #ce5c00 } /* Literal.String.Interpol */
.highlight .sx { color: #ad7fa8 } /* Literal.String.Other */
.highlight .sr { color: #ad7fa8 } /* Literal.String.Regex */
.highlight .s1 { color: #ad7fa8 } /* Literal.String.Single */
.highlight .ss { color: #8f5902 } /* Literal.String.Symbol */
.highlight .bp { color: #5c35cc } /* Name.Builtin.Pseudo */
.highlight .fm { color: #a40000 } /* Name.Function.Magic */
.highlight .vc { color: #ce5c00 } /* Name.Variable.Class */
.highlight .vg { color: #ce5c00; text-decoration: underline } /* Name.Variable.Global */
.highlight .vi { color: #ce5c00 } /* Name.Variable.Instance */
.highlight .vm { color: #ce5c00 } /* Name.Variable.Magic */
.highlight .il { color: #2e3436 } /* Literal.Number.Integer.Long */</style></head><body><article class="alectryon-root alectryon-standalone alectryon-centered alectryon-coqdoc"><div class="alectryon-header">Built with <a href="https://github.com/cpitclaudel/alectryon/">Alectryon</a>, running <a href="https://coq.inria.fr/">Coq</a>+<a href="https://github.com/ejgallego/coq-serapi">SerAPI</a> v8.10.0+0.7.0. Coq sources are in this panel; goals and messages will appear in the other. Bubbles (<span class="alectryon-bubble"></span>) indicate interactive fragments: hover for details, tap to reveal contents. Use <kbd>Ctrl+‚Üë</kbd> <kbd>Ctrl+‚Üì</kbd> to navigate, <kbd>Ctrl+üñ±Ô∏è</kbd> to focus.</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-wsp"><span class="highlight"><span class="sd">(************************************************************************)</span>
<span class="c">(*         *   The Coq Proof Assistant / The Coq Development Team       *)</span>
<span class="c">(*  v      *   INRIA, CNRS and contributors - Copyright 1999-2018       *)</span>
<span class="c">(* &lt;O___,, *       (see CREDITS file for the list of authors)           *)</span>
<span class="c">(*   \VV/  **************************************************************)</span>
<span class="c">(*    //   *    This file is distributed under the terms of the         *)</span>
<span class="c">(*         *     GNU Lesser General Public License Version 2.1          *)</span>
<span class="c">(*         *     (see LICENSE file for the text of the license)         *)</span>
<span class="sd">(************************************************************************)</span></span></span></pre><div class="doc">
Base-2 Logarithm 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Require Import</span> NZAxioms NZMulOrder NZPow.</span></span></span></pre><div class="doc">
Interface of a log2 function, then its specification on naturals 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Module Type</span> <span class="nf">Log2</span> (<span class="kn">Import</span> A : Typ).</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Parameter</span> <span class="nv">Inline</span> <span class="nv">log2</span> : t -&gt; t.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">End</span> <span class="nf">Log2</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Module Type</span> <span class="nf">NZLog2Spec</span> (A : NZOrdAxiomsSig&#39;)(B : Pow&#39; A)(C : Log2 A).</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Import</span> A B C.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Axiom</span> <span class="nv">log2_spec</span> : <span class="kr">forall</span> <span class="nv">a</span>, <span class="mi">0</span>&lt;a -&gt; <span class="mi">2</span>^(log2 a) &lt;= a &lt; <span class="mi">2</span>^(S (log2 a)).</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Axiom</span> <span class="nv">log2_nonpos</span> : <span class="kr">forall</span> <span class="nv">a</span>, a&lt;=<span class="mi">0</span> -&gt; log2 a == <span class="mi">0</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">End</span> <span class="nf">NZLog2Spec</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Module Type</span> <span class="nf">NZLog2</span> (A : NZOrdAxiomsSig)(B : Pow A) := Log2 A &lt;+ NZLog2Spec A B.</span></span></span></pre><div class="doc">
Derived properties of logarithm 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Module Type</span> <span class="nf">NZLog2Prop</span>
 (<span class="kn">Import</span> A : NZOrdAxiomsSig&#39;)
 (<span class="kn">Import</span> B : NZPow&#39; A)
 (<span class="kn">Import</span> C : NZLog2 A B)
 (<span class="kn">Import</span> D : NZMulOrderProp A)
 (<span class="kn">Import</span> E : NZPowProp A B D).</span></span></span></pre><div class="doc">
log2 is always non-negative 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk0" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk0"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">log2_nonneg</span> : <span class="kr">forall</span> <span class="nv">a</span>, <span class="mi">0</span> &lt;= log2 a.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : t, <span class="mi">0</span> &lt;= log2 a</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk1" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk1"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : t, <span class="mi">0</span> &lt;= log2 a</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk2" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk2"><span class="highlight"><span class="nb">intros</span> a.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">0</span> &lt;= log2 a</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk3" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk3"><span class="highlight"><span class="nb">destruct</span> (le_gt_cases a <span class="mi">0</span>) <span class="kr">as</span> [Ha|Ha].</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= <span class="mi">0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">0</span> &lt;= log2 a</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="NZLog-v-chk4" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chk4"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="mi">0</span> &lt;= log2 a</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk5" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk5"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= <span class="mi">0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">0</span> &lt;= log2 a</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">now</span> <span class="nb">rewrite</span> log2_nonpos.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk6" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk6"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">0</span> &lt;= log2 a</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk7" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk7"><span class="highlight"><span class="nb">destruct</span> (log2_spec a Ha) <span class="kr">as</span> (_,LT).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LT</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt; <span class="mi">2</span> ^ S (log2 a)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">0</span> &lt;= log2 a</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk8" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk8"><span class="highlight"><span class="nb">apply</span> lt_succ_r, (pow_gt_1 <span class="mi">2</span>).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LT</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt; <span class="mi">2</span> ^ S (log2 a)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">1</span> &lt; <span class="mi">2</span></span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="NZLog-v-chk9" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LT</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt; <span class="mi">2</span> ^ S (log2 a)</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chk9"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="mi">1</span> &lt; <span class="mi">2</span> ^ S (log2 a)</span></div></blockquote></div></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chka" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chka"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LT</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt; <span class="mi">2</span> ^ S (log2 a)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">1</span> &lt; <span class="mi">2</span></span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight">order&#39;.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chkb" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chkb"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LT</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt; <span class="mi">2</span> ^ S (log2 a)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">1</span> &lt; <span class="mi">2</span> ^ S (log2 a)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chkc" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chkc"><span class="highlight"><span class="nb">rewrite</span> &lt;- le_succ_l, &lt;- one_succ <span class="kr">in</span> Ha.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt;= a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LT</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt; <span class="mi">2</span> ^ S (log2 a)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">1</span> &lt; <span class="mi">2</span> ^ S (log2 a)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight">order.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span></span></pre><div class="doc">
A tactic for proving positivity and non-negativity 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Ltac</span> <span class="nf">order_pos</span> :=
((<span class="nb">apply</span> add_pos_pos || <span class="nb">apply</span> add_nonneg_nonneg ||
  <span class="nb">apply</span> mul_pos_pos || <span class="nb">apply</span> mul_nonneg_nonneg ||
  <span class="nb">apply</span> pow_nonneg || <span class="nb">apply</span> pow_pos_nonneg ||
  <span class="nb">apply</span> log2_nonneg || <span class="nb">apply</span> (le_le_succ_r <span class="mi">0</span>));
 order_pos) <span class="c">(* in case of success of an apply, we recurse *)</span>
|| order&#39;.  <span class="c">(* otherwise *)</span></span></span></span></pre><div class="doc">
The spec of log2 indeed determines it 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chkd" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chkd"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">log2_unique</span> : <span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span>, <span class="mi">0</span>&lt;=b -&gt; <span class="mi">2</span>^b&lt;=a&lt;<span class="mi">2</span>^(S b) -&gt; log2 a == b.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : t,
<span class="mi">0</span> &lt;= b -&gt; <span class="mi">2</span> ^ b &lt;= a &lt; <span class="mi">2</span> ^ S b -&gt; log2 a == b</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chke" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chke"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : t,
<span class="mi">0</span> &lt;= b -&gt; <span class="mi">2</span> ^ b &lt;= a &lt; <span class="mi">2</span> ^ S b -&gt; log2 a == b</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chkf" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chkf"><span class="highlight"><span class="nb">intros</span> a b Hb (LEb,LTb).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LEb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ b &lt;= a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LTb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt; <span class="mi">2</span> ^ S b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 a == b</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk10" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk10"><span class="highlight"><span class="nb">assert</span> (Ha : <span class="mi">0</span> &lt; a).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LEb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ b &lt;= a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LTb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt; <span class="mi">2</span> ^ S b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">0</span> &lt; a</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="NZLog-v-chk11" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LEb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ b &lt;= a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LTb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt; <span class="mi">2</span> ^ S b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chk11"><hr></label><div class="goal-conclusion"><span class="highlight">log2 a == b</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk12" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk12"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LEb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ b &lt;= a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LTb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt; <span class="mi">2</span> ^ S b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">0</span> &lt; a</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk13" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk13"><span class="highlight"><span class="nb">apply</span> lt_le_trans <span class="kr">with</span> (<span class="mi">2</span>^b); <span class="nb">trivial</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LEb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ b &lt;= a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LTb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt; <span class="mi">2</span> ^ S b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">0</span> &lt; <span class="mi">2</span> ^ b</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">apply</span> pow_pos_nonneg; order&#39;.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk14" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk14"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LEb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ b &lt;= a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LTb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt; <span class="mi">2</span> ^ S b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 a == b</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk15" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk15"><span class="highlight"><span class="nb">assert</span> (Hc := log2_nonneg a).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LEb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ b &lt;= a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LTb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt; <span class="mi">2</span> ^ S b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= log2 a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 a == b</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk16" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk16"><span class="highlight"><span class="nb">destruct</span> (log2_spec a Ha) <span class="kr">as</span> (LEc,LTc).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LEb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ b &lt;= a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LTb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt; <span class="mi">2</span> ^ S b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= log2 a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LEc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ log2 a &lt;= a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LTc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt; <span class="mi">2</span> ^ S (log2 a)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 a == b</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk17" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk17"><span class="highlight"><span class="nb">assert</span> (log2 a &lt;= b).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LEb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ b &lt;= a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LTb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt; <span class="mi">2</span> ^ S b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= log2 a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LEc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ log2 a &lt;= a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LTc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt; <span class="mi">2</span> ^ S (log2 a)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 a &lt;= b</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="NZLog-v-chk18" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LEb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ b &lt;= a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LTb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt; <span class="mi">2</span> ^ S b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= log2 a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LEc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ log2 a &lt;= a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LTc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt; <span class="mi">2</span> ^ S (log2 a)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2 a &lt;= b</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chk18"><hr></label><div class="goal-conclusion"><span class="highlight">log2 a == b</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk19" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk19"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LEb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ b &lt;= a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LTb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt; <span class="mi">2</span> ^ S b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= log2 a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LEc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ log2 a &lt;= a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LTc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt; <span class="mi">2</span> ^ S (log2 a)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 a &lt;= b</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk1a" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk1a"><span class="highlight"><span class="nb">apply</span> lt_succ_r, (pow_lt_mono_r_iff <span class="mi">2</span>); <span class="kp">try</span> order&#39;.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LEb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ b &lt;= a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LTb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt; <span class="mi">2</span> ^ S b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= log2 a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LEc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ log2 a &lt;= a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LTc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt; <span class="mi">2</span> ^ S (log2 a)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">0</span> &lt;= S b</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">     </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">now</span> <span class="nb">apply</span> le_le_succ_r.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk1b" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk1b"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LEb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ b &lt;= a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LTb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt; <span class="mi">2</span> ^ S b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= log2 a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LEc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ log2 a &lt;= a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LTc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt; <span class="mi">2</span> ^ S (log2 a)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2 a &lt;= b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 a == b</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk1c" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk1c"><span class="highlight"><span class="nb">assert</span> (b &lt;= log2 a).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LEb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ b &lt;= a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LTb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt; <span class="mi">2</span> ^ S b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= log2 a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LEc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ log2 a &lt;= a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LTc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt; <span class="mi">2</span> ^ S (log2 a)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2 a &lt;= b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">b &lt;= log2 a</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="NZLog-v-chk1d" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LEb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ b &lt;= a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LTb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt; <span class="mi">2</span> ^ S b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= log2 a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LEc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ log2 a &lt;= a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LTc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt; <span class="mi">2</span> ^ S (log2 a)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2 a &lt;= b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">b &lt;= log2 a</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chk1d"><hr></label><div class="goal-conclusion"><span class="highlight">log2 a == b</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">     </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk1e" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk1e"><span class="highlight">*</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LEb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ b &lt;= a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LTb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt; <span class="mi">2</span> ^ S b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= log2 a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LEc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ log2 a &lt;= a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LTc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt; <span class="mi">2</span> ^ S (log2 a)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2 a &lt;= b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">b &lt;= log2 a</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk1f" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk1f"><span class="highlight"><span class="nb">apply</span> lt_succ_r, (pow_lt_mono_r_iff <span class="mi">2</span>); <span class="kp">try</span> order&#39;.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LEb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ b &lt;= a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LTb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt; <span class="mi">2</span> ^ S b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= log2 a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LEc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ log2 a &lt;= a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LTc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt; <span class="mi">2</span> ^ S (log2 a)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2 a &lt;= b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">0</span> &lt;= S (log2 a)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">       </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">now</span> <span class="nb">apply</span> le_le_succ_r.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">     </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk20" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk20"><span class="highlight">*</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LEb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ b &lt;= a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LTb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt; <span class="mi">2</span> ^ S b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= log2 a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LEc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ log2 a &lt;= a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LTc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt; <span class="mi">2</span> ^ S (log2 a)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2 a &lt;= b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">b &lt;= log2 a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 a == b</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight">order.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span></span></pre><div class="doc">
Hence log2 is a morphism. 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk21" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk21"><span class="highlight"><span class="kn">Instance</span> <span class="nf">log2_wd</span> : Proper (eq==&gt;eq) log2.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Proper (eq ==&gt; eq) log2</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk22" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk22"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Proper (eq ==&gt; eq) log2</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk23" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk23"><span class="highlight"><span class="nb">intros</span> x x&#39; Hx.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">x == x&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 x == log2 x&#39;</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk24" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk24"><span class="highlight"><span class="nb">destruct</span> (le_gt_cases x <span class="mi">0</span>).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">x == x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">x &lt;= <span class="mi">0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 x == log2 x&#39;</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="NZLog-v-chk25" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">x == x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; x</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chk25"><hr></label><div class="goal-conclusion"><span class="highlight">log2 x == log2 x&#39;</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk26" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk26"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">x == x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">x &lt;= <span class="mi">0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 x == log2 x&#39;</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk27" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk27"><span class="highlight"><span class="nb">rewrite</span> <span class="mi">2</span> log2_nonpos; <span class="nb">trivial</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">x == x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">x &lt;= <span class="mi">0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">0</span> == <span class="mi">0</span></span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="NZLog-v-chk28" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">x == x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">x &lt;= <span class="mi">0</span></span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chk28"><hr></label><div class="goal-conclusion"><span class="highlight">x&#39; &lt;= <span class="mi">0</span></span></div></blockquote></div></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk29" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk29"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">x == x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">x &lt;= <span class="mi">0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">0</span> == <span class="mi">0</span></span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">reflexivity</span>.</span></span><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk2a" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk2a"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">x == x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">x &lt;= <span class="mi">0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">x&#39; &lt;= <span class="mi">0</span></span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">now</span> <span class="nb">rewrite</span> &lt;- Hx.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk2b" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk2b"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">x == x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; x</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 x == log2 x&#39;</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk2c" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk2c"><span class="highlight"><span class="nb">apply</span> log2_unique.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">x == x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; x</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">0</span> &lt;= log2 x&#39;</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="NZLog-v-chk2d" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">x == x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; x</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chk2d"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ log2 x&#39; &lt;= x &lt; <span class="mi">2</span> ^ S (log2 x&#39;)</span></div></blockquote></div></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk2e" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk2e"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">x == x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; x</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">0</span> &lt;= log2 x&#39;</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">apply</span> log2_nonneg.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk2f" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk2f"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">x == x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; x</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ log2 x&#39; &lt;= x &lt; <span class="mi">2</span> ^ S (log2 x&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk30" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk30"><span class="highlight"><span class="nb">rewrite</span> Hx <span class="kr">in</span> *.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x, x'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">x == x&#39;</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; x&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ log2 x&#39; &lt;= x&#39; &lt; <span class="mi">2</span> ^ S (log2 x&#39;)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">now</span> <span class="nb">apply</span> log2_spec.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span></span></pre><div class="doc">
An alternate specification 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk31" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk31"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">log2_spec_alt</span> : <span class="kr">forall</span> <span class="nv">a</span>, <span class="mi">0</span>&lt;a -&gt; <span class="kr">exists</span> <span class="nv">r</span>,
 a == <span class="mi">2</span>^(log2 a) + r /\ <span class="mi">0</span> &lt;= r &lt; <span class="mi">2</span>^(log2 a).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : t,
<span class="mi">0</span> &lt; a -&gt;
<span class="kr">exists</span> <span class="nv">r</span> : t,
  a == <span class="mi">2</span> ^ log2 a + r /\ <span class="mi">0</span> &lt;= r &lt; <span class="mi">2</span> ^ log2 a</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk32" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk32"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : t,
<span class="mi">0</span> &lt; a -&gt;
<span class="kr">exists</span> <span class="nv">r</span> : t,
  a == <span class="mi">2</span> ^ log2 a + r /\ <span class="mi">0</span> &lt;= r &lt; <span class="mi">2</span> ^ log2 a</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk33" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk33"><span class="highlight"><span class="nb">intros</span> a Ha.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">r</span> : t,
  a == <span class="mi">2</span> ^ log2 a + r /\ <span class="mi">0</span> &lt;= r &lt; <span class="mi">2</span> ^ log2 a</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk34" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk34"><span class="highlight"><span class="nb">destruct</span> (log2_spec _ Ha) <span class="kr">as</span> (LE,LT).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LE</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ log2 a &lt;= a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LT</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt; <span class="mi">2</span> ^ S (log2 a)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">r</span> : t,
  a == <span class="mi">2</span> ^ log2 a + r /\ <span class="mi">0</span> &lt;= r &lt; <span class="mi">2</span> ^ log2 a</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk35" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk35"><span class="highlight"><span class="nb">destruct</span> (le_exists_sub _ _ LE) <span class="kr">as</span> (r &amp; Hr &amp; Hr&#39;).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LE</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ log2 a &lt;= a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LT</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt; <span class="mi">2</span> ^ S (log2 a)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">r</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a == r + <span class="mi">2</span> ^ log2 a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hr'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= r</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">r0</span> : t,
  a == <span class="mi">2</span> ^ log2 a + r0 /\ <span class="mi">0</span> &lt;= r0 &lt; <span class="mi">2</span> ^ log2 a</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk36" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk36"><span class="highlight"><span class="kr">exists</span> <span class="nv">r</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LE</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ log2 a &lt;= a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LT</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt; <span class="mi">2</span> ^ S (log2 a)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">r</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a == r + <span class="mi">2</span> ^ log2 a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hr'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= r</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a == <span class="mi">2</span> ^ log2 a + r /\ <span class="mi">0</span> &lt;= r &lt; <span class="mi">2</span> ^ log2 a</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk37" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk37"><span class="highlight"><span class="nb">split</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LE</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ log2 a &lt;= a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LT</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt; <span class="mi">2</span> ^ S (log2 a)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">r</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a == r + <span class="mi">2</span> ^ log2 a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hr'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= r</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a == <span class="mi">2</span> ^ log2 a + r</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="NZLog-v-chk38" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LE</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ log2 a &lt;= a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LT</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt; <span class="mi">2</span> ^ S (log2 a)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">r</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a == r + <span class="mi">2</span> ^ log2 a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hr'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= r</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chk38"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="mi">0</span> &lt;= r &lt; <span class="mi">2</span> ^ log2 a</span></div></blockquote></div></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk39" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk39"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LE</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ log2 a &lt;= a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LT</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt; <span class="mi">2</span> ^ S (log2 a)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">r</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a == r + <span class="mi">2</span> ^ log2 a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hr'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= r</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a == <span class="mi">2</span> ^ log2 a + r</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">now</span> <span class="nb">rewrite</span> add_comm.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk3a" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk3a"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LE</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ log2 a &lt;= a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LT</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt; <span class="mi">2</span> ^ S (log2 a)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">r</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a == r + <span class="mi">2</span> ^ log2 a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hr'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= r</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">0</span> &lt;= r &lt; <span class="mi">2</span> ^ log2 a</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk3b" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk3b"><span class="highlight"><span class="nb">split</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LE</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ log2 a &lt;= a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LT</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt; <span class="mi">2</span> ^ S (log2 a)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">r</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a == r + <span class="mi">2</span> ^ log2 a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hr'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= r</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">0</span> &lt;= r</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="NZLog-v-chk3c" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LE</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ log2 a &lt;= a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LT</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt; <span class="mi">2</span> ^ S (log2 a)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">r</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a == r + <span class="mi">2</span> ^ log2 a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hr'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= r</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chk3c"><hr></label><div class="goal-conclusion"><span class="highlight">r &lt; <span class="mi">2</span> ^ log2 a</span></div></blockquote></div></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk3d" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk3d"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LE</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ log2 a &lt;= a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LT</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt; <span class="mi">2</span> ^ S (log2 a)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">r</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a == r + <span class="mi">2</span> ^ log2 a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hr'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= r</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">0</span> &lt;= r</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">trivial</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk3e" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk3e"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LE</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ log2 a &lt;= a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LT</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt; <span class="mi">2</span> ^ S (log2 a)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">r</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a == r + <span class="mi">2</span> ^ log2 a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hr'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= r</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">r &lt; <span class="mi">2</span> ^ log2 a</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk3f" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk3f"><span class="highlight"><span class="nb">apply</span> (add_lt_mono_r _ _ (<span class="mi">2</span>^log2 a)).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LE</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ log2 a &lt;= a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LT</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt; <span class="mi">2</span> ^ S (log2 a)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">r</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a == r + <span class="mi">2</span> ^ log2 a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hr'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= r</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">r + <span class="mi">2</span> ^ log2 a &lt; <span class="mi">2</span> ^ log2 a + <span class="mi">2</span> ^ log2 a</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">     </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk40" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk40"><span class="highlight"><span class="nb">rewrite</span> &lt;- Hr.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LE</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ log2 a &lt;= a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LT</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt; <span class="mi">2</span> ^ S (log2 a)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">r</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a == r + <span class="mi">2</span> ^ log2 a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hr'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= r</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a &lt; <span class="mi">2</span> ^ log2 a + <span class="mi">2</span> ^ log2 a</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk41" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk41"><span class="highlight"><span class="nb">generalize</span> LT.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LE</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ log2 a &lt;= a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LT</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt; <span class="mi">2</span> ^ S (log2 a)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">r</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a == r + <span class="mi">2</span> ^ log2 a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hr'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= r</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a &lt; <span class="mi">2</span> ^ S (log2 a) -&gt; a &lt; <span class="mi">2</span> ^ log2 a + <span class="mi">2</span> ^ log2 a</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">     </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk42" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk42"><span class="highlight"><span class="nb">rewrite</span> pow_succ_r <span class="bp">by</span> order_pos.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LE</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ log2 a &lt;= a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LT</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt; <span class="mi">2</span> ^ S (log2 a)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">r</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a == r + <span class="mi">2</span> ^ log2 a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hr'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= r</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a &lt; <span class="mi">2</span> * <span class="mi">2</span> ^ log2 a -&gt; a &lt; <span class="mi">2</span> ^ log2 a + <span class="mi">2</span> ^ log2 a</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">     </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk43" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk43"><span class="highlight"><span class="nb">rewrite</span> two_succ <span class="nb">at</span> <span class="mi">1</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LE</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ log2 a &lt;= a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LT</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt; <span class="mi">2</span> ^ S (log2 a)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">r</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hr</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a == r + <span class="mi">2</span> ^ log2 a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hr'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= r</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a &lt; S <span class="mi">1</span> * <span class="mi">2</span> ^ log2 a -&gt; a &lt; <span class="mi">2</span> ^ log2 a + <span class="mi">2</span> ^ log2 a</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">now</span> nzsimpl.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk44" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk44"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">log2_unique&#39;</span> : <span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> <span class="nv">c</span>, <span class="mi">0</span>&lt;=b -&gt; <span class="mi">0</span>&lt;=c&lt;<span class="mi">2</span>^b -&gt;
 a == <span class="mi">2</span>^b + c -&gt; log2 a == b.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> <span class="nv">c</span> : t,
<span class="mi">0</span> &lt;= b -&gt;
<span class="mi">0</span> &lt;= c &lt; <span class="mi">2</span> ^ b -&gt; a == <span class="mi">2</span> ^ b + c -&gt; log2 a == b</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk45" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk45"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> <span class="nv">c</span> : t,
<span class="mi">0</span> &lt;= b -&gt;
<span class="mi">0</span> &lt;= c &lt; <span class="mi">2</span> ^ b -&gt; a == <span class="mi">2</span> ^ b + c -&gt; log2 a == b</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk46" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk46"><span class="highlight"><span class="nb">intros</span> a b c Hb (Hc,H) EQ.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b, c</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= c</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">c &lt; <span class="mi">2</span> ^ b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EQ</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a == <span class="mi">2</span> ^ b + c</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 a == b</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk47" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk47"><span class="highlight"><span class="nb">apply</span> log2_unique.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b, c</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= c</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">c &lt; <span class="mi">2</span> ^ b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EQ</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a == <span class="mi">2</span> ^ b + c</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">0</span> &lt;= b</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="NZLog-v-chk48" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b, c</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= c</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">c &lt; <span class="mi">2</span> ^ b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EQ</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a == <span class="mi">2</span> ^ b + c</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chk48"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ b &lt;= a &lt; <span class="mi">2</span> ^ S b</span></div></blockquote></div></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk49" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk49"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b, c</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= c</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">c &lt; <span class="mi">2</span> ^ b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EQ</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a == <span class="mi">2</span> ^ b + c</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">0</span> &lt;= b</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">trivial</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk4a" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk4a"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b, c</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= c</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">c &lt; <span class="mi">2</span> ^ b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EQ</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a == <span class="mi">2</span> ^ b + c</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ b &lt;= a &lt; <span class="mi">2</span> ^ S b</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk4b" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk4b"><span class="highlight"><span class="nb">rewrite</span> EQ.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b, c</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= c</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">c &lt; <span class="mi">2</span> ^ b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EQ</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a == <span class="mi">2</span> ^ b + c</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ b &lt;= <span class="mi">2</span> ^ b + c &lt; <span class="mi">2</span> ^ S b</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk4c" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk4c"><span class="highlight"><span class="nb">split</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b, c</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= c</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">c &lt; <span class="mi">2</span> ^ b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EQ</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a == <span class="mi">2</span> ^ b + c</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ b &lt;= <span class="mi">2</span> ^ b + c</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="NZLog-v-chk4d" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b, c</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= c</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">c &lt; <span class="mi">2</span> ^ b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EQ</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a == <span class="mi">2</span> ^ b + c</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chk4d"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ b + c &lt; <span class="mi">2</span> ^ S b</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk4e" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk4e"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b, c</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= c</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">c &lt; <span class="mi">2</span> ^ b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EQ</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a == <span class="mi">2</span> ^ b + c</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ b &lt;= <span class="mi">2</span> ^ b + c</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk4f" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk4f"><span class="highlight"><span class="nb">rewrite</span> &lt;- add_0_r <span class="nb">at</span> <span class="mi">1</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b, c</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= c</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">c &lt; <span class="mi">2</span> ^ b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EQ</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a == <span class="mi">2</span> ^ b + c</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ b + <span class="mi">0</span> &lt;= <span class="mi">2</span> ^ b + c</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">now</span> <span class="nb">apply</span> add_le_mono_l.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk50" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk50"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b, c</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= c</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">c &lt; <span class="mi">2</span> ^ b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EQ</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a == <span class="mi">2</span> ^ b + c</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ b + c &lt; <span class="mi">2</span> ^ S b</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk51" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk51"><span class="highlight"><span class="nb">rewrite</span> pow_succ_r <span class="bp">by</span> order.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b, c</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= c</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">c &lt; <span class="mi">2</span> ^ b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EQ</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a == <span class="mi">2</span> ^ b + c</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ b + c &lt; <span class="mi">2</span> * <span class="mi">2</span> ^ b</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">     </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk52" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk52"><span class="highlight"><span class="nb">rewrite</span> two_succ <span class="nb">at</span> <span class="mi">2</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b, c</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= c</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">c &lt; <span class="mi">2</span> ^ b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EQ</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a == <span class="mi">2</span> ^ b + c</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ b + c &lt; S <span class="mi">1</span> * <span class="mi">2</span> ^ b</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk53" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk53"><span class="highlight">nzsimpl.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b, c</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= c</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">c &lt; <span class="mi">2</span> ^ b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EQ</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a == <span class="mi">2</span> ^ b + c</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ b + c &lt; <span class="mi">2</span> ^ b + <span class="mi">2</span> ^ b</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">now</span> <span class="nb">apply</span> add_lt_mono_l.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span></span></pre><div class="doc">
log2 is exact on powers of 2 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk54" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk54"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">log2_pow2</span> : <span class="kr">forall</span> <span class="nv">a</span>, <span class="mi">0</span>&lt;=a -&gt; log2 (<span class="mi">2</span>^a) == a.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : t, <span class="mi">0</span> &lt;= a -&gt; log2 (<span class="mi">2</span> ^ a) == a</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk55" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk55"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : t, <span class="mi">0</span> &lt;= a -&gt; log2 (<span class="mi">2</span> ^ a) == a</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk56" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk56"><span class="highlight"><span class="nb">intros</span> a Ha.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 (<span class="mi">2</span> ^ a) == a</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk57" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk57"><span class="highlight"><span class="nb">apply</span> log2_unique&#39; <span class="kr">with</span> <span class="mi">0</span>; <span class="nb">trivial</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">0</span> &lt;= <span class="mi">0</span> &lt; <span class="mi">2</span> ^ a</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="NZLog-v-chk58" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= a</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chk58"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ a == <span class="mi">2</span> ^ a + <span class="mi">0</span></span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk59" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk59"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">0</span> &lt;= <span class="mi">0</span> &lt; <span class="mi">2</span> ^ a</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">split</span>; order_pos.</span></span><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk5a" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk5a"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ a == <span class="mi">2</span> ^ a + <span class="mi">0</span></span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">now</span> nzsimpl.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span></span></pre><div class="doc">
log2 and predecessors of powers of 2 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk5b" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk5b"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">log2_pred_pow2</span> : <span class="kr">forall</span> <span class="nv">a</span>, <span class="mi">0</span>&lt;a -&gt; log2 (P (<span class="mi">2</span>^a)) == P a.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : t, <span class="mi">0</span> &lt; a -&gt; log2 (P (<span class="mi">2</span> ^ a)) == P a</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk5c" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk5c"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : t, <span class="mi">0</span> &lt; a -&gt; log2 (P (<span class="mi">2</span> ^ a)) == P a</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk5d" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk5d"><span class="highlight"><span class="nb">intros</span> a Ha.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 (P (<span class="mi">2</span> ^ a)) == P a</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk5e" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk5e"><span class="highlight"><span class="nb">assert</span> (Ha&#39; : S (P a) == a) <span class="bp">by</span> (<span class="bp">now</span> <span class="nb">rewrite</span> lt_succ_pred <span class="kr">with</span> <span class="mi">0</span>).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S (P a) == a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 (P (<span class="mi">2</span> ^ a)) == P a</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk5f" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk5f"><span class="highlight"><span class="nb">apply</span> log2_unique.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S (P a) == a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">0</span> &lt;= P a</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="NZLog-v-chk60" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S (P a) == a</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chk60"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ P a &lt;= P (<span class="mi">2</span> ^ a) &lt; <span class="mi">2</span> ^ S (P a)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk61" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk61"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S (P a) == a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">0</span> &lt;= P a</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">apply</span> lt_succ_r; order.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk62" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk62"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S (P a) == a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ P a &lt;= P (<span class="mi">2</span> ^ a) &lt; <span class="mi">2</span> ^ S (P a)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk63" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk63"><span class="highlight"><span class="nb">rewrite</span> &lt;-le_succ_l, &lt;-lt_succ_r, Ha&#39;.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S (P a) == a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ P a &lt; S (P (<span class="mi">2</span> ^ a)) &lt;= <span class="mi">2</span> ^ a</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk64" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk64"><span class="highlight"><span class="nb">rewrite</span> lt_succ_pred <span class="kr">with</span> <span class="mi">0</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S (P a) == a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ P a &lt; <span class="mi">2</span> ^ a &lt;= <span class="mi">2</span> ^ a</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="NZLog-v-chk65" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S (P a) == a</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chk65"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="mi">0</span> &lt; <span class="mi">2</span> ^ a</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk66" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk66"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S (P a) == a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ P a &lt; <span class="mi">2</span> ^ a &lt;= <span class="mi">2</span> ^ a</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk67" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk67"><span class="highlight"><span class="nb">split</span>; <span class="kp">try</span> <span class="bp">easy</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S (P a) == a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ P a &lt; <span class="mi">2</span> ^ a</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk68" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk68"><span class="highlight"><span class="nb">apply</span> pow_lt_mono_r_iff; <span class="kp">try</span> order&#39;.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S (P a) == a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">P a &lt; a</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">     </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk69" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk69"><span class="highlight"><span class="nb">rewrite</span> succ_lt_mono, Ha&#39;.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S (P a) == a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a &lt; S a</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">apply</span> lt_succ_diag_r.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk6a" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk6a"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S (P a) == a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">0</span> &lt; <span class="mi">2</span> ^ a</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">apply</span> pow_pos_nonneg; order&#39;.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span></span></pre><div class="doc">
log2 and basic constants 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk6b" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk6b"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">log2_1</span> : log2 <span class="mi">1</span> == <span class="mi">0</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 <span class="mi">1</span> == <span class="mi">0</span></span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk6c" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk6c"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 <span class="mi">1</span> == <span class="mi">0</span></span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk6d" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk6d"><span class="highlight"><span class="nb">rewrite</span> &lt;- (pow_0_r <span class="mi">2</span>).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 (<span class="mi">2</span> ^ <span class="mi">0</span>) == <span class="mi">0</span></span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">now</span> <span class="nb">apply</span> log2_pow2.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk6e" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk6e"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">log2_2</span> : log2 <span class="mi">2</span> == <span class="mi">1</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 <span class="mi">2</span> == <span class="mi">1</span></span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk6f" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk6f"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 <span class="mi">2</span> == <span class="mi">1</span></span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk70" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk70"><span class="highlight"><span class="nb">rewrite</span> &lt;- (pow_1_r <span class="mi">2</span>).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 (<span class="mi">2</span> ^ <span class="mi">1</span>) == <span class="mi">1</span></span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">apply</span> log2_pow2; order&#39;.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span></span></pre><div class="doc">
log2 n is strictly positive for 1&lt;n 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk71" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk71"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">log2_pos</span> : <span class="kr">forall</span> <span class="nv">a</span>, <span class="mi">1</span>&lt;a -&gt; <span class="mi">0</span> &lt; log2 a.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : t, <span class="mi">1</span> &lt; a -&gt; <span class="mi">0</span> &lt; log2 a</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk72" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk72"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : t, <span class="mi">1</span> &lt; a -&gt; <span class="mi">0</span> &lt; log2 a</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk73" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk73"><span class="highlight"><span class="nb">intros</span> a Ha.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">0</span> &lt; log2 a</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk74" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk74"><span class="highlight"><span class="nb">assert</span> (Ha&#39; : <span class="mi">0</span> &lt; a) <span class="bp">by</span> order&#39;.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">0</span> &lt; log2 a</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk75" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk75"><span class="highlight"><span class="nb">assert</span> (H := log2_nonneg a).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= log2 a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">0</span> &lt; log2 a</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk76" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk76"><span class="highlight">le_elim H; <span class="nb">trivial</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> == log2 a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">0</span> &lt; log2 a</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk77" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk77"><span class="highlight"><span class="nb">generalize</span> (log2_spec a Ha&#39;).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> == log2 a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ log2 a &lt;= a &lt; <span class="mi">2</span> ^ S (log2 a) -&gt; <span class="mi">0</span> &lt; log2 a</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk78" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk78"><span class="highlight"><span class="nb">rewrite</span> &lt;- H <span class="kr">in</span> *.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> == log2 a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ <span class="mi">0</span> &lt;= a &lt; <span class="mi">2</span> ^ S <span class="mi">0</span> -&gt; <span class="mi">0</span> &lt; <span class="mi">0</span></span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk79" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk79"><span class="highlight">nzsimpl; <span class="kp">try</span> order.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> == log2 a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">1</span> &lt;= a &lt; <span class="mi">2</span> -&gt; <span class="mi">0</span> &lt; <span class="mi">0</span></span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk7a" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk7a"><span class="highlight"><span class="nb">intros</span> (_,H&#39;).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> == log2 a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt; <span class="mi">2</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">0</span> &lt; <span class="mi">0</span></span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk7b" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk7b"><span class="highlight"><span class="nb">rewrite</span> two_succ <span class="kr">in</span> H&#39;.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> == log2 a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt; S <span class="mi">1</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">0</span> &lt; <span class="mi">0</span></span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">apply</span> lt_succ_r <span class="kr">in</span> H&#39;; order.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span></span></pre><div class="doc">
Said otherwise, log2 is null only below 1 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk7c" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk7c"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">log2_null</span> : <span class="kr">forall</span> <span class="nv">a</span>, log2 a == <span class="mi">0</span> &lt;-&gt; a &lt;= <span class="mi">1</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : t, log2 a == <span class="mi">0</span> &lt;-&gt; a &lt;= <span class="mi">1</span></span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk7d" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk7d"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : t, log2 a == <span class="mi">0</span> &lt;-&gt; a &lt;= <span class="mi">1</span></span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk7e" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk7e"><span class="highlight"><span class="nb">intros</span> a.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 a == <span class="mi">0</span> &lt;-&gt; a &lt;= <span class="mi">1</span></span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk7f" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk7f"><span class="highlight"><span class="nb">split</span>; <span class="nb">intros</span> H.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2 a == <span class="mi">0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a &lt;= <span class="mi">1</span></span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="NZLog-v-chk80" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= <span class="mi">1</span></span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chk80"><hr></label><div class="goal-conclusion"><span class="highlight">log2 a == <span class="mi">0</span></span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk81" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk81"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2 a == <span class="mi">0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a &lt;= <span class="mi">1</span></span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk82" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk82"><span class="highlight"><span class="nb">destruct</span> (le_gt_cases a <span class="mi">1</span>) <span class="kr">as</span> [Ha|Ha]; <span class="nb">trivial</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2 a == <span class="mi">0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a &lt;= <span class="mi">1</span></span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">generalize</span> (log2_pos a Ha); order.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk83" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk83"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= <span class="mi">1</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 a == <span class="mi">0</span></span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk84" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk84"><span class="highlight">le_elim H.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt; <span class="mi">1</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 a == <span class="mi">0</span></span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="NZLog-v-chk85" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a == <span class="mi">1</span></span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chk85"><hr></label><div class="goal-conclusion"><span class="highlight">log2 a == <span class="mi">0</span></span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk86" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk86"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt; <span class="mi">1</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 a == <span class="mi">0</span></span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk87" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk87"><span class="highlight"><span class="nb">apply</span> log2_nonpos.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt; <span class="mi">1</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a &lt;= <span class="mi">0</span></span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk88" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk88"><span class="highlight"><span class="nb">apply</span> lt_succ_r.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt; <span class="mi">1</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a &lt; S <span class="mi">0</span></span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">now</span> <span class="nb">rewrite</span> &lt;- one_succ.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk89" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk89"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a == <span class="mi">1</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 a == <span class="mi">0</span></span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk8a" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk8a"><span class="highlight"><span class="nb">rewrite</span> H.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a == <span class="mi">1</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 <span class="mi">1</span> == <span class="mi">0</span></span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">apply</span> log2_1.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span></span></pre><div class="doc">
log2 is a monotone function (but not a strict one) 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk8b" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk8b"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">log2_le_mono</span> : <span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span>, a&lt;=b -&gt; log2 a &lt;= log2 b.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : t, a &lt;= b -&gt; log2 a &lt;= log2 b</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk8c" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk8c"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : t, a &lt;= b -&gt; log2 a &lt;= log2 b</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk8d" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk8d"><span class="highlight"><span class="nb">intros</span> a b H.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 a &lt;= log2 b</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk8e" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk8e"><span class="highlight"><span class="nb">destruct</span> (le_gt_cases a <span class="mi">0</span>) <span class="kr">as</span> [Ha|Ha].</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= <span class="mi">0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 a &lt;= log2 b</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="NZLog-v-chk8f" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chk8f"><hr></label><div class="goal-conclusion"><span class="highlight">log2 a &lt;= log2 b</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk90" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk90"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= <span class="mi">0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 a &lt;= log2 b</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">rewrite</span> log2_nonpos; order_pos.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk91" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk91"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 a &lt;= log2 b</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk92" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk92"><span class="highlight"><span class="nb">assert</span> (Hb : <span class="mi">0</span> &lt; b) <span class="bp">by</span> order.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 a &lt;= log2 b</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk93" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk93"><span class="highlight"><span class="nb">destruct</span> (log2_spec a Ha) <span class="kr">as</span> (LEa,_).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LEa</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ log2 a &lt;= a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 a &lt;= log2 b</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk94" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk94"><span class="highlight"><span class="nb">destruct</span> (log2_spec b Hb) <span class="kr">as</span> (_,LTb).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LEa</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ log2 a &lt;= a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LTb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">b &lt; <span class="mi">2</span> ^ S (log2 b)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 a &lt;= log2 b</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">apply</span> lt_succ_r, (pow_lt_mono_r_iff <span class="mi">2</span>); order_pos.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span></span></pre><div class="doc">
No reverse result for &lt;=, consider for instance log2 3 &lt;= log2 2 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk95" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk95"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">log2_lt_cancel</span> : <span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span>, log2 a &lt; log2 b -&gt; a &lt; b.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : t, log2 a &lt; log2 b -&gt; a &lt; b</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk96" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk96"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : t, log2 a &lt; log2 b -&gt; a &lt; b</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk97" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk97"><span class="highlight"><span class="nb">intros</span> a b H.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2 a &lt; log2 b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a &lt; b</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk98" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk98"><span class="highlight"><span class="nb">destruct</span> (le_gt_cases b <span class="mi">0</span>) <span class="kr">as</span> [Hb|Hb].</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2 a &lt; log2 b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">b &lt;= <span class="mi">0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a &lt; b</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="NZLog-v-chk99" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2 a &lt; log2 b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chk99"><hr></label><div class="goal-conclusion"><span class="highlight">a &lt; b</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk9a" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk9a"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2 a &lt; log2 b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">b &lt;= <span class="mi">0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a &lt; b</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk9b" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk9b"><span class="highlight"><span class="nb">rewrite</span> (log2_nonpos b) <span class="kr">in</span> H; <span class="nb">trivial</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2 a &lt; <span class="mi">0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">b &lt;= <span class="mi">0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a &lt; b</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">generalize</span> (log2_nonneg a); order.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk9c" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk9c"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2 a &lt; log2 b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a &lt; b</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk9d" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk9d"><span class="highlight"><span class="nb">destruct</span> (le_gt_cases a <span class="mi">0</span>) <span class="kr">as</span> [Ha|Ha].</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2 a &lt; log2 b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= <span class="mi">0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a &lt; b</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="NZLog-v-chk9e" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2 a &lt; log2 b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chk9e"><hr></label><div class="goal-conclusion"><span class="highlight">a &lt; b</span></div></blockquote></div></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk9f" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk9f"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2 a &lt; log2 b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= <span class="mi">0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a &lt; b</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight">order.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chka0" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chka0"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2 a &lt; log2 b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a &lt; b</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chka1" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chka1"><span class="highlight"><span class="nb">destruct</span> (log2_spec a Ha) <span class="kr">as</span> (_,LTa).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2 a &lt; log2 b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LTa</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt; <span class="mi">2</span> ^ S (log2 a)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a &lt; b</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">     </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chka2" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chka2"><span class="highlight"><span class="nb">destruct</span> (log2_spec b Hb) <span class="kr">as</span> (LEb,_).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2 a &lt; log2 b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LTa</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt; <span class="mi">2</span> ^ S (log2 a)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LEb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ log2 b &lt;= b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a &lt; b</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">     </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chka3" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chka3"><span class="highlight"><span class="nb">apply</span> le_succ_l <span class="kr">in</span> H.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S (log2 a) &lt;= log2 b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LTa</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt; <span class="mi">2</span> ^ S (log2 a)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LEb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ log2 b &lt;= b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a &lt; b</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">     </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">apply</span> (pow_le_mono_r_iff <span class="mi">2</span>) <span class="kr">in</span> H; order_pos.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span></span></pre><div class="doc">
When left side is a power of 2, we have an equivalence for &lt;= 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chka4" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chka4"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">log2_le_pow2</span> : <span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span>, <span class="mi">0</span>&lt;a -&gt; (<span class="mi">2</span>^b&lt;=a &lt;-&gt; b &lt;= log2 a).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : t, <span class="mi">0</span> &lt; a -&gt; <span class="mi">2</span> ^ b &lt;= a &lt;-&gt; b &lt;= log2 a</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chka5" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chka5"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : t, <span class="mi">0</span> &lt; a -&gt; <span class="mi">2</span> ^ b &lt;= a &lt;-&gt; b &lt;= log2 a</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chka6" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chka6"><span class="highlight"><span class="nb">intros</span> a b Ha.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ b &lt;= a &lt;-&gt; b &lt;= log2 a</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chka7" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chka7"><span class="highlight"><span class="nb">split</span>; <span class="nb">intros</span> H.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ b &lt;= a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">b &lt;= log2 a</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="NZLog-v-chka8" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">b &lt;= log2 a</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chka8"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ b &lt;= a</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chka9" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chka9"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ b &lt;= a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">b &lt;= log2 a</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chkaa" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chkaa"><span class="highlight"><span class="nb">destruct</span> (lt_ge_cases b <span class="mi">0</span>) <span class="kr">as</span> [Hb|Hb].</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ b &lt;= a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">b &lt; <span class="mi">0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">b &lt;= log2 a</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="NZLog-v-chkab" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ b &lt;= a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chkab"><hr></label><div class="goal-conclusion"><span class="highlight">b &lt;= log2 a</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chkac" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chkac"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ b &lt;= a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">b &lt; <span class="mi">0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">b &lt;= log2 a</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">generalize</span> (log2_nonneg a); order.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chkad" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chkad"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ b &lt;= a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">b &lt;= log2 a</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chkae" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chkae"><span class="highlight"><span class="nb">rewrite</span> &lt;- (log2_pow2 b); <span class="nb">trivial</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ b &lt;= a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 (<span class="mi">2</span> ^ b) &lt;= log2 a</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">now</span> <span class="nb">apply</span> log2_le_mono.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chkaf" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chkaf"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">b &lt;= log2 a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ b &lt;= a</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chkb0" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chkb0"><span class="highlight"><span class="nb">transitivity</span> (<span class="mi">2</span>^(log2 a)).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">b &lt;= log2 a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ b &lt;= <span class="mi">2</span> ^ log2 a</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="NZLog-v-chkb1" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">b &lt;= log2 a</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chkb1"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ log2 a &lt;= a</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chkb2" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chkb2"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">b &lt;= log2 a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ b &lt;= <span class="mi">2</span> ^ log2 a</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">apply</span> pow_le_mono_r; order&#39;.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chkb3" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chkb3"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">b &lt;= log2 a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ log2 a &lt;= a</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">now</span> <span class="nb">destruct</span> (log2_spec a Ha).</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span></span></pre><div class="doc">
When right side is a square, we have an equivalence for &lt; 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chkb4" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chkb4"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">log2_lt_pow2</span> : <span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span>, <span class="mi">0</span>&lt;a -&gt; (a&lt;<span class="mi">2</span>^b &lt;-&gt; log2 a &lt; b).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : t, <span class="mi">0</span> &lt; a -&gt; a &lt; <span class="mi">2</span> ^ b &lt;-&gt; log2 a &lt; b</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chkb5" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chkb5"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : t, <span class="mi">0</span> &lt; a -&gt; a &lt; <span class="mi">2</span> ^ b &lt;-&gt; log2 a &lt; b</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chkb6" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chkb6"><span class="highlight"><span class="nb">intros</span> a b Ha.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a &lt; <span class="mi">2</span> ^ b &lt;-&gt; log2 a &lt; b</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chkb7" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chkb7"><span class="highlight"><span class="nb">split</span>; <span class="nb">intros</span> H.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt; <span class="mi">2</span> ^ b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 a &lt; b</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="NZLog-v-chkb8" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2 a &lt; b</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chkb8"><hr></label><div class="goal-conclusion"><span class="highlight">a &lt; <span class="mi">2</span> ^ b</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chkb9" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chkb9"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt; <span class="mi">2</span> ^ b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 a &lt; b</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chkba" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chkba"><span class="highlight"><span class="nb">destruct</span> (lt_ge_cases b <span class="mi">0</span>) <span class="kr">as</span> [Hb|Hb].</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt; <span class="mi">2</span> ^ b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">b &lt; <span class="mi">0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 a &lt; b</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="NZLog-v-chkbb" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt; <span class="mi">2</span> ^ b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chkbb"><hr></label><div class="goal-conclusion"><span class="highlight">log2 a &lt; b</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chkbc" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chkbc"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt; <span class="mi">2</span> ^ b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">b &lt; <span class="mi">0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 a &lt; b</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">rewrite</span> pow_neg_r <span class="kr">in</span> H; order.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chkbd" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chkbd"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt; <span class="mi">2</span> ^ b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 a &lt; b</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chkbe" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chkbe"><span class="highlight"><span class="nb">apply</span> (pow_lt_mono_r_iff <span class="mi">2</span>); <span class="kp">try</span> order_pos.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt; <span class="mi">2</span> ^ b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ log2 a &lt; <span class="mi">2</span> ^ b</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">     </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chkbf" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chkbf"><span class="highlight"><span class="nb">apply</span> le_lt_trans <span class="kr">with</span> a; <span class="nb">trivial</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt; <span class="mi">2</span> ^ b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ log2 a &lt;= a</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">     </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">now</span> <span class="nb">destruct</span> (log2_spec a Ha).</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chkc0" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chkc0"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2 a &lt; b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a &lt; <span class="mi">2</span> ^ b</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chkc1" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chkc1"><span class="highlight"><span class="nb">destruct</span> (lt_ge_cases b <span class="mi">0</span>) <span class="kr">as</span> [Hb|Hb].</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2 a &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">b &lt; <span class="mi">0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a &lt; <span class="mi">2</span> ^ b</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="NZLog-v-chkc2" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2 a &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chkc2"><hr></label><div class="goal-conclusion"><span class="highlight">a &lt; <span class="mi">2</span> ^ b</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chkc3" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chkc3"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2 a &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">b &lt; <span class="mi">0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a &lt; <span class="mi">2</span> ^ b</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">generalize</span> (log2_nonneg a); order.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chkc4" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chkc4"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2 a &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a &lt; <span class="mi">2</span> ^ b</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chkc5" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chkc5"><span class="highlight"><span class="nb">apply</span> log2_lt_cancel; <span class="kp">try</span> order.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2 a &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 a &lt; log2 (<span class="mi">2</span> ^ b)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">     </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">now</span> <span class="nb">rewrite</span> log2_pow2.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span></span></pre><div class="doc">
Comparing log2 and identity 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chkc6" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chkc6"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">log2_lt_lin</span> : <span class="kr">forall</span> <span class="nv">a</span>, <span class="mi">0</span>&lt;a -&gt; log2 a &lt; a.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : t, <span class="mi">0</span> &lt; a -&gt; log2 a &lt; a</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chkc7" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chkc7"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : t, <span class="mi">0</span> &lt; a -&gt; log2 a &lt; a</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chkc8" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chkc8"><span class="highlight"><span class="nb">intros</span> a Ha.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 a &lt; a</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chkc9" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chkc9"><span class="highlight"><span class="nb">apply</span> (pow_lt_mono_r_iff <span class="mi">2</span>); <span class="kp">try</span> order_pos.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ log2 a &lt; <span class="mi">2</span> ^ a</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chkca" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chkca"><span class="highlight"><span class="nb">apply</span> le_lt_trans <span class="kr">with</span> a.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ log2 a &lt;= a</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="NZLog-v-chkcb" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chkcb"><hr></label><div class="goal-conclusion"><span class="highlight">a &lt; <span class="mi">2</span> ^ a</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chkcc" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chkcc"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ log2 a &lt;= a</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">now</span> <span class="nb">destruct</span> (log2_spec a Ha).</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chkcd" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chkcd"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a &lt; <span class="mi">2</span> ^ a</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">apply</span> pow_gt_lin_r; order&#39;.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chkce" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chkce"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">log2_le_lin</span> : <span class="kr">forall</span> <span class="nv">a</span>, <span class="mi">0</span>&lt;=a -&gt; log2 a &lt;= a.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : t, <span class="mi">0</span> &lt;= a -&gt; log2 a &lt;= a</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chkcf" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chkcf"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : t, <span class="mi">0</span> &lt;= a -&gt; log2 a &lt;= a</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chkd0" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chkd0"><span class="highlight"><span class="nb">intros</span> a Ha.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 a &lt;= a</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chkd1" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chkd1"><span class="highlight">le_elim Ha.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 a &lt;= a</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="NZLog-v-chkd2" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> == a</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chkd2"><hr></label><div class="goal-conclusion"><span class="highlight">log2 a &lt;= a</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chkd3" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chkd3"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 a &lt;= a</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">now</span> <span class="nb">apply</span> lt_le_incl, log2_lt_lin.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chkd4" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chkd4"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> == a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 a &lt;= a</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">rewrite</span> &lt;- Ha, log2_nonpos; order.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span></span></pre><div class="doc">
Log2 and multiplication. 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --></pre><div class="doc">
Due to rounding error, we don't have the usual
    <span class="inlinecode"><span class="id" title="var">log2</span></span> <span class="inlinecode">(<span class="id" title="var">a</span>√ó<span class="id" title="var">b</span>)</span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="var">log2</span></span> <span class="inlinecode"><span class="id" title="var">a</span></span> <span class="inlinecode">+</span> <span class="inlinecode"><span class="id" title="var">log2</span></span> <span class="inlinecode"><span class="id" title="var">b</span></span> but we may be off by 1 at most 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chkd5" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chkd5"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">log2_mul_below</span> : <span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span>, <span class="mi">0</span>&lt;a -&gt; <span class="mi">0</span>&lt;b -&gt;
 log2 a + log2 b &lt;= log2 (a*b).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : t,
<span class="mi">0</span> &lt; a -&gt; <span class="mi">0</span> &lt; b -&gt; log2 a + log2 b &lt;= log2 (a * b)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chkd6" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chkd6"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : t,
<span class="mi">0</span> &lt; a -&gt; <span class="mi">0</span> &lt; b -&gt; log2 a + log2 b &lt;= log2 (a * b)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chkd7" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chkd7"><span class="highlight"><span class="nb">intros</span> a b Ha Hb.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 a + log2 b &lt;= log2 (a * b)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chkd8" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chkd8"><span class="highlight"><span class="nb">apply</span> log2_le_pow2; <span class="kp">try</span> order_pos.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ (log2 a + log2 b) &lt;= a * b</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chkd9" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chkd9"><span class="highlight"><span class="nb">rewrite</span> pow_add_r <span class="bp">by</span> order_pos.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ log2 a * <span class="mi">2</span> ^ log2 b &lt;= a * b</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">apply</span> mul_le_mono_nonneg; <span class="kp">try</span> <span class="nb">apply</span> log2_spec; order_pos.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chkda" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chkda"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">log2_mul_above</span> : <span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span>, <span class="mi">0</span>&lt;=a -&gt; <span class="mi">0</span>&lt;=b -&gt;
 log2 (a*b) &lt;= log2 a + log2 b + <span class="mi">1</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : t,
<span class="mi">0</span> &lt;= a -&gt;
<span class="mi">0</span> &lt;= b -&gt; log2 (a * b) &lt;= log2 a + log2 b + <span class="mi">1</span></span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chkdb" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chkdb"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : t,
<span class="mi">0</span> &lt;= a -&gt;
<span class="mi">0</span> &lt;= b -&gt; log2 (a * b) &lt;= log2 a + log2 b + <span class="mi">1</span></span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chkdc" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chkdc"><span class="highlight"><span class="nb">intros</span> a b Ha Hb.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 (a * b) &lt;= log2 a + log2 b + <span class="mi">1</span></span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chkdd" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chkdd"><span class="highlight">le_elim Ha.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 (a * b) &lt;= log2 a + log2 b + <span class="mi">1</span></span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="NZLog-v-chkde" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> == a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chkde"><hr></label><div class="goal-conclusion"><span class="highlight">log2 (a * b) &lt;= log2 a + log2 b + <span class="mi">1</span></span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chkdf" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chkdf"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 (a * b) &lt;= log2 a + log2 b + <span class="mi">1</span></span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chke0" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chke0"><span class="highlight">le_elim Hb.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 (a * b) &lt;= log2 a + log2 b + <span class="mi">1</span></span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="NZLog-v-chke1" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> == b</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chke1"><hr></label><div class="goal-conclusion"><span class="highlight">log2 (a * b) &lt;= log2 a + log2 b + <span class="mi">1</span></span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chke2" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chke2"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 (a * b) &lt;= log2 a + log2 b + <span class="mi">1</span></span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chke3" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chke3"><span class="highlight"><span class="nb">apply</span> lt_succ_r.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 (a * b) &lt; S (log2 a + log2 b + <span class="mi">1</span>)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">     </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chke4" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chke4"><span class="highlight"><span class="nb">rewrite</span> add_1_r, &lt;- add_succ_r, &lt;- add_succ_l.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 (a * b) &lt; S (log2 a) + S (log2 b)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">     </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chke5" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chke5"><span class="highlight"><span class="nb">apply</span> log2_lt_pow2; <span class="kp">try</span> order_pos.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a * b &lt; <span class="mi">2</span> ^ (S (log2 a) + S (log2 b))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">     </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chke6" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chke6"><span class="highlight"><span class="nb">rewrite</span> pow_add_r <span class="bp">by</span> order_pos.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a * b &lt; <span class="mi">2</span> ^ S (log2 a) * <span class="mi">2</span> ^ S (log2 b)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">     </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">apply</span> mul_lt_mono_nonneg; <span class="kp">try</span> order; <span class="bp">now</span> <span class="nb">apply</span> log2_spec.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chke7" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chke7"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> == b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 (a * b) &lt;= log2 a + log2 b + <span class="mi">1</span></span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chke8" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chke8"><span class="highlight"><span class="nb">rewrite</span> &lt;- Hb.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> == b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 (a * <span class="mi">0</span>) &lt;= log2 a + log2 <span class="mi">0</span> + <span class="mi">1</span></span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chke9" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chke9"><span class="highlight">nzsimpl.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> == b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 <span class="mi">0</span> &lt;= S (log2 a + log2 <span class="mi">0</span>)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">rewrite</span> log2_nonpos; order_pos.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chkea" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chkea"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> == a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 (a * b) &lt;= log2 a + log2 b + <span class="mi">1</span></span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chkeb" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chkeb"><span class="highlight"><span class="nb">rewrite</span> &lt;- Ha.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> == a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 (<span class="mi">0</span> * b) &lt;= log2 <span class="mi">0</span> + log2 b + <span class="mi">1</span></span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chkec" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chkec"><span class="highlight">nzsimpl.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> == a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 <span class="mi">0</span> &lt;= S (log2 <span class="mi">0</span> + log2 b)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">rewrite</span> log2_nonpos; order_pos.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span></span></pre><div class="doc">
And we can't find better approximations in general.
<ul class="doclist">
<li> The lower bound is exact for powers of 2.

</li>
<li> Concerning the upper bound, for any c&gt;1, take a=b=2^c-1,
      then log2 (a*b) = c+c -1 while (log2 a) = (log2 b) = c-1

</li>
</ul>
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --></pre><div class="doc">
At least, we get back the usual equation when we multiply by 2 (or 2^k) 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chked" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chked"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">log2_mul_pow2</span> : <span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span>, <span class="mi">0</span>&lt;a -&gt; <span class="mi">0</span>&lt;=b -&gt; log2 (a*<span class="mi">2</span>^b) == b + log2 a.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : t,
<span class="mi">0</span> &lt; a -&gt; <span class="mi">0</span> &lt;= b -&gt; log2 (a * <span class="mi">2</span> ^ b) == b + log2 a</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chkee" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chkee"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : t,
<span class="mi">0</span> &lt; a -&gt; <span class="mi">0</span> &lt;= b -&gt; log2 (a * <span class="mi">2</span> ^ b) == b + log2 a</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chkef" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chkef"><span class="highlight"><span class="nb">intros</span> a b Ha Hb.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 (a * <span class="mi">2</span> ^ b) == b + log2 a</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chkf0" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chkf0"><span class="highlight"><span class="nb">apply</span> log2_unique; <span class="kp">try</span> order_pos.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ (b + log2 a) &lt;= a * <span class="mi">2</span> ^ b &lt; <span class="mi">2</span> ^ S (b + log2 a)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chkf1" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chkf1"><span class="highlight"><span class="nb">split</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ (b + log2 a) &lt;= a * <span class="mi">2</span> ^ b</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="NZLog-v-chkf2" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chkf2"><hr></label><div class="goal-conclusion"><span class="highlight">a * <span class="mi">2</span> ^ b &lt; <span class="mi">2</span> ^ S (b + log2 a)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chkf3" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chkf3"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ (b + log2 a) &lt;= a * <span class="mi">2</span> ^ b</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chkf4" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chkf4"><span class="highlight"><span class="nb">rewrite</span> pow_add_r, mul_comm; <span class="kp">try</span> order_pos.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ log2 a * <span class="mi">2</span> ^ b &lt;= a * <span class="mi">2</span> ^ b</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chkf5" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chkf5"><span class="highlight"><span class="nb">apply</span> mul_le_mono_nonneg_r.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">0</span> &lt;= <span class="mi">2</span> ^ b</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="NZLog-v-chkf6" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chkf6"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ log2 a &lt;= a</span></div></blockquote></div></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chkf7" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chkf7"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">0</span> &lt;= <span class="mi">2</span> ^ b</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight">order_pos.</span></span><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chkf8" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chkf8"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ log2 a &lt;= a</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">now</span> <span class="nb">apply</span> log2_spec.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chkf9" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chkf9"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a * <span class="mi">2</span> ^ b &lt; <span class="mi">2</span> ^ S (b + log2 a)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chkfa" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chkfa"><span class="highlight"><span class="nb">rewrite</span> &lt;-add_succ_r, pow_add_r, mul_comm; <span class="kp">try</span> order_pos.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ b * a &lt; <span class="mi">2</span> ^ b * <span class="mi">2</span> ^ S (log2 a)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chkfb" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chkfb"><span class="highlight"><span class="nb">apply</span> mul_lt_mono_pos_l.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">0</span> &lt; <span class="mi">2</span> ^ b</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="NZLog-v-chkfc" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chkfc"><hr></label><div class="goal-conclusion"><span class="highlight">a &lt; <span class="mi">2</span> ^ S (log2 a)</span></div></blockquote></div></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chkfd" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chkfd"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">0</span> &lt; <span class="mi">2</span> ^ b</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight">order_pos.</span></span><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chkfe" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chkfe"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a &lt; <span class="mi">2</span> ^ S (log2 a)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">now</span> <span class="nb">apply</span> log2_spec.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chkff" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chkff"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">log2_double</span> : <span class="kr">forall</span> <span class="nv">a</span>, <span class="mi">0</span>&lt;a -&gt; log2 (<span class="mi">2</span>*a) == S (log2 a).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : t, <span class="mi">0</span> &lt; a -&gt; log2 (<span class="mi">2</span> * a) == S (log2 a)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk100" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk100"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : t, <span class="mi">0</span> &lt; a -&gt; log2 (<span class="mi">2</span> * a) == S (log2 a)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk101" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk101"><span class="highlight"><span class="nb">intros</span> a Ha.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 (<span class="mi">2</span> * a) == S (log2 a)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk102" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk102"><span class="highlight"><span class="nb">generalize</span> (log2_mul_pow2 a <span class="mi">1</span> Ha le_0_1).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 (a * <span class="mi">2</span> ^ <span class="mi">1</span>) == <span class="mi">1</span> + log2 a -&gt;
log2 (<span class="mi">2</span> * a) == S (log2 a)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">now</span> nzsimpl&#39;.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span></span></pre><div class="doc">
Two numbers with same log2 cannot be far away. 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk103" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk103"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">log2_same</span> : <span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span>, <span class="mi">0</span>&lt;a -&gt; <span class="mi">0</span>&lt;b -&gt; log2 a == log2 b -&gt; a &lt; <span class="mi">2</span>*b.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : t,
<span class="mi">0</span> &lt; a -&gt; <span class="mi">0</span> &lt; b -&gt; log2 a == log2 b -&gt; a &lt; <span class="mi">2</span> * b</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk104" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk104"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : t,
<span class="mi">0</span> &lt; a -&gt; <span class="mi">0</span> &lt; b -&gt; log2 a == log2 b -&gt; a &lt; <span class="mi">2</span> * b</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk105" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk105"><span class="highlight"><span class="nb">intros</span> a b Ha Hb H.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2 a == log2 b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a &lt; <span class="mi">2</span> * b</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk106" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk106"><span class="highlight"><span class="nb">apply</span> log2_lt_cancel.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2 a == log2 b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 a &lt; log2 (<span class="mi">2</span> * b)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk107" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk107"><span class="highlight"><span class="nb">rewrite</span> log2_double, H <span class="bp">by</span> <span class="nb">trivial</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2 a == log2 b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 b &lt; S (log2 b)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">apply</span> lt_succ_diag_r.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span></span></pre><div class="doc">
Log2 and successor :
<ul class="doclist">
<li> the log2 function climbs by at most 1 at a time

</li>
<li> otherwise it stays at the same value

</li>
<li> the +1 steps occur for powers of two

</li>
</ul>
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk108" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk108"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">log2_succ_le</span> : <span class="kr">forall</span> <span class="nv">a</span>, log2 (S a) &lt;= S (log2 a).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : t, log2 (S a) &lt;= S (log2 a)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk109" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk109"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : t, log2 (S a) &lt;= S (log2 a)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk10a" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk10a"><span class="highlight"><span class="nb">intros</span> a.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 (S a) &lt;= S (log2 a)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk10b" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk10b"><span class="highlight"><span class="nb">destruct</span> (lt_trichotomy <span class="mi">0</span> a) <span class="kr">as</span> [LT|[EQ|LT]].</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LT</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 (S a) &lt;= S (log2 a)</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="NZLog-v-chk10c" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EQ</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> == a</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chk10c"><hr></label><div class="goal-conclusion"><span class="highlight">log2 (S a) &lt;= S (log2 a)</span></div></blockquote><input class="coq-extra-goal-toggle" id="NZLog-v-chk10d" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LT</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt; <span class="mi">0</span></span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chk10d"><hr></label><div class="goal-conclusion"><span class="highlight">log2 (S a) &lt;= S (log2 a)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk10e" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk10e"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LT</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 (S a) &lt;= S (log2 a)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk10f" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk10f"><span class="highlight"><span class="nb">apply</span> (pow_le_mono_r_iff <span class="mi">2</span>); <span class="kp">try</span> order_pos.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LT</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ log2 (S a) &lt;= <span class="mi">2</span> ^ S (log2 a)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk110" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk110"><span class="highlight"><span class="nb">transitivity</span> (S a).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LT</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ log2 (S a) &lt;= S a</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="NZLog-v-chk111" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LT</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chk111"><hr></label><div class="goal-conclusion"><span class="highlight">S a &lt;= <span class="mi">2</span> ^ S (log2 a)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk112" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk112"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LT</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ log2 (S a) &lt;= S a</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk113" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk113"><span class="highlight"><span class="nb">apply</span> log2_spec.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LT</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">0</span> &lt; S a</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">     </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">apply</span> lt_succ_r; order.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk114" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk114"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LT</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">S a &lt;= <span class="mi">2</span> ^ S (log2 a)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">now</span> <span class="nb">apply</span> le_succ_l, log2_spec.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk115" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk115"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EQ</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> == a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 (S a) &lt;= S (log2 a)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">rewrite</span> &lt;- EQ, &lt;- one_succ, log2_1; order_pos.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk116" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk116"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LT</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt; <span class="mi">0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 (S a) &lt;= S (log2 a)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk117" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk117"><span class="highlight"><span class="nb">rewrite</span> <span class="mi">2</span> log2_nonpos.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LT</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt; <span class="mi">0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">0</span> &lt;= S <span class="mi">0</span></span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="NZLog-v-chk118" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LT</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt; <span class="mi">0</span></span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chk118"><hr></label><div class="goal-conclusion"><span class="highlight">a &lt;= <span class="mi">0</span></span></div></blockquote><input class="coq-extra-goal-toggle" id="NZLog-v-chk119" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LT</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt; <span class="mi">0</span></span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chk119"><hr></label><div class="goal-conclusion"><span class="highlight">S a &lt;= <span class="mi">0</span></span></div></blockquote></div></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk11a" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk11a"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LT</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt; <span class="mi">0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">0</span> &lt;= S <span class="mi">0</span></span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight">order_pos.</span></span><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk11b" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk11b"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LT</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt; <span class="mi">0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a &lt;= <span class="mi">0</span></span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight">order&#39;.</span></span><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk11c" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk11c"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LT</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt; <span class="mi">0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">S a &lt;= <span class="mi">0</span></span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">now</span> <span class="nb">rewrite</span> le_succ_l.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk11d" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk11d"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">log2_succ_or</span> : <span class="kr">forall</span> <span class="nv">a</span>,
 log2 (S a) == S (log2 a) \/ log2 (S a) == log2 a.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : t,
log2 (S a) == S (log2 a) \/ log2 (S a) == log2 a</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk11e" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk11e"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : t,
log2 (S a) == S (log2 a) \/ log2 (S a) == log2 a</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk11f" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk11f"><span class="highlight"><span class="nb">intros</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 (S a) == S (log2 a) \/ log2 (S a) == log2 a</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk120" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk120"><span class="highlight"><span class="nb">destruct</span> (le_gt_cases (log2 (S a)) (log2 a)) <span class="kr">as</span> [H|H].</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2 (S a) &lt;= log2 a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 (S a) == S (log2 a) \/ log2 (S a) == log2 a</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="NZLog-v-chk121" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2 a &lt; log2 (S a)</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chk121"><hr></label><div class="goal-conclusion"><span class="highlight">log2 (S a) == S (log2 a) \/ log2 (S a) == log2 a</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk122" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk122"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2 (S a) &lt;= log2 a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 (S a) == S (log2 a) \/ log2 (S a) == log2 a</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk123" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk123"><span class="highlight"><span class="nb">right</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2 (S a) &lt;= log2 a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 (S a) == log2 a</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">generalize</span> (log2_le_mono _ _ (le_succ_diag_r a)); order.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk124" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk124"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2 a &lt; log2 (S a)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 (S a) == S (log2 a) \/ log2 (S a) == log2 a</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk125" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk125"><span class="highlight"><span class="nb">left</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2 a &lt; log2 (S a)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 (S a) == S (log2 a)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk126" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk126"><span class="highlight"><span class="nb">apply</span> le_succ_l <span class="kr">in</span> H.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S (log2 a) &lt;= log2 (S a)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 (S a) == S (log2 a)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">generalize</span> (log2_succ_le a); order.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk127" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk127"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">log2_eq_succ_is_pow2</span> : <span class="kr">forall</span> <span class="nv">a</span>,
 log2 (S a) == S (log2 a) -&gt; <span class="kr">exists</span> <span class="nv">b</span>, S a == <span class="mi">2</span>^b.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : t,
log2 (S a) == S (log2 a) -&gt; <span class="kr">exists</span> <span class="nv">b</span> : t, S a == <span class="mi">2</span> ^ b</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk128" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk128"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : t,
log2 (S a) == S (log2 a) -&gt; <span class="kr">exists</span> <span class="nv">b</span> : t, S a == <span class="mi">2</span> ^ b</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk129" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk129"><span class="highlight"><span class="nb">intros</span> a H.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2 (S a) == S (log2 a)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">b</span> : t, S a == <span class="mi">2</span> ^ b</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk12a" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk12a"><span class="highlight"><span class="nb">destruct</span> (le_gt_cases a <span class="mi">0</span>) <span class="kr">as</span> [Ha|Ha].</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2 (S a) == S (log2 a)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= <span class="mi">0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">b</span> : t, S a == <span class="mi">2</span> ^ b</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="NZLog-v-chk12b" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2 (S a) == S (log2 a)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chk12b"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">b</span> : t, S a == <span class="mi">2</span> ^ b</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk12c" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk12c"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2 (S a) == S (log2 a)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= <span class="mi">0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">b</span> : t, S a == <span class="mi">2</span> ^ b</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk12d" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk12d"><span class="highlight"><span class="nb">rewrite</span> <span class="mi">2</span> (proj2 (log2_null _)) <span class="kr">in</span> H.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> == S <span class="mi">0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= <span class="mi">0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">b</span> : t, S a == <span class="mi">2</span> ^ b</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="NZLog-v-chk12e" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> == S (log2 a)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= <span class="mi">0</span></span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chk12e"><hr></label><div class="goal-conclusion"><span class="highlight">a &lt;= <span class="mi">1</span></span></div></blockquote><input class="coq-extra-goal-toggle" id="NZLog-v-chk12f" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2 (S a) == S (log2 a)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= <span class="mi">0</span></span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chk12f"><hr></label><div class="goal-conclusion"><span class="highlight">S a &lt;= <span class="mi">1</span></span></div></blockquote></div></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk130" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk130"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> == S <span class="mi">0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= <span class="mi">0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">b</span> : t, S a == <span class="mi">2</span> ^ b</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">generalize</span> (lt_succ_diag_r <span class="mi">0</span>); order.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk131" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk131"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> == S (log2 a)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= <span class="mi">0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a &lt;= <span class="mi">1</span></span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight">order&#39;.</span></span><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk132" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk132"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2 (S a) == S (log2 a)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= <span class="mi">0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">S a &lt;= <span class="mi">1</span></span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk133" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk133"><span class="highlight"><span class="nb">apply</span> le_succ_l.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2 (S a) == S (log2 a)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= <span class="mi">0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a &lt; <span class="mi">1</span></span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight">order&#39;.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk134" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk134"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2 (S a) == S (log2 a)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">b</span> : t, S a == <span class="mi">2</span> ^ b</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk135" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk135"><span class="highlight"><span class="nb">assert</span> (Ha&#39; : <span class="mi">0</span> &lt; S a) <span class="bp">by</span> (<span class="nb">apply</span> lt_succ_r; order).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2 (S a) == S (log2 a)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; S a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">b</span> : t, S a == <span class="mi">2</span> ^ b</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk136" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk136"><span class="highlight"><span class="kr">exists</span> (<span class="nv">log2</span> (S a)).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2 (S a) == S (log2 a)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; S a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">S a == <span class="mi">2</span> ^ log2 (S a)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk137" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk137"><span class="highlight"><span class="nb">generalize</span> (proj1 (log2_spec (S a) Ha&#39;)) (proj2 (log2_spec a Ha)).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2 (S a) == S (log2 a)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; S a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ log2 (S a) &lt;= S a -&gt;
a &lt; <span class="mi">2</span> ^ S (log2 a) -&gt; S a == <span class="mi">2</span> ^ log2 (S a)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk138" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk138"><span class="highlight"><span class="nb">rewrite</span> &lt;- le_succ_l, &lt;- H.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2 (S a) == S (log2 a)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; S a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ log2 (S a) &lt;= S a -&gt;
S a &lt;= <span class="mi">2</span> ^ log2 (S a) -&gt; S a == <span class="mi">2</span> ^ log2 (S a)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight">order.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk139" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk139"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">log2_eq_succ_iff_pow2</span> : <span class="kr">forall</span> <span class="nv">a</span>, <span class="mi">0</span>&lt;a -&gt;
 (log2 (S a) == S (log2 a) &lt;-&gt; <span class="kr">exists</span> <span class="nv">b</span>, S a == <span class="mi">2</span>^b).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : t,
<span class="mi">0</span> &lt; a -&gt;
log2 (S a) == S (log2 a) &lt;-&gt;
(<span class="kr">exists</span> <span class="nv">b</span> : t, S a == <span class="mi">2</span> ^ b)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk13a" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk13a"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : t,
<span class="mi">0</span> &lt; a -&gt;
log2 (S a) == S (log2 a) &lt;-&gt;
(<span class="kr">exists</span> <span class="nv">b</span> : t, S a == <span class="mi">2</span> ^ b)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk13b" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk13b"><span class="highlight"><span class="nb">intros</span> a Ha.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 (S a) == S (log2 a) &lt;-&gt;
(<span class="kr">exists</span> <span class="nv">b</span> : t, S a == <span class="mi">2</span> ^ b)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk13c" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk13c"><span class="highlight"><span class="nb">split</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 (S a) == S (log2 a) -&gt; <span class="kr">exists</span> <span class="nv">b</span> : t, S a == <span class="mi">2</span> ^ b</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="NZLog-v-chk13d" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chk13d"><hr></label><div class="goal-conclusion"><span class="highlight">(<span class="kr">exists</span> <span class="nv">b</span> : t, S a == <span class="mi">2</span> ^ b) -&gt;
log2 (S a) == S (log2 a)</span></div></blockquote></div></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk13e" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk13e"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 (S a) == S (log2 a) -&gt; <span class="kr">exists</span> <span class="nv">b</span> : t, S a == <span class="mi">2</span> ^ b</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">apply</span> log2_eq_succ_is_pow2.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk13f" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk13f"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="kr">exists</span> <span class="nv">b</span> : t, S a == <span class="mi">2</span> ^ b) -&gt;
log2 (S a) == S (log2 a)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk140" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk140"><span class="highlight"><span class="nb">intros</span> (b,Hb).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S a == <span class="mi">2</span> ^ b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 (S a) == S (log2 a)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk141" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk141"><span class="highlight"><span class="nb">assert</span> (Hb&#39; : <span class="mi">0</span> &lt; b).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S a == <span class="mi">2</span> ^ b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">0</span> &lt; b</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="NZLog-v-chk142" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S a == <span class="mi">2</span> ^ b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chk142"><hr></label><div class="goal-conclusion"><span class="highlight">log2 (S a) == S (log2 a)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk143" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk143"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S a == <span class="mi">2</span> ^ b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">0</span> &lt; b</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">apply</span> (pow_gt_1 <span class="mi">2</span>); <span class="kp">try</span> order&#39;; <span class="bp">now</span> <span class="nb">rewrite</span> &lt;- Hb, one_succ, &lt;- succ_lt_mono.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk144" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk144"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S a == <span class="mi">2</span> ^ b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 (S a) == S (log2 a)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk145" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk145"><span class="highlight"><span class="nb">rewrite</span> Hb, log2_pow2; <span class="kp">try</span> order&#39;.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S a == <span class="mi">2</span> ^ b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">b == S (log2 a)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">     </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk146" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk146"><span class="highlight"><span class="nb">setoid_replace</span> a <span class="kr">with</span> (P (<span class="mi">2</span>^b)).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S a == <span class="mi">2</span> ^ b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">b == S (log2 (P (<span class="mi">2</span> ^ b)))</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="NZLog-v-chk147" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S a == <span class="mi">2</span> ^ b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chk147"><hr></label><div class="goal-conclusion"><span class="highlight">a == P (<span class="mi">2</span> ^ b)</span></div></blockquote></div></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk148" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk148"><span class="highlight">*</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S a == <span class="mi">2</span> ^ b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">b == S (log2 (P (<span class="mi">2</span> ^ b)))</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk149" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk149"><span class="highlight"><span class="nb">rewrite</span> log2_pred_pow2; <span class="nb">trivial</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S a == <span class="mi">2</span> ^ b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">b == S (P b)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">                                        </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">symmetry</span>; <span class="bp">now</span> <span class="nb">apply</span> lt_succ_pred <span class="kr">with</span> <span class="mi">0</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">     </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk14a" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk14a"><span class="highlight">*</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S a == <span class="mi">2</span> ^ b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a == P (<span class="mi">2</span> ^ b)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk14b" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk14b"><span class="highlight"><span class="nb">apply</span> succ_inj.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S a == <span class="mi">2</span> ^ b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">S a == S (P (<span class="mi">2</span> ^ b))</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk14c" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk14c"><span class="highlight"><span class="nb">rewrite</span> Hb.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S a == <span class="mi">2</span> ^ b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ b == S (P (<span class="mi">2</span> ^ b))</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk14d" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk14d"><span class="highlight"><span class="nb">symmetry</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S a == <span class="mi">2</span> ^ b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">S (P (<span class="mi">2</span> ^ b)) == <span class="mi">2</span> ^ b</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk14e" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk14e"><span class="highlight"><span class="nb">apply</span> lt_succ_pred <span class="kr">with</span> <span class="mi">0</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S a == <span class="mi">2</span> ^ b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">0</span> &lt; <span class="mi">2</span> ^ b</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">       </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">rewrite</span> &lt;- Hb, lt_succ_r; order.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk14f" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk14f"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">log2_succ_double</span> : <span class="kr">forall</span> <span class="nv">a</span>, <span class="mi">0</span>&lt;a -&gt; log2 (<span class="mi">2</span>*a+<span class="mi">1</span>) == S (log2 a).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : t, <span class="mi">0</span> &lt; a -&gt; log2 (<span class="mi">2</span> * a + <span class="mi">1</span>) == S (log2 a)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk150" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk150"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : t, <span class="mi">0</span> &lt; a -&gt; log2 (<span class="mi">2</span> * a + <span class="mi">1</span>) == S (log2 a)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk151" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk151"><span class="highlight"><span class="nb">intros</span> a Ha.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 (<span class="mi">2</span> * a + <span class="mi">1</span>) == S (log2 a)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk152" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk152"><span class="highlight"><span class="nb">rewrite</span> add_1_r.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 (S (<span class="mi">2</span> * a)) == S (log2 a)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk153" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk153"><span class="highlight"><span class="nb">destruct</span> (log2_succ_or (<span class="mi">2</span>*a)) <span class="kr">as</span> [H|H]; [<span class="nb">exfalso</span>|<span class="bp">now</span> <span class="nb">rewrite</span> H, log2_double].</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2 (S (<span class="mi">2</span> * a)) == S (log2 (<span class="mi">2</span> * a))</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kt">False</span></span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk154" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk154"><span class="highlight"><span class="nb">apply</span> log2_eq_succ_is_pow2 <span class="kr">in</span> H.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="kr">exists</span> <span class="nv">b</span> : t, S (<span class="mi">2</span> * a) == <span class="mi">2</span> ^ b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kt">False</span></span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk155" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk155"><span class="highlight"><span class="nb">destruct</span> H <span class="kr">as</span> (b,H).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S (<span class="mi">2</span> * a) == <span class="mi">2</span> ^ b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kt">False</span></span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk156" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk156"><span class="highlight"><span class="nb">destruct</span> (lt_trichotomy b <span class="mi">0</span>) <span class="kr">as</span> [LT|[EQ|LT]].</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S (<span class="mi">2</span> * a) == <span class="mi">2</span> ^ b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LT</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">b &lt; <span class="mi">0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kt">False</span></span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="NZLog-v-chk157" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S (<span class="mi">2</span> * a) == <span class="mi">2</span> ^ b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EQ</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">b == <span class="mi">0</span></span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chk157"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kt">False</span></span></div></blockquote><input class="coq-extra-goal-toggle" id="NZLog-v-chk158" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S (<span class="mi">2</span> * a) == <span class="mi">2</span> ^ b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LT</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chk158"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kt">False</span></span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk159" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk159"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S (<span class="mi">2</span> * a) == <span class="mi">2</span> ^ b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LT</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">b &lt; <span class="mi">0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kt">False</span></span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk15a" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk15a"><span class="highlight"><span class="nb">rewrite</span> pow_neg_r <span class="kr">in</span> H; <span class="nb">trivial</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S (<span class="mi">2</span> * a) == <span class="mi">0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">LT</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">b &lt; <span class="mi">0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kt">False</span></span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk15b" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk15b"><span class="highlight"><span class="nb">apply</span> (mul_pos_pos <span class="mi">2</span>), succ_lt_mono <span class="kr">in</span> Ha; <span class="kp">try</span> order&#39;.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S <span class="mi">0</span> &lt; S (<span class="mi">2</span> * a)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S (<span class="mi">2</span> * a) == <span class="mi">0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">LT</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">b &lt; <span class="mi">0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kt">False</span></span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk15c" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk15c"><span class="highlight"><span class="nb">rewrite</span> &lt;- one_succ <span class="kr">in</span> Ha.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; S (<span class="mi">2</span> * a)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S (<span class="mi">2</span> * a) == <span class="mi">0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">LT</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">b &lt; <span class="mi">0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kt">False</span></span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight">order&#39;.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk15d" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk15d"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S (<span class="mi">2</span> * a) == <span class="mi">2</span> ^ b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EQ</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">b == <span class="mi">0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kt">False</span></span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk15e" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk15e"><span class="highlight"><span class="nb">rewrite</span> EQ, pow_0_r <span class="kr">in</span> H.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S (<span class="mi">2</span> * a) == <span class="mi">1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EQ</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">b == <span class="mi">0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kt">False</span></span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk15f" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk15f"><span class="highlight"><span class="nb">apply</span> (mul_pos_pos <span class="mi">2</span>), succ_lt_mono <span class="kr">in</span> Ha; <span class="kp">try</span> order&#39;.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S <span class="mi">0</span> &lt; S (<span class="mi">2</span> * a)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S (<span class="mi">2</span> * a) == <span class="mi">1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EQ</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">b == <span class="mi">0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kt">False</span></span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk160" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk160"><span class="highlight"><span class="nb">rewrite</span> &lt;- one_succ <span class="kr">in</span> Ha.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; S (<span class="mi">2</span> * a)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S (<span class="mi">2</span> * a) == <span class="mi">1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">EQ</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">b == <span class="mi">0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kt">False</span></span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight">order&#39;.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk161" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk161"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S (<span class="mi">2</span> * a) == <span class="mi">2</span> ^ b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LT</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kt">False</span></span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk162" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk162"><span class="highlight"><span class="nb">assert</span> (EQ:=lt_succ_pred <span class="mi">0</span> b LT).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S (<span class="mi">2</span> * a) == <span class="mi">2</span> ^ b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LT</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EQ</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S (P b) == b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kt">False</span></span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk163" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk163"><span class="highlight"><span class="nb">rewrite</span> &lt;- EQ, pow_succ_r <span class="kr">in</span> H; [|<span class="bp">now</span> <span class="nb">rewrite</span> &lt;- lt_succ_r, EQ].</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S (<span class="mi">2</span> * a) == <span class="mi">2</span> * <span class="mi">2</span> ^ P b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LT</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EQ</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S (P b) == b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kt">False</span></span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk164" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk164"><span class="highlight"><span class="nb">destruct</span> (lt_ge_cases a (<span class="mi">2</span>^(P b))) <span class="kr">as</span> [LT&#39;|LE&#39;].</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S (<span class="mi">2</span> * a) == <span class="mi">2</span> * <span class="mi">2</span> ^ P b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LT</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EQ</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S (P b) == b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LT'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt; <span class="mi">2</span> ^ P b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kt">False</span></span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="NZLog-v-chk165" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S (<span class="mi">2</span> * a) == <span class="mi">2</span> * <span class="mi">2</span> ^ P b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LT</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EQ</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S (P b) == b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LE'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ P b &lt;= a</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chk165"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kt">False</span></span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk166" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk166"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S (<span class="mi">2</span> * a) == <span class="mi">2</span> * <span class="mi">2</span> ^ P b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LT</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EQ</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S (P b) == b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LT'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt; <span class="mi">2</span> ^ P b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kt">False</span></span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk167" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk167"><span class="highlight"><span class="nb">generalize</span> (mul_2_mono_l _ _ LT&#39;).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S (<span class="mi">2</span> * a) == <span class="mi">2</span> * <span class="mi">2</span> ^ P b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LT</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EQ</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S (P b) == b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LT'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt; <span class="mi">2</span> ^ P b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">1</span> + <span class="mi">2</span> * a &lt; <span class="mi">2</span> * <span class="mi">2</span> ^ P b -&gt; <span class="kt">False</span></span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk168" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk168"><span class="highlight"><span class="nb">rewrite</span> add_1_l.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S (<span class="mi">2</span> * a) == <span class="mi">2</span> * <span class="mi">2</span> ^ P b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LT</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EQ</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S (P b) == b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LT'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt; <span class="mi">2</span> ^ P b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">S (<span class="mi">2</span> * a) &lt; <span class="mi">2</span> * <span class="mi">2</span> ^ P b -&gt; <span class="kt">False</span></span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight">order.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk169" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk169"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S (<span class="mi">2</span> * a) == <span class="mi">2</span> * <span class="mi">2</span> ^ P b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LT</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EQ</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S (P b) == b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LE'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ P b &lt;= a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kt">False</span></span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk16a" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk16a"><span class="highlight"><span class="nb">rewrite</span> (mul_le_mono_pos_l _ _ <span class="mi">2</span>) <span class="kr">in</span> LE&#39;; <span class="kp">try</span> order&#39;.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S (<span class="mi">2</span> * a) == <span class="mi">2</span> * <span class="mi">2</span> ^ P b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LT</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EQ</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S (P b) == b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LE'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> * <span class="mi">2</span> ^ P b &lt;= <span class="mi">2</span> * a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kt">False</span></span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">     </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk16b" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk16b"><span class="highlight"><span class="nb">rewrite</span> &lt;- H <span class="kr">in</span> LE&#39;.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S (<span class="mi">2</span> * a) == <span class="mi">2</span> * <span class="mi">2</span> ^ P b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LT</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EQ</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S (P b) == b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LE'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S (<span class="mi">2</span> * a) &lt;= <span class="mi">2</span> * a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kt">False</span></span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk16c" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk16c"><span class="highlight"><span class="nb">apply</span> le_succ_l <span class="kr">in</span> LE&#39;.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S (<span class="mi">2</span> * a) == <span class="mi">2</span> * <span class="mi">2</span> ^ P b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LT</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EQ</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S (P b) == b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LE'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> * a &lt; <span class="mi">2</span> * a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kt">False</span></span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight">order.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span></span></pre><div class="doc">
Log2 and addition 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk16d" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk16d"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">log2_add_le</span> : <span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span>, a~=<span class="mi">1</span> -&gt; b~=<span class="mi">1</span> -&gt; log2 (a+b) &lt;= log2 a + log2 b.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : t,
a ~= <span class="mi">1</span> -&gt; b ~= <span class="mi">1</span> -&gt; log2 (a + b) &lt;= log2 a + log2 b</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk16e" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk16e"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : t,
a ~= <span class="mi">1</span> -&gt; b ~= <span class="mi">1</span> -&gt; log2 (a + b) &lt;= log2 a + log2 b</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk16f" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk16f"><span class="highlight"><span class="nb">intros</span> a b Ha Hb.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a ~= <span class="mi">1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">b ~= <span class="mi">1</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 (a + b) &lt;= log2 a + log2 b</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk170" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk170"><span class="highlight"><span class="nb">destruct</span> (lt_trichotomy a <span class="mi">1</span>) <span class="kr">as</span> [Ha&#39;|[Ha&#39;|Ha&#39;]]; [|order|].</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a ~= <span class="mi">1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">b ~= <span class="mi">1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt; <span class="mi">1</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 (a + b) &lt;= log2 a + log2 b</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="NZLog-v-chk171" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a ~= <span class="mi">1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">b ~= <span class="mi">1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chk171"><hr></label><div class="goal-conclusion"><span class="highlight">log2 (a + b) &lt;= log2 a + log2 b</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk172" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk172"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a ~= <span class="mi">1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">b ~= <span class="mi">1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt; <span class="mi">1</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 (a + b) &lt;= log2 a + log2 b</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk173" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk173"><span class="highlight"><span class="nb">rewrite</span> one_succ, lt_succ_r <span class="kr">in</span> Ha&#39;.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a ~= <span class="mi">1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">b ~= <span class="mi">1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= <span class="mi">0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 (a + b) &lt;= log2 a + log2 b</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk174" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk174"><span class="highlight"><span class="nb">rewrite</span> (log2_nonpos a); <span class="nb">trivial</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a ~= <span class="mi">1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">b ~= <span class="mi">1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= <span class="mi">0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 (a + b) &lt;= <span class="mi">0</span> + log2 b</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk175" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk175"><span class="highlight">nzsimpl.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a ~= <span class="mi">1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">b ~= <span class="mi">1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= <span class="mi">0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 (a + b) &lt;= log2 b</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk176" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk176"><span class="highlight"><span class="nb">apply</span> log2_le_mono.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a ~= <span class="mi">1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">b ~= <span class="mi">1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= <span class="mi">0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a + b &lt;= b</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk177" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk177"><span class="highlight"><span class="nb">rewrite</span> &lt;- (add_0_l b) <span class="nb">at</span> <span class="mi">2</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a ~= <span class="mi">1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">b ~= <span class="mi">1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= <span class="mi">0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a + b &lt;= <span class="mi">0</span> + b</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">now</span> <span class="nb">apply</span> add_le_mono.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk178" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk178"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a ~= <span class="mi">1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">b ~= <span class="mi">1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 (a + b) &lt;= log2 a + log2 b</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk179" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk179"><span class="highlight"><span class="nb">destruct</span> (lt_trichotomy b <span class="mi">1</span>) <span class="kr">as</span> [Hb&#39;|[Hb&#39;|Hb&#39;]]; [|order|].</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a ~= <span class="mi">1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">b ~= <span class="mi">1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">b &lt; <span class="mi">1</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 (a + b) &lt;= log2 a + log2 b</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="NZLog-v-chk17a" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a ~= <span class="mi">1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">b ~= <span class="mi">1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; b</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chk17a"><hr></label><div class="goal-conclusion"><span class="highlight">log2 (a + b) &lt;= log2 a + log2 b</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk17b" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk17b"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a ~= <span class="mi">1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">b ~= <span class="mi">1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">b &lt; <span class="mi">1</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 (a + b) &lt;= log2 a + log2 b</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk17c" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk17c"><span class="highlight"><span class="nb">rewrite</span> one_succ, lt_succ_r <span class="kr">in</span> Hb&#39;.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a ~= <span class="mi">1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">b ~= <span class="mi">1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">b &lt;= <span class="mi">0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 (a + b) &lt;= log2 a + log2 b</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">     </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk17d" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk17d"><span class="highlight"><span class="nb">rewrite</span> (log2_nonpos b); <span class="nb">trivial</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a ~= <span class="mi">1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">b ~= <span class="mi">1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">b &lt;= <span class="mi">0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 (a + b) &lt;= log2 a + <span class="mi">0</span></span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk17e" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk17e"><span class="highlight">nzsimpl.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a ~= <span class="mi">1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">b ~= <span class="mi">1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">b &lt;= <span class="mi">0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 (a + b) &lt;= log2 a</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk17f" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk17f"><span class="highlight"><span class="nb">apply</span> log2_le_mono.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a ~= <span class="mi">1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">b ~= <span class="mi">1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">b &lt;= <span class="mi">0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a + b &lt;= a</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">     </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk180" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk180"><span class="highlight"><span class="nb">rewrite</span> &lt;- (add_0_r a) <span class="nb">at</span> <span class="mi">2</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a ~= <span class="mi">1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">b ~= <span class="mi">1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">b &lt;= <span class="mi">0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a + b &lt;= a + <span class="mi">0</span></span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">now</span> <span class="nb">apply</span> add_le_mono.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk181" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk181"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a ~= <span class="mi">1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">b ~= <span class="mi">1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 (a + b) &lt;= log2 a + log2 b</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk182" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk182"><span class="highlight"><span class="nb">clear</span> Ha Hb.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 (a + b) &lt;= log2 a + log2 b</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">     </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk183" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk183"><span class="highlight"><span class="nb">apply</span> lt_succ_r.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 (a + b) &lt; S (log2 a + log2 b)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">     </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk184" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk184"><span class="highlight"><span class="nb">apply</span> log2_lt_pow2; <span class="kp">try</span> order_pos.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a + b &lt; <span class="mi">2</span> ^ S (log2 a + log2 b)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">     </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk185" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk185"><span class="highlight"><span class="nb">rewrite</span> pow_succ_r <span class="bp">by</span> order_pos.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a + b &lt; <span class="mi">2</span> * <span class="mi">2</span> ^ (log2 a + log2 b)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">     </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk186" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk186"><span class="highlight"><span class="nb">rewrite</span> two_succ, one_succ <span class="nb">at</span> <span class="mi">1</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a + b &lt; S (S <span class="mi">0</span>) * <span class="mi">2</span> ^ (log2 a + log2 b)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk187" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk187"><span class="highlight">nzsimpl.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a + b &lt; <span class="mi">2</span> ^ (log2 a + log2 b) + <span class="mi">2</span> ^ (log2 a + log2 b)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">     </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk188" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk188"><span class="highlight"><span class="nb">apply</span> add_lt_mono.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a &lt; <span class="mi">2</span> ^ (log2 a + log2 b)</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="NZLog-v-chk189" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; b</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chk189"><hr></label><div class="goal-conclusion"><span class="highlight">b &lt; <span class="mi">2</span> ^ (log2 a + log2 b)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">     </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk18a" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk18a"><span class="highlight">*</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a &lt; <span class="mi">2</span> ^ (log2 a + log2 b)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk18b" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk18b"><span class="highlight"><span class="nb">apply</span> lt_le_trans <span class="kr">with</span> (<span class="mi">2</span>^(S (log2 a))).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a &lt; <span class="mi">2</span> ^ S (log2 a)</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="NZLog-v-chk18c" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; b</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chk18c"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ S (log2 a) &lt;= <span class="mi">2</span> ^ (log2 a + log2 b)</span></div></blockquote></div></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk18d" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk18d"><span class="highlight">--</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a &lt; <span class="mi">2</span> ^ S (log2 a)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">apply</span> log2_spec; order&#39;.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">       </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk18e" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk18e"><span class="highlight">--</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ S (log2 a) &lt;= <span class="mi">2</span> ^ (log2 a + log2 b)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk18f" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk18f"><span class="highlight"><span class="nb">apply</span> pow_le_mono_r.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">0</span> &lt; <span class="mi">2</span></span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="NZLog-v-chk190" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; b</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chk190"><hr></label><div class="goal-conclusion"><span class="highlight">S (log2 a) &lt;= log2 a + log2 b</span></div></blockquote></div></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk191" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk191"><span class="highlight">++</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">0</span> &lt; <span class="mi">2</span></span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight">order&#39;.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">          </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk192" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk192"><span class="highlight">++</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">S (log2 a) &lt;= log2 a + log2 b</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk193" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk193"><span class="highlight"><span class="nb">rewrite</span> &lt;- add_1_r.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 a + <span class="mi">1</span> &lt;= log2 a + log2 b</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk194" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk194"><span class="highlight"><span class="nb">apply</span> add_le_mono_l.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">1</span> &lt;= log2 b</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">             </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">rewrite</span> one_succ; <span class="bp">now</span> <span class="nb">apply</span> le_succ_l, log2_pos.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">     </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk195" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk195"><span class="highlight">*</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">b &lt; <span class="mi">2</span> ^ (log2 a + log2 b)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk196" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk196"><span class="highlight"><span class="nb">apply</span> lt_le_trans <span class="kr">with</span> (<span class="mi">2</span>^(S (log2 b))).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">b &lt; <span class="mi">2</span> ^ S (log2 b)</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="NZLog-v-chk197" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; b</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chk197"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ S (log2 b) &lt;= <span class="mi">2</span> ^ (log2 a + log2 b)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">       </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk198" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk198"><span class="highlight">--</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">b &lt; <span class="mi">2</span> ^ S (log2 b)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">apply</span> log2_spec; order&#39;.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">       </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk199" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk199"><span class="highlight">--</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ S (log2 b) &lt;= <span class="mi">2</span> ^ (log2 a + log2 b)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk19a" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk19a"><span class="highlight"><span class="nb">apply</span> pow_le_mono_r.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">0</span> &lt; <span class="mi">2</span></span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="NZLog-v-chk19b" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; b</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chk19b"><hr></label><div class="goal-conclusion"><span class="highlight">S (log2 b) &lt;= log2 a + log2 b</span></div></blockquote></div></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk19c" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk19c"><span class="highlight">++</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">0</span> &lt; <span class="mi">2</span></span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight">order&#39;.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">          </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk19d" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk19d"><span class="highlight">++</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">S (log2 b) &lt;= log2 a + log2 b</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk19e" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk19e"><span class="highlight"><span class="nb">rewrite</span> &lt;- add_1_l.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">1</span> + log2 b &lt;= log2 a + log2 b</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk19f" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk19f"><span class="highlight"><span class="nb">apply</span> add_le_mono_r.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">1</span> &lt;= log2 a</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">             </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">rewrite</span> one_succ; <span class="bp">now</span> <span class="nb">apply</span> le_succ_l, log2_pos.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span></span></pre><div class="doc">
The sum of two log2 is less than twice the log2 of the sum.
    The large inequality is obvious thanks to monotonicity.
    The strict one requires some more work. This is almost
    a convexity inequality for points <span class="inlinecode">2<span class="id" title="var">a</span></span>, <span class="inlinecode">2<span class="id" title="var">b</span></span> and their middle <span class="inlinecode"><span class="id" title="var">a</span>+<span class="id" title="var">b</span></span> :
    ideally, we would have <span class="inlinecode">2*<span class="id" title="var">log</span>(<span class="id" title="var">a</span>+<span class="id" title="var">b</span>)</span> <span class="inlinecode">‚â•</span> <span class="inlinecode"><span class="id" title="var">log</span>(2<span class="id" title="var">a</span>)+<span class="id" title="var">log</span>(2<span class="id" title="var">b</span>)</span> <span class="inlinecode">=</span> <span class="inlinecode">2+<span class="id" title="var">log</span></span> <span class="inlinecode"><span class="id" title="var">a</span>+<span class="id" title="var">log</span></span> <span class="inlinecode"><span class="id" title="var">b</span></span>.
    Here, we cannot do better: consider for instance a=2 b=4, then 1+2&lt;2*2

</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk1a0" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk1a0"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">add_log2_lt</span> : <span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span>, <span class="mi">0</span>&lt;a -&gt; <span class="mi">0</span>&lt;b -&gt;
 log2 a + log2 b &lt; <span class="mi">2</span> * log2 (a+b).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : t,
<span class="mi">0</span> &lt; a -&gt; <span class="mi">0</span> &lt; b -&gt; log2 a + log2 b &lt; <span class="mi">2</span> * log2 (a + b)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk1a1" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk1a1"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : t,
<span class="mi">0</span> &lt; a -&gt; <span class="mi">0</span> &lt; b -&gt; log2 a + log2 b &lt; <span class="mi">2</span> * log2 (a + b)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk1a2" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk1a2"><span class="highlight"><span class="nb">intros</span> a b Ha Hb.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 a + log2 b &lt; <span class="mi">2</span> * log2 (a + b)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk1a3" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk1a3"><span class="highlight">nzsimpl&#39;.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 a + log2 b &lt; log2 (a + b) + log2 (a + b)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk1a4" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk1a4"><span class="highlight"><span class="nb">assert</span> (H : log2 a &lt;= log2 (a+b)).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 a &lt;= log2 (a + b)</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="NZLog-v-chk1a5" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2 a &lt;= log2 (a + b)</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chk1a5"><hr></label><div class="goal-conclusion"><span class="highlight">log2 a + log2 b &lt; log2 (a + b) + log2 (a + b)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk1a6" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk1a6"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 a &lt;= log2 (a + b)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk1a7" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk1a7"><span class="highlight"><span class="nb">apply</span> log2_le_mono.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a &lt;= a + b</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk1a8" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk1a8"><span class="highlight"><span class="nb">rewrite</span> &lt;- (add_0_r a) <span class="nb">at</span> <span class="mi">1</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a + <span class="mi">0</span> &lt;= a + b</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">apply</span> add_le_mono; order.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk1a9" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk1a9"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2 a &lt;= log2 (a + b)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 a + log2 b &lt; log2 (a + b) + log2 (a + b)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk1aa" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk1aa"><span class="highlight"><span class="nb">assert</span> (H&#39; : log2 b &lt;= log2 (a+b)).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2 a &lt;= log2 (a + b)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 b &lt;= log2 (a + b)</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="NZLog-v-chk1ab" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2 a &lt;= log2 (a + b)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2 b &lt;= log2 (a + b)</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chk1ab"><hr></label><div class="goal-conclusion"><span class="highlight">log2 a + log2 b &lt; log2 (a + b) + log2 (a + b)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk1ac" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk1ac"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2 a &lt;= log2 (a + b)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 b &lt;= log2 (a + b)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk1ad" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk1ad"><span class="highlight"><span class="nb">apply</span> log2_le_mono.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2 a &lt;= log2 (a + b)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">b &lt;= a + b</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk1ae" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk1ae"><span class="highlight"><span class="nb">rewrite</span> &lt;- (add_0_l b) <span class="nb">at</span> <span class="mi">1</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2 a &lt;= log2 (a + b)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">0</span> + b &lt;= a + b</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">apply</span> add_le_mono; order.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk1af" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk1af"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2 a &lt;= log2 (a + b)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2 b &lt;= log2 (a + b)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 a + log2 b &lt; log2 (a + b) + log2 (a + b)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk1b0" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk1b0"><span class="highlight">le_elim H.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2 a &lt; log2 (a + b)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2 b &lt;= log2 (a + b)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 a + log2 b &lt; log2 (a + b) + log2 (a + b)</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="NZLog-v-chk1b1" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2 a == log2 (a + b)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2 b &lt;= log2 (a + b)</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chk1b1"><hr></label><div class="goal-conclusion"><span class="highlight">log2 a + log2 b &lt; log2 (a + b) + log2 (a + b)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">     </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk1b2" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk1b2"><span class="highlight">*</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2 a &lt; log2 (a + b)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2 b &lt;= log2 (a + b)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 a + log2 b &lt; log2 (a + b) + log2 (a + b)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk1b3" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk1b3"><span class="highlight"><span class="nb">apply</span> lt_le_trans <span class="kr">with</span> (log2 (a+b) + log2 b).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2 a &lt; log2 (a + b)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2 b &lt;= log2 (a + b)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 a + log2 b &lt; log2 (a + b) + log2 b</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="NZLog-v-chk1b4" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2 a &lt; log2 (a + b)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2 b &lt;= log2 (a + b)</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chk1b4"><hr></label><div class="goal-conclusion"><span class="highlight">log2 (a + b) + log2 b &lt;= log2 (a + b) + log2 (a + b)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">       </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk1b5" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk1b5"><span class="highlight">--</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2 a &lt; log2 (a + b)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2 b &lt;= log2 (a + b)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 a + log2 b &lt; log2 (a + b) + log2 b</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">now</span> <span class="nb">apply</span> add_lt_mono_r.</span></span><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk1b6" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk1b6"><span class="highlight">--</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2 a &lt; log2 (a + b)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2 b &lt;= log2 (a + b)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 (a + b) + log2 b &lt;= log2 (a + b) + log2 (a + b)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">now</span> <span class="nb">apply</span> add_le_mono_l.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">     </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk1b7" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk1b7"><span class="highlight">*</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2 a == log2 (a + b)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2 b &lt;= log2 (a + b)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 a + log2 b &lt; log2 (a + b) + log2 (a + b)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk1b8" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk1b8"><span class="highlight"><span class="nb">rewrite</span> &lt;- H <span class="nb">at</span> <span class="mi">1</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2 a == log2 (a + b)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2 b &lt;= log2 (a + b)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 a + log2 b &lt; log2 a + log2 (a + b)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk1b9" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk1b9"><span class="highlight"><span class="nb">apply</span> add_lt_mono_l.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2 a == log2 (a + b)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2 b &lt;= log2 (a + b)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 b &lt; log2 (a + b)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">       </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk1ba" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk1ba"><span class="highlight">le_elim H&#39;; <span class="nb">trivial</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2 a == log2 (a + b)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2 b == log2 (a + b)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 b &lt; log2 (a + b)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">       </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk1bb" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk1bb"><span class="highlight"><span class="nb">symmetry in</span> H.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2 (a + b) == log2 a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2 b == log2 (a + b)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 b &lt; log2 (a + b)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk1bc" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk1bc"><span class="highlight"><span class="nb">apply</span> log2_same <span class="kr">in</span> H; <span class="kp">try</span> order_pos.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a + b &lt; <span class="mi">2</span> * a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2 b == log2 (a + b)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 b &lt; log2 (a + b)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">       </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk1bd" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk1bd"><span class="highlight"><span class="nb">symmetry in</span> H&#39;.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a + b &lt; <span class="mi">2</span> * a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2 (a + b) == log2 b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 b &lt; log2 (a + b)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk1be" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk1be"><span class="highlight"><span class="nb">apply</span> log2_same <span class="kr">in</span> H&#39;; <span class="kp">try</span> order_pos.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a + b &lt; <span class="mi">2</span> * a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a + b &lt; <span class="mi">2</span> * b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 b &lt; log2 (a + b)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">       </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk1bf" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk1bf"><span class="highlight"><span class="nb">revert</span> H H&#39;.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a + b &lt; <span class="mi">2</span> * a -&gt;
a + b &lt; <span class="mi">2</span> * b -&gt; log2 b &lt; log2 (a + b)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk1c0" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk1c0"><span class="highlight">nzsimpl&#39;.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a + b &lt; a + a -&gt;
a + b &lt; b + b -&gt; log2 b &lt; log2 (a + b)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">rewrite</span> &lt;- add_lt_mono_l, &lt;- add_lt_mono_r; order.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">End</span> <span class="nf">NZLog2Prop</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Module</span> <span class="nf">NZLog2UpProp</span>
 (<span class="kn">Import</span> A : NZDecOrdAxiomsSig&#39;)
 (<span class="kn">Import</span> B : NZPow&#39; A)
 (<span class="kn">Import</span> C : NZLog2 A B)
 (<span class="kn">Import</span> D : NZMulOrderProp A)
 (<span class="kn">Import</span> E : NZPowProp A B D)
 (<span class="kn">Import</span> F : NZLog2Prop A B C D E).</span></span></span></pre><div class="doc">
<a name="lab1"></a><h1 class="section"><span class="inlinecode"><span class="id" title="var">log2_up</span></span> : a binary logarithm that rounds up instead of down</h1>
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --></pre><div class="doc">
For once, we define instead of axiomatizing, thanks to log2 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">log2_up</span> <span class="nv">a</span> :=
 <span class="kr">match</span> <span class="nb">compare</span> <span class="mi">1</span> a <span class="kr">with</span>
  | Lt =&gt; S (log2 (P a))
  | _ =&gt; <span class="mi">0</span>
 <span class="kr">end</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk1c1" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk1c1"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">log2_up_eqn0</span> : <span class="kr">forall</span> <span class="nv">a</span>, a&lt;=<span class="mi">1</span> -&gt; log2_up a == <span class="mi">0</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : t, a &lt;= <span class="mi">1</span> -&gt; log2_up a == <span class="mi">0</span></span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk1c2" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk1c2"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : t, a &lt;= <span class="mi">1</span> -&gt; log2_up a == <span class="mi">0</span></span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk1c3" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk1c3"><span class="highlight"><span class="nb">intros</span> a Ha.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= <span class="mi">1</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up a == <span class="mi">0</span></span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk1c4" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk1c4"><span class="highlight"><span class="nb">unfold</span> log2_up.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= <span class="mi">1</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">match</span> <span class="nb">compare</span> <span class="mi">1</span> a <span class="kr">with</span>
| Lt =&gt; S (log2 (P a))
| _ =&gt; <span class="mi">0</span>
<span class="kr">end</span> == <span class="mi">0</span></span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">case</span> compare_spec; <span class="kp">try</span> order.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk1c5" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk1c5"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">log2_up_eqn</span> : <span class="kr">forall</span> <span class="nv">a</span>, <span class="mi">1</span>&lt;a -&gt; log2_up a == S (log2 (P a)).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : t, <span class="mi">1</span> &lt; a -&gt; log2_up a == S (log2 (P a))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk1c6" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk1c6"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : t, <span class="mi">1</span> &lt; a -&gt; log2_up a == S (log2 (P a))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk1c7" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk1c7"><span class="highlight"><span class="nb">intros</span> a Ha.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up a == S (log2 (P a))</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk1c8" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk1c8"><span class="highlight"><span class="nb">unfold</span> log2_up.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">match</span> <span class="nb">compare</span> <span class="mi">1</span> a <span class="kr">with</span>
| Lt =&gt; S (log2 (P a))
| _ =&gt; <span class="mi">0</span>
<span class="kr">end</span> == S (log2 (P a))</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">case</span> compare_spec; <span class="kp">try</span> order.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk1c9" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk1c9"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">log2_up_spec</span> : <span class="kr">forall</span> <span class="nv">a</span>, <span class="mi">1</span>&lt;a -&gt;
 <span class="mi">2</span>^(P (log2_up a)) &lt; a &lt;= <span class="mi">2</span>^(log2_up a).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : t,
<span class="mi">1</span> &lt; a -&gt; <span class="mi">2</span> ^ P (log2_up a) &lt; a &lt;= <span class="mi">2</span> ^ log2_up a</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk1ca" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk1ca"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : t,
<span class="mi">1</span> &lt; a -&gt; <span class="mi">2</span> ^ P (log2_up a) &lt; a &lt;= <span class="mi">2</span> ^ log2_up a</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk1cb" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk1cb"><span class="highlight"><span class="nb">intros</span> a Ha.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ P (log2_up a) &lt; a &lt;= <span class="mi">2</span> ^ log2_up a</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk1cc" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk1cc"><span class="highlight"><span class="nb">rewrite</span> log2_up_eqn; <span class="nb">trivial</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ P (S (log2 (P a))) &lt; a &lt;= <span class="mi">2</span> ^ S (log2 (P a))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk1cd" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk1cd"><span class="highlight"><span class="nb">rewrite</span> pred_succ.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ log2 (P a) &lt; a &lt;= <span class="mi">2</span> ^ S (log2 (P a))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk1ce" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk1ce"><span class="highlight"><span class="nb">rewrite</span> &lt;- (lt_succ_pred <span class="mi">1</span> a Ha) <span class="nb">at</span> <span class="mi">2</span> <span class="mi">3</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ log2 (P a) &lt; S (P a) &lt;= <span class="mi">2</span> ^ S (log2 (P a))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk1cf" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk1cf"><span class="highlight"><span class="nb">rewrite</span> lt_succ_r, le_succ_l.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ log2 (P a) &lt;= P a &lt; <span class="mi">2</span> ^ S (log2 (P a))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk1d0" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk1d0"><span class="highlight"><span class="nb">apply</span> log2_spec.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">0</span> &lt; P a</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk1d1" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk1d1"><span class="highlight"><span class="nb">apply</span> succ_lt_mono.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">S <span class="mi">0</span> &lt; S (P a)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">now</span> <span class="nb">rewrite</span> (lt_succ_pred <span class="mi">1</span> a Ha), &lt;- one_succ.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk1d2" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk1d2"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">log2_up_nonpos</span> : <span class="kr">forall</span> <span class="nv">a</span>, a&lt;=<span class="mi">0</span> -&gt; log2_up a == <span class="mi">0</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : t, a &lt;= <span class="mi">0</span> -&gt; log2_up a == <span class="mi">0</span></span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk1d3" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk1d3"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : t, a &lt;= <span class="mi">0</span> -&gt; log2_up a == <span class="mi">0</span></span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk1d4" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk1d4"><span class="highlight"><span class="nb">intros</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= <span class="mi">0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up a == <span class="mi">0</span></span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk1d5" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk1d5"><span class="highlight"><span class="nb">apply</span> log2_up_eqn0.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= <span class="mi">0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a &lt;= <span class="mi">1</span></span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight">order&#39;.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk1d6" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk1d6"><span class="highlight"><span class="kn">Instance</span> <span class="nf">log2_up_wd</span> : Proper (eq==&gt;eq) log2_up.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Proper (eq ==&gt; eq) log2_up</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk1d7" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk1d7"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Proper (eq ==&gt; eq) log2_up</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk1d8" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk1d8"><span class="highlight"><span class="nb">assert</span> (Proper (eq==&gt;eq==&gt;Logic.eq) <span class="nb">compare</span>).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Proper (eq ==&gt; eq ==&gt; Logic.eq) <span class="nb">compare</span></span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="NZLog-v-chk1d9" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (eq ==&gt; eq ==&gt; Logic.eq) <span class="nb">compare</span></span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chk1d9"><hr></label><div class="goal-conclusion"><span class="highlight">Proper (eq ==&gt; eq) log2_up</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk1da" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk1da"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Proper (eq ==&gt; eq ==&gt; Logic.eq) <span class="nb">compare</span></span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kp">repeat</span> <span class="nb">red</span>; <span class="nb">intros</span>; <span class="kp">do</span> <span class="mi">2</span> <span class="nb">case</span> compare_spec; <span class="nb">trivial</span>; order.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk1db" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk1db"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (eq ==&gt; eq ==&gt; Logic.eq) <span class="nb">compare</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Proper (eq ==&gt; eq) log2_up</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk1dc" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk1dc"><span class="highlight"><span class="nb">intros</span> a a&#39; Ha.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (eq ==&gt; eq ==&gt; Logic.eq) <span class="nb">compare</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a, a'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a == a&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up a == log2_up a&#39;</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk1dd" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk1dd"><span class="highlight"><span class="nb">unfold</span> log2_up.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (eq ==&gt; eq ==&gt; Logic.eq) <span class="nb">compare</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a, a'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a == a&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">match</span> <span class="nb">compare</span> <span class="mi">1</span> a <span class="kr">with</span>
| Lt =&gt; S (log2 (P a))
| _ =&gt; <span class="mi">0</span>
<span class="kr">end</span> ==
<span class="kr">match</span> <span class="nb">compare</span> <span class="mi">1</span> a&#39; <span class="kr">with</span>
| Lt =&gt; S (log2 (P a&#39;))
| _ =&gt; <span class="mi">0</span>
<span class="kr">end</span></span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk1de" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk1de"><span class="highlight"><span class="nb">rewrite</span> Ha <span class="nb">at</span> <span class="mi">1</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">Proper (eq ==&gt; eq ==&gt; Logic.eq) <span class="nb">compare</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a, a'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a == a&#39;</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">match</span> <span class="nb">compare</span> <span class="mi">1</span> a&#39; <span class="kr">with</span>
| Lt =&gt; S (log2 (P a))
| _ =&gt; <span class="mi">0</span>
<span class="kr">end</span> ==
<span class="kr">match</span> <span class="nb">compare</span> <span class="mi">1</span> a&#39; <span class="kr">with</span>
| Lt =&gt; S (log2 (P a&#39;))
| _ =&gt; <span class="mi">0</span>
<span class="kr">end</span></span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">case</span> <span class="nb">compare</span>; <span class="bp">now</span> <span class="nb">rewrite</span> <span class="nl">?Ha</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span></span></pre><div class="doc">
<span class="inlinecode"><span class="id" title="var">log2_up</span></span> is always non-negative 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk1df" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk1df"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">log2_up_nonneg</span> : <span class="kr">forall</span> <span class="nv">a</span>, <span class="mi">0</span> &lt;= log2_up a.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : t, <span class="mi">0</span> &lt;= log2_up a</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk1e0" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk1e0"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : t, <span class="mi">0</span> &lt;= log2_up a</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk1e1" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk1e1"><span class="highlight"><span class="nb">intros</span> a.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">0</span> &lt;= log2_up a</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk1e2" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk1e2"><span class="highlight"><span class="nb">unfold</span> log2_up.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">0</span> &lt;=
<span class="kr">match</span> <span class="nb">compare</span> <span class="mi">1</span> a <span class="kr">with</span>
| Lt =&gt; S (log2 (P a))
| _ =&gt; <span class="mi">0</span>
<span class="kr">end</span></span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk1e3" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk1e3"><span class="highlight"><span class="nb">case</span> compare_spec; <span class="kp">try</span> order.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">1</span> &lt; a -&gt; <span class="mi">0</span> &lt;= S (log2 (P a))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk1e4" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk1e4"><span class="highlight"><span class="nb">intros</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">0</span> &lt;= S (log2 (P a))</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">apply</span> le_le_succ_r, log2_nonneg.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span></span></pre><div class="doc">
The spec of <span class="inlinecode"><span class="id" title="var">log2_up</span></span> indeed determines it 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk1e5" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk1e5"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">log2_up_unique</span> : <span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span>, <span class="mi">0</span>&lt;b -&gt; <span class="mi">2</span>^(P b)&lt;a&lt;=<span class="mi">2</span>^b -&gt; log2_up a == b.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : t,
<span class="mi">0</span> &lt; b -&gt; <span class="mi">2</span> ^ P b &lt; a &lt;= <span class="mi">2</span> ^ b -&gt; log2_up a == b</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk1e6" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk1e6"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : t,
<span class="mi">0</span> &lt; b -&gt; <span class="mi">2</span> ^ P b &lt; a &lt;= <span class="mi">2</span> ^ b -&gt; log2_up a == b</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk1e7" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk1e7"><span class="highlight"><span class="nb">intros</span> a b Hb (LEb,LTb).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LEb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ P b &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LTb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= <span class="mi">2</span> ^ b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up a == b</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk1e8" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk1e8"><span class="highlight"><span class="nb">assert</span> (Ha : <span class="mi">1</span> &lt; a).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LEb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ P b &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LTb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= <span class="mi">2</span> ^ b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">1</span> &lt; a</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="NZLog-v-chk1e9" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LEb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ P b &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LTb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= <span class="mi">2</span> ^ b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chk1e9"><hr></label><div class="goal-conclusion"><span class="highlight">log2_up a == b</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk1ea" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk1ea"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LEb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ P b &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LTb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= <span class="mi">2</span> ^ b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">1</span> &lt; a</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk1eb" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk1eb"><span class="highlight"><span class="nb">apply</span> le_lt_trans <span class="kr">with</span> (<span class="mi">2</span>^(P b)); <span class="nb">trivial</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LEb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ P b &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LTb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= <span class="mi">2</span> ^ b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">1</span> &lt;= <span class="mi">2</span> ^ P b</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk1ec" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk1ec"><span class="highlight"><span class="nb">rewrite</span> one_succ.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LEb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ P b &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LTb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= <span class="mi">2</span> ^ b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">S <span class="mi">0</span> &lt;= <span class="mi">2</span> ^ P b</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk1ed" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk1ed"><span class="highlight"><span class="nb">apply</span> le_succ_l.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LEb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ P b &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LTb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= <span class="mi">2</span> ^ b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">0</span> &lt; <span class="mi">2</span> ^ P b</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk1ee" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk1ee"><span class="highlight"><span class="nb">apply</span> pow_pos_nonneg.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LEb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ P b &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LTb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= <span class="mi">2</span> ^ b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">0</span> &lt; <span class="mi">2</span></span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="NZLog-v-chk1ef" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LEb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ P b &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LTb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= <span class="mi">2</span> ^ b</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chk1ef"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="mi">0</span> &lt;= P b</span></div></blockquote></div></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk1f0" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk1f0"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LEb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ P b &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LTb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= <span class="mi">2</span> ^ b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">0</span> &lt; <span class="mi">2</span></span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight">order&#39;.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk1f1" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk1f1"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LEb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ P b &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LTb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= <span class="mi">2</span> ^ b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">0</span> &lt;= P b</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk1f2" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk1f2"><span class="highlight"><span class="nb">apply</span> lt_succ_r.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LEb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ P b &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LTb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= <span class="mi">2</span> ^ b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">0</span> &lt; S (P b)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">     </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">now</span> <span class="nb">rewrite</span> (lt_succ_pred <span class="mi">0</span> b Hb).</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk1f3" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk1f3"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LEb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ P b &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LTb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= <span class="mi">2</span> ^ b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up a == b</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk1f4" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk1f4"><span class="highlight"><span class="nb">assert</span> (Hc := log2_up_nonneg a).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LEb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ P b &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LTb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= <span class="mi">2</span> ^ b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= log2_up a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up a == b</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk1f5" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk1f5"><span class="highlight"><span class="nb">destruct</span> (log2_up_spec a Ha) <span class="kr">as</span> (LTc,LEc).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LEb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ P b &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LTb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= <span class="mi">2</span> ^ b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= log2_up a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LTc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ P (log2_up a) &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LEc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= <span class="mi">2</span> ^ log2_up a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up a == b</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk1f6" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk1f6"><span class="highlight"><span class="nb">assert</span> (b &lt;= log2_up a).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LEb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ P b &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LTb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= <span class="mi">2</span> ^ b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= log2_up a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LTc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ P (log2_up a) &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LEc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= <span class="mi">2</span> ^ log2_up a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">b &lt;= log2_up a</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="NZLog-v-chk1f7" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LEb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ P b &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LTb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= <span class="mi">2</span> ^ b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= log2_up a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LTc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ P (log2_up a) &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LEc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= <span class="mi">2</span> ^ log2_up a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">b &lt;= log2_up a</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chk1f7"><hr></label><div class="goal-conclusion"><span class="highlight">log2_up a == b</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk1f8" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk1f8"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LEb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ P b &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LTb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= <span class="mi">2</span> ^ b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= log2_up a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LTc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ P (log2_up a) &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LEc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= <span class="mi">2</span> ^ log2_up a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">b &lt;= log2_up a</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk1f9" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk1f9"><span class="highlight"><span class="nb">apply</span> lt_succ_r.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LEb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ P b &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LTb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= <span class="mi">2</span> ^ b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= log2_up a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LTc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ P (log2_up a) &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LEc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= <span class="mi">2</span> ^ log2_up a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">b &lt; S (log2_up a)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk1fa" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk1fa"><span class="highlight"><span class="nb">rewrite</span> &lt;- (lt_succ_pred <span class="mi">0</span> b Hb).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LEb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ P b &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LTb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= <span class="mi">2</span> ^ b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= log2_up a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LTc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ P (log2_up a) &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LEc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= <span class="mi">2</span> ^ log2_up a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">S (P b) &lt; S (log2_up a)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">     </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk1fb" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk1fb"><span class="highlight"><span class="nb">rewrite</span> &lt;- succ_lt_mono.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LEb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ P b &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LTb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= <span class="mi">2</span> ^ b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= log2_up a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LTc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ P (log2_up a) &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LEc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= <span class="mi">2</span> ^ log2_up a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">P b &lt; log2_up a</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">     </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">apply</span> (pow_lt_mono_r_iff <span class="mi">2</span>); <span class="kp">try</span> order&#39;.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk1fc" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk1fc"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LEb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ P b &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LTb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= <span class="mi">2</span> ^ b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= log2_up a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LTc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ P (log2_up a) &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LEc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= <span class="mi">2</span> ^ log2_up a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">b &lt;= log2_up a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up a == b</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk1fd" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk1fd"><span class="highlight"><span class="nb">assert</span> (Hc&#39; : <span class="mi">0</span> &lt; log2_up a) <span class="bp">by</span> order.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LEb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ P b &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LTb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= <span class="mi">2</span> ^ b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= log2_up a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LTc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ P (log2_up a) &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LEc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= <span class="mi">2</span> ^ log2_up a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">b &lt;= log2_up a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; log2_up a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up a == b</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">     </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk1fe" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk1fe"><span class="highlight"><span class="nb">assert</span> (log2_up a &lt;= b).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LEb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ P b &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LTb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= <span class="mi">2</span> ^ b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= log2_up a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LTc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ P (log2_up a) &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LEc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= <span class="mi">2</span> ^ log2_up a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">b &lt;= log2_up a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; log2_up a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up a &lt;= b</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="NZLog-v-chk1ff" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LEb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ P b &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LTb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= <span class="mi">2</span> ^ b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= log2_up a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LTc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ P (log2_up a) &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LEc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= <span class="mi">2</span> ^ log2_up a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">b &lt;= log2_up a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; log2_up a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2_up a &lt;= b</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chk1ff"><hr></label><div class="goal-conclusion"><span class="highlight">log2_up a == b</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">     </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk200" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk200"><span class="highlight">*</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LEb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ P b &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LTb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= <span class="mi">2</span> ^ b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= log2_up a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LTc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ P (log2_up a) &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LEc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= <span class="mi">2</span> ^ log2_up a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">b &lt;= log2_up a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; log2_up a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up a &lt;= b</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk201" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk201"><span class="highlight"><span class="nb">apply</span> lt_succ_r.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LEb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ P b &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LTb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= <span class="mi">2</span> ^ b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= log2_up a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LTc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ P (log2_up a) &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LEc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= <span class="mi">2</span> ^ log2_up a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">b &lt;= log2_up a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; log2_up a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up a &lt; S b</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk202" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk202"><span class="highlight"><span class="nb">rewrite</span> &lt;- (lt_succ_pred <span class="mi">0</span> _ Hc&#39;).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LEb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ P b &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LTb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= <span class="mi">2</span> ^ b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= log2_up a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LTc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ P (log2_up a) &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LEc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= <span class="mi">2</span> ^ log2_up a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">b &lt;= log2_up a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; log2_up a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">S (P (log2_up a)) &lt; S b</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">       </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk203" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk203"><span class="highlight"><span class="nb">rewrite</span> &lt;- succ_lt_mono.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LEb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ P b &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LTb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= <span class="mi">2</span> ^ b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= log2_up a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LTc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ P (log2_up a) &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LEc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= <span class="mi">2</span> ^ log2_up a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">b &lt;= log2_up a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; log2_up a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">P (log2_up a) &lt; b</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">       </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">apply</span> (pow_lt_mono_r_iff <span class="mi">2</span>); <span class="kp">try</span> order&#39;.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">     </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk204" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk204"><span class="highlight">*</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LEb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ P b &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LTb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= <span class="mi">2</span> ^ b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= log2_up a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LTc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ P (log2_up a) &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LEc</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= <span class="mi">2</span> ^ log2_up a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">b &lt;= log2_up a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; log2_up a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2_up a &lt;= b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up a == b</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight">order.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span></span></pre><div class="doc">
<span class="inlinecode"><span class="id" title="var">log2_up</span></span> is exact on powers of 2 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk205" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk205"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">log2_up_pow2</span> : <span class="kr">forall</span> <span class="nv">a</span>, <span class="mi">0</span>&lt;=a -&gt; log2_up (<span class="mi">2</span>^a) == a.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : t, <span class="mi">0</span> &lt;= a -&gt; log2_up (<span class="mi">2</span> ^ a) == a</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk206" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk206"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : t, <span class="mi">0</span> &lt;= a -&gt; log2_up (<span class="mi">2</span> ^ a) == a</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk207" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk207"><span class="highlight"><span class="nb">intros</span> a Ha.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up (<span class="mi">2</span> ^ a) == a</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk208" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk208"><span class="highlight">le_elim Ha.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up (<span class="mi">2</span> ^ a) == a</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="NZLog-v-chk209" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> == a</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chk209"><hr></label><div class="goal-conclusion"><span class="highlight">log2_up (<span class="mi">2</span> ^ a) == a</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk20a" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk20a"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up (<span class="mi">2</span> ^ a) == a</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk20b" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk20b"><span class="highlight"><span class="nb">apply</span> log2_up_unique; <span class="nb">trivial</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ P a &lt; <span class="mi">2</span> ^ a &lt;= <span class="mi">2</span> ^ a</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk20c" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk20c"><span class="highlight"><span class="nb">split</span>; <span class="kp">try</span> order.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ P a &lt; <span class="mi">2</span> ^ a</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk20d" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk20d"><span class="highlight"><span class="nb">apply</span> pow_lt_mono_r; <span class="kp">try</span> order&#39;.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">P a &lt; a</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk20e" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk20e"><span class="highlight"><span class="nb">rewrite</span> &lt;- (lt_succ_pred <span class="mi">0</span> a Ha) <span class="nb">at</span> <span class="mi">2</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">P a &lt; S (P a)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">now</span> <span class="nb">apply</span> lt_succ_r.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk20f" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk20f"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> == a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up (<span class="mi">2</span> ^ a) == a</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">now</span> <span class="nb">rewrite</span> &lt;- Ha, pow_0_r, log2_up_eqn0.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span></span></pre><div class="doc">
<span class="inlinecode"><span class="id" title="var">log2_up</span></span> and successors of powers of 2 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk210" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk210"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">log2_up_succ_pow2</span> : <span class="kr">forall</span> <span class="nv">a</span>, <span class="mi">0</span>&lt;=a -&gt; log2_up (S (<span class="mi">2</span>^a)) == S a.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : t, <span class="mi">0</span> &lt;= a -&gt; log2_up (S (<span class="mi">2</span> ^ a)) == S a</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk211" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk211"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : t, <span class="mi">0</span> &lt;= a -&gt; log2_up (S (<span class="mi">2</span> ^ a)) == S a</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk212" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk212"><span class="highlight"><span class="nb">intros</span> a Ha.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up (S (<span class="mi">2</span> ^ a)) == S a</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk213" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk213"><span class="highlight"><span class="nb">rewrite</span> log2_up_eqn, pred_succ, log2_pow2; <span class="kp">try</span> <span class="bp">easy</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">1</span> &lt; S (<span class="mi">2</span> ^ a)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk214" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk214"><span class="highlight"><span class="nb">rewrite</span> one_succ, &lt;- succ_lt_mono.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">0</span> &lt; <span class="mi">2</span> ^ a</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">apply</span> pow_pos_nonneg; order&#39;.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span></span></pre><div class="doc">
Basic constants 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk215" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk215"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">log2_up_1</span> : log2_up <span class="mi">1</span> == <span class="mi">0</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up <span class="mi">1</span> == <span class="mi">0</span></span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk216" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk216"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up <span class="mi">1</span> == <span class="mi">0</span></span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">now</span> <span class="nb">apply</span> log2_up_eqn0.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk217" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk217"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">log2_up_2</span> : log2_up <span class="mi">2</span> == <span class="mi">1</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up <span class="mi">2</span> == <span class="mi">1</span></span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk218" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk218"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up <span class="mi">2</span> == <span class="mi">1</span></span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk219" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk219"><span class="highlight"><span class="nb">rewrite</span> &lt;- (pow_1_r <span class="mi">2</span>).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up (<span class="mi">2</span> ^ <span class="mi">1</span>) == <span class="mi">1</span></span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">apply</span> log2_up_pow2; order&#39;.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span></span></pre><div class="doc">
Links between log2 and <span class="inlinecode"><span class="id" title="var">log2_up</span></span>
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk21a" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk21a"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">le_log2_log2_up</span> : <span class="kr">forall</span> <span class="nv">a</span>, log2 a &lt;= log2_up a.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : t, log2 a &lt;= log2_up a</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk21b" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk21b"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : t, log2 a &lt;= log2_up a</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk21c" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk21c"><span class="highlight"><span class="nb">intros</span> a.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 a &lt;= log2_up a</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk21d" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk21d"><span class="highlight"><span class="nb">unfold</span> log2_up.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 a &lt;=
<span class="kr">match</span> <span class="nb">compare</span> <span class="mi">1</span> a <span class="kr">with</span>
| Lt =&gt; S (log2 (P a))
| _ =&gt; <span class="mi">0</span>
<span class="kr">end</span></span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk21e" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk21e"><span class="highlight"><span class="nb">case</span> compare_spec; <span class="nb">intros</span> H.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> == a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 a &lt;= <span class="mi">0</span></span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="NZLog-v-chk21f" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chk21f"><hr></label><div class="goal-conclusion"><span class="highlight">log2 a &lt;= S (log2 (P a))</span></div></blockquote><input class="coq-extra-goal-toggle" id="NZLog-v-chk220" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt; <span class="mi">1</span></span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chk220"><hr></label><div class="goal-conclusion"><span class="highlight">log2 a &lt;= <span class="mi">0</span></span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk221" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk221"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> == a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 a &lt;= <span class="mi">0</span></span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk222" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk222"><span class="highlight"><span class="nb">rewrite</span> &lt;- H, log2_1.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> == a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">0</span> &lt;= <span class="mi">0</span></span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight">order.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk223" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk223"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 a &lt;= S (log2 (P a))</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk224" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk224"><span class="highlight"><span class="nb">rewrite</span> &lt;- (lt_succ_pred <span class="mi">1</span> a H) <span class="nb">at</span> <span class="mi">1</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 (S (P a)) &lt;= S (log2 (P a))</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">apply</span> log2_succ_le.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk225" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk225"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt; <span class="mi">1</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 a &lt;= <span class="mi">0</span></span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk226" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk226"><span class="highlight"><span class="nb">rewrite</span> log2_nonpos.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt; <span class="mi">1</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">0</span> &lt;= <span class="mi">0</span></span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="NZLog-v-chk227" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt; <span class="mi">1</span></span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chk227"><hr></label><div class="goal-conclusion"><span class="highlight">a &lt;= <span class="mi">0</span></span></div></blockquote></div></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk228" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk228"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt; <span class="mi">1</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">0</span> &lt;= <span class="mi">0</span></span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight">order.</span></span><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk229" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk229"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt; <span class="mi">1</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a &lt;= <span class="mi">0</span></span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">now</span> <span class="nb">rewrite</span> &lt;-lt_succ_r, &lt;-one_succ.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk22a" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk22a"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">le_log2_up_succ_log2</span> : <span class="kr">forall</span> <span class="nv">a</span>, log2_up a &lt;= S (log2 a).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : t, log2_up a &lt;= S (log2 a)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk22b" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk22b"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : t, log2_up a &lt;= S (log2 a)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk22c" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk22c"><span class="highlight"><span class="nb">intros</span> a.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up a &lt;= S (log2 a)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk22d" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk22d"><span class="highlight"><span class="nb">unfold</span> log2_up.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">match</span> <span class="nb">compare</span> <span class="mi">1</span> a <span class="kr">with</span>
| Lt =&gt; S (log2 (P a))
| _ =&gt; <span class="mi">0</span>
<span class="kr">end</span> &lt;= S (log2 a)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk22e" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk22e"><span class="highlight"><span class="nb">case</span> compare_spec; <span class="nb">intros</span> H; <span class="kp">try</span> order_pos.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">S (log2 (P a)) &lt;= S (log2 a)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk22f" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk22f"><span class="highlight"><span class="nb">rewrite</span> &lt;- succ_le_mono.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 (P a) &lt;= log2 a</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk230" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk230"><span class="highlight"><span class="nb">apply</span> log2_le_mono.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">P a &lt;= a</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk231" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk231"><span class="highlight"><span class="nb">rewrite</span> &lt;- (lt_succ_pred <span class="mi">1</span> a H) <span class="nb">at</span> <span class="mi">2</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">P a &lt;= S (P a)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">apply</span> le_succ_diag_r.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk232" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk232"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">log2_log2_up_spec</span> : <span class="kr">forall</span> <span class="nv">a</span>, <span class="mi">0</span>&lt;a -&gt;
 <span class="mi">2</span>^log2 a &lt;= a &lt;= <span class="mi">2</span>^log2_up a.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : t,
<span class="mi">0</span> &lt; a -&gt; <span class="mi">2</span> ^ log2 a &lt;= a &lt;= <span class="mi">2</span> ^ log2_up a</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk233" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk233"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : t,
<span class="mi">0</span> &lt; a -&gt; <span class="mi">2</span> ^ log2 a &lt;= a &lt;= <span class="mi">2</span> ^ log2_up a</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk234" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk234"><span class="highlight"><span class="nb">intros</span> a H.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ log2 a &lt;= a &lt;= <span class="mi">2</span> ^ log2_up a</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk235" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk235"><span class="highlight"><span class="nb">split</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ log2 a &lt;= a</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="NZLog-v-chk236" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chk236"><hr></label><div class="goal-conclusion"><span class="highlight">a &lt;= <span class="mi">2</span> ^ log2_up a</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk237" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk237"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ log2 a &lt;= a</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">now</span> <span class="nb">apply</span> log2_spec.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk238" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk238"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a &lt;= <span class="mi">2</span> ^ log2_up a</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk239" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk239"><span class="highlight"><span class="nb">rewrite</span> &lt;-le_succ_l, &lt;-one_succ <span class="kr">in</span> H.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt;= a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a &lt;= <span class="mi">2</span> ^ log2_up a</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk23a" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk23a"><span class="highlight">le_elim H.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a &lt;= <span class="mi">2</span> ^ log2_up a</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="NZLog-v-chk23b" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> == a</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chk23b"><hr></label><div class="goal-conclusion"><span class="highlight">a &lt;= <span class="mi">2</span> ^ log2_up a</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk23c" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk23c"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a &lt;= <span class="mi">2</span> ^ log2_up a</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">now</span> <span class="nb">apply</span> log2_up_spec.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk23d" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk23d"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> == a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a &lt;= <span class="mi">2</span> ^ log2_up a</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">now</span> <span class="nb">rewrite</span> &lt;-H, log2_up_1, pow_0_r.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk23e" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk23e"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">log2_log2_up_exact</span> :
 <span class="kr">forall</span> <span class="nv">a</span>, <span class="mi">0</span>&lt;a -&gt; (log2 a == log2_up a &lt;-&gt; <span class="kr">exists</span> <span class="nv">b</span>, a == <span class="mi">2</span>^b).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : t,
<span class="mi">0</span> &lt; a -&gt;
log2 a == log2_up a &lt;-&gt; (<span class="kr">exists</span> <span class="nv">b</span> : t, a == <span class="mi">2</span> ^ b)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk23f" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk23f"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : t,
<span class="mi">0</span> &lt; a -&gt;
log2 a == log2_up a &lt;-&gt; (<span class="kr">exists</span> <span class="nv">b</span> : t, a == <span class="mi">2</span> ^ b)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk240" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk240"><span class="highlight"><span class="nb">intros</span> a Ha.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 a == log2_up a &lt;-&gt; (<span class="kr">exists</span> <span class="nv">b</span> : t, a == <span class="mi">2</span> ^ b)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk241" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk241"><span class="highlight"><span class="nb">split</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 a == log2_up a -&gt; <span class="kr">exists</span> <span class="nv">b</span> : t, a == <span class="mi">2</span> ^ b</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="NZLog-v-chk242" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chk242"><hr></label><div class="goal-conclusion"><span class="highlight">(<span class="kr">exists</span> <span class="nv">b</span> : t, a == <span class="mi">2</span> ^ b) -&gt; log2 a == log2_up a</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk243" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk243"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 a == log2_up a -&gt; <span class="kr">exists</span> <span class="nv">b</span> : t, a == <span class="mi">2</span> ^ b</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk244" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk244"><span class="highlight"><span class="nb">intros</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2 a == log2_up a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">b</span> : t, a == <span class="mi">2</span> ^ b</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk245" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk245"><span class="highlight"><span class="kr">exists</span> (<span class="nv">log2</span> <span class="nv">a</span>).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2 a == log2_up a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a == <span class="mi">2</span> ^ log2 a</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk246" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk246"><span class="highlight"><span class="nb">generalize</span> (log2_log2_up_spec a Ha).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2 a == log2_up a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ log2 a &lt;= a &lt;= <span class="mi">2</span> ^ log2_up a -&gt; a == <span class="mi">2</span> ^ log2 a</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk247" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk247"><span class="highlight"><span class="nb">rewrite</span> &lt;-H.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2 a == log2_up a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ log2 a &lt;= a &lt;= <span class="mi">2</span> ^ log2 a -&gt; a == <span class="mi">2</span> ^ log2 a</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">destruct</span> <span class="mi">1</span>; order.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk248" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk248"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="kr">exists</span> <span class="nv">b</span> : t, a == <span class="mi">2</span> ^ b) -&gt; log2 a == log2_up a</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk249" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk249"><span class="highlight"><span class="nb">intros</span> (b,Hb).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a == <span class="mi">2</span> ^ b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 a == log2_up a</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk24a" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk24a"><span class="highlight"><span class="nb">rewrite</span> Hb.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a == <span class="mi">2</span> ^ b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 (<span class="mi">2</span> ^ b) == log2_up (<span class="mi">2</span> ^ b)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk24b" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk24b"><span class="highlight"><span class="nb">destruct</span> (le_gt_cases <span class="mi">0</span> b).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a == <span class="mi">2</span> ^ b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 (<span class="mi">2</span> ^ b) == log2_up (<span class="mi">2</span> ^ b)</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="NZLog-v-chk24c" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a == <span class="mi">2</span> ^ b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">b &lt; <span class="mi">0</span></span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chk24c"><hr></label><div class="goal-conclusion"><span class="highlight">log2 (<span class="mi">2</span> ^ b) == log2_up (<span class="mi">2</span> ^ b)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk24d" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk24d"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a == <span class="mi">2</span> ^ b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 (<span class="mi">2</span> ^ b) == log2_up (<span class="mi">2</span> ^ b)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">now</span> <span class="nb">rewrite</span> log2_pow2, log2_up_pow2.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk24e" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk24e"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a == <span class="mi">2</span> ^ b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">b &lt; <span class="mi">0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 (<span class="mi">2</span> ^ b) == log2_up (<span class="mi">2</span> ^ b)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk24f" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk24f"><span class="highlight"><span class="nb">rewrite</span> pow_neg_r; <span class="nb">trivial</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a == <span class="mi">2</span> ^ b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">b &lt; <span class="mi">0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 <span class="mi">0</span> == log2_up <span class="mi">0</span></span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">now</span> <span class="nb">rewrite</span> log2_nonpos, log2_up_nonpos.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span></span></pre><div class="doc">
<span class="inlinecode"><span class="id" title="var">log2_up</span></span> n is strictly positive for 1&lt;n 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk250" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk250"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">log2_up_pos</span> : <span class="kr">forall</span> <span class="nv">a</span>, <span class="mi">1</span>&lt;a -&gt; <span class="mi">0</span> &lt; log2_up a.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : t, <span class="mi">1</span> &lt; a -&gt; <span class="mi">0</span> &lt; log2_up a</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk251" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk251"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : t, <span class="mi">1</span> &lt; a -&gt; <span class="mi">0</span> &lt; log2_up a</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk252" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk252"><span class="highlight"><span class="nb">intros</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">0</span> &lt; log2_up a</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk253" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk253"><span class="highlight"><span class="nb">rewrite</span> log2_up_eqn; <span class="nb">trivial</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">0</span> &lt; S (log2 (P a))</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">apply</span> lt_succ_r; order_pos.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span></span></pre><div class="doc">
Said otherwise, <span class="inlinecode"><span class="id" title="var">log2_up</span></span> is null only below 1 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk254" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk254"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">log2_up_null</span> : <span class="kr">forall</span> <span class="nv">a</span>, log2_up a == <span class="mi">0</span> &lt;-&gt; a &lt;= <span class="mi">1</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : t, log2_up a == <span class="mi">0</span> &lt;-&gt; a &lt;= <span class="mi">1</span></span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk255" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk255"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : t, log2_up a == <span class="mi">0</span> &lt;-&gt; a &lt;= <span class="mi">1</span></span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk256" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk256"><span class="highlight"><span class="nb">intros</span> a.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up a == <span class="mi">0</span> &lt;-&gt; a &lt;= <span class="mi">1</span></span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk257" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk257"><span class="highlight"><span class="nb">split</span>; <span class="nb">intros</span> H.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2_up a == <span class="mi">0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a &lt;= <span class="mi">1</span></span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="NZLog-v-chk258" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= <span class="mi">1</span></span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chk258"><hr></label><div class="goal-conclusion"><span class="highlight">log2_up a == <span class="mi">0</span></span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk259" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk259"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2_up a == <span class="mi">0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a &lt;= <span class="mi">1</span></span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk25a" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk25a"><span class="highlight"><span class="nb">destruct</span> (le_gt_cases a <span class="mi">1</span>) <span class="kr">as</span> [Ha|Ha]; <span class="nb">trivial</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2_up a == <span class="mi">0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a &lt;= <span class="mi">1</span></span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">generalize</span> (log2_up_pos a Ha); order.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk25b" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk25b"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= <span class="mi">1</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up a == <span class="mi">0</span></span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">now</span> <span class="nb">apply</span> log2_up_eqn0.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span></span></pre><div class="doc">
<span class="inlinecode"><span class="id" title="var">log2_up</span></span> is a monotone function (but not a strict one) 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk25c" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk25c"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">log2_up_le_mono</span> : <span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span>, a&lt;=b -&gt; log2_up a &lt;= log2_up b.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : t, a &lt;= b -&gt; log2_up a &lt;= log2_up b</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk25d" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk25d"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : t, a &lt;= b -&gt; log2_up a &lt;= log2_up b</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk25e" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk25e"><span class="highlight"><span class="nb">intros</span> a b H.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up a &lt;= log2_up b</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk25f" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk25f"><span class="highlight"><span class="nb">destruct</span> (le_gt_cases a <span class="mi">1</span>) <span class="kr">as</span> [Ha|Ha].</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= <span class="mi">1</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up a &lt;= log2_up b</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="NZLog-v-chk260" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chk260"><hr></label><div class="goal-conclusion"><span class="highlight">log2_up a &lt;= log2_up b</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk261" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk261"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= <span class="mi">1</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up a &lt;= log2_up b</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk262" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk262"><span class="highlight"><span class="nb">rewrite</span> log2_up_eqn0; <span class="nb">trivial</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= <span class="mi">1</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">0</span> &lt;= log2_up b</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">apply</span> log2_up_nonneg.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk263" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk263"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up a &lt;= log2_up b</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk264" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk264"><span class="highlight"><span class="nb">rewrite</span> <span class="mi">2</span> log2_up_eqn; <span class="kp">try</span> order.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">S (log2 (P a)) &lt;= S (log2 (P b))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk265" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk265"><span class="highlight"><span class="nb">rewrite</span> &lt;- succ_le_mono.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 (P a) &lt;= log2 (P b)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk266" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk266"><span class="highlight"><span class="nb">apply</span> log2_le_mono, succ_le_mono.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">S (P a) &lt;= S (P b)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">rewrite</span> <span class="mi">2</span> lt_succ_pred <span class="kr">with</span> <span class="mi">1</span>; order.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span></span></pre><div class="doc">
No reverse result for &lt;=, consider for instance log2_up 4 &lt;= log2_up 3 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk267" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk267"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">log2_up_lt_cancel</span> : <span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span>, log2_up a &lt; log2_up b -&gt; a &lt; b.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : t, log2_up a &lt; log2_up b -&gt; a &lt; b</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk268" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk268"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : t, log2_up a &lt; log2_up b -&gt; a &lt; b</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk269" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk269"><span class="highlight"><span class="nb">intros</span> a b H.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2_up a &lt; log2_up b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a &lt; b</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk26a" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk26a"><span class="highlight"><span class="nb">destruct</span> (le_gt_cases b <span class="mi">1</span>) <span class="kr">as</span> [Hb|Hb].</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2_up a &lt; log2_up b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">b &lt;= <span class="mi">1</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a &lt; b</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="NZLog-v-chk26b" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2_up a &lt; log2_up b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; b</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chk26b"><hr></label><div class="goal-conclusion"><span class="highlight">a &lt; b</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk26c" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk26c"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2_up a &lt; log2_up b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">b &lt;= <span class="mi">1</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a &lt; b</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk26d" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk26d"><span class="highlight"><span class="nb">rewrite</span> (log2_up_eqn0 b) <span class="kr">in</span> H; <span class="nb">trivial</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2_up a &lt; <span class="mi">0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">b &lt;= <span class="mi">1</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a &lt; b</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">generalize</span> (log2_up_nonneg a); order.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk26e" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk26e"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2_up a &lt; log2_up b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a &lt; b</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk26f" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk26f"><span class="highlight"><span class="nb">destruct</span> (le_gt_cases a <span class="mi">1</span>) <span class="kr">as</span> [Ha|Ha].</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2_up a &lt; log2_up b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= <span class="mi">1</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a &lt; b</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="NZLog-v-chk270" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2_up a &lt; log2_up b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chk270"><hr></label><div class="goal-conclusion"><span class="highlight">a &lt; b</span></div></blockquote></div></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk271" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk271"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2_up a &lt; log2_up b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= <span class="mi">1</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a &lt; b</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight">order.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk272" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk272"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2_up a &lt; log2_up b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a &lt; b</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk273" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk273"><span class="highlight"><span class="nb">rewrite</span> <span class="mi">2</span> log2_up_eqn <span class="kr">in</span> H; <span class="kp">try</span> order.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S (log2 (P a)) &lt; S (log2 (P b))</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a &lt; b</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">     </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk274" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk274"><span class="highlight"><span class="nb">rewrite</span> &lt;- succ_lt_mono <span class="kr">in</span> H.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2 (P a) &lt; log2 (P b)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a &lt; b</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk275" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk275"><span class="highlight"><span class="nb">apply</span> log2_lt_cancel, succ_lt_mono <span class="kr">in</span> H.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S (P a) &lt; S (P b)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a &lt; b</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">     </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">rewrite</span> <span class="mi">2</span> lt_succ_pred <span class="kr">with</span> <span class="mi">1</span> <span class="kr">in</span> H; order.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span></span></pre><div class="doc">
When left side is a power of 2, we have an equivalence for &lt; 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk276" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk276"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">log2_up_lt_pow2</span> : <span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span>, <span class="mi">0</span>&lt;a -&gt; (<span class="mi">2</span>^b&lt;a &lt;-&gt; b &lt; log2_up a).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : t, <span class="mi">0</span> &lt; a -&gt; <span class="mi">2</span> ^ b &lt; a &lt;-&gt; b &lt; log2_up a</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk277" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk277"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : t, <span class="mi">0</span> &lt; a -&gt; <span class="mi">2</span> ^ b &lt; a &lt;-&gt; b &lt; log2_up a</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk278" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk278"><span class="highlight"><span class="nb">intros</span> a b Ha.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ b &lt; a &lt;-&gt; b &lt; log2_up a</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk279" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk279"><span class="highlight"><span class="nb">split</span>; <span class="nb">intros</span> H.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ b &lt; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">b &lt; log2_up a</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="NZLog-v-chk27a" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">b &lt; log2_up a</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chk27a"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ b &lt; a</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk27b" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk27b"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ b &lt; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">b &lt; log2_up a</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk27c" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk27c"><span class="highlight"><span class="nb">destruct</span> (lt_ge_cases b <span class="mi">0</span>) <span class="kr">as</span> [Hb|Hb].</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ b &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">b &lt; <span class="mi">0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">b &lt; log2_up a</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="NZLog-v-chk27d" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ b &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chk27d"><hr></label><div class="goal-conclusion"><span class="highlight">b &lt; log2_up a</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk27e" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk27e"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ b &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">b &lt; <span class="mi">0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">b &lt; log2_up a</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">generalize</span> (log2_up_nonneg a); order.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk27f" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk27f"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ b &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">b &lt; log2_up a</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk280" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk280"><span class="highlight"><span class="nb">apply</span> (pow_lt_mono_r_iff <span class="mi">2</span>).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ b &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">1</span> &lt; <span class="mi">2</span></span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="NZLog-v-chk281" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ b &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chk281"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="mi">0</span> &lt;= log2_up a</span></div></blockquote><input class="coq-extra-goal-toggle" id="NZLog-v-chk282" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ b &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chk282"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ b &lt; <span class="mi">2</span> ^ log2_up a</span></div></blockquote></div></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk283" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk283"><span class="highlight">*</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ b &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">1</span> &lt; <span class="mi">2</span></span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight">order&#39;.</span></span><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk284" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk284"><span class="highlight">*</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ b &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">0</span> &lt;= log2_up a</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">apply</span> log2_up_nonneg.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">     </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk285" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk285"><span class="highlight">*</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ b &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ b &lt; <span class="mi">2</span> ^ log2_up a</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk286" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk286"><span class="highlight"><span class="nb">apply</span> lt_le_trans <span class="kr">with</span> a; <span class="nb">trivial</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ b &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a &lt;= <span class="mi">2</span> ^ log2_up a</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">       </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk287" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk287"><span class="highlight"><span class="nb">apply</span> (log2_up_spec a).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ b &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">1</span> &lt; a</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">       </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk288" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk288"><span class="highlight"><span class="nb">apply</span> le_lt_trans <span class="kr">with</span> (<span class="mi">2</span>^b); <span class="nb">trivial</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ b &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">1</span> &lt;= <span class="mi">2</span> ^ b</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">       </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk289" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk289"><span class="highlight"><span class="nb">rewrite</span> one_succ, le_succ_l.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">2</span> ^ b &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">0</span> &lt; <span class="mi">2</span> ^ b</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">apply</span> pow_pos_nonneg; order&#39;.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk28a" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk28a"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">b &lt; log2_up a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ b &lt; a</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk28b" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk28b"><span class="highlight"><span class="nb">destruct</span> (lt_ge_cases b <span class="mi">0</span>) <span class="kr">as</span> [Hb|Hb].</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">b &lt; log2_up a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">b &lt; <span class="mi">0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ b &lt; a</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="NZLog-v-chk28c" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">b &lt; log2_up a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chk28c"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ b &lt; a</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk28d" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk28d"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">b &lt; log2_up a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">b &lt; <span class="mi">0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ b &lt; a</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">now</span> <span class="nb">rewrite</span> pow_neg_r.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk28e" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk28e"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">b &lt; log2_up a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ b &lt; a</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk28f" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk28f"><span class="highlight"><span class="nb">rewrite</span> &lt;- (log2_up_pow2 b) <span class="kr">in</span> H; <span class="nb">trivial</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2_up (<span class="mi">2</span> ^ b) &lt; log2_up a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ b &lt; a</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">now</span> <span class="nb">apply</span> log2_up_lt_cancel.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span></span></pre><div class="doc">
When right side is a square, we have an equivalence for &lt;= 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk290" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk290"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">log2_up_le_pow2</span> : <span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span>, <span class="mi">0</span>&lt;a -&gt; (a&lt;=<span class="mi">2</span>^b &lt;-&gt; log2_up a &lt;= b).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : t, <span class="mi">0</span> &lt; a -&gt; a &lt;= <span class="mi">2</span> ^ b &lt;-&gt; log2_up a &lt;= b</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk291" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk291"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : t, <span class="mi">0</span> &lt; a -&gt; a &lt;= <span class="mi">2</span> ^ b &lt;-&gt; log2_up a &lt;= b</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk292" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk292"><span class="highlight"><span class="nb">intros</span> a b Ha.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a &lt;= <span class="mi">2</span> ^ b &lt;-&gt; log2_up a &lt;= b</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk293" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk293"><span class="highlight"><span class="nb">split</span>; <span class="nb">intros</span> H.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= <span class="mi">2</span> ^ b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up a &lt;= b</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="NZLog-v-chk294" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2_up a &lt;= b</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chk294"><hr></label><div class="goal-conclusion"><span class="highlight">a &lt;= <span class="mi">2</span> ^ b</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk295" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk295"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= <span class="mi">2</span> ^ b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up a &lt;= b</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk296" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk296"><span class="highlight"><span class="nb">destruct</span> (lt_ge_cases b <span class="mi">0</span>) <span class="kr">as</span> [Hb|Hb].</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= <span class="mi">2</span> ^ b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">b &lt; <span class="mi">0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up a &lt;= b</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="NZLog-v-chk297" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= <span class="mi">2</span> ^ b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chk297"><hr></label><div class="goal-conclusion"><span class="highlight">log2_up a &lt;= b</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk298" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk298"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= <span class="mi">2</span> ^ b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">b &lt; <span class="mi">0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up a &lt;= b</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">rewrite</span> pow_neg_r <span class="kr">in</span> H; order.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk299" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk299"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= <span class="mi">2</span> ^ b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up a &lt;= b</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk29a" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk29a"><span class="highlight"><span class="nb">rewrite</span> &lt;- (log2_up_pow2 b); <span class="nb">trivial</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= <span class="mi">2</span> ^ b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up a &lt;= log2_up (<span class="mi">2</span> ^ b)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">now</span> <span class="nb">apply</span> log2_up_le_mono.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk29b" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk29b"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2_up a &lt;= b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a &lt;= <span class="mi">2</span> ^ b</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk29c" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk29c"><span class="highlight"><span class="nb">transitivity</span> (<span class="mi">2</span>^(log2_up a)).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2_up a &lt;= b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a &lt;= <span class="mi">2</span> ^ log2_up a</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="NZLog-v-chk29d" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2_up a &lt;= b</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chk29d"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ log2_up a &lt;= <span class="mi">2</span> ^ b</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk29e" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk29e"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2_up a &lt;= b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a &lt;= <span class="mi">2</span> ^ log2_up a</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">now</span> <span class="nb">apply</span> log2_log2_up_spec.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk29f" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk29f"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2_up a &lt;= b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ log2_up a &lt;= <span class="mi">2</span> ^ b</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">apply</span> pow_le_mono_r; order&#39;.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span></span></pre><div class="doc">
Comparing <span class="inlinecode"><span class="id" title="var">log2_up</span></span> and identity 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk2a0" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk2a0"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">log2_up_lt_lin</span> : <span class="kr">forall</span> <span class="nv">a</span>, <span class="mi">0</span>&lt;a -&gt; log2_up a &lt; a.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : t, <span class="mi">0</span> &lt; a -&gt; log2_up a &lt; a</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk2a1" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk2a1"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : t, <span class="mi">0</span> &lt; a -&gt; log2_up a &lt; a</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk2a2" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk2a2"><span class="highlight"><span class="nb">intros</span> a Ha.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up a &lt; a</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk2a3" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk2a3"><span class="highlight"><span class="nb">assert</span> (H : S (P a) == a) <span class="bp">by</span> (<span class="bp">now</span> <span class="nb">apply</span> lt_succ_pred <span class="kr">with</span> <span class="mi">0</span>).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S (P a) == a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up a &lt; a</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk2a4" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk2a4"><span class="highlight"><span class="nb">rewrite</span> &lt;- H <span class="nb">at</span> <span class="mi">2</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S (P a) == a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up a &lt; S (P a)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk2a5" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk2a5"><span class="highlight"><span class="nb">apply</span> lt_succ_r.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S (P a) == a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up a &lt;= P a</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk2a6" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk2a6"><span class="highlight"><span class="nb">apply</span> log2_up_le_pow2; <span class="nb">trivial</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S (P a) == a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a &lt;= <span class="mi">2</span> ^ P a</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk2a7" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk2a7"><span class="highlight"><span class="nb">rewrite</span> &lt;- H <span class="nb">at</span> <span class="mi">1</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S (P a) == a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">S (P a) &lt;= <span class="mi">2</span> ^ P a</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk2a8" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk2a8"><span class="highlight"><span class="nb">apply</span> le_succ_l.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S (P a) == a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">P a &lt; <span class="mi">2</span> ^ P a</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk2a9" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk2a9"><span class="highlight"><span class="nb">apply</span> pow_gt_lin_r.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S (P a) == a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">1</span> &lt; <span class="mi">2</span></span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="NZLog-v-chk2aa" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S (P a) == a</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chk2aa"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="mi">0</span> &lt;= P a</span></div></blockquote></div></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk2ab" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk2ab"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S (P a) == a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">1</span> &lt; <span class="mi">2</span></span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight">order&#39;.</span></span><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk2ac" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk2ac"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S (P a) == a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">0</span> &lt;= P a</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">apply</span> lt_succ_r; order.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk2ad" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk2ad"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">log2_up_le_lin</span> : <span class="kr">forall</span> <span class="nv">a</span>, <span class="mi">0</span>&lt;=a -&gt; log2_up a &lt;= a.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : t, <span class="mi">0</span> &lt;= a -&gt; log2_up a &lt;= a</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk2ae" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk2ae"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : t, <span class="mi">0</span> &lt;= a -&gt; log2_up a &lt;= a</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk2af" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk2af"><span class="highlight"><span class="nb">intros</span> a Ha.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up a &lt;= a</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk2b0" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk2b0"><span class="highlight">le_elim Ha.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up a &lt;= a</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="NZLog-v-chk2b1" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> == a</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chk2b1"><hr></label><div class="goal-conclusion"><span class="highlight">log2_up a &lt;= a</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk2b2" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk2b2"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up a &lt;= a</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">now</span> <span class="nb">apply</span> lt_le_incl, log2_up_lt_lin.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk2b3" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk2b3"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> == a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up a &lt;= a</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">rewrite</span> &lt;- Ha, log2_up_nonpos; order.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span></span></pre><div class="doc">
<span class="inlinecode"><span class="id" title="var">log2_up</span></span> and multiplication. 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --></pre><div class="doc">
Due to rounding error, we don't have the usual
    <span class="inlinecode"><span class="id" title="var">log2_up</span></span> <span class="inlinecode">(<span class="id" title="var">a</span>√ó<span class="id" title="var">b</span>)</span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="var">log2_up</span></span> <span class="inlinecode"><span class="id" title="var">a</span></span> <span class="inlinecode">+</span> <span class="inlinecode"><span class="id" title="var">log2_up</span></span> <span class="inlinecode"><span class="id" title="var">b</span></span> but we may be off by 1 at most 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk2b4" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk2b4"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">log2_up_mul_above</span> : <span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span>, <span class="mi">0</span>&lt;=a -&gt; <span class="mi">0</span>&lt;=b -&gt;
  log2_up (a*b) &lt;= log2_up a + log2_up b.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : t,
<span class="mi">0</span> &lt;= a -&gt;
<span class="mi">0</span> &lt;= b -&gt; log2_up (a * b) &lt;= log2_up a + log2_up b</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk2b5" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk2b5"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : t,
<span class="mi">0</span> &lt;= a -&gt;
<span class="mi">0</span> &lt;= b -&gt; log2_up (a * b) &lt;= log2_up a + log2_up b</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk2b6" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk2b6"><span class="highlight"><span class="nb">intros</span> a b Ha Hb.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up (a * b) &lt;= log2_up a + log2_up b</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk2b7" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk2b7"><span class="highlight"><span class="nb">assert</span> (Ha&#39;:=log2_up_nonneg a).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= log2_up a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up (a * b) &lt;= log2_up a + log2_up b</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk2b8" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk2b8"><span class="highlight"><span class="nb">assert</span> (Hb&#39;:=log2_up_nonneg b).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= log2_up a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= log2_up b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up (a * b) &lt;= log2_up a + log2_up b</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk2b9" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk2b9"><span class="highlight">le_elim Ha.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= log2_up a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= log2_up b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up (a * b) &lt;= log2_up a + log2_up b</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="NZLog-v-chk2ba" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> == a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= log2_up a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= log2_up b</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chk2ba"><hr></label><div class="goal-conclusion"><span class="highlight">log2_up (a * b) &lt;= log2_up a + log2_up b</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk2bb" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk2bb"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= log2_up a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= log2_up b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up (a * b) &lt;= log2_up a + log2_up b</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk2bc" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk2bc"><span class="highlight">le_elim Hb.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= log2_up a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= log2_up b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up (a * b) &lt;= log2_up a + log2_up b</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="NZLog-v-chk2bd" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> == b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= log2_up a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= log2_up b</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chk2bd"><hr></label><div class="goal-conclusion"><span class="highlight">log2_up (a * b) &lt;= log2_up a + log2_up b</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk2be" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk2be"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= log2_up a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= log2_up b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up (a * b) &lt;= log2_up a + log2_up b</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk2bf" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk2bf"><span class="highlight"><span class="nb">apply</span> log2_up_le_pow2; <span class="kp">try</span> order_pos.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= log2_up a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= log2_up b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a * b &lt;= <span class="mi">2</span> ^ (log2_up a + log2_up b)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">     </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk2c0" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk2c0"><span class="highlight"><span class="nb">rewrite</span> pow_add_r; <span class="nb">trivial</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= log2_up a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= log2_up b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a * b &lt;= <span class="mi">2</span> ^ log2_up a * <span class="mi">2</span> ^ log2_up b</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">     </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">apply</span> mul_le_mono_nonneg; <span class="kp">try</span> <span class="nb">apply</span> log2_log2_up_spec; order&#39;.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk2c1" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk2c1"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> == b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= log2_up a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= log2_up b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up (a * b) &lt;= log2_up a + log2_up b</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk2c2" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk2c2"><span class="highlight"><span class="nb">rewrite</span> &lt;- Hb.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> == b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= log2_up a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= log2_up b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up (a * <span class="mi">0</span>) &lt;= log2_up a + log2_up <span class="mi">0</span></span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk2c3" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk2c3"><span class="highlight">nzsimpl.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> == b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= log2_up a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= log2_up b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up <span class="mi">0</span> &lt;= log2_up a + log2_up <span class="mi">0</span></span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">rewrite</span> log2_up_nonpos; order_pos.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk2c4" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk2c4"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> == a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= log2_up a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= log2_up b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up (a * b) &lt;= log2_up a + log2_up b</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk2c5" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk2c5"><span class="highlight"><span class="nb">rewrite</span> &lt;- Ha.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> == a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= log2_up a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= log2_up b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up (<span class="mi">0</span> * b) &lt;= log2_up <span class="mi">0</span> + log2_up b</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk2c6" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk2c6"><span class="highlight">nzsimpl.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> == a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= log2_up a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= log2_up b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up <span class="mi">0</span> &lt;= log2_up <span class="mi">0</span> + log2_up b</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">rewrite</span> log2_up_nonpos; order_pos.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk2c7" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk2c7"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">log2_up_mul_below</span> : <span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span>, <span class="mi">0</span>&lt;a -&gt; <span class="mi">0</span>&lt;b -&gt;
 log2_up a + log2_up b &lt;= S (log2_up (a*b)).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : t,
<span class="mi">0</span> &lt; a -&gt;
<span class="mi">0</span> &lt; b -&gt; log2_up a + log2_up b &lt;= S (log2_up (a * b))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk2c8" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk2c8"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : t,
<span class="mi">0</span> &lt; a -&gt;
<span class="mi">0</span> &lt; b -&gt; log2_up a + log2_up b &lt;= S (log2_up (a * b))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk2c9" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk2c9"><span class="highlight"><span class="nb">intros</span> a b Ha Hb.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up a + log2_up b &lt;= S (log2_up (a * b))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk2ca" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk2ca"><span class="highlight"><span class="nb">rewrite</span> &lt;-le_succ_l, &lt;-one_succ <span class="kr">in</span> Ha.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt;= a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up a + log2_up b &lt;= S (log2_up (a * b))</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk2cb" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk2cb"><span class="highlight">le_elim Ha.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up a + log2_up b &lt;= S (log2_up (a * b))</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="NZLog-v-chk2cc" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> == a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chk2cc"><hr></label><div class="goal-conclusion"><span class="highlight">log2_up a + log2_up b &lt;= S (log2_up (a * b))</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk2cd" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk2cd"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up a + log2_up b &lt;= S (log2_up (a * b))</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk2ce" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk2ce"><span class="highlight"><span class="nb">rewrite</span> &lt;-le_succ_l, &lt;-one_succ <span class="kr">in</span> Hb.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt;= b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up a + log2_up b &lt;= S (log2_up (a * b))</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk2cf" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk2cf"><span class="highlight">le_elim Hb.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up a + log2_up b &lt;= S (log2_up (a * b))</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="NZLog-v-chk2d0" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> == b</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chk2d0"><hr></label><div class="goal-conclusion"><span class="highlight">log2_up a + log2_up b &lt;= S (log2_up (a * b))</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk2d1" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk2d1"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up a + log2_up b &lt;= S (log2_up (a * b))</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk2d2" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk2d2"><span class="highlight"><span class="nb">assert</span> (Ha&#39; : <span class="mi">0</span> &lt; log2_up a) <span class="bp">by</span> (<span class="nb">apply</span> log2_up_pos; <span class="nb">trivial</span>).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; log2_up a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up a + log2_up b &lt;= S (log2_up (a * b))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">     </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk2d3" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk2d3"><span class="highlight"><span class="nb">assert</span> (Hb&#39; : <span class="mi">0</span> &lt; log2_up b) <span class="bp">by</span> (<span class="nb">apply</span> log2_up_pos; <span class="nb">trivial</span>).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; log2_up a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; log2_up b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up a + log2_up b &lt;= S (log2_up (a * b))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">     </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk2d4" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk2d4"><span class="highlight"><span class="nb">rewrite</span> &lt;- (lt_succ_pred <span class="mi">0</span> (log2_up a)); <span class="nb">trivial</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; log2_up a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; log2_up b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">S (P (log2_up a)) + log2_up b &lt;= S (log2_up (a * b))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">     </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk2d5" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk2d5"><span class="highlight"><span class="nb">rewrite</span> &lt;- (lt_succ_pred <span class="mi">0</span> (log2_up b)); <span class="nb">trivial</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; log2_up a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; log2_up b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">S (P (log2_up a)) + S (P (log2_up b)) &lt;=
S (log2_up (a * b))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">     </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk2d6" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk2d6"><span class="highlight">nzsimpl.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; log2_up a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; log2_up b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">S (S (P (log2_up a) + P (log2_up b))) &lt;=
S (log2_up (a * b))</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk2d7" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk2d7"><span class="highlight"><span class="nb">rewrite</span> &lt;- succ_le_mono, le_succ_l.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; log2_up a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; log2_up b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">P (log2_up a) + P (log2_up b) &lt; log2_up (a * b)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">     </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk2d8" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk2d8"><span class="highlight"><span class="nb">apply</span> (pow_lt_mono_r_iff <span class="mi">2</span>).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; log2_up a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; log2_up b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">1</span> &lt; <span class="mi">2</span></span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="NZLog-v-chk2d9" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; log2_up a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; log2_up b</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chk2d9"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="mi">0</span> &lt;= log2_up (a * b)</span></div></blockquote><input class="coq-extra-goal-toggle" id="NZLog-v-chk2da" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; log2_up a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; log2_up b</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chk2da"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ (P (log2_up a) + P (log2_up b)) &lt;
<span class="mi">2</span> ^ log2_up (a * b)</span></div></blockquote></div></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk2db" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk2db"><span class="highlight">*</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; log2_up a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; log2_up b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">1</span> &lt; <span class="mi">2</span></span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight">order&#39;.</span></span><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk2dc" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk2dc"><span class="highlight">*</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; log2_up a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; log2_up b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">0</span> &lt;= log2_up (a * b)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">apply</span> log2_up_nonneg.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">     </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk2dd" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk2dd"><span class="highlight">*</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; log2_up a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; log2_up b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ (P (log2_up a) + P (log2_up b)) &lt;
<span class="mi">2</span> ^ log2_up (a * b)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk2de" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk2de"><span class="highlight"><span class="nb">rewrite</span> pow_add_r; <span class="kp">try</span> (<span class="nb">apply</span> lt_succ_r; <span class="nb">rewrite</span> (lt_succ_pred <span class="mi">0</span>); <span class="nb">trivial</span>).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; log2_up a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; log2_up b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ P (log2_up a) * <span class="mi">2</span> ^ P (log2_up b) &lt;
<span class="mi">2</span> ^ log2_up (a * b)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">       </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk2df" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk2df"><span class="highlight"><span class="nb">apply</span> lt_le_trans <span class="kr">with</span> (a*b).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; log2_up a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; log2_up b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ P (log2_up a) * <span class="mi">2</span> ^ P (log2_up b) &lt; a * b</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="NZLog-v-chk2e0" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; log2_up a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; log2_up b</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chk2e0"><hr></label><div class="goal-conclusion"><span class="highlight">a * b &lt;= <span class="mi">2</span> ^ log2_up (a * b)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">       </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk2e1" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk2e1"><span class="highlight">--</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; log2_up a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; log2_up b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ P (log2_up a) * <span class="mi">2</span> ^ P (log2_up b) &lt; a * b</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">apply</span> mul_lt_mono_nonneg; <span class="kp">try</span> order_pos; <span class="kp">try</span> <span class="bp">now</span> <span class="nb">apply</span> log2_up_spec.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">       </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk2e2" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk2e2"><span class="highlight">--</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; log2_up a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; log2_up b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a * b &lt;= <span class="mi">2</span> ^ log2_up (a * b)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk2e3" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk2e3"><span class="highlight"><span class="nb">apply</span> log2_up_spec.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; log2_up a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; log2_up b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">1</span> &lt; a * b</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">          </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk2e4" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk2e4"><span class="highlight"><span class="nb">setoid_replace</span> <span class="mi">1</span> <span class="kr">with</span> (<span class="mi">1</span>*<span class="mi">1</span>) <span class="bp">by</span> <span class="bp">now</span> nzsimpl.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; log2_up a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; log2_up b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">1</span> * <span class="mi">1</span> &lt; a * b</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">          </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">apply</span> mul_lt_mono_nonneg; order&#39;.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk2e5" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk2e5"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> == b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up a + log2_up b &lt;= S (log2_up (a * b))</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk2e6" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk2e6"><span class="highlight"><span class="nb">rewrite</span> &lt;- Hb, log2_up_1; nzsimpl.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> == b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up a &lt;= S (log2_up a)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">apply</span> le_succ_diag_r.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk2e7" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk2e7"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> == a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up a + log2_up b &lt;= S (log2_up (a * b))</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk2e8" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk2e8"><span class="highlight"><span class="nb">rewrite</span> &lt;- Ha, log2_up_1; nzsimpl.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> == a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up b &lt;= S (log2_up b)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">apply</span> le_succ_diag_r.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span></span></pre><div class="doc">
And we can't find better approximations in general.
<ul class="doclist">
<li> The upper bound is exact for powers of 2.

</li>
<li> Concerning the lower bound, for any c&gt;1, take a=b=2^c+1,
      then <span class="inlinecode"><span class="id" title="var">log2_up</span></span> <span class="inlinecode">(<span class="id" title="var">a</span>√ó<span class="id" title="var">b</span>)</span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="var">c</span>+<span class="id" title="var">c</span></span> <span class="inlinecode">+1</span> while <span class="inlinecode">(<span class="id" title="var">log2_up</span></span> <span class="inlinecode"><span class="id" title="var">a</span>)</span> <span class="inlinecode">=</span> <span class="inlinecode">(<span class="id" title="var">log2_up</span></span> <span class="inlinecode"><span class="id" title="var">b</span>)</span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="var">c</span>+1</span>
</li>
</ul>
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --></pre><div class="doc">
At least, we get back the usual equation when we multiply by 2 (or 2^k) 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk2e9" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk2e9"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">log2_up_mul_pow2</span> : <span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span>, <span class="mi">0</span>&lt;a -&gt; <span class="mi">0</span>&lt;=b -&gt;
 log2_up (a*<span class="mi">2</span>^b) == b + log2_up a.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : t,
<span class="mi">0</span> &lt; a -&gt;
<span class="mi">0</span> &lt;= b -&gt; log2_up (a * <span class="mi">2</span> ^ b) == b + log2_up a</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk2ea" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk2ea"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : t,
<span class="mi">0</span> &lt; a -&gt;
<span class="mi">0</span> &lt;= b -&gt; log2_up (a * <span class="mi">2</span> ^ b) == b + log2_up a</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk2eb" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk2eb"><span class="highlight"><span class="nb">intros</span> a b Ha Hb.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up (a * <span class="mi">2</span> ^ b) == b + log2_up a</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk2ec" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk2ec"><span class="highlight"><span class="nb">rewrite</span> &lt;- le_succ_l, &lt;- one_succ <span class="kr">in</span> Ha; le_elim Ha.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up (a * <span class="mi">2</span> ^ b) == b + log2_up a</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="NZLog-v-chk2ed" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> == a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chk2ed"><hr></label><div class="goal-conclusion"><span class="highlight">log2_up (a * <span class="mi">2</span> ^ b) == b + log2_up a</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk2ee" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk2ee"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up (a * <span class="mi">2</span> ^ b) == b + log2_up a</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk2ef" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk2ef"><span class="highlight"><span class="nb">apply</span> log2_up_unique.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">0</span> &lt; b + log2_up a</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="NZLog-v-chk2f0" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chk2f0"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ P (b + log2_up a) &lt; a * <span class="mi">2</span> ^ b &lt;=
<span class="mi">2</span> ^ (b + log2_up a)</span></div></blockquote></div></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk2f1" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk2f1"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">0</span> &lt; b + log2_up a</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk2f2" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk2f2"><span class="highlight"><span class="nb">apply</span> add_nonneg_pos; <span class="nb">trivial</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">0</span> &lt; log2_up a</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">now</span> <span class="nb">apply</span> log2_up_pos.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk2f3" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk2f3"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ P (b + log2_up a) &lt; a * <span class="mi">2</span> ^ b &lt;=
<span class="mi">2</span> ^ (b + log2_up a)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk2f4" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk2f4"><span class="highlight"><span class="nb">split</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ P (b + log2_up a) &lt; a * <span class="mi">2</span> ^ b</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="NZLog-v-chk2f5" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chk2f5"><hr></label><div class="goal-conclusion"><span class="highlight">a * <span class="mi">2</span> ^ b &lt;= <span class="mi">2</span> ^ (b + log2_up a)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">     </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk2f6" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk2f6"><span class="highlight">*</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ P (b + log2_up a) &lt; a * <span class="mi">2</span> ^ b</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk2f7" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk2f7"><span class="highlight"><span class="nb">assert</span> (EQ := lt_succ_pred <span class="mi">0</span> _ (log2_up_pos _ Ha)).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EQ</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S (P (log2_up a)) == log2_up a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ P (b + log2_up a) &lt; a * <span class="mi">2</span> ^ b</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">       </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk2f8" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk2f8"><span class="highlight"><span class="nb">rewrite</span> &lt;- EQ.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EQ</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S (P (log2_up a)) == log2_up a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ P (b + S (P (log2_up a))) &lt; a * <span class="mi">2</span> ^ b</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk2f9" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk2f9"><span class="highlight">nzsimpl.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EQ</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S (P (log2_up a)) == log2_up a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ (b + P (log2_up a)) &lt; a * <span class="mi">2</span> ^ b</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk2fa" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk2fa"><span class="highlight"><span class="nb">rewrite</span> pow_add_r, mul_comm; <span class="nb">trivial</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EQ</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S (P (log2_up a)) == log2_up a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ P (log2_up a) * <span class="mi">2</span> ^ b &lt; a * <span class="mi">2</span> ^ b</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="NZLog-v-chk2fb" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EQ</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S (P (log2_up a)) == log2_up a</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chk2fb"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="mi">0</span> &lt;= P (log2_up a)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">       </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk2fc" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk2fc"><span class="highlight">--</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EQ</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S (P (log2_up a)) == log2_up a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ P (log2_up a) * <span class="mi">2</span> ^ b &lt; a * <span class="mi">2</span> ^ b</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk2fd" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk2fd"><span class="highlight"><span class="nb">apply</span> mul_lt_mono_pos_r.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EQ</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S (P (log2_up a)) == log2_up a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">0</span> &lt; <span class="mi">2</span> ^ b</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="NZLog-v-chk2fe" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EQ</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S (P (log2_up a)) == log2_up a</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chk2fe"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ P (log2_up a) &lt; a</span></div></blockquote></div></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk2ff" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk2ff"><span class="highlight">++</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EQ</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S (P (log2_up a)) == log2_up a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">0</span> &lt; <span class="mi">2</span> ^ b</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight">order_pos.</span></span><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk300" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk300"><span class="highlight">++</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EQ</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S (P (log2_up a)) == log2_up a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ P (log2_up a) &lt; a</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">now</span> <span class="nb">apply</span> log2_up_spec.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">       </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk301" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk301"><span class="highlight">--</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EQ</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S (P (log2_up a)) == log2_up a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">0</span> &lt;= P (log2_up a)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk302" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk302"><span class="highlight"><span class="nb">rewrite</span> &lt;- lt_succ_r, EQ.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EQ</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S (P (log2_up a)) == log2_up a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">0</span> &lt; log2_up a</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">now</span> <span class="nb">apply</span> log2_up_pos.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">     </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk303" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk303"><span class="highlight">*</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a * <span class="mi">2</span> ^ b &lt;= <span class="mi">2</span> ^ (b + log2_up a)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk304" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk304"><span class="highlight"><span class="nb">rewrite</span> pow_add_r, mul_comm; <span class="nb">trivial</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ b * a &lt;= <span class="mi">2</span> ^ b * <span class="mi">2</span> ^ log2_up a</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="NZLog-v-chk305" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chk305"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="mi">0</span> &lt;= log2_up a</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">       </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk306" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk306"><span class="highlight">--</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ b * a &lt;= <span class="mi">2</span> ^ b * <span class="mi">2</span> ^ log2_up a</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk307" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk307"><span class="highlight"><span class="nb">apply</span> mul_le_mono_nonneg_l.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">0</span> &lt;= <span class="mi">2</span> ^ b</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="NZLog-v-chk308" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chk308"><hr></label><div class="goal-conclusion"><span class="highlight">a &lt;= <span class="mi">2</span> ^ log2_up a</span></div></blockquote></div></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk309" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk309"><span class="highlight">++</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">0</span> &lt;= <span class="mi">2</span> ^ b</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight">order_pos.</span></span><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk30a" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk30a"><span class="highlight">++</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a &lt;= <span class="mi">2</span> ^ log2_up a</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">now</span> <span class="nb">apply</span> log2_up_spec.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">       </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk30b" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk30b"><span class="highlight">--</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">0</span> &lt;= log2_up a</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">apply</span> log2_up_nonneg.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk30c" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk30c"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> == a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up (a * <span class="mi">2</span> ^ b) == b + log2_up a</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">now</span> <span class="nb">rewrite</span> &lt;- Ha, mul_1_l, log2_up_1, add_0_r, log2_up_pow2.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk30d" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk30d"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">log2_up_double</span> : <span class="kr">forall</span> <span class="nv">a</span>, <span class="mi">0</span>&lt;a -&gt; log2_up (<span class="mi">2</span>*a) == S (log2_up a).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : t,
<span class="mi">0</span> &lt; a -&gt; log2_up (<span class="mi">2</span> * a) == S (log2_up a)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk30e" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk30e"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : t,
<span class="mi">0</span> &lt; a -&gt; log2_up (<span class="mi">2</span> * a) == S (log2_up a)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk30f" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk30f"><span class="highlight"><span class="nb">intros</span> a Ha.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up (<span class="mi">2</span> * a) == S (log2_up a)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk310" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk310"><span class="highlight"><span class="nb">generalize</span> (log2_up_mul_pow2 a <span class="mi">1</span> Ha le_0_1).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up (a * <span class="mi">2</span> ^ <span class="mi">1</span>) == <span class="mi">1</span> + log2_up a -&gt;
log2_up (<span class="mi">2</span> * a) == S (log2_up a)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">now</span> nzsimpl&#39;.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span></span></pre><div class="doc">
Two numbers with same <span class="inlinecode"><span class="id" title="var">log2_up</span></span> cannot be far away. 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk311" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk311"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">log2_up_same</span> : <span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span>, <span class="mi">0</span>&lt;a -&gt; <span class="mi">0</span>&lt;b -&gt; log2_up a == log2_up b -&gt; a &lt; <span class="mi">2</span>*b.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : t,
<span class="mi">0</span> &lt; a -&gt; <span class="mi">0</span> &lt; b -&gt; log2_up a == log2_up b -&gt; a &lt; <span class="mi">2</span> * b</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk312" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk312"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : t,
<span class="mi">0</span> &lt; a -&gt; <span class="mi">0</span> &lt; b -&gt; log2_up a == log2_up b -&gt; a &lt; <span class="mi">2</span> * b</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk313" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk313"><span class="highlight"><span class="nb">intros</span> a b Ha Hb H.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2_up a == log2_up b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a &lt; <span class="mi">2</span> * b</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk314" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk314"><span class="highlight"><span class="nb">apply</span> log2_up_lt_cancel.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2_up a == log2_up b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up a &lt; log2_up (<span class="mi">2</span> * b)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk315" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk315"><span class="highlight"><span class="nb">rewrite</span> log2_up_double, H <span class="bp">by</span> <span class="nb">trivial</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2_up a == log2_up b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up b &lt; S (log2_up b)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">apply</span> lt_succ_diag_r.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span></span></pre><div class="doc">
<span class="inlinecode"><span class="id" title="var">log2_up</span></span> and successor :
<ul class="doclist">
<li> the <span class="inlinecode"><span class="id" title="var">log2_up</span></span> function climbs by at most 1 at a time

</li>
<li> otherwise it stays at the same value

</li>
<li> the +1 steps occur after powers of two

</li>
</ul>
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk316" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk316"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">log2_up_succ_le</span> : <span class="kr">forall</span> <span class="nv">a</span>, log2_up (S a) &lt;= S (log2_up a).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : t, log2_up (S a) &lt;= S (log2_up a)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk317" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk317"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : t, log2_up (S a) &lt;= S (log2_up a)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk318" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk318"><span class="highlight"><span class="nb">intros</span> a.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up (S a) &lt;= S (log2_up a)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk319" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk319"><span class="highlight"><span class="nb">destruct</span> (lt_trichotomy <span class="mi">1</span> a) <span class="kr">as</span> [LT|[EQ|LT]].</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LT</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up (S a) &lt;= S (log2_up a)</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="NZLog-v-chk31a" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EQ</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> == a</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chk31a"><hr></label><div class="goal-conclusion"><span class="highlight">log2_up (S a) &lt;= S (log2_up a)</span></div></blockquote><input class="coq-extra-goal-toggle" id="NZLog-v-chk31b" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LT</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt; <span class="mi">1</span></span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chk31b"><hr></label><div class="goal-conclusion"><span class="highlight">log2_up (S a) &lt;= S (log2_up a)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk31c" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk31c"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LT</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up (S a) &lt;= S (log2_up a)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk31d" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk31d"><span class="highlight"><span class="nb">rewrite</span> <span class="mi">2</span> log2_up_eqn; <span class="nb">trivial</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LT</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">S (log2 (P (S a))) &lt;= S (S (log2 (P a)))</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="NZLog-v-chk31e" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LT</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chk31e"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="mi">1</span> &lt; S a</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk31f" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk31f"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LT</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">S (log2 (P (S a))) &lt;= S (S (log2 (P a)))</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk320" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk320"><span class="highlight"><span class="nb">rewrite</span> pred_succ, &lt;- succ_le_mono.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LT</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 a &lt;= S (log2 (P a))</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk321" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk321"><span class="highlight"><span class="nb">rewrite</span> &lt;-(lt_succ_pred <span class="mi">1</span> a LT) <span class="nb">at</span> <span class="mi">1</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LT</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2 (S (P a)) &lt;= S (log2 (P a))</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">     </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">apply</span> log2_succ_le.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk322" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk322"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LT</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">1</span> &lt; S a</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">apply</span> lt_succ_r; order.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk323" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk323"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EQ</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> == a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up (S a) &lt;= S (log2_up a)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk324" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk324"><span class="highlight"><span class="nb">rewrite</span> &lt;- EQ, &lt;- two_succ, log2_up_1, log2_up_2.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">EQ</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> == a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">1</span> &lt;= S <span class="mi">0</span></span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">now</span> nzsimpl&#39;.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk325" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk325"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LT</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt; <span class="mi">1</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up (S a) &lt;= S (log2_up a)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk326" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk326"><span class="highlight"><span class="nb">rewrite</span> <span class="mi">2</span> log2_up_eqn0.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LT</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt; <span class="mi">1</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">0</span> &lt;= S <span class="mi">0</span></span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="NZLog-v-chk327" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LT</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt; <span class="mi">1</span></span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chk327"><hr></label><div class="goal-conclusion"><span class="highlight">a &lt;= <span class="mi">1</span></span></div></blockquote><input class="coq-extra-goal-toggle" id="NZLog-v-chk328" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LT</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt; <span class="mi">1</span></span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chk328"><hr></label><div class="goal-conclusion"><span class="highlight">S a &lt;= <span class="mi">1</span></span></div></blockquote></div></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk329" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk329"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LT</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt; <span class="mi">1</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">0</span> &lt;= S <span class="mi">0</span></span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight">order_pos.</span></span><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk32a" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk32a"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LT</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt; <span class="mi">1</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a &lt;= <span class="mi">1</span></span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight">order&#39;.</span></span><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk32b" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk32b"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">LT</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt; <span class="mi">1</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">S a &lt;= <span class="mi">1</span></span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">now</span> <span class="nb">rewrite</span> le_succ_l.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk32c" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk32c"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">log2_up_succ_or</span> : <span class="kr">forall</span> <span class="nv">a</span>,
 log2_up (S a) == S (log2_up a) \/ log2_up (S a) == log2_up a.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : t,
log2_up (S a) == S (log2_up a) \/
log2_up (S a) == log2_up a</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk32d" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk32d"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : t,
log2_up (S a) == S (log2_up a) \/
log2_up (S a) == log2_up a</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk32e" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk32e"><span class="highlight"><span class="nb">intros</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up (S a) == S (log2_up a) \/
log2_up (S a) == log2_up a</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk32f" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk32f"><span class="highlight"><span class="nb">destruct</span> (le_gt_cases (log2_up (S a)) (log2_up a)).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2_up (S a) &lt;= log2_up a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up (S a) == S (log2_up a) \/
log2_up (S a) == log2_up a</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="NZLog-v-chk330" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2_up a &lt; log2_up (S a)</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chk330"><hr></label><div class="goal-conclusion"><span class="highlight">log2_up (S a) == S (log2_up a) \/
log2_up (S a) == log2_up a</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk331" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk331"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2_up (S a) &lt;= log2_up a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up (S a) == S (log2_up a) \/
log2_up (S a) == log2_up a</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk332" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk332"><span class="highlight"><span class="nb">right</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2_up (S a) &lt;= log2_up a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up (S a) == log2_up a</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">generalize</span> (log2_up_le_mono _ _ (le_succ_diag_r a)); order.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk333" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk333"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2_up a &lt; log2_up (S a)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up (S a) == S (log2_up a) \/
log2_up (S a) == log2_up a</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk334" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk334"><span class="highlight"><span class="nb">left</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2_up a &lt; log2_up (S a)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up (S a) == S (log2_up a)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk335" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk335"><span class="highlight"><span class="nb">apply</span> le_succ_l <span class="kr">in</span> H.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">S (log2_up a) &lt;= log2_up (S a)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up (S a) == S (log2_up a)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">generalize</span> (log2_up_succ_le a); order.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk336" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk336"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">log2_up_eq_succ_is_pow2</span> : <span class="kr">forall</span> <span class="nv">a</span>,
 log2_up (S a) == S (log2_up a) -&gt; <span class="kr">exists</span> <span class="nv">b</span>, a == <span class="mi">2</span>^b.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : t,
log2_up (S a) == S (log2_up a) -&gt;
<span class="kr">exists</span> <span class="nv">b</span> : t, a == <span class="mi">2</span> ^ b</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk337" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk337"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : t,
log2_up (S a) == S (log2_up a) -&gt;
<span class="kr">exists</span> <span class="nv">b</span> : t, a == <span class="mi">2</span> ^ b</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk338" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk338"><span class="highlight"><span class="nb">intros</span> a H.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2_up (S a) == S (log2_up a)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">b</span> : t, a == <span class="mi">2</span> ^ b</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk339" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk339"><span class="highlight"><span class="nb">destruct</span> (le_gt_cases a <span class="mi">0</span>) <span class="kr">as</span> [Ha|Ha].</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2_up (S a) == S (log2_up a)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= <span class="mi">0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">b</span> : t, a == <span class="mi">2</span> ^ b</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="NZLog-v-chk33a" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2_up (S a) == S (log2_up a)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chk33a"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">b</span> : t, a == <span class="mi">2</span> ^ b</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk33b" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk33b"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2_up (S a) == S (log2_up a)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= <span class="mi">0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">b</span> : t, a == <span class="mi">2</span> ^ b</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk33c" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk33c"><span class="highlight"><span class="nb">rewrite</span> <span class="mi">2</span> (proj2 (log2_up_null _)) <span class="kr">in</span> H.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> == S <span class="mi">0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= <span class="mi">0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">b</span> : t, a == <span class="mi">2</span> ^ b</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="NZLog-v-chk33d" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> == S (log2_up a)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= <span class="mi">0</span></span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chk33d"><hr></label><div class="goal-conclusion"><span class="highlight">a &lt;= <span class="mi">1</span></span></div></blockquote><input class="coq-extra-goal-toggle" id="NZLog-v-chk33e" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2_up (S a) == S (log2_up a)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= <span class="mi">0</span></span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chk33e"><hr></label><div class="goal-conclusion"><span class="highlight">S a &lt;= <span class="mi">1</span></span></div></blockquote></div></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk33f" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk33f"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> == S <span class="mi">0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= <span class="mi">0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">b</span> : t, a == <span class="mi">2</span> ^ b</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">generalize</span> (lt_succ_diag_r <span class="mi">0</span>); order.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk340" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk340"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> == S (log2_up a)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= <span class="mi">0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a &lt;= <span class="mi">1</span></span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight">order&#39;.</span></span><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk341" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk341"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2_up (S a) == S (log2_up a)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= <span class="mi">0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">S a &lt;= <span class="mi">1</span></span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk342" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk342"><span class="highlight"><span class="nb">apply</span> le_succ_l.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2_up (S a) == S (log2_up a)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= <span class="mi">0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a &lt; <span class="mi">1</span></span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight">order&#39;.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk343" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk343"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2_up (S a) == S (log2_up a)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">b</span> : t, a == <span class="mi">2</span> ^ b</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk344" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk344"><span class="highlight"><span class="nb">assert</span> (Ha&#39; : <span class="mi">1</span> &lt; S a) <span class="bp">by</span> (<span class="bp">now</span> <span class="nb">rewrite</span> one_succ, &lt;- succ_lt_mono).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2_up (S a) == S (log2_up a)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; S a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">b</span> : t, a == <span class="mi">2</span> ^ b</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk345" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk345"><span class="highlight"><span class="kr">exists</span> (<span class="nv">log2_up</span> <span class="nv">a</span>).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2_up (S a) == S (log2_up a)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; S a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a == <span class="mi">2</span> ^ log2_up a</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk346" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk346"><span class="highlight"><span class="nb">generalize</span> (proj1 (log2_up_spec (S a) Ha&#39;)) (proj2 (log2_log2_up_spec a Ha)).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2_up (S a) == S (log2_up a)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; S a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ P (log2_up (S a)) &lt; S a -&gt;
a &lt;= <span class="mi">2</span> ^ log2_up a -&gt; a == <span class="mi">2</span> ^ log2_up a</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk347" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk347"><span class="highlight"><span class="nb">rewrite</span> H, pred_succ, lt_succ_r.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2_up (S a) == S (log2_up a)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; S a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ log2_up a &lt;= a -&gt;
a &lt;= <span class="mi">2</span> ^ log2_up a -&gt; a == <span class="mi">2</span> ^ log2_up a</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight">order.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk348" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk348"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">log2_up_eq_succ_iff_pow2</span> : <span class="kr">forall</span> <span class="nv">a</span>, <span class="mi">0</span>&lt;a -&gt;
 (log2_up (S a) == S (log2_up a) &lt;-&gt; <span class="kr">exists</span> <span class="nv">b</span>, a == <span class="mi">2</span>^b).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : t,
<span class="mi">0</span> &lt; a -&gt;
log2_up (S a) == S (log2_up a) &lt;-&gt;
(<span class="kr">exists</span> <span class="nv">b</span> : t, a == <span class="mi">2</span> ^ b)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk349" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk349"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : t,
<span class="mi">0</span> &lt; a -&gt;
log2_up (S a) == S (log2_up a) &lt;-&gt;
(<span class="kr">exists</span> <span class="nv">b</span> : t, a == <span class="mi">2</span> ^ b)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk34a" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk34a"><span class="highlight"><span class="nb">intros</span> a Ha.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up (S a) == S (log2_up a) &lt;-&gt;
(<span class="kr">exists</span> <span class="nv">b</span> : t, a == <span class="mi">2</span> ^ b)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk34b" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk34b"><span class="highlight"><span class="nb">split</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up (S a) == S (log2_up a) -&gt;
<span class="kr">exists</span> <span class="nv">b</span> : t, a == <span class="mi">2</span> ^ b</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="NZLog-v-chk34c" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chk34c"><hr></label><div class="goal-conclusion"><span class="highlight">(<span class="kr">exists</span> <span class="nv">b</span> : t, a == <span class="mi">2</span> ^ b) -&gt;
log2_up (S a) == S (log2_up a)</span></div></blockquote></div></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk34d" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk34d"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up (S a) == S (log2_up a) -&gt;
<span class="kr">exists</span> <span class="nv">b</span> : t, a == <span class="mi">2</span> ^ b</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">apply</span> log2_up_eq_succ_is_pow2.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk34e" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk34e"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="kr">exists</span> <span class="nv">b</span> : t, a == <span class="mi">2</span> ^ b) -&gt;
log2_up (S a) == S (log2_up a)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk34f" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk34f"><span class="highlight"><span class="nb">intros</span> (b,Hb).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a == <span class="mi">2</span> ^ b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up (S a) == S (log2_up a)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk350" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk350"><span class="highlight"><span class="nb">destruct</span> (lt_ge_cases b <span class="mi">0</span>) <span class="kr">as</span> [Hb&#39;|Hb&#39;].</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a == <span class="mi">2</span> ^ b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">b &lt; <span class="mi">0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up (S a) == S (log2_up a)</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="NZLog-v-chk351" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a == <span class="mi">2</span> ^ b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chk351"><hr></label><div class="goal-conclusion"><span class="highlight">log2_up (S a) == S (log2_up a)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk352" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk352"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a == <span class="mi">2</span> ^ b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">b &lt; <span class="mi">0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up (S a) == S (log2_up a)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">rewrite</span> pow_neg_r <span class="kr">in</span> Hb; order.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk353" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk353"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a == <span class="mi">2</span> ^ b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up (S a) == S (log2_up a)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk354" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk354"><span class="highlight"><span class="nb">rewrite</span> Hb, log2_up_pow2; <span class="kp">try</span> order&#39;.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a == <span class="mi">2</span> ^ b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt;= b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up (S (<span class="mi">2</span> ^ b)) == S b</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">     </span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">now</span> <span class="nb">rewrite</span> log2_up_succ_pow2.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk355" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk355"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">log2_up_succ_double</span> : <span class="kr">forall</span> <span class="nv">a</span>, <span class="mi">0</span>&lt;a -&gt;
 log2_up (<span class="mi">2</span>*a+<span class="mi">1</span>) == <span class="mi">2</span> + log2 a.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : t,
<span class="mi">0</span> &lt; a -&gt; log2_up (<span class="mi">2</span> * a + <span class="mi">1</span>) == <span class="mi">2</span> + log2 a</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk356" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk356"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : t,
<span class="mi">0</span> &lt; a -&gt; log2_up (<span class="mi">2</span> * a + <span class="mi">1</span>) == <span class="mi">2</span> + log2 a</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk357" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk357"><span class="highlight"><span class="nb">intros</span> a Ha.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up (<span class="mi">2</span> * a + <span class="mi">1</span>) == <span class="mi">2</span> + log2 a</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk358" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk358"><span class="highlight"><span class="nb">rewrite</span> log2_up_eqn.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">S (log2 (P (<span class="mi">2</span> * a + <span class="mi">1</span>))) == <span class="mi">2</span> + log2 a</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="NZLog-v-chk359" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chk359"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="mi">1</span> &lt; <span class="mi">2</span> * a + <span class="mi">1</span></span></div></blockquote></div></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk35a" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk35a"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">S (log2 (P (<span class="mi">2</span> * a + <span class="mi">1</span>))) == <span class="mi">2</span> + log2 a</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">rewrite</span> add_1_r, pred_succ, log2_double; <span class="bp">now</span> nzsimpl&#39;.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk35b" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk35b"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">1</span> &lt; <span class="mi">2</span> * a + <span class="mi">1</span></span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk35c" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk35c"><span class="highlight"><span class="nb">apply</span> le_lt_trans <span class="kr">with</span> (<span class="mi">0</span>+<span class="mi">1</span>).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">1</span> &lt;= <span class="mi">0</span> + <span class="mi">1</span></span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="NZLog-v-chk35d" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chk35d"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="mi">0</span> + <span class="mi">1</span> &lt; <span class="mi">2</span> * a + <span class="mi">1</span></span></div></blockquote></div></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk35e" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk35e"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">1</span> &lt;= <span class="mi">0</span> + <span class="mi">1</span></span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">now</span> nzsimpl&#39;.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk35f" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk35f"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">0</span> + <span class="mi">1</span> &lt; <span class="mi">2</span> * a + <span class="mi">1</span></span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk360" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk360"><span class="highlight"><span class="nb">apply</span> add_lt_mono_r.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">0</span> &lt; <span class="mi">2</span> * a</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight">order_pos.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span></span></pre><div class="doc">
<span class="inlinecode"><span class="id" title="var">log2_up</span></span> and addition 
</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk361" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk361"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">log2_up_add_le</span> : <span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span>, a~=<span class="mi">1</span> -&gt; b~=<span class="mi">1</span> -&gt;
 log2_up (a+b) &lt;= log2_up a + log2_up b.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : t,
a ~= <span class="mi">1</span> -&gt;
b ~= <span class="mi">1</span> -&gt; log2_up (a + b) &lt;= log2_up a + log2_up b</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk362" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk362"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : t,
a ~= <span class="mi">1</span> -&gt;
b ~= <span class="mi">1</span> -&gt; log2_up (a + b) &lt;= log2_up a + log2_up b</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk363" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk363"><span class="highlight"><span class="nb">intros</span> a b Ha Hb.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a ~= <span class="mi">1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">b ~= <span class="mi">1</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up (a + b) &lt;= log2_up a + log2_up b</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk364" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk364"><span class="highlight"><span class="nb">destruct</span> (lt_trichotomy a <span class="mi">1</span>) <span class="kr">as</span> [Ha&#39;|[Ha&#39;|Ha&#39;]]; [|order|].</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a ~= <span class="mi">1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">b ~= <span class="mi">1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt; <span class="mi">1</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up (a + b) &lt;= log2_up a + log2_up b</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="NZLog-v-chk365" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a ~= <span class="mi">1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">b ~= <span class="mi">1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chk365"><hr></label><div class="goal-conclusion"><span class="highlight">log2_up (a + b) &lt;= log2_up a + log2_up b</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk366" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk366"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a ~= <span class="mi">1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">b ~= <span class="mi">1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt; <span class="mi">1</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up (a + b) &lt;= log2_up a + log2_up b</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk367" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk367"><span class="highlight"><span class="nb">rewrite</span> (log2_up_eqn0 a) <span class="bp">by</span> order.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a ~= <span class="mi">1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">b ~= <span class="mi">1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt; <span class="mi">1</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up (a + b) &lt;= <span class="mi">0</span> + log2_up b</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk368" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk368"><span class="highlight">nzsimpl.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a ~= <span class="mi">1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">b ~= <span class="mi">1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt; <span class="mi">1</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up (a + b) &lt;= log2_up b</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk369" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk369"><span class="highlight"><span class="nb">apply</span> log2_up_le_mono.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a ~= <span class="mi">1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">b ~= <span class="mi">1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt; <span class="mi">1</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a + b &lt;= b</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk36a" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk36a"><span class="highlight"><span class="nb">rewrite</span> one_succ, lt_succ_r <span class="kr">in</span> Ha&#39;.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a ~= <span class="mi">1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">b ~= <span class="mi">1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= <span class="mi">0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a + b &lt;= b</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk36b" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk36b"><span class="highlight"><span class="nb">rewrite</span> &lt;- (add_0_l b) <span class="nb">at</span> <span class="mi">2</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a ~= <span class="mi">1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">b ~= <span class="mi">1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a &lt;= <span class="mi">0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a + b &lt;= <span class="mi">0</span> + b</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">now</span> <span class="nb">apply</span> add_le_mono.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk36c" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk36c"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a ~= <span class="mi">1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">b ~= <span class="mi">1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up (a + b) &lt;= log2_up a + log2_up b</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk36d" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk36d"><span class="highlight"><span class="nb">destruct</span> (lt_trichotomy b <span class="mi">1</span>) <span class="kr">as</span> [Hb&#39;|[Hb&#39;|Hb&#39;]]; [|order|].</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a ~= <span class="mi">1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">b ~= <span class="mi">1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">b &lt; <span class="mi">1</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up (a + b) &lt;= log2_up a + log2_up b</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="NZLog-v-chk36e" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a ~= <span class="mi">1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">b ~= <span class="mi">1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; b</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chk36e"><hr></label><div class="goal-conclusion"><span class="highlight">log2_up (a + b) &lt;= log2_up a + log2_up b</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk36f" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk36f"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a ~= <span class="mi">1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">b ~= <span class="mi">1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">b &lt; <span class="mi">1</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up (a + b) &lt;= log2_up a + log2_up b</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk370" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk370"><span class="highlight"><span class="nb">rewrite</span> (log2_up_eqn0 b) <span class="bp">by</span> order.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a ~= <span class="mi">1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">b ~= <span class="mi">1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">b &lt; <span class="mi">1</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up (a + b) &lt;= log2_up a + <span class="mi">0</span></span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk371" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk371"><span class="highlight">nzsimpl.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a ~= <span class="mi">1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">b ~= <span class="mi">1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">b &lt; <span class="mi">1</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up (a + b) &lt;= log2_up a</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk372" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk372"><span class="highlight"><span class="nb">apply</span> log2_up_le_mono.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a ~= <span class="mi">1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">b ~= <span class="mi">1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">b &lt; <span class="mi">1</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a + b &lt;= a</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">     </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk373" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk373"><span class="highlight"><span class="nb">rewrite</span> one_succ, lt_succ_r <span class="kr">in</span> Hb&#39;.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a ~= <span class="mi">1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">b ~= <span class="mi">1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">b &lt;= <span class="mi">0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a + b &lt;= a</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">     </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk374" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk374"><span class="highlight"><span class="nb">rewrite</span> &lt;- (add_0_r a) <span class="nb">at</span> <span class="mi">2</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a ~= <span class="mi">1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">b ~= <span class="mi">1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">b &lt;= <span class="mi">0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a + b &lt;= a + <span class="mi">0</span></span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">now</span> <span class="nb">apply</span> add_le_mono.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk375" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk375"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a ~= <span class="mi">1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">b ~= <span class="mi">1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up (a + b) &lt;= log2_up a + log2_up b</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk376" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk376"><span class="highlight"><span class="nb">clear</span> Ha Hb.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up (a + b) &lt;= log2_up a + log2_up b</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">     </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk377" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk377"><span class="highlight"><span class="nb">transitivity</span> (log2_up (a*b)).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up (a + b) &lt;= log2_up (a * b)</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="NZLog-v-chk378" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; b</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chk378"><hr></label><div class="goal-conclusion"><span class="highlight">log2_up (a * b) &lt;= log2_up a + log2_up b</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">     </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk379" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk379"><span class="highlight">*</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up (a + b) &lt;= log2_up (a * b)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">now</span> <span class="nb">apply</span> log2_up_le_mono, add_le_mul.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">     </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk37a" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk37a"><span class="highlight">*</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">1</span> &lt; b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up (a * b) &lt;= log2_up a + log2_up b</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">apply</span> log2_up_mul_above; order&#39;.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span></span></pre><div class="doc">
The sum of two <span class="inlinecode"><span class="id" title="var">log2_up</span></span> is less than twice the <span class="inlinecode"><span class="id" title="var">log2_up</span></span> of the sum.
    The large inequality is obvious thanks to monotonicity.
    The strict one requires some more work. This is almost
    a convexity inequality for points <span class="inlinecode">2<span class="id" title="var">a</span></span>, <span class="inlinecode">2<span class="id" title="var">b</span></span> and their middle <span class="inlinecode"><span class="id" title="var">a</span>+<span class="id" title="var">b</span></span> :
    ideally, we would have <span class="inlinecode">2*<span class="id" title="var">log</span>(<span class="id" title="var">a</span>+<span class="id" title="var">b</span>)</span> <span class="inlinecode">‚â•</span> <span class="inlinecode"><span class="id" title="var">log</span>(2<span class="id" title="var">a</span>)+<span class="id" title="var">log</span>(2<span class="id" title="var">b</span>)</span> <span class="inlinecode">=</span> <span class="inlinecode">2+<span class="id" title="var">log</span></span> <span class="inlinecode"><span class="id" title="var">a</span>+<span class="id" title="var">log</span></span> <span class="inlinecode"><span class="id" title="var">b</span></span>.
    Here, we cannot do better: consider for instance a=3 b=5, then 2+3&lt;2*3

</div><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk37b" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk37b"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">add_log2_up_lt</span> : <span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span>, <span class="mi">0</span>&lt;a -&gt; <span class="mi">0</span>&lt;b -&gt;
 log2_up a + log2_up b &lt; <span class="mi">2</span> * log2_up (a+b).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : t,
<span class="mi">0</span> &lt; a -&gt;
<span class="mi">0</span> &lt; b -&gt; log2_up a + log2_up b &lt; <span class="mi">2</span> * log2_up (a + b)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk37c" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk37c"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : t,
<span class="mi">0</span> &lt; a -&gt;
<span class="mi">0</span> &lt; b -&gt; log2_up a + log2_up b &lt; <span class="mi">2</span> * log2_up (a + b)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk37d" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk37d"><span class="highlight"><span class="nb">intros</span> a b Ha Hb.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up a + log2_up b &lt; <span class="mi">2</span> * log2_up (a + b)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk37e" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk37e"><span class="highlight">nzsimpl&#39;.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up a + log2_up b &lt;
log2_up (a + b) + log2_up (a + b)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk37f" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk37f"><span class="highlight"><span class="nb">assert</span> (H : log2_up a &lt;= log2_up (a+b)).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up a &lt;= log2_up (a + b)</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="NZLog-v-chk380" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2_up a &lt;= log2_up (a + b)</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chk380"><hr></label><div class="goal-conclusion"><span class="highlight">log2_up a + log2_up b &lt;
log2_up (a + b) + log2_up (a + b)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk381" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk381"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up a &lt;= log2_up (a + b)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk382" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk382"><span class="highlight"><span class="nb">apply</span> log2_up_le_mono.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a &lt;= a + b</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk383" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk383"><span class="highlight"><span class="nb">rewrite</span> &lt;- (add_0_r a) <span class="nb">at</span> <span class="mi">1</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a + <span class="mi">0</span> &lt;= a + b</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">apply</span> add_le_mono; order.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"> </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk384" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk384"><span class="highlight">-</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2_up a &lt;= log2_up (a + b)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up a + log2_up b &lt;
log2_up (a + b) + log2_up (a + b)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk385" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk385"><span class="highlight"><span class="nb">assert</span> (H&#39; : log2_up b &lt;= log2_up (a+b)).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2_up a &lt;= log2_up (a + b)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up b &lt;= log2_up (a + b)</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="NZLog-v-chk386" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2_up a &lt;= log2_up (a + b)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2_up b &lt;= log2_up (a + b)</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chk386"><hr></label><div class="goal-conclusion"><span class="highlight">log2_up a + log2_up b &lt;
log2_up (a + b) + log2_up (a + b)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk387" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk387"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2_up a &lt;= log2_up (a + b)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up b &lt;= log2_up (a + b)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk388" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk388"><span class="highlight"><span class="nb">apply</span> log2_up_le_mono.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2_up a &lt;= log2_up (a + b)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">b &lt;= a + b</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk389" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk389"><span class="highlight"><span class="nb">rewrite</span> &lt;- (add_0_l b) <span class="nb">at</span> <span class="mi">1</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2_up a &lt;= log2_up (a + b)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">0</span> + b &lt;= a + b</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">apply</span> add_le_mono; order.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">   </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk38a" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk38a"><span class="highlight">+</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2_up a &lt;= log2_up (a + b)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2_up b &lt;= log2_up (a + b)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up a + log2_up b &lt;
log2_up (a + b) + log2_up (a + b)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk38b" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk38b"><span class="highlight">le_elim H.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2_up a &lt; log2_up (a + b)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2_up b &lt;= log2_up (a + b)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up a + log2_up b &lt;
log2_up (a + b) + log2_up (a + b)</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="NZLog-v-chk38c" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2_up a == log2_up (a + b)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2_up b &lt;= log2_up (a + b)</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chk38c"><hr></label><div class="goal-conclusion"><span class="highlight">log2_up a + log2_up b &lt;
log2_up (a + b) + log2_up (a + b)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">     </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk38d" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk38d"><span class="highlight">*</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2_up a &lt; log2_up (a + b)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2_up b &lt;= log2_up (a + b)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up a + log2_up b &lt;
log2_up (a + b) + log2_up (a + b)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk38e" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk38e"><span class="highlight"><span class="nb">apply</span> lt_le_trans <span class="kr">with</span> (log2_up (a+b) + log2_up b).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2_up a &lt; log2_up (a + b)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2_up b &lt;= log2_up (a + b)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up a + log2_up b &lt; log2_up (a + b) + log2_up b</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="NZLog-v-chk38f" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2_up a &lt; log2_up (a + b)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2_up b &lt;= log2_up (a + b)</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chk38f"><hr></label><div class="goal-conclusion"><span class="highlight">log2_up (a + b) + log2_up b &lt;=
log2_up (a + b) + log2_up (a + b)</span></div></blockquote></div></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">       </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk390" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk390"><span class="highlight">--</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2_up a &lt; log2_up (a + b)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2_up b &lt;= log2_up (a + b)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up a + log2_up b &lt; log2_up (a + b) + log2_up b</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">now</span> <span class="nb">apply</span> add_lt_mono_r.</span></span><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk391" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk391"><span class="highlight">--</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2_up a &lt; log2_up (a + b)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2_up b &lt;= log2_up (a + b)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up (a + b) + log2_up b &lt;=
log2_up (a + b) + log2_up (a + b)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">now</span> <span class="nb">apply</span> add_le_mono_l.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">     </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk392" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk392"><span class="highlight">*</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2_up a == log2_up (a + b)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2_up b &lt;= log2_up (a + b)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up a + log2_up b &lt;
log2_up (a + b) + log2_up (a + b)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk393" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk393"><span class="highlight"><span class="nb">rewrite</span> &lt;- H <span class="nb">at</span> <span class="mi">1</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2_up a == log2_up (a + b)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2_up b &lt;= log2_up (a + b)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up a + log2_up b &lt; log2_up a + log2_up (a + b)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk394" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk394"><span class="highlight"><span class="nb">apply</span> add_lt_mono_l.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2_up a == log2_up (a + b)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2_up b &lt;= log2_up (a + b)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up b &lt; log2_up (a + b)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">       </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk395" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk395"><span class="highlight">le_elim H&#39;.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2_up a == log2_up (a + b)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2_up b &lt; log2_up (a + b)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up b &lt; log2_up (a + b)</span></div></blockquote><div class="coq-extra-goals"><input class="coq-extra-goal-toggle" id="NZLog-v-chk396" style="display: none" type="checkbox"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2_up a == log2_up (a + b)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2_up b == log2_up (a + b)</span></span></span></div></div><label class="goal-separator coq-extra-goal-label" for="NZLog-v-chk396"><hr></label><div class="goal-conclusion"><span class="highlight">log2_up b &lt; log2_up (a + b)</span></div></blockquote></div></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk397" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk397"><span class="highlight">--</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2_up a == log2_up (a + b)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2_up b &lt; log2_up (a + b)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up b &lt; log2_up (a + b)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">trivial</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp">       </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk398" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk398"><span class="highlight">--</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2_up a == log2_up (a + b)</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2_up b == log2_up (a + b)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up b &lt; log2_up (a + b)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk399" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk399"><span class="highlight"><span class="nb">symmetry in</span> H.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2_up (a + b) == log2_up a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2_up b == log2_up (a + b)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up b &lt; log2_up (a + b)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk39a" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk39a"><span class="highlight"><span class="nb">apply</span> log2_up_same <span class="kr">in</span> H; <span class="kp">try</span> order_pos.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a + b &lt; <span class="mi">2</span> * a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2_up b == log2_up (a + b)</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up b &lt; log2_up (a + b)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">          </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk39b" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk39b"><span class="highlight"><span class="nb">symmetry in</span> H&#39;.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a + b &lt; <span class="mi">2</span> * a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">log2_up (a + b) == log2_up b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up b &lt; log2_up (a + b)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk39c" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk39c"><span class="highlight"><span class="nb">apply</span> log2_up_same <span class="kr">in</span> H&#39;; <span class="kp">try</span> order_pos.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a + b &lt; <span class="mi">2</span> * a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">H'</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">a + b &lt; <span class="mi">2</span> * b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">log2_up b &lt; log2_up (a + b)</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-wsp">          </span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk39d" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk39d"><span class="highlight"><span class="nb">revert</span> H H&#39;.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a + b &lt; <span class="mi">2</span> * a -&gt;
a + b &lt; <span class="mi">2</span> * b -&gt; log2_up b &lt; log2_up (a + b)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input class="coq-toggle" id="NZLog-v-chk39e" style="display: none" type="checkbox"><label class="coq-input" for="NZLog-v-chk39e"><span class="highlight">nzsimpl&#39;.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">t</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; a</span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hb</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight"><span class="mi">0</span> &lt; b</span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a + b &lt; a + a -&gt;
a + b &lt; b + b -&gt; log2_up b &lt; log2_up (a + b)</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">rewrite</span> &lt;- add_lt_mono_l, &lt;- add_lt_mono_r; order.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-wsp"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">End</span> <span class="nf">NZLog2UpProp</span>.</span></span></span></pre></article></body></html>