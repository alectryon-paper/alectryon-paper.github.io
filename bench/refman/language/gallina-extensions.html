

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Extensions of Gallina &mdash; Coq 8.10.2 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script src="../_static/notations.js"></script>
        <script src="../_static/alectryon.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/ansi.css" type="text/css" />
  <link rel="stylesheet" href="../_static/coqdoc.css" type="text/css" />
  <link rel="stylesheet" href="../_static/notations.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pre-text.css" type="text/css" />
  <link rel="stylesheet" href="../_static/alectryon.css" type="text/css" />
  <link rel="stylesheet" href="../_static/tango_subtle.css" type="text/css" />
  <link rel="stylesheet" href="../_static/tango_subtle.min.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="The Coq library" href="coq-library.html" />
    <link rel="prev" title="The Gallina specification language" href="gallina-specification-language.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> Coq
          

          
          </a>

          
            
            
              <div class="version">
                8.10.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Indexes</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../genindex.html">Index</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coq-cmdindex.html">Command index</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coq-tacindex.html">Tactic index</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coq-optindex.html">Flags, options and tables index</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coq-exnindex.html">Errors and warnings index</a></li>
</ul>
<p class="caption"><span class="caption-text">Preamble</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../index.html">Introduction and Contents</a></li>
<li class="toctree-l1"><a class="reference internal" href="../history.html">Early history of Coq</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../history.html#historical-roots">Historical roots</a></li>
<li class="toctree-l2"><a class="reference internal" href="../history.html#versions-1-to-5">Versions 1 to 5</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../history.html#version-1">Version 1</a></li>
<li class="toctree-l3"><a class="reference internal" href="../history.html#version-2">Version 2</a></li>
<li class="toctree-l3"><a class="reference internal" href="../history.html#version-3">Version 3</a></li>
<li class="toctree-l3"><a class="reference internal" href="../history.html#version-4">Version 4</a></li>
<li class="toctree-l3"><a class="reference internal" href="../history.html#version-5">Version 5</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../history.html#versions-6">Versions 6</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../history.html#version-6-1">Version 6.1</a></li>
<li class="toctree-l3"><a class="reference internal" href="../history.html#version-6-2">Version 6.2</a></li>
<li class="toctree-l3"><a class="reference internal" href="../history.html#version-6-3">Version 6.3</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../history.html#versions-7">Versions 7</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../history.html#summary-of-changes">Summary of changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../history.html#details-of-changes-in-7-0-and-7-1">Details of changes in 7.0 and 7.1</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../history.html#main-novelties">Main novelties</a></li>
<li class="toctree-l4"><a class="reference internal" href="../history.html#details-of-changes">Details of changes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../history.html#details-of-changes-in-7-2">Details of changes in 7.2</a></li>
<li class="toctree-l3"><a class="reference internal" href="../history.html#details-of-changes-in-7-3">Details of changes in 7.3</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../history.html#changes-in-7-3-1">Changes in 7.3.1</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../history.html#details-of-changes-in-7-4">Details of changes in 7.4</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../changes.html">Recent changes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../changes.html#version-8-10">Version 8.10</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../changes.html#summary-of-changes">Summary of changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../changes.html#other-changes-in-8-10-beta1">Other changes in 8.10+beta1</a></li>
<li class="toctree-l3"><a class="reference internal" href="../changes.html#changes-in-8-10-beta2">Changes in 8.10+beta2</a></li>
<li class="toctree-l3"><a class="reference internal" href="../changes.html#changes-in-8-10-beta3">Changes in 8.10+beta3</a></li>
<li class="toctree-l3"><a class="reference internal" href="../changes.html#changes-in-8-10-0">Changes in 8.10.0</a></li>
<li class="toctree-l3"><a class="reference internal" href="../changes.html#changes-in-8-10-1">Changes in 8.10.1</a></li>
<li class="toctree-l3"><a class="reference internal" href="../changes.html#changes-in-8-10-2">Changes in 8.10.2</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../changes.html#version-8-9">Version 8.9</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../changes.html#id147">Summary of changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../changes.html#details-of-changes-in-8-9-beta1">Details of changes in 8.9+beta1</a></li>
<li class="toctree-l3"><a class="reference internal" href="../changes.html#changes-in-8-8-0">Changes in 8.8.0</a></li>
<li class="toctree-l3"><a class="reference internal" href="../changes.html#changes-in-8-8-1">Changes in 8.8.1</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../changes.html#version-8-8">Version 8.8</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../changes.html#id149">Summary of changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../changes.html#details-of-changes-in-8-8-beta1">Details of changes in 8.8+beta1</a></li>
<li class="toctree-l3"><a class="reference internal" href="../changes.html#details-of-changes-in-8-8-0">Details of changes in 8.8.0</a></li>
<li class="toctree-l3"><a class="reference internal" href="../changes.html#details-of-changes-in-8-8-1">Details of changes in 8.8.1</a></li>
<li class="toctree-l3"><a class="reference internal" href="../changes.html#details-of-changes-in-8-8-2">Details of changes in 8.8.2</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../changes.html#version-8-7">Version 8.7</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../changes.html#id150">Summary of changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../changes.html#potential-compatibility-issues">Potential compatibility issues</a></li>
<li class="toctree-l3"><a class="reference internal" href="../changes.html#details-of-changes-in-8-7-beta1">Details of changes in 8.7+beta1</a></li>
<li class="toctree-l3"><a class="reference internal" href="../changes.html#details-of-changes-in-8-7-beta2">Details of changes in 8.7+beta2</a></li>
<li class="toctree-l3"><a class="reference internal" href="../changes.html#details-of-changes-in-8-7-0">Details of changes in 8.7.0</a></li>
<li class="toctree-l3"><a class="reference internal" href="../changes.html#details-of-changes-in-8-7-1">Details of changes in 8.7.1</a></li>
<li class="toctree-l3"><a class="reference internal" href="../changes.html#details-of-changes-in-8-7-2">Details of changes in 8.7.2</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../changes.html#version-8-6">Version 8.6</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../changes.html#id151">Summary of changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../changes.html#potential-sources-of-incompatibilities">Potential sources of incompatibilities</a></li>
<li class="toctree-l3"><a class="reference internal" href="../changes.html#details-of-changes-in-8-6beta1">Details of changes in 8.6beta1</a></li>
<li class="toctree-l3"><a class="reference internal" href="../changes.html#details-of-changes-in-8-6">Details of changes in 8.6</a></li>
<li class="toctree-l3"><a class="reference internal" href="../changes.html#details-of-changes-in-8-6-1">Details of changes in 8.6.1</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../changes.html#version-8-5">Version 8.5</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../changes.html#id152">Summary of changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../changes.html#id153">Potential sources of incompatibilities</a></li>
<li class="toctree-l3"><a class="reference internal" href="../changes.html#details-of-changes-in-8-5beta1">Details of changes in 8.5beta1</a></li>
<li class="toctree-l3"><a class="reference internal" href="../changes.html#details-of-changes-in-8-5beta2">Details of changes in 8.5beta2</a></li>
<li class="toctree-l3"><a class="reference internal" href="../changes.html#details-of-changes-in-8-5beta3">Details of changes in 8.5beta3</a></li>
<li class="toctree-l3"><a class="reference internal" href="../changes.html#details-of-changes-in-8-5">Details of changes in 8.5</a></li>
<li class="toctree-l3"><a class="reference internal" href="../changes.html#details-of-changes-in-8-5pl1">Details of changes in 8.5pl1</a></li>
<li class="toctree-l3"><a class="reference internal" href="../changes.html#details-of-changes-in-8-5pl2">Details of changes in 8.5pl2</a></li>
<li class="toctree-l3"><a class="reference internal" href="../changes.html#details-of-changes-in-8-5pl3">Details of changes in 8.5pl3</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../changes.html#version-8-4">Version 8.4</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../changes.html#id154">Summary of changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../changes.html#id156">Potential sources of incompatibilities</a></li>
<li class="toctree-l3"><a class="reference internal" href="../changes.html#details-of-changes-in-8-4beta">Details of changes in 8.4beta</a></li>
<li class="toctree-l3"><a class="reference internal" href="../changes.html#details-of-changes-in-8-4beta2">Details of changes in 8.4beta2</a></li>
<li class="toctree-l3"><a class="reference internal" href="../changes.html#details-of-changes-in-8-4">Details of changes in 8.4</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../changes.html#version-8-3">Version 8.3</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../changes.html#id157">Summary of changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../changes.html#details-of-changes">Details of changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../changes.html#version-8-2">Version 8.2</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../changes.html#id158">Summary of changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../changes.html#id159">Details of changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../changes.html#version-8-1">Version 8.1</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../changes.html#id160">Summary of changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../changes.html#details-of-changes-in-8-1beta">Details of changes in 8.1beta</a></li>
<li class="toctree-l3"><a class="reference internal" href="../changes.html#details-of-changes-in-8-1gamma">Details of changes in 8.1gamma</a></li>
<li class="toctree-l3"><a class="reference internal" href="../changes.html#details-of-changes-in-8-1">Details of changes in 8.1</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../changes.html#version-8-0">Version 8.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../changes.html#id161">Summary of changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../changes.html#details-of-changes-in-8-0beta-old-syntax">Details of changes in 8.0beta old syntax</a></li>
<li class="toctree-l3"><a class="reference internal" href="../changes.html#details-of-changes-in-8-0beta-new-syntax">Details of changes in 8.0beta new syntax</a></li>
<li class="toctree-l3"><a class="reference internal" href="../changes.html#details-of-changes-in-8-0">Details of changes in 8.0</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">The language</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="gallina-specification-language.html">The Gallina specification language</a><ul>
<li class="toctree-l2"><a class="reference internal" href="gallina-specification-language.html#about-the-grammars-in-the-manual">About the grammars in the manual</a></li>
<li class="toctree-l2"><a class="reference internal" href="gallina-specification-language.html#lexical-conventions">Lexical conventions</a></li>
<li class="toctree-l2"><a class="reference internal" href="gallina-specification-language.html#terms">Terms</a><ul>
<li class="toctree-l3"><a class="reference internal" href="gallina-specification-language.html#syntax-of-terms">Syntax of terms</a></li>
<li class="toctree-l3"><a class="reference internal" href="gallina-specification-language.html#types">Types</a></li>
<li class="toctree-l3"><a class="reference internal" href="gallina-specification-language.html#qualified-identifiers-and-simple-identifiers">Qualified identifiers and simple identifiers</a></li>
<li class="toctree-l3"><a class="reference internal" href="gallina-specification-language.html#numerals">Numerals</a></li>
<li class="toctree-l3"><a class="reference internal" href="gallina-specification-language.html#sorts">Sorts</a></li>
<li class="toctree-l3"><a class="reference internal" href="gallina-specification-language.html#binders">Binders</a></li>
<li class="toctree-l3"><a class="reference internal" href="gallina-specification-language.html#abstractions">Abstractions</a></li>
<li class="toctree-l3"><a class="reference internal" href="gallina-specification-language.html#products">Products</a></li>
<li class="toctree-l3"><a class="reference internal" href="gallina-specification-language.html#applications">Applications</a></li>
<li class="toctree-l3"><a class="reference internal" href="gallina-specification-language.html#type-cast">Type cast</a></li>
<li class="toctree-l3"><a class="reference internal" href="gallina-specification-language.html#inferable-subterms">Inferable subterms</a></li>
<li class="toctree-l3"><a class="reference internal" href="gallina-specification-language.html#let-in-definitions">Let-in definitions</a></li>
<li class="toctree-l3"><a class="reference internal" href="gallina-specification-language.html#definition-by-case-analysis">Definition by case analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="gallina-specification-language.html#recursive-functions">Recursive functions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="gallina-specification-language.html#the-vernacular">The Vernacular</a><ul>
<li class="toctree-l3"><a class="reference internal" href="gallina-specification-language.html#assumptions">Assumptions</a></li>
<li class="toctree-l3"><a class="reference internal" href="gallina-specification-language.html#definitions">Definitions</a></li>
<li class="toctree-l3"><a class="reference internal" href="gallina-specification-language.html#inductive-definitions">Inductive definitions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="gallina-specification-language.html#simple-inductive-types">Simple inductive types</a></li>
<li class="toctree-l4"><a class="reference internal" href="gallina-specification-language.html#simple-annotated-inductive-types">Simple annotated inductive types</a></li>
<li class="toctree-l4"><a class="reference internal" href="gallina-specification-language.html#parameterized-inductive-types">Parameterized inductive types</a></li>
<li class="toctree-l4"><a class="reference internal" href="gallina-specification-language.html#variants">Variants</a></li>
<li class="toctree-l4"><a class="reference internal" href="gallina-specification-language.html#mutually-defined-inductive-types">Mutually defined inductive types</a></li>
<li class="toctree-l4"><a class="reference internal" href="gallina-specification-language.html#co-inductive-types">Co-inductive types</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="gallina-specification-language.html#definition-of-recursive-functions">Definition of recursive functions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="gallina-specification-language.html#definition-of-functions-by-recursion-over-inductive-objects">Definition of functions by recursion over inductive objects</a></li>
<li class="toctree-l4"><a class="reference internal" href="gallina-specification-language.html#definitions-of-recursive-objects-in-co-inductive-types">Definitions of recursive objects in co-inductive types</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="gallina-specification-language.html#assertions-and-proofs">Assertions and proofs</a></li>
<li class="toctree-l3"><a class="reference internal" href="gallina-specification-language.html#attributes">Attributes</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Extensions of <span class="smallcaps">Gallina</span></a><ul>
<li class="toctree-l2"><a class="reference internal" href="#record-types">Record types</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#primitive-projections">Primitive Projections</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#primitive-record-types">Primitive Record Types</a></li>
<li class="toctree-l4"><a class="reference internal" href="#reduction">Reduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="#compatibility-projections-and-match">Compatibility Projections and <code class="code highlight coq docutils literal notranslate"><span class="keyword reserved"><span class="pre">match</span></span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#variants-and-extensions-of-match">Variants and extensions of <code class="code highlight coq docutils literal notranslate"><span class="keyword reserved"><span class="pre">match</span></span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#multiple-and-nested-pattern-matching">Multiple and nested pattern matching</a></li>
<li class="toctree-l3"><a class="reference internal" href="#pattern-matching-on-boolean-values-the-if-expression">Pattern-matching on boolean values: the if expression</a></li>
<li class="toctree-l3"><a class="reference internal" href="#irrefutable-patterns-the-destructuring-let-variants">Irrefutable patterns: the destructuring let variants</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#first-destructuring-let-syntax">First destructuring let syntax</a></li>
<li class="toctree-l4"><a class="reference internal" href="#second-destructuring-let-syntax">Second destructuring let syntax</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#controlling-pretty-printing-of-match-expressions">Controlling pretty-printing of match expressions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#printing-nested-patterns">Printing nested patterns</a></li>
<li class="toctree-l4"><a class="reference internal" href="#factorization-of-clauses-with-same-right-hand-side">Factorization of clauses with same right-hand side</a></li>
<li class="toctree-l4"><a class="reference internal" href="#use-of-a-default-clause">Use of a default clause</a></li>
<li class="toctree-l4"><a class="reference internal" href="#printing-of-wildcard-patterns">Printing of wildcard patterns</a></li>
<li class="toctree-l4"><a class="reference internal" href="#printing-of-the-elimination-predicate">Printing of the elimination predicate</a></li>
<li class="toctree-l4"><a class="reference internal" href="#printing-matching-on-irrefutable-patterns">Printing matching on irrefutable patterns</a></li>
<li class="toctree-l4"><a class="reference internal" href="#printing-matching-on-booleans">Printing matching on booleans</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#advanced-recursive-functions">Advanced recursive functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="#section-mechanism">Section mechanism</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-system">Module system</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#reserved-commands-inside-an-interactive-module">Reserved commands inside an interactive module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#reserved-commands-inside-an-interactive-module-type">Reserved commands inside an interactive module type:</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#libraries-and-qualified-names">Libraries and qualified names</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#names-of-libraries">Names of libraries</a></li>
<li class="toctree-l3"><a class="reference internal" href="#qualified-names">Qualified names</a></li>
<li class="toctree-l3"><a class="reference internal" href="#libraries-and-filesystem">Libraries and filesystem</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#implicit-arguments">Implicit arguments</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#the-different-kinds-of-implicit-arguments">The different kinds of implicit arguments</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#implicit-arguments-inferable-from-the-knowledge-of-other-arguments-of-a-function">Implicit arguments inferable from the knowledge of other arguments of a function</a></li>
<li class="toctree-l4"><a class="reference internal" href="#implicit-arguments-inferable-by-resolution">Implicit arguments inferable by resolution</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#maximal-or-non-maximal-insertion-of-implicit-arguments">Maximal or non maximal insertion of implicit arguments</a></li>
<li class="toctree-l3"><a class="reference internal" href="#casual-use-of-implicit-arguments">Casual use of implicit arguments</a></li>
<li class="toctree-l3"><a class="reference internal" href="#declaration-of-implicit-arguments">Declaration of implicit arguments</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#implicit-argument-binders">Implicit Argument Binders</a></li>
<li class="toctree-l4"><a class="reference internal" href="#declaring-implicit-arguments">Declaring Implicit Arguments</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#automatic-declaration-of-implicit-arguments">Automatic declaration of implicit arguments</a></li>
<li class="toctree-l3"><a class="reference internal" href="#mode-for-automatic-declaration-of-implicit-arguments">Mode for automatic declaration of implicit arguments</a></li>
<li class="toctree-l3"><a class="reference internal" href="#controlling-strict-implicit-arguments">Controlling strict implicit arguments</a></li>
<li class="toctree-l3"><a class="reference internal" href="#controlling-contextual-implicit-arguments">Controlling contextual implicit arguments</a></li>
<li class="toctree-l3"><a class="reference internal" href="#controlling-reversible-pattern-implicit-arguments">Controlling reversible-pattern implicit arguments</a></li>
<li class="toctree-l3"><a class="reference internal" href="#controlling-the-insertion-of-implicit-arguments-not-followed-by-explicit-arguments">Controlling the insertion of implicit arguments not followed by explicit arguments</a></li>
<li class="toctree-l3"><a class="reference internal" href="#explicit-applications">Explicit applications</a></li>
<li class="toctree-l3"><a class="reference internal" href="#renaming-implicit-arguments">Renaming implicit arguments</a></li>
<li class="toctree-l3"><a class="reference internal" href="#displaying-what-the-implicit-arguments-are">Displaying what the implicit arguments are</a></li>
<li class="toctree-l3"><a class="reference internal" href="#explicit-displaying-of-implicit-arguments-for-pretty-printing">Explicit displaying of implicit arguments for pretty-printing</a></li>
<li class="toctree-l3"><a class="reference internal" href="#interaction-with-subtyping">Interaction with subtyping</a></li>
<li class="toctree-l3"><a class="reference internal" href="#deactivation-of-implicit-arguments-for-parsing">Deactivation of implicit arguments for parsing</a></li>
<li class="toctree-l3"><a class="reference internal" href="#canonical-structures">Canonical structures</a></li>
<li class="toctree-l3"><a class="reference internal" href="#implicit-types-of-variables">Implicit types of variables</a></li>
<li class="toctree-l3"><a class="reference internal" href="#implicit-generalization">Implicit generalization</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#coercions">Coercions</a></li>
<li class="toctree-l2"><a class="reference internal" href="#printing-constructions-in-full">Printing constructions in full</a></li>
<li class="toctree-l2"><a class="reference internal" href="#printing-universes">Printing universes</a></li>
<li class="toctree-l2"><a class="reference internal" href="#existential-variables">Existential variables</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#explicit-displaying-of-existential-instances-for-pretty-printing">Explicit displaying of existential instances for pretty-printing</a></li>
<li class="toctree-l3"><a class="reference internal" href="#solving-existential-variables-using-tactics">Solving existential variables using tactics</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#primitive-integers">Primitive Integers</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="coq-library.html">The <span class="smallcaps">Coq</span> library</a><ul>
<li class="toctree-l2"><a class="reference internal" href="coq-library.html#the-basic-library">The basic library</a><ul>
<li class="toctree-l3"><a class="reference internal" href="coq-library.html#notations">Notations</a></li>
<li class="toctree-l3"><a class="reference internal" href="coq-library.html#logic">Logic</a><ul>
<li class="toctree-l4"><a class="reference internal" href="coq-library.html#propositional-connectives">Propositional Connectives</a></li>
<li class="toctree-l4"><a class="reference internal" href="coq-library.html#quantifiers">Quantifiers</a></li>
<li class="toctree-l4"><a class="reference internal" href="coq-library.html#equality">Equality</a></li>
<li class="toctree-l4"><a class="reference internal" href="coq-library.html#lemmas">Lemmas</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="coq-library.html#datatypes">Datatypes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="coq-library.html#programming">Programming</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="coq-library.html#specification">Specification</a></li>
<li class="toctree-l3"><a class="reference internal" href="coq-library.html#basic-arithmetics">Basic Arithmetics</a></li>
<li class="toctree-l3"><a class="reference internal" href="coq-library.html#well-founded-recursion">Well-founded recursion</a></li>
<li class="toctree-l3"><a class="reference internal" href="coq-library.html#accessing-the-type-level">Accessing the Type level</a></li>
<li class="toctree-l3"><a class="reference internal" href="coq-library.html#tactics">Tactics</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="coq-library.html#the-standard-library">The standard library</a><ul>
<li class="toctree-l3"><a class="reference internal" href="coq-library.html#survey">Survey</a></li>
<li class="toctree-l3"><a class="reference internal" href="coq-library.html#peanos-arithmetic-nat">Peano’s arithmetic (nat)</a></li>
<li class="toctree-l3"><a class="reference internal" href="coq-library.html#notations-for-integer-arithmetics">Notations for integer arithmetics</a></li>
<li class="toctree-l3"><a class="reference internal" href="coq-library.html#real-numbers-library">Real numbers library</a><ul>
<li class="toctree-l4"><a class="reference internal" href="coq-library.html#notations-for-real-numbers">Notations for real numbers</a></li>
<li class="toctree-l4"><a class="reference internal" href="coq-library.html#some-tactics-for-real-numbers">Some tactics for real numbers</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="coq-library.html#list-library">List library</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="coq-library.html#users-contributions">Users’ contributions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="cic.html">Calculus of Inductive Constructions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="cic.html#the-terms">The terms</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cic.html#sorts">Sorts</a></li>
<li class="toctree-l3"><a class="reference internal" href="cic.html#terms">Terms</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cic.html#typing-rules">Typing rules</a></li>
<li class="toctree-l2"><a class="reference internal" href="cic.html#conversion-rules">Conversion rules</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cic.html#reduction">β-reduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="cic.html#iota-reduction">ι-reduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="cic.html#delta-reduction">δ-reduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="cic.html#zeta-reduction">ζ-reduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="cic.html#expansion">η-expansion</a></li>
<li class="toctree-l3"><a class="reference internal" href="cic.html#proof-irrelevance">Proof Irrelevance</a></li>
<li class="toctree-l3"><a class="reference internal" href="cic.html#convertibility">Convertibility</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cic.html#subtyping-rules">Subtyping rules</a></li>
<li class="toctree-l2"><a class="reference internal" href="cic.html#inductive-definitions">Inductive Definitions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cic.html#types-of-inductive-objects">Types of inductive objects</a></li>
<li class="toctree-l3"><a class="reference internal" href="cic.html#well-formed-inductive-definitions">Well-formed inductive definitions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="cic.html#arity-of-a-given-sort">Arity of a given sort</a></li>
<li class="toctree-l4"><a class="reference internal" href="cic.html#arity">Arity</a></li>
<li class="toctree-l4"><a class="reference internal" href="cic.html#type-of-constructor">Type of constructor</a></li>
<li class="toctree-l4"><a class="reference internal" href="cic.html#positivity-condition">Positivity Condition</a></li>
<li class="toctree-l4"><a class="reference internal" href="cic.html#strict-positivity">Strict positivity</a></li>
<li class="toctree-l4"><a class="reference internal" href="cic.html#nested-positivity">Nested Positivity</a></li>
<li class="toctree-l4"><a class="reference internal" href="cic.html#correctness-rules">Correctness rules</a></li>
<li class="toctree-l4"><a class="reference internal" href="cic.html#template-polymorphism">Template polymorphism</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cic.html#destructors">Destructors</a><ul>
<li class="toctree-l4"><a class="reference internal" href="cic.html#the-match-with-end-construction">The match ... with ... end construction</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cic.html#fixpoint-definitions">Fixpoint definitions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="cic.html#id29">Typing rule</a></li>
<li class="toctree-l4"><a class="reference internal" href="cic.html#reduction-rule">Reduction rule</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cic.html#admissible-rules-for-global-environments">Admissible rules for global environments</a></li>
<li class="toctree-l2"><a class="reference internal" href="cic.html#co-inductive-types">Co-inductive types</a></li>
<li class="toctree-l2"><a class="reference internal" href="cic.html#the-calculus-of-inductive-constructions-with-impredicative-set">The Calculus of Inductive Constructions with impredicative Set</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="module-system.html">The Module System</a><ul>
<li class="toctree-l2"><a class="reference internal" href="module-system.html#modules-and-module-types">Modules and module types</a></li>
<li class="toctree-l2"><a class="reference internal" href="module-system.html#typing-modules">Typing Modules</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">The proof engine</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../proof-engine/vernacular-commands.html">Vernacular commands</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../proof-engine/vernacular-commands.html#displaying">Displaying</a></li>
<li class="toctree-l2"><a class="reference internal" href="../proof-engine/vernacular-commands.html#flags-options-and-tables">Flags, Options and Tables</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/vernacular-commands.html#scope-qualifiers-for-set-and-unset">Scope qualifiers for <code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Set</span></code> and <code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Unset</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../proof-engine/vernacular-commands.html#requests-to-the-environment">Requests to the environment</a></li>
<li class="toctree-l2"><a class="reference internal" href="../proof-engine/vernacular-commands.html#printing-flags">Printing flags</a></li>
<li class="toctree-l2"><a class="reference internal" href="../proof-engine/vernacular-commands.html#loading-files">Loading files</a></li>
<li class="toctree-l2"><a class="reference internal" href="../proof-engine/vernacular-commands.html#compiled-files">Compiled files</a></li>
<li class="toctree-l2"><a class="reference internal" href="../proof-engine/vernacular-commands.html#loadpath">Loadpath</a></li>
<li class="toctree-l2"><a class="reference internal" href="../proof-engine/vernacular-commands.html#backtracking">Backtracking</a></li>
<li class="toctree-l2"><a class="reference internal" href="../proof-engine/vernacular-commands.html#quitting-and-debugging">Quitting and debugging</a></li>
<li class="toctree-l2"><a class="reference internal" href="../proof-engine/vernacular-commands.html#controlling-display">Controlling display</a></li>
<li class="toctree-l2"><a class="reference internal" href="../proof-engine/vernacular-commands.html#controlling-the-reduction-strategies-and-the-conversion-algorithm">Controlling the reduction strategies and the conversion algorithm</a></li>
<li class="toctree-l2"><a class="reference internal" href="../proof-engine/vernacular-commands.html#controlling-the-locality-of-commands">Controlling the locality of commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="../proof-engine/vernacular-commands.html#internal-registration-commands">Internal registration commands</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/vernacular-commands.html#exposing-constants-to-ocaml-libraries">Exposing constants to OCaml libraries</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/vernacular-commands.html#inlining-hints-for-the-fast-reduction-machines">Inlining hints for the fast reduction machines</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/vernacular-commands.html#registering-primitive-operations">Registering primitive operations</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../proof-engine/proof-handling.html">Proof handling</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../proof-engine/proof-handling.html#switching-on-off-the-proof-editing-mode">Switching on/off the proof editing mode</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/proof-handling.html#proof-using-options">Proof using options</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/proof-handling.html#name-a-set-of-section-hypotheses-for-proof-using">Name a set of section hypotheses for <code class="docutils literal notranslate"><span class="pre">Proof</span> <span class="pre">using</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../proof-engine/proof-handling.html#navigation-in-the-proof-tree">Navigation in the proof tree</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/proof-handling.html#bullets">Bullets</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/proof-handling.html#set-bullet-behavior">Set Bullet Behavior</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../proof-engine/proof-handling.html#requesting-information">Requesting information</a></li>
<li class="toctree-l2"><a class="reference internal" href="../proof-engine/proof-handling.html#showing-differences-between-proof-steps">Showing differences between proof steps</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/proof-handling.html#how-to-enable-diffs">How to enable diffs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/proof-handling.html#how-diffs-are-calculated">How diffs are calculated</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../proof-engine/proof-handling.html#controlling-the-effect-of-proof-editing-commands">Controlling the effect of proof editing commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="../proof-engine/proof-handling.html#controlling-memory-usage">Controlling memory usage</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../proof-engine/tactics.html">Tactics</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../proof-engine/tactics.html#common-elements-of-tactics">Common elements of tactics</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/tactics.html#invocation-of-tactics">Invocation of tactics</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/tactics.html#bindings-list">Bindings list</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/tactics.html#intro-patterns">Intro patterns</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/tactics.html#occurrence-sets-and-occurrence-clauses">Occurrence sets and occurrence clauses</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../proof-engine/tactics.html#applying-theorems">Applying theorems</a></li>
<li class="toctree-l2"><a class="reference internal" href="../proof-engine/tactics.html#managing-the-local-context">Managing the local context</a></li>
<li class="toctree-l2"><a class="reference internal" href="../proof-engine/tactics.html#controlling-the-proof-flow">Controlling the proof flow</a></li>
<li class="toctree-l2"><a class="reference internal" href="../proof-engine/tactics.html#case-analysis-and-induction">Case analysis and induction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../proof-engine/tactics.html#rewriting-expressions">Rewriting expressions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../proof-engine/tactics.html#performing-computations">Performing computations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/tactics.html#conversion-tactics-applied-to-hypotheses">Conversion tactics applied to hypotheses</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../proof-engine/tactics.html#automation">Automation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../proof-engine/tactics.html#controlling-automation">Controlling automation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/tactics.html#the-hints-databases-for-auto-and-eauto">The hints databases for auto and eauto</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/tactics.html#creating-hint-databases">Creating Hint databases</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/tactics.html#hint-databases-defined-in-the-coq-standard-library">Hint databases defined in the Coq standard library</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/tactics.html#hint-locality">Hint locality</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/tactics.html#setting-implicit-automation-tactics">Setting implicit automation tactics</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../proof-engine/tactics.html#decision-procedures">Decision procedures</a></li>
<li class="toctree-l2"><a class="reference internal" href="../proof-engine/tactics.html#checking-properties-of-terms">Checking properties of terms</a></li>
<li class="toctree-l2"><a class="reference internal" href="../proof-engine/tactics.html#equality">Equality</a></li>
<li class="toctree-l2"><a class="reference internal" href="../proof-engine/tactics.html#equality-and-inductive-sets">Equality and inductive sets</a></li>
<li class="toctree-l2"><a class="reference internal" href="../proof-engine/tactics.html#inversion">Inversion</a></li>
<li class="toctree-l2"><a class="reference internal" href="../proof-engine/tactics.html#classical-tactics">Classical tactics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../proof-engine/tactics.html#automating">Automating</a></li>
<li class="toctree-l2"><a class="reference internal" href="../proof-engine/tactics.html#non-logical-tactics">Non-logical tactics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../proof-engine/tactics.html#delaying-solving-unification-constraints">Delaying solving unification constraints</a></li>
<li class="toctree-l2"><a class="reference internal" href="../proof-engine/tactics.html#proof-maintenance">Proof maintenance</a></li>
<li class="toctree-l2"><a class="reference internal" href="../proof-engine/tactics.html#performance-oriented-tactic-variants">Performance-oriented tactic variants</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../proof-engine/ltac.html">The tactic language</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../proof-engine/ltac.html#syntax">Syntax</a></li>
<li class="toctree-l2"><a class="reference internal" href="../proof-engine/ltac.html#semantics">Semantics</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ltac.html#sequence">Sequence</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ltac.html#local-application-of-tactics">Local application of tactics</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ltac.html#goal-selectors">Goal selectors</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ltac.html#for-loop">For loop</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ltac.html#repeat-loop">Repeat loop</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ltac.html#error-catching">Error catching</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ltac.html#detecting-progress">Detecting progress</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ltac.html#backtracking-branching">Backtracking branching</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ltac.html#first-tactic-to-work">First tactic to work</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ltac.html#left-biased-branching">Left-biased branching</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ltac.html#generalized-biased-branching">Generalized biased branching</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ltac.html#soft-cut">Soft cut</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ltac.html#checking-the-successes">Checking the successes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ltac.html#checking-the-failure">Checking the failure</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ltac.html#checking-the-success">Checking the success</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ltac.html#solving">Solving</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ltac.html#identity">Identity</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ltac.html#failing">Failing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ltac.html#timeout">Timeout</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ltac.html#timing-a-tactic">Timing a tactic</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ltac.html#timing-a-tactic-that-evaluates-to-a-term">Timing a tactic that evaluates to a term</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ltac.html#local-definitions">Local definitions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ltac.html#application">Application</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ltac.html#function-construction">Function construction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ltac.html#pattern-matching-on-terms">Pattern matching on terms</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ltac.html#pattern-matching-on-goals">Pattern matching on goals</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ltac.html#filling-a-term-context">Filling a term context</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ltac.html#generating-fresh-hypothesis-names">Generating fresh hypothesis names</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ltac.html#computing-in-a-constr">Computing in a constr</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ltac.html#recovering-the-type-of-a-term">Recovering the type of a term</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ltac.html#manipulating-untyped-terms">Manipulating untyped terms</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ltac.html#counting-the-goals">Counting the goals</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ltac.html#testing-boolean-expressions">Testing boolean expressions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ltac.html#proving-a-subgoal-as-a-separate-lemma">Proving a subgoal as a separate lemma</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../proof-engine/ltac.html#tactic-toplevel-definitions">Tactic toplevel definitions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ltac.html#defining-ltac-functions">Defining <code class="docutils literal notranslate"><span class="pre">L</span></code><sub>tac</sub> functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ltac.html#printing-ltac-tactics">Printing <code class="docutils literal notranslate"><span class="pre">L</span></code><sub>tac</sub> tactics</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../proof-engine/ltac.html#examples-of-using-ltac">Examples of using <code class="docutils literal notranslate"><span class="pre">L</span></code><sub>tac</sub></a><ul>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ltac.html#proof-that-the-natural-numbers-have-at-least-two-elements">Proof that the natural numbers have at least two elements</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ltac.html#proving-that-a-list-is-a-permutation-of-a-second-list">Proving that a list is a permutation of a second list</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ltac.html#deciding-intuitionistic-propositional-logic">Deciding intuitionistic propositional logic</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ltac.html#deciding-type-isomorphisms">Deciding type isomorphisms</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../proof-engine/ltac.html#debugging-ltac-tactics">Debugging <code class="docutils literal notranslate"><span class="pre">L</span></code><sub>tac</sub> tactics</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ltac.html#backtraces">Backtraces</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ltac.html#info-trace">Info trace</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ltac.html#interactive-debugger">Interactive debugger</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ltac.html#profiling-ltac-tactics">Profiling <code class="docutils literal notranslate"><span class="pre">L</span></code><sub>tac</sub> tactics</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ltac.html#run-time-optimization-tactic">Run-time optimization tactic</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../proof-engine/detailed-tactic-examples.html">Detailed examples of tactics</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../proof-engine/detailed-tactic-examples.html#dependent-induction">dependent induction</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/detailed-tactic-examples.html#a-larger-example">A larger example</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../proof-engine/detailed-tactic-examples.html#autorewrite">autorewrite</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html">The <span class="smallcaps">SSReflect</span> proof language</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#introduction">Introduction</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#acknowledgments">Acknowledgments</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#usage">Usage</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#getting-started">Getting started</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#compatibility-issues">Compatibility issues</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#gallina-extensions"><span class="smallcaps">Gallina</span> extensions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#pattern-assignment">Pattern assignment</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#pattern-conditional">Pattern conditional</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#parametric-polymorphism">Parametric polymorphism</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#anonymous-arguments">Anonymous arguments</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#wildcards">Wildcards</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#definitions">Definitions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#abbreviations">Abbreviations</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#matching">Matching</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#occurrence-selection">Occurrence selection</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#basic-localization">Basic localization</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#basic-tactics">Basic tactics</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#bookkeeping">Bookkeeping</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#the-defective-tactics">The defective tactics</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#the-move-tactic">The move tactic.</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#the-case-tactic">The case tactic</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#the-elim-tactic">The elim tactic</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#the-apply-tactic">The apply tactic</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#discharge">Discharge</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#clear-rules">Clear rules</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#matching-for-apply-and-exact">Matching for apply and exact</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#the-abstract-tactic">The abstract tactic</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#introduction-in-the-context">Introduction in the context</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#simplification-items">Simplification items</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#views">Views</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#intro-patterns">Intro patterns</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#clear-switch">Clear switch</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#branching-and-destructuring">Branching and destructuring</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#block-introduction">Block introduction</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#generation-of-equations">Generation of equations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#type-families">Type families</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#control-flow">Control flow</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#indentation-and-bullets">Indentation and bullets</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#terminators">Terminators</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#selectors">Selectors</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#iteration">Iteration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#localization">Localization</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#structure">Structure</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#the-have-tactic">The have tactic.</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#generating-let-in-context-entries-with-have">Generating let in context entries with have</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#the-have-tactic-and-typeclass-resolution">The have tactic and typeclass resolution</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#variants-the-suff-and-wlog-tactics">Variants: the suff and wlog tactics</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#rewriting">Rewriting</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#an-extended-rewrite-tactic">An extended rewrite tactic</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#remarks-and-examples">Remarks and examples</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#rewrite-redex-selection">Rewrite redex selection</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#chained-rewrite-steps">Chained rewrite steps</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#explicit-redex-switches-are-matched-first">Explicit redex switches are matched first</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#occurrence-switches-and-redex-switches">Occurrence switches and redex switches</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#occurrence-selection-and-repetition">Occurrence selection and repetition</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#multi-rule-rewriting">Multi-rule rewriting</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#wildcards-vs-abstractions">Wildcards vs abstractions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#when-ssr-rewrite-fails-on-standard-coq-licit-rewrite">When <span class="smallcaps">SSReflect</span> rewrite fails on standard <span class="smallcaps">Coq</span> licit rewrite</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#existential-metavariables-and-rewriting">Existential metavariables and rewriting</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#rewriting-under-binders">Rewriting under binders</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#the-under-tactic">The under tactic</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#interactive-mode">Interactive mode</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#one-liner-mode">One-liner mode</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#locking-unlocking">Locking, unlocking</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#congruence">Congruence</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#contextual-patterns">Contextual patterns</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#syntax">Syntax</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#matching-contextual-patterns">Matching contextual patterns</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#examples">Examples</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#contextual-pattern-in-set-and-the-tactical">Contextual pattern in set and the : tactical</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#contextual-patterns-in-rewrite">Contextual patterns in rewrite</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#patterns-for-recurrent-contexts">Patterns for recurrent contexts</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#views-and-reflection">Views and reflection</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#interpreting-eliminations">Interpreting eliminations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#interpreting-assumptions">Interpreting assumptions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#specializing-assumptions">Specializing assumptions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#interpreting-goals">Interpreting goals</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#boolean-reflection">Boolean reflection</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#the-reflect-predicate">The reflect predicate</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#general-mechanism-for-interpreting-goals-and-assumptions">General mechanism for interpreting goals and assumptions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#id13">Specializing assumptions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#id14">Interpreting assumptions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#interpreting-equivalences">Interpreting equivalences</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#declaring-new-hint-views">Declaring new Hint Views</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#multiple-views">Multiple views</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#ssr-searching-tool"><span class="smallcaps">SSReflect</span> searching tool</a></li>
<li class="toctree-l2"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#synopsis-and-index">Synopsis and Index</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#parameters">Parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#items-and-switches">Items and switches</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#tactics">Tactics</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#tacticals">Tacticals</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#commands">Commands</a></li>
<li class="toctree-l3"><a class="reference internal" href="../proof-engine/ssreflect-proof-language.html#settings">Settings</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">User extensions</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../user-extensions/syntax-extensions.html">Syntax extensions and interpretation scopes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../user-extensions/syntax-extensions.html#notations">Notations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../user-extensions/syntax-extensions.html#basic-notations">Basic notations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user-extensions/syntax-extensions.html#precedences-and-associativity">Precedences and associativity</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user-extensions/syntax-extensions.html#complex-notations">Complex notations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user-extensions/syntax-extensions.html#simple-factorization-rules">Simple factorization rules</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user-extensions/syntax-extensions.html#displaying-symbolic-notations">Displaying symbolic notations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user-extensions/syntax-extensions.html#the-infix-command">The Infix command</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user-extensions/syntax-extensions.html#reserving-notations">Reserving notations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user-extensions/syntax-extensions.html#simultaneous-definition-of-terms-and-notations">Simultaneous definition of terms and notations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user-extensions/syntax-extensions.html#displaying-information-about-notations">Displaying information about notations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user-extensions/syntax-extensions.html#locating-notations">Locating notations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user-extensions/syntax-extensions.html#notations-and-binders">Notations and binders</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../user-extensions/syntax-extensions.html#binders-bound-in-the-notation-and-parsed-as-identifiers">Binders bound in the notation and parsed as identifiers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user-extensions/syntax-extensions.html#binders-bound-in-the-notation-and-parsed-as-patterns">Binders bound in the notation and parsed as patterns</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user-extensions/syntax-extensions.html#binders-bound-in-the-notation-and-parsed-as-terms">Binders bound in the notation and parsed as terms</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user-extensions/syntax-extensions.html#binders-not-bound-in-the-notation">Binders not bound in the notation</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../user-extensions/syntax-extensions.html#notations-with-recursive-patterns">Notations with recursive patterns</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user-extensions/syntax-extensions.html#notations-with-recursive-patterns-involving-binders">Notations with recursive patterns involving binders</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user-extensions/syntax-extensions.html#predefined-entries">Predefined entries</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user-extensions/syntax-extensions.html#custom-entries">Custom entries</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user-extensions/syntax-extensions.html#summary">Summary</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../user-extensions/syntax-extensions.html#syntax-of-notations">Syntax of notations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user-extensions/syntax-extensions.html#persistence-of-notations">Persistence of notations</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../user-extensions/syntax-extensions.html#interpretation-scopes">Interpretation scopes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../user-extensions/syntax-extensions.html#global-interpretation-rules-for-notations">Global interpretation rules for notations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user-extensions/syntax-extensions.html#local-interpretation-rules-for-notations">Local interpretation rules for notations</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../user-extensions/syntax-extensions.html#local-opening-of-an-interpretation-scope">Local opening of an interpretation scope</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user-extensions/syntax-extensions.html#binding-arguments-of-a-constant-to-an-interpretation-scope">Binding arguments of a constant to an interpretation scope</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user-extensions/syntax-extensions.html#binding-types-of-arguments-to-an-interpretation-scope">Binding types of arguments to an interpretation scope</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../user-extensions/syntax-extensions.html#the-type-scope-interpretation-scope">The <code class="docutils literal notranslate"><span class="pre">type_scope</span></code> interpretation scope</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user-extensions/syntax-extensions.html#the-function-scope-interpretation-scope">The <code class="docutils literal notranslate"><span class="pre">function_scope</span></code> interpretation scope</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user-extensions/syntax-extensions.html#interpretation-scopes-used-in-the-standard-library-of-coq">Interpretation scopes used in the standard library of Coq</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user-extensions/syntax-extensions.html#displaying-information-about-scopes">Displaying information about scopes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../user-extensions/syntax-extensions.html#abbreviations">Abbreviations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user-extensions/syntax-extensions.html#numeral-notations">Numeral notations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user-extensions/syntax-extensions.html#string-notations">String notations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user-extensions/syntax-extensions.html#tactic-notations">Tactic Notations</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../user-extensions/proof-schemes.html">Proof schemes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../user-extensions/proof-schemes.html#generation-of-induction-principles-with-scheme">Generation of induction principles with <code class="docutils literal notranslate"><span class="pre">Scheme</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="../user-extensions/proof-schemes.html#automatic-declaration-of-schemes">Automatic declaration of schemes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user-extensions/proof-schemes.html#combined-scheme">Combined Scheme</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../user-extensions/proof-schemes.html#generation-of-induction-principles-with-functional-scheme">Generation of induction principles with <code class="docutils literal notranslate"><span class="pre">Functional</span></code> <code class="docutils literal notranslate"><span class="pre">Scheme</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../user-extensions/proof-schemes.html#generation-of-inversion-principles-with-derive-inversion">Generation of inversion principles with <code class="docutils literal notranslate"><span class="pre">Derive</span></code> <code class="docutils literal notranslate"><span class="pre">Inversion</span></code></a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Practical tools</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../practical-tools/coq-commands.html">The <span class="smallcaps">Coq</span> commands</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../practical-tools/coq-commands.html#interactive-use-coqtop">Interactive use (coqtop)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../practical-tools/coq-commands.html#batch-compilation-coqc">Batch compilation (coqc)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../practical-tools/coq-commands.html#customization-at-launch-time">Customization at launch time</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../practical-tools/coq-commands.html#by-resource-file">By resource file</a></li>
<li class="toctree-l3"><a class="reference internal" href="../practical-tools/coq-commands.html#by-environment-variables">By environment variables</a></li>
<li class="toctree-l3"><a class="reference internal" href="../practical-tools/coq-commands.html#by-command-line-options">By command line options</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../practical-tools/coq-commands.html#compiled-libraries-checker-coqchk">Compiled libraries checker (coqchk)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../practical-tools/utilities.html">Utilities</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../practical-tools/utilities.html#using-coq-as-a-library">Using Coq as a library</a></li>
<li class="toctree-l2"><a class="reference internal" href="../practical-tools/utilities.html#building-a-coq-project">Building a <span class="smallcaps">Coq</span> project</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../practical-tools/utilities.html#building-a-coq-project-with-coq-makefile">Building a <span class="smallcaps">Coq</span> project with coq_makefile</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../practical-tools/utilities.html#coqmakefile-local">CoqMakefile.local</a></li>
<li class="toctree-l4"><a class="reference internal" href="../practical-tools/utilities.html#timing-targets-and-performance-testing">Timing targets and performance testing</a></li>
<li class="toctree-l4"><a class="reference internal" href="../practical-tools/utilities.html#reusing-extending-the-generated-makefile">Reusing/extending the generated Makefile</a></li>
<li class="toctree-l4"><a class="reference internal" href="../practical-tools/utilities.html#building-a-subset-of-the-targets-with-j">Building a subset of the targets with <code class="docutils literal notranslate"><span class="pre">-j</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../practical-tools/utilities.html#building-a-coq-project-with-dune">Building a <span class="smallcaps">Coq</span> project with Dune</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../practical-tools/utilities.html#computing-module-dependencies">Computing Module dependencies</a></li>
<li class="toctree-l2"><a class="reference internal" href="../practical-tools/utilities.html#documenting-coq-files-with-coqdoc">Documenting <span class="smallcaps">Coq</span> files with coqdoc</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../practical-tools/utilities.html#principles">Principles</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../practical-tools/utilities.html#coq-material-inside-documentation"><span class="smallcaps">Coq</span> material inside documentation.</a></li>
<li class="toctree-l4"><a class="reference internal" href="../practical-tools/utilities.html#pretty-printing">Pretty-printing.</a></li>
<li class="toctree-l4"><a class="reference internal" href="../practical-tools/utilities.html#sections">Sections</a></li>
<li class="toctree-l4"><a class="reference internal" href="../practical-tools/utilities.html#lists">Lists.</a></li>
<li class="toctree-l4"><a class="reference internal" href="../practical-tools/utilities.html#rules">Rules.</a></li>
<li class="toctree-l4"><a class="reference internal" href="../practical-tools/utilities.html#emphasis">Emphasis.</a></li>
<li class="toctree-l4"><a class="reference internal" href="../practical-tools/utilities.html#escaping-to-latex-and-html">Escaping to <span class="smallcaps">LaTeX</span> and HTML.</a></li>
<li class="toctree-l4"><a class="reference internal" href="../practical-tools/utilities.html#verbatim">Verbatim</a></li>
<li class="toctree-l4"><a class="reference internal" href="../practical-tools/utilities.html#hyperlinks">Hyperlinks</a></li>
<li class="toctree-l4"><a class="reference internal" href="../practical-tools/utilities.html#hiding-showing-parts-of-the-source">Hiding / Showing parts of the source.</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../practical-tools/utilities.html#usage">Usage</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../practical-tools/utilities.html#command-line-options">Command line options</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../practical-tools/utilities.html#the-coqdoc-latex-style-file">The coqdoc <span class="smallcaps">LaTeX</span> style file</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../practical-tools/utilities.html#embedded-coq-phrases-inside-latex-documents">Embedded Coq phrases inside <span class="smallcaps">LaTeX</span> documents</a></li>
<li class="toctree-l2"><a class="reference internal" href="../practical-tools/utilities.html#man-pages">Man pages</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../practical-tools/coqide.html"><span class="smallcaps">Coq</span> Integrated Development Environment</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../practical-tools/coqide.html#managing-files-and-buffers-basic-editing">Managing files and buffers, basic editing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../practical-tools/coqide.html#interactive-navigation-into-coq-scripts">Interactive navigation into Coq scripts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../practical-tools/coqide.html#proof-folding">Proof folding</a></li>
<li class="toctree-l2"><a class="reference internal" href="../practical-tools/coqide.html#vernacular-commands-templates">Vernacular commands, templates</a></li>
<li class="toctree-l2"><a class="reference internal" href="../practical-tools/coqide.html#queries">Queries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../practical-tools/coqide.html#compilation">Compilation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../practical-tools/coqide.html#customizations">Customizations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../practical-tools/coqide.html#using-unicode-symbols">Using Unicode symbols</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../practical-tools/coqide.html#displaying-unicode-symbols">Displaying Unicode symbols</a></li>
<li class="toctree-l3"><a class="reference internal" href="../practical-tools/coqide.html#bindings-for-input-of-unicode-symbols">Bindings for input of Unicode symbols</a></li>
<li class="toctree-l3"><a class="reference internal" href="../practical-tools/coqide.html#adding-custom-bindings">Adding custom bindings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../practical-tools/coqide.html#character-encoding-for-saved-files">Character encoding for saved files</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Addendum</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../addendum/extended-pattern-matching.html">Extended pattern matching</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../addendum/extended-pattern-matching.html#patterns">Patterns</a></li>
<li class="toctree-l2"><a class="reference internal" href="../addendum/extended-pattern-matching.html#multiple-patterns">Multiple patterns</a></li>
<li class="toctree-l2"><a class="reference internal" href="../addendum/extended-pattern-matching.html#aliasing-subpatterns">Aliasing subpatterns</a></li>
<li class="toctree-l2"><a class="reference internal" href="../addendum/extended-pattern-matching.html#nested-patterns">Nested patterns</a></li>
<li class="toctree-l2"><a class="reference internal" href="../addendum/extended-pattern-matching.html#disjunctive-patterns">Disjunctive patterns</a></li>
<li class="toctree-l2"><a class="reference internal" href="../addendum/extended-pattern-matching.html#about-patterns-of-parametric-types">About patterns of parametric types</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../addendum/extended-pattern-matching.html#parameters-in-patterns">Parameters in patterns</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../addendum/extended-pattern-matching.html#implicit-arguments-in-patterns">Implicit arguments in patterns</a></li>
<li class="toctree-l2"><a class="reference internal" href="../addendum/extended-pattern-matching.html#matching-objects-of-dependent-types">Matching objects of dependent types</a></li>
<li class="toctree-l2"><a class="reference internal" href="../addendum/extended-pattern-matching.html#understanding-dependencies-in-patterns">Understanding dependencies in patterns</a></li>
<li class="toctree-l2"><a class="reference internal" href="../addendum/extended-pattern-matching.html#when-the-elimination-predicate-must-be-provided">When the elimination predicate must be provided</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../addendum/extended-pattern-matching.html#dependent-pattern-matching">Dependent pattern matching</a></li>
<li class="toctree-l3"><a class="reference internal" href="../addendum/extended-pattern-matching.html#multiple-dependent-pattern-matching">Multiple dependent pattern matching</a></li>
<li class="toctree-l3"><a class="reference internal" href="../addendum/extended-pattern-matching.html#patterns-in-in">Patterns in <code class="docutils literal notranslate"><span class="pre">in</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../addendum/extended-pattern-matching.html#using-pattern-matching-to-write-proofs">Using pattern matching to write proofs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../addendum/extended-pattern-matching.html#pattern-matching-on-inductive-objects-involving-local-definitions">Pattern-matching on inductive objects involving local definitions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../addendum/extended-pattern-matching.html#pattern-matching-and-coercions">Pattern-matching and coercions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../addendum/extended-pattern-matching.html#when-does-the-expansion-strategy-fail">When does the expansion strategy fail?</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../addendum/implicit-coercions.html">Implicit Coercions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../addendum/implicit-coercions.html#general-presentation">General Presentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../addendum/implicit-coercions.html#classes">Classes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../addendum/implicit-coercions.html#coercions">Coercions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../addendum/implicit-coercions.html#identity-coercions">Identity Coercions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../addendum/implicit-coercions.html#inheritance-graph">Inheritance Graph</a></li>
<li class="toctree-l2"><a class="reference internal" href="../addendum/implicit-coercions.html#declaring-coercions">Declaring Coercions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../addendum/implicit-coercions.html#displaying-available-coercions">Displaying Available Coercions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../addendum/implicit-coercions.html#activating-the-printing-of-coercions">Activating the Printing of Coercions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../addendum/implicit-coercions.html#classes-as-records">Classes as Records</a></li>
<li class="toctree-l2"><a class="reference internal" href="../addendum/implicit-coercions.html#coercions-and-sections">Coercions and Sections</a></li>
<li class="toctree-l2"><a class="reference internal" href="../addendum/implicit-coercions.html#coercions-and-modules">Coercions and Modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="../addendum/implicit-coercions.html#examples">Examples</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../addendum/implicit-coercions.html#coercion-at-function-application">Coercion at function application</a></li>
<li class="toctree-l3"><a class="reference internal" href="../addendum/implicit-coercions.html#coercion-to-a-type">Coercion to a type</a></li>
<li class="toctree-l3"><a class="reference internal" href="../addendum/implicit-coercions.html#coercion-to-a-function">Coercion to a function</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../addendum/canonical-structures.html">Canonical Structures</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../addendum/canonical-structures.html#notation-overloading">Notation overloading</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../addendum/canonical-structures.html#derived-canonical-structures">Derived Canonical Structures</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../addendum/canonical-structures.html#hierarchy-of-structures">Hierarchy of structures</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../addendum/canonical-structures.html#compact-declaration-of-canonical-structures">Compact declaration of Canonical Structures</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../addendum/type-classes.html">Typeclasses</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../addendum/type-classes.html#class-and-instance-declarations">Class and Instance declarations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../addendum/type-classes.html#binding-classes">Binding classes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../addendum/type-classes.html#parameterized-instances">Parameterized Instances</a></li>
<li class="toctree-l2"><a class="reference internal" href="../addendum/type-classes.html#sections-and-contexts">Sections and contexts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../addendum/type-classes.html#building-hierarchies">Building hierarchies</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../addendum/type-classes.html#superclasses">Superclasses</a></li>
<li class="toctree-l3"><a class="reference internal" href="../addendum/type-classes.html#substructures">Substructures</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../addendum/type-classes.html#summary-of-the-commands">Summary of the commands</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../addendum/type-classes.html#typeclasses-transparent-typeclasses-opaque">Typeclasses Transparent, Typeclasses Opaque</a></li>
<li class="toctree-l3"><a class="reference internal" href="../addendum/type-classes.html#settings">Settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../addendum/type-classes.html#typeclasses-eauto">Typeclasses eauto <code class="docutils literal notranslate"><span class="pre">:=</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../addendum/omega.html">Omega: a solver for quantifier-free problems in Presburger Arithmetic</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../addendum/omega.html#description-of-omega">Description of <code class="docutils literal notranslate"><span class="pre">omega</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../addendum/omega.html#arithmetical-goals-recognized-by-omega">Arithmetical goals recognized by <code class="docutils literal notranslate"><span class="pre">omega</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../addendum/omega.html#messages-from-omega">Messages from <code class="docutils literal notranslate"><span class="pre">omega</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../addendum/omega.html#using-omega">Using <code class="docutils literal notranslate"><span class="pre">omega</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../addendum/omega.html#options">Options</a></li>
<li class="toctree-l2"><a class="reference internal" href="../addendum/omega.html#technical-data">Technical data</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../addendum/omega.html#overview-of-the-tactic">Overview of the tactic</a></li>
<li class="toctree-l3"><a class="reference internal" href="../addendum/omega.html#overview-of-the-omega-decision-procedure">Overview of the OMEGA decision procedure</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../addendum/omega.html#bugs">Bugs</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../addendum/micromega.html">Micromega: tactics for solving arithmetic goals over ordered rings</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../addendum/micromega.html#short-description-of-the-tactics">Short description of the tactics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../addendum/micromega.html#positivstellensatz-refutations"><em>Positivstellensatz</em> refutations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../addendum/micromega.html#lra-a-decision-procedure-for-linear-real-and-rational-arithmetic"><code class="docutils literal notranslate"><span class="pre">lra</span></code>: a decision procedure for linear real and rational arithmetic</a></li>
<li class="toctree-l2"><a class="reference internal" href="../addendum/micromega.html#lia-a-tactic-for-linear-integer-arithmetic"><code class="docutils literal notranslate"><span class="pre">lia</span></code>: a tactic for linear integer arithmetic</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../addendum/micromega.html#high-level-view-of-lia">High level view of <code class="docutils literal notranslate"><span class="pre">lia</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../addendum/micromega.html#cutting-plane-proofs">Cutting plane proofs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../addendum/micromega.html#case-split">Case split</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../addendum/micromega.html#nra-a-proof-procedure-for-non-linear-arithmetic"><code class="docutils literal notranslate"><span class="pre">nra</span></code>: a proof procedure for non-linear arithmetic</a></li>
<li class="toctree-l2"><a class="reference internal" href="../addendum/micromega.html#nia-a-proof-procedure-for-non-linear-integer-arithmetic"><code class="docutils literal notranslate"><span class="pre">nia</span></code>: a proof procedure for non-linear integer arithmetic</a></li>
<li class="toctree-l2"><a class="reference internal" href="../addendum/micromega.html#psatz-a-proof-procedure-for-non-linear-arithmetic"><code class="docutils literal notranslate"><span class="pre">psatz</span></code>: a proof procedure for non-linear arithmetic</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../addendum/extraction.html">Extraction of programs in <span class="smallcaps">OCaml</span> and Haskell</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../addendum/extraction.html#generating-ml-code">Generating ML Code</a></li>
<li class="toctree-l2"><a class="reference internal" href="../addendum/extraction.html#extraction-options">Extraction Options</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../addendum/extraction.html#setting-the-target-language">Setting the target language</a></li>
<li class="toctree-l3"><a class="reference internal" href="../addendum/extraction.html#inlining-and-optimizations">Inlining and optimizations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../addendum/extraction.html#extra-elimination-of-useless-arguments">Extra elimination of useless arguments</a></li>
<li class="toctree-l3"><a class="reference internal" href="../addendum/extraction.html#realizing-axioms">Realizing axioms</a></li>
<li class="toctree-l3"><a class="reference internal" href="../addendum/extraction.html#realizing-inductive-types">Realizing inductive types</a></li>
<li class="toctree-l3"><a class="reference internal" href="../addendum/extraction.html#avoiding-conflicts-with-existing-filenames">Avoiding conflicts with existing filenames</a></li>
<li class="toctree-l3"><a class="reference internal" href="../addendum/extraction.html#additional-settings">Additional settings</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../addendum/extraction.html#differences-between-coq-and-ml-type-systems">Differences between <span class="smallcaps">Coq</span> and ML type systems</a></li>
<li class="toctree-l2"><a class="reference internal" href="../addendum/extraction.html#some-examples">Some examples</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../addendum/extraction.html#a-detailed-example-euclidean-division">A detailed example: Euclidean division</a></li>
<li class="toctree-l3"><a class="reference internal" href="../addendum/extraction.html#extraction-s-horror-museum">Extraction's horror museum</a></li>
<li class="toctree-l3"><a class="reference internal" href="../addendum/extraction.html#users-contributions">Users' Contributions</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../addendum/program.html">Program</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../addendum/program.html#elaborating-programs">Elaborating programs</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../addendum/program.html#syntactic-control-over-equalities">Syntactic control over equalities</a></li>
<li class="toctree-l3"><a class="reference internal" href="../addendum/program.html#program-definition">Program Definition</a></li>
<li class="toctree-l3"><a class="reference internal" href="../addendum/program.html#program-fixpoint">Program Fixpoint</a></li>
<li class="toctree-l3"><a class="reference internal" href="../addendum/program.html#program-lemma">Program Lemma</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../addendum/program.html#solving-obligations">Solving obligations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../addendum/program.html#frequently-asked-questions">Frequently Asked Questions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../addendum/ring.html">The ring and field tactic families</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../addendum/ring.html#what-does-this-tactic-do">What does this tactic do?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../addendum/ring.html#the-variables-map">The variables map</a></li>
<li class="toctree-l2"><a class="reference internal" href="../addendum/ring.html#is-it-automatic">Is it automatic?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../addendum/ring.html#concrete-usage-in-coq">Concrete usage in Coq</a></li>
<li class="toctree-l2"><a class="reference internal" href="../addendum/ring.html#adding-a-ring-structure">Adding a ring structure</a></li>
<li class="toctree-l2"><a class="reference internal" href="../addendum/ring.html#how-does-it-work">How does it work?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../addendum/ring.html#dealing-with-fields">Dealing with fields</a></li>
<li class="toctree-l2"><a class="reference internal" href="../addendum/ring.html#adding-a-new-field-structure">Adding a new field structure</a></li>
<li class="toctree-l2"><a class="reference internal" href="../addendum/ring.html#history-of-ring">History of ring</a></li>
<li class="toctree-l2"><a class="reference internal" href="../addendum/ring.html#discussion">Discussion</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../addendum/nsatz.html">Nsatz: tactics for proving equalities in integral domains</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../addendum/nsatz.html#more-about-nsatz">More about <code class="docutils literal notranslate"><span class="pre">nsatz</span></code></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../addendum/generalized-rewriting.html">Generalized rewriting</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../addendum/generalized-rewriting.html#introduction-to-generalized-rewriting">Introduction to generalized rewriting</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../addendum/generalized-rewriting.html#relations-and-morphisms">Relations and morphisms</a></li>
<li class="toctree-l3"><a class="reference internal" href="../addendum/generalized-rewriting.html#adding-new-relations-and-morphisms">Adding new relations and morphisms</a></li>
<li class="toctree-l3"><a class="reference internal" href="../addendum/generalized-rewriting.html#rewriting-and-non-reflexive-relations">Rewriting and non reflexive relations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../addendum/generalized-rewriting.html#rewriting-and-non-symmetric-relations">Rewriting and non symmetric relations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../addendum/generalized-rewriting.html#rewriting-in-ambiguous-setoid-contexts">Rewriting in ambiguous setoid contexts</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../addendum/generalized-rewriting.html#commands-and-tactics">Commands and tactics</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../addendum/generalized-rewriting.html#first-class-setoids-and-morphisms">First class setoids and morphisms</a></li>
<li class="toctree-l3"><a class="reference internal" href="../addendum/generalized-rewriting.html#tactics-enabled-on-user-provided-relations">Tactics enabled on user provided relations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../addendum/generalized-rewriting.html#printing-relations-and-morphisms">Printing relations and morphisms</a></li>
<li class="toctree-l3"><a class="reference internal" href="../addendum/generalized-rewriting.html#deprecated-syntax-and-backward-incompatibilities">Deprecated syntax and backward incompatibilities</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../addendum/generalized-rewriting.html#extensions">Extensions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../addendum/generalized-rewriting.html#rewriting-under-binders">Rewriting under binders</a></li>
<li class="toctree-l3"><a class="reference internal" href="../addendum/generalized-rewriting.html#subrelations">Subrelations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../addendum/generalized-rewriting.html#constant-unfolding">Constant unfolding</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../addendum/generalized-rewriting.html#strategies-for-rewriting">Strategies for rewriting</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../addendum/generalized-rewriting.html#definitions">Definitions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../addendum/generalized-rewriting.html#usage">Usage</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../addendum/parallel-proof-processing.html">Asynchronous and Parallel Proof Processing</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../addendum/parallel-proof-processing.html#proof-annotations">Proof annotations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../addendum/parallel-proof-processing.html#automatic-suggestion-of-proof-annotations">Automatic suggestion of proof annotations</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../addendum/parallel-proof-processing.html#proof-blocks-and-error-resilience">Proof blocks and error resilience</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../addendum/parallel-proof-processing.html#caveats">Caveats</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../addendum/parallel-proof-processing.html#interactive-mode">Interactive mode</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../addendum/parallel-proof-processing.html#id2">Caveats</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../addendum/parallel-proof-processing.html#batch-mode">Batch mode</a></li>
<li class="toctree-l2"><a class="reference internal" href="../addendum/parallel-proof-processing.html#limiting-the-number-of-parallel-workers">Limiting the number of parallel workers</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../addendum/miscellaneous-extensions.html">Miscellaneous extensions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../addendum/miscellaneous-extensions.html#program-derivation">Program derivation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../addendum/universe-polymorphism.html">Polymorphic Universes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../addendum/universe-polymorphism.html#general-presentation">General Presentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../addendum/universe-polymorphism.html#polymorphic-monomorphic">Polymorphic, Monomorphic</a></li>
<li class="toctree-l2"><a class="reference internal" href="../addendum/universe-polymorphism.html#cumulative-noncumulative">Cumulative, NonCumulative</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../addendum/universe-polymorphism.html#an-example-of-a-proof-using-cumulativity">An example of a proof using cumulativity</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../addendum/universe-polymorphism.html#cumulativity-weak-constraints">Cumulativity Weak Constraints</a></li>
<li class="toctree-l2"><a class="reference internal" href="../addendum/universe-polymorphism.html#global-and-local-universes">Global and local universes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../addendum/universe-polymorphism.html#conversion-and-unification">Conversion and unification</a></li>
<li class="toctree-l2"><a class="reference internal" href="../addendum/universe-polymorphism.html#minimization">Minimization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../addendum/universe-polymorphism.html#explicit-universes">Explicit Universes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../addendum/universe-polymorphism.html#polymorphic-definitions">Polymorphic definitions</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../addendum/sprop.html">SProp (proof irrelevant propositions)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../addendum/sprop.html#basic-constructs">Basic constructs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../addendum/sprop.html#encodings-for-strict-propositions">Encodings for strict propositions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../addendum/sprop.html#issues-with-non-cumulativity">Issues with non-cumulativity</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../zebibliography.html">Bibliography</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Coq</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>Extensions of <span class="smallcaps">Gallina</span></li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/coq/coq/blob/master/doc/sphinx/language/gallina-extensions.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="math-preamble math notranslate nohighlight">
\[\begin{split}\newcommand{\alors}{\textsf{then}}
\newcommand{\alter}{\textsf{alter}}
\newcommand{\as}{\kw{as}}
\newcommand{\Assum}[3]{\kw{Assum}(#1)(#2:#3)}
\newcommand{\bool}{\textsf{bool}}
\newcommand{\case}{\kw{case}}
\newcommand{\conc}{\textsf{conc}}
\newcommand{\cons}{\textsf{cons}}
\newcommand{\consf}{\textsf{consf}}
\newcommand{\conshl}{\textsf{cons\_hl}}
\newcommand{\Def}[4]{\kw{Def}(#1)(#2:=#3:#4)}
\newcommand{\emptyf}{\textsf{emptyf}}
\newcommand{\End}{\kw{End}}
\newcommand{\kwend}{\kw{end}}
\newcommand{\EqSt}{\textsf{EqSt}}
\newcommand{\even}{\textsf{even}}
\newcommand{\evenO}{\textsf{even}_\textsf{O}}
\newcommand{\evenS}{\textsf{even}_\textsf{S}}
\newcommand{\false}{\textsf{false}}
\newcommand{\filter}{\textsf{filter}}
\newcommand{\Fix}{\kw{Fix}}
\newcommand{\fix}{\kw{fix}}
\newcommand{\for}{\textsf{for}}
\newcommand{\forest}{\textsf{forest}}
\newcommand{\from}{\textsf{from}}
\newcommand{\Functor}{\kw{Functor}}
\newcommand{\haslength}{\textsf{has\_length}}
\newcommand{\hd}{\textsf{hd}}
\newcommand{\ident}{\textsf{ident}}
\newcommand{\In}{\kw{in}}
\newcommand{\Ind}[4]{\kw{Ind}[#2](#3:=#4)}
\newcommand{\ind}[3]{\kw{Ind}~[#1]\left(#2\mathrm{~:=~}#3\right)}
\newcommand{\Indp}[5]{\kw{Ind}_{#5}(#1)[#2](#3:=#4)}
\newcommand{\Indpstr}[6]{\kw{Ind}_{#5}(#1)[#2](#3:=#4)/{#6}}
\newcommand{\injective}{\kw{injective}}
\newcommand{\kw}[1]{\textsf{#1}}
\newcommand{\lb}{\lambda}
\newcommand{\length}{\textsf{length}}
\newcommand{\letin}[3]{\kw{let}~#1:=#2~\kw{in}~#3}
\newcommand{\List}{\textsf{list}}
\newcommand{\lra}{\longrightarrow}
\newcommand{\Match}{\kw{match}}
\newcommand{\Mod}[3]{{\kw{Mod}}({#1}:{#2}\,\zeroone{:={#3}})}
\newcommand{\ModA}[2]{{\kw{ModA}}({#1}=={#2})}
\newcommand{\ModS}[2]{{\kw{Mod}}({#1}:{#2})}
\newcommand{\ModType}[2]{{\kw{ModType}}({#1}:={#2})}
\newcommand{\mto}{.\;}
\newcommand{\Nat}{\mathbb{N}}
\newcommand{\nat}{\textsf{nat}}
\newcommand{\Nil}{\textsf{nil}}
\newcommand{\nilhl}{\textsf{nil\_hl}}
\newcommand{\nO}{\textsf{O}}
\newcommand{\node}{\textsf{node}}
\newcommand{\nS}{\textsf{S}}
\newcommand{\odd}{\textsf{odd}}
\newcommand{\oddS}{\textsf{odd}_\textsf{S}}
\newcommand{\ovl}[1]{\overline{#1}}
\newcommand{\Pair}{\textsf{pair}}
\newcommand{\plus}{\mathsf{plus}}
\newcommand{\Prod}{\textsf{prod}}
\newcommand{\SProp}{\textsf{SProp}}
\newcommand{\Prop}{\textsf{Prop}}
\newcommand{\return}{\kw{return}}
\newcommand{\Set}{\textsf{Set}}
\newcommand{\si}{\textsf{if}}
\newcommand{\sinon}{\textsf{else}}
\newcommand{\Sort}{\mathcal{S}}
\newcommand{\Str}{\textsf{Stream}}
\newcommand{\Struct}{\kw{Struct}}
\newcommand{\subst}[3]{#1\{#2/#3\}}
\newcommand{\tl}{\textsf{tl}}
\newcommand{\tree}{\textsf{tree}}
\newcommand{\trii}{\triangleright_\iota}
\newcommand{\true}{\textsf{true}}
\newcommand{\Type}{\textsf{Type}}
\newcommand{\unfold}{\textsf{unfold}}
\newcommand{\WEV}[3]{\mbox{$#1[] \vdash #2 \lra  #3$}}
\newcommand{\WEVT}[3]{\mbox{$#1[] \vdash #2 \lra$}\\ \mbox{$ #3$}}
\newcommand{\WF}[2]{{\mathcal{W\!F}}(#1)[#2]}
\newcommand{\WFE}[1]{\WF{E}{#1}}
\newcommand{\WFT}[2]{#1[] \vdash {\mathcal{W\!F}}(#2)}
\newcommand{\WFTWOLINES}[2]{{\mathcal{W\!F}}\begin{array}{l}(#1)\\\mbox{}[{#2}]\end{array}}
\newcommand{\with}{\kw{with}}
\newcommand{\WS}[3]{#1[] \vdash #2 &lt;: #3}
\newcommand{\WSE}[2]{\WS{E}{#1}{#2}}
\newcommand{\WT}[4]{#1[#2] \vdash #3 : #4}
\newcommand{\WTE}[3]{\WT{E}{#1}{#2}{#3}}
\newcommand{\WTEG}[2]{\WTE{\Gamma}{#1}{#2}}
\newcommand{\WTM}[3]{\WT{#1}{}{#2}{#3}}
\newcommand{\zeroone}[1]{[{#1}]}
\newcommand{\zeros}{\textsf{zeros}}
\end{split}\]</div>
<div class="section" id="extensions-of-gallina">
<span id="extensionsofgallina"></span><h1>Extensions of <span class="smallcaps">Gallina</span><a class="headerlink" href="#extensions-of-gallina" title="Permalink to this headline">¶</a></h1>
<p><span class="smallcaps">Gallina</span> is the kernel language of <span class="smallcaps">Coq</span>. We describe here extensions of
<span class="smallcaps">Gallina</span>’s syntax.</p>
<div class="section" id="record-types">
<span id="id1"></span><h2>Record types<a class="headerlink" href="#record-types" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference internal" href="#coq:cmd.record" title="Record"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Record</span></code></a> construction is a macro allowing the definition of
records as is done in many programming languages. Its syntax is
described in the grammar below. In fact, the <a class="reference internal" href="#coq:cmd.record" title="Record"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Record</span></code></a> macro is more general
than the usual record types, since it allows also for “manifest”
expressions. In this sense, the <a class="reference internal" href="#coq:cmd.record" title="Record"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Record</span></code></a> construction allows defining
“signatures”.</p>
<blockquote id="record-grammar">
<div><pre>
<strong id="grammar-token-sentence-record"><span id="grammar-token-record"></span>record        </strong> ::=  <code class="xref docutils literal notranslate"><span class="pre">record_keyword</span></code> <code class="xref docutils literal notranslate"><span class="pre">record_body</span></code> with … with <code class="xref docutils literal notranslate"><span class="pre">record_body</span></code>
<strong id="grammar-token-sentence-record_keyword"><span id="grammar-token-record-keyword"></span>record_keyword</strong> ::=  Record | Inductive | CoInductive
<strong id="grammar-token-sentence-record_body"><span id="grammar-token-record-body"></span>record_body   </strong> ::=  <code class="xref docutils literal notranslate"><span class="pre">ident</span></code> [ <code class="xref docutils literal notranslate"><span class="pre">binders</span></code> ] [: <code class="xref docutils literal notranslate"><span class="pre">sort</span></code> ] := [ <code class="xref docutils literal notranslate"><span class="pre">ident</span></code> ] { [ <code class="xref docutils literal notranslate"><span class="pre">field</span></code> ; … ; <code class="xref docutils literal notranslate"><span class="pre">field</span></code> ] }.
<strong id="grammar-token-sentence-field"><span id="grammar-token-field"></span>field         </strong> ::=  <code class="xref docutils literal notranslate"><span class="pre">ident</span></code> [ <code class="xref docutils literal notranslate"><span class="pre">binders</span></code> ] : <code class="xref docutils literal notranslate"><span class="pre">type</span></code> [ where <code class="xref docutils literal notranslate"><span class="pre">notation</span></code> ]
                    <code class="xref docutils literal notranslate"><span class="pre">ident</span></code> [ <code class="xref docutils literal notranslate"><span class="pre">binders</span></code> ] [: <code class="xref docutils literal notranslate"><span class="pre">type</span></code> ] := <code class="xref docutils literal notranslate"><span class="pre">term</span></code>
</pre>
</div></blockquote>
<dl class="coq cmd">
<dt id="coq:cmd.record">
<em class="property"><span class="sigannot">Command</span></em> <code class="sig-name descname"><span class="notation"><span>Record</span> <span class="hole">ident</span> <span class="hole">binders</span> <span class="repeat-wrapper"><span class="repeat"><span>:</span> <span class="hole">sort</span></span><span class="notation-sup">?</span></span> <span>:=</span> <span class="repeat-wrapper"><span class="repeat"><span class="hole">ident</span></span><span class="notation-sup">?</span></span> <span class="curlies">{ <span class="repeat-wrapper"><span class="repeat"><span class="hole">ident</span> <span class="hole">binders</span> <span>:</span> <a class="reference internal" href="gallina-specification-language.html#grammar-token-type"><span class="hole">type</span></a></span><span class="notation-sup">*</span><span class="notation-sub">;</span></span> }</span></span></code><a class="headerlink" href="#coq:cmd.record" title="Permalink to this definition">¶</a></dt>
<dd><p>The first identifier <code class="xref std std-token docutils literal notranslate"><span class="pre">ident</span></code> is the name of the defined record and <code class="xref std std-token docutils literal notranslate"><span class="pre">sort</span></code> is its
type. The optional identifier following <code class="docutils literal notranslate"><span class="pre">:=</span></code> is the name of its constructor. If it is omitted,
the default name <code class="docutils literal notranslate"><span class="notation"><span><span class="pre">Build</span></span><span><span class="pre">_</span></span><span class="hole"><span class="pre">ident</span></span></span></code>, where <code class="xref std std-token docutils literal notranslate"><span class="pre">ident</span></code> is the record name, is used. If <code class="xref std std-token docutils literal notranslate"><span class="pre">sort</span></code> is
omitted, the default sort is <span class="math notranslate nohighlight">\(\Type\)</span>. The identifiers inside the brackets are the names of
fields. For a given field <code class="xref std std-token docutils literal notranslate"><span class="pre">ident</span></code>, its type is <code class="docutils literal notranslate"><span class="notation"><span><span class="pre">forall</span></span> <span class="hole"><span class="pre">binders</span></span><span><span class="pre">,</span></span> <a class="reference internal" href="gallina-specification-language.html#grammar-token-type"><span class="hole"><span class="pre">type</span></span></a></span></code>.
Remark that the type of a particular identifier may depend on a previously-given identifier. Thus the
order of the fields is important. Finally, <code class="xref std std-token docutils literal notranslate"><span class="pre">binders</span></code> are parameters of the record.</p>
</dd></dl>

<p>More generally, a record may have explicitly defined (a.k.a. manifest)
fields. For instance, we might have:
<code class="docutils literal notranslate"><span class="notation"><span><span class="pre">Record</span></span> <span class="hole"><span class="pre">ident</span></span> <span class="hole"><span class="pre">binders</span></span> <span><span class="pre">:</span></span> <span class="hole"><span class="pre">sort</span></span> <span><span class="pre">:=</span></span> <span class="curlies"><span class="pre">{</span> <span class="hole"><span class="pre">ident</span><sub><span class="pre">1</span></sub></span> <span><span class="pre">:</span></span> <a class="reference internal" href="gallina-specification-language.html#grammar-token-type"><span class="hole"><span class="pre">type</span><sub><span class="pre">1</span></sub></span></a> <span><span class="pre">;</span></span> <span class="hole"><span class="pre">ident</span><sub><span class="pre">2</span></sub></span> <span><span class="pre">:=</span></span> <span class="hole"><span class="pre">term</span><sub><span class="pre">2</span></sub></span> <span><span class="pre">;</span></span> <span class="hole"><span class="pre">ident</span><sub><span class="pre">3</span></sub></span> <span><span class="pre">:</span></span> <a class="reference internal" href="gallina-specification-language.html#grammar-token-type"><span class="hole"><span class="pre">type</span><sub><span class="pre">3</span></sub></span></a> <span class="pre">}</span></span></span></code>.
in which case the correctness of <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="gallina-specification-language.html#grammar-token-type"><span class="hole"><span class="pre">type</span><sub><span class="pre">3</span></sub></span></a></span></code> may rely on the instance <code class="docutils literal notranslate"><span class="notation"><span class="hole"><span class="pre">term</span><sub><span class="pre">2</span></sub></span></span></code> of <code class="docutils literal notranslate"><span class="notation"><span class="hole"><span class="pre">ident</span><sub><span class="pre">2</span></sub></span></span></code> and <code class="docutils literal notranslate"><span class="notation"><span class="hole"><span class="pre">term</span><sub><span class="pre">2</span></sub></span></span></code> may in turn depend on <code class="docutils literal notranslate"><span class="notation"><span class="hole"><span class="pre">ident</span><sub><span class="pre">1</span></sub></span></span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Example</p>
<p>The set of rational numbers may be defined as:</p>
<div class="coqtop literal-block"><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Record</span> <span class="nf">Rat</span> : <span class="kt">Set</span> := mkRat
 { sign : bool
 ; top : nat
 ; bottom : nat
 ; Rat_bottom_cond : <span class="mi">0</span> &lt;&gt; bottom
 ; Rat_irred_cond :
     <span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> <span class="nv">z</span>:nat, (x * y) = top /\ (x * z) = bottom -&gt; x = <span class="mi">1</span>
 }.</span></span></span></pre></div><p>Note here that the fields <code class="docutils literal notranslate"><span class="pre">Rat_bottom_cond</span></code> depends on the field <code class="docutils literal notranslate"><span class="pre">bottom</span></code>
and <code class="docutils literal notranslate"><span class="pre">Rat_irred_cond</span></code> depends on both <code class="docutils literal notranslate"><span class="pre">top</span></code> and <code class="docutils literal notranslate"><span class="pre">bottom</span></code>.</p>
</div>
<p>Let us now see the work done by the <code class="docutils literal notranslate"><span class="pre">Record</span></code> macro. First the macro
generates a variant type definition with just one constructor:
<code class="docutils literal notranslate"><span class="notation"><span><span class="pre">Variant</span></span> <span class="hole"><span class="pre">ident</span></span> <span class="repeat-wrapper"><span class="repeat"><span class="hole"><span class="pre">binders</span></span></span><span class="notation-sup"><span class="pre">?</span></span></span> <span><span class="pre">:</span></span> <span class="hole"><span class="pre">sort</span></span> <span><span class="pre">:=</span></span> <span class="hole"><span class="pre">ident</span><sub><span class="pre">0</span></sub></span> <span class="repeat-wrapper"><span class="repeat"><span class="hole"><span class="pre">binders</span></span></span><span class="notation-sup"><span class="pre">?</span></span></span></span></code>.</p>
<p>To build an object of type <code class="xref std std-token docutils literal notranslate"><span class="pre">ident</span></code>, one should provide the constructor
<code class="docutils literal notranslate"><span class="notation"><span class="hole"><span class="pre">ident</span><sub><span class="pre">0</span></sub></span></span></code> with the appropriate number of terms filling the fields of the record.</p>
<div class="admonition note">
<p class="admonition-title">Example</p>
<p>Let us define the rational <span class="math notranslate nohighlight">\(1/2\)</span>:</p>
<blockquote>
<div><div class="coqtop literal-block"><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><input checked="checked" class="coq-toggle" id="gallina-extensions-rst-chk0" style="display: none" type="checkbox"><label class="coq-input" for="gallina-extensions-rst-chk0"><span class="highlight"><span class="kn">Theorem</span> <span class="nf">one_two_irred</span> : <span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> <span class="nv">z</span>:nat, x * y = <span class="mi">1</span> /\ x * z = <span class="mi">2</span> -&gt; x = <span class="mi">1</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"></div><label class="goal-separator"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> <span class="nv">z</span> : nat, x * y = <span class="mi">1</span> /\ x * z = <span class="mi">2</span> -&gt; x = <span class="mi">1</span></span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Admitted</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-nc"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">half</span> := mkRat true <span class="mi">1</span> <span class="mi">2</span> (O_S <span class="mi">1</span>) one_two_irred.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><input checked="checked" class="coq-toggle" id="gallina-extensions-rst-chk1" style="display: none" type="checkbox"><label class="coq-input" for="gallina-extensions-rst-chk1"><span class="highlight"><span class="kn">Check</span> half.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-responses"><blockquote class="coq-response"><span class="highlight">half
     : Rat</span></blockquote></div></div></small></span></pre></div></div></blockquote>
</div>
<blockquote id="record-named-fields-grammar">
<div><pre>
<strong id="grammar-token-record_term"><span id="grammar-token-record-term"></span>record_term</strong> ::=  {| [<code class="xref docutils literal notranslate"><span class="pre">field_def</span></code> ; … ; <code class="xref docutils literal notranslate"><span class="pre">field_def</span></code>] |}
<strong id="grammar-token-field_def"><span id="grammar-token-field-def"></span>field_def  </strong> ::=  <code class="xref docutils literal notranslate"><span class="pre">ident</span></code> [<code class="xref docutils literal notranslate"><span class="pre">binders</span></code>] := <code class="xref docutils literal notranslate"><span class="pre">term</span></code>
</pre>
</div></blockquote>
<p>Alternatively, the following syntax allows creating objects by using named fields, as
shown in this grammar. The fields do not have to be in any particular order, nor do they have
to be all present if the missing ones can be inferred or prompted for
(see <a class="reference internal" href="../addendum/program.html#programs"><span class="std std-ref">Program</span></a>).</p>
<div class="coqtop literal-block"><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">half&#39;</span> :=
  {| sign := true;
     Rat_bottom_cond := O_S <span class="mi">1</span>;
     Rat_irred_cond := one_two_irred |}.</span></span></span></pre></div><p>The following settings let you control the display format for types:</p>
<dl class="coq flag">
<dt id="coq:flag.printing-records">
<em class="property"><span class="sigannot">Flag</span></em> <code class="sig-name descname"><span class="notation"><span>Printing</span> <span>Records</span></span></code><a class="headerlink" href="#coq:flag.printing-records" title="Permalink to this definition">¶</a></dt>
<dd><p>If set, use the record syntax (shown above) as the default display format.</p>
</dd></dl>

<p>You can override the display format for specified types by adding entries to these tables:</p>
<dl class="coq table">
<dt id="coq:table.printing-record">
<em class="property"><span class="sigannot">Table</span></em> <code class="sig-name descname"><span class="notation"><span>Printing</span> <span>Record</span> <span class="hole">qualid</span></span></code><a class="headerlink" href="#coq:table.printing-record" title="Permalink to this definition">¶</a></dt>
<dd><p>Specifies a set of qualids which are displayed as records.  Use the
<a class="reference internal" href="../proof-engine/vernacular-commands.html#coq:cmd.add-table" title="Add &#64;table"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Add</span> <span class="pre">&#64;table</span></code></a> and <a class="reference internal" href="../proof-engine/vernacular-commands.html#coq:cmd.remove-table" title="Remove &#64;table"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Remove</span> <span class="pre">&#64;table</span></code></a> commands to update the set of qualids.</p>
</dd></dl>

<dl class="coq table">
<dt id="coq:table.printing-constructor">
<em class="property"><span class="sigannot">Table</span></em> <code class="sig-name descname"><span class="notation"><span>Printing</span> <span>Constructor</span> <span class="hole">qualid</span></span></code><a class="headerlink" href="#coq:table.printing-constructor" title="Permalink to this definition">¶</a></dt>
<dd><p>Specifies a set of qualids which are displayed as constructors.  Use the
<a class="reference internal" href="../proof-engine/vernacular-commands.html#coq:cmd.add-table" title="Add &#64;table"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Add</span> <span class="pre">&#64;table</span></code></a> and <a class="reference internal" href="../proof-engine/vernacular-commands.html#coq:cmd.remove-table" title="Remove &#64;table"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Remove</span> <span class="pre">&#64;table</span></code></a> commands to update the set of qualids.</p>
</dd></dl>

<p>This syntax can also be used for pattern matching.</p>
<div class="coqtop literal-block"><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><input checked="checked" class="coq-toggle" id="gallina-extensions-rst-chk2" style="display: none" type="checkbox"><label class="coq-input" for="gallina-extensions-rst-chk2"><span class="highlight"><span class="kn">Eval</span> <span class="nb">compute</span> <span class="kr">in</span> (
  <span class="kr">match</span> half <span class="kr">with</span>
  | {| sign := true; top := n |} =&gt; n
  | _ =&gt; <span class="mi">0</span>
  <span class="kr">end</span>).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-responses"><blockquote class="coq-response"><span class="highlight">= <span class="mi">1</span>
: nat</span></blockquote></div></div></small></span></pre></div><p>The macro generates also, when it is possible, the projection
functions for destructuring an object of type <code class="xref std std-token docutils literal notranslate"><span class="pre">ident</span></code>. These
projection functions are given the names of the corresponding
fields. If a field is named <code class="docutils literal notranslate"><span class="pre">_</span></code> then no projection is built
for it. In our example:</p>
<div class="coqtop literal-block"><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><input checked="checked" class="coq-toggle" id="gallina-extensions-rst-chk3" style="display: none" type="checkbox"><label class="coq-input" for="gallina-extensions-rst-chk3"><span class="highlight"><span class="kn">Eval</span> <span class="nb">compute</span> <span class="kr">in</span> top half.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-responses"><blockquote class="coq-response"><span class="highlight">= <span class="mi">1</span>
: nat</span></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input checked="checked" class="coq-toggle" id="gallina-extensions-rst-chk4" style="display: none" type="checkbox"><label class="coq-input" for="gallina-extensions-rst-chk4"><span class="highlight"><span class="kn">Eval</span> <span class="nb">compute</span> <span class="kr">in</span> bottom half.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-responses"><blockquote class="coq-response"><span class="highlight">= <span class="mi">2</span>
: nat</span></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input checked="checked" class="coq-toggle" id="gallina-extensions-rst-chk5" style="display: none" type="checkbox"><label class="coq-input" for="gallina-extensions-rst-chk5"><span class="highlight"><span class="kn">Eval</span> <span class="nb">compute</span> <span class="kr">in</span> Rat_bottom_cond half.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-responses"><blockquote class="coq-response"><span class="highlight">= O_S <span class="mi">1</span>
: <span class="mi">0</span> &lt;&gt; bottom half</span></blockquote></div></div></small></span></pre></div><p>An alternative syntax for projections based on a dot notation is
available:</p>
<div class="coqtop literal-block"><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><input checked="checked" class="coq-toggle" id="gallina-extensions-rst-chk6" style="display: none" type="checkbox"><label class="coq-input" for="gallina-extensions-rst-chk6"><span class="highlight"><span class="kn">Eval</span> <span class="nb">compute</span> <span class="kr">in</span> half.(top).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-responses"><blockquote class="coq-response"><span class="highlight">= <span class="mi">1</span>
: nat</span></blockquote></div></div></small></span></pre></div><dl class="coq flag">
<dt id="coq:flag.printing-projections">
<em class="property"><span class="sigannot">Flag</span></em> <code class="sig-name descname"><span class="notation"><span>Printing</span> <span>Projections</span></span></code><a class="headerlink" href="#coq:flag.printing-projections" title="Permalink to this definition">¶</a></dt>
<dd><p>This flag activates the dot notation for printing.</p>
<div class="admonition note">
<p class="admonition-title">Example</p>
<div class="coqtop literal-block"><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Set Printing Projections</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><input checked="checked" class="coq-toggle" id="gallina-extensions-rst-chk7" style="display: none" type="checkbox"><label class="coq-input" for="gallina-extensions-rst-chk7"><span class="highlight"><span class="kn">Check</span> top half.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-responses"><blockquote class="coq-response"><span class="highlight">half.(top)
     : nat</span></blockquote></div></div></small></span></pre></div></div>
</dd></dl>

<blockquote id="record-projections-grammar">
<div><pre>
<strong id="grammar-token-terms-projection"><span id="grammar-token-projection"></span>projection</strong> ::=  <code class="xref docutils literal notranslate"><span class="pre">term</span></code> `.` ( <code class="xref docutils literal notranslate"><span class="pre">qualid</span></code> )
                <code class="xref docutils literal notranslate"><span class="pre">term</span></code> `.` ( <code class="xref docutils literal notranslate"><span class="pre">qualid</span></code> <code class="xref docutils literal notranslate"><span class="pre">arg</span></code> … <code class="xref docutils literal notranslate"><span class="pre">arg</span></code> )
                <code class="xref docutils literal notranslate"><span class="pre">term</span></code> `.` ( &#64;<code class="xref docutils literal notranslate"><span class="pre">qualid</span></code> <code class="xref docutils literal notranslate"><span class="pre">term</span></code> … <code class="xref docutils literal notranslate"><span class="pre">term</span></code> )
</pre>
<p>Syntax of Record projections</p>
</div></blockquote>
<p>The corresponding grammar rules are given in the preceding grammar. When <code class="xref std std-token docutils literal notranslate"><span class="pre">qualid</span></code>
denotes a projection, the syntax <code class="docutils literal notranslate"><span class="notation"><span class="hole"><span class="pre">term</span></span><span><span class="pre">.(</span></span><span class="hole"><span class="pre">qualid</span></span><span><span class="pre">)</span></span></span></code> is equivalent to <code class="docutils literal notranslate"><span class="notation"><span class="hole"><span class="pre">qualid</span></span> <span class="hole"><span class="pre">term</span></span></span></code>,
the syntax <code class="docutils literal notranslate"><span class="notation"><span class="hole"><span class="pre">term</span></span><span><span class="pre">.(</span></span><span class="hole"><span class="pre">qualid</span></span> <span class="repeat-wrapper"><span class="repeat"><span class="hole"><span class="pre">arg</span></span></span><span class="notation-sup"><span class="pre">+</span></span></span><span><span class="pre">)</span></span></span></code> to <code class="docutils literal notranslate"><span class="notation"><span class="hole"><span class="pre">qualid</span></span> <span class="repeat-wrapper"><span class="repeat"><span class="hole"><span class="pre">arg</span></span></span><span class="notation-sup"><span class="pre">+</span></span></span> <span class="hole"><span class="pre">term</span></span></span></code>.
and the syntax <code class="docutils literal notranslate"><span class="notation"><span class="hole"><span class="pre">term</span></span><span><span class="pre">.(</span></span><span><span class="pre">&#64;</span></span><span class="hole"><span class="pre">qualid</span></span> <span class="repeat-wrapper"><span class="repeat"><span class="hole"><span class="pre">term</span></span></span><span class="notation-sup"><span class="pre">+</span></span></span><span><span class="pre">)</span></span></span></code> to <code class="docutils literal notranslate"><span class="notation"><span><span class="pre">&#64;</span></span><span class="hole"><span class="pre">qualid</span></span> <span class="repeat-wrapper"><span class="repeat"><span class="hole"><span class="pre">term</span></span></span><span class="notation-sup"><span class="pre">+</span></span></span> <span class="hole"><span class="pre">term</span></span></span></code>.
In each case, <code class="xref std std-token docutils literal notranslate"><span class="pre">term</span></code> is the object projected and the
other arguments are the parameters of the inductive type.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Records defined with the <code class="docutils literal notranslate"><span class="pre">Record</span></code> keyword are not allowed to be
recursive (references to the record's name in the type of its field
raises an  error). To define recursive records, one can use the <code class="docutils literal notranslate"><span class="pre">Inductive</span></code>
and <code class="docutils literal notranslate"><span class="pre">CoInductive</span></code> keywords, resulting in an inductive or co-inductive record.
Definition of mutually inductive or co-inductive records are also allowed, as long
as all of the types in the block are records.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Induction schemes are automatically generated for inductive records.
Automatic generation of induction schemes for non-recursive records
defined with the <code class="docutils literal notranslate"><span class="pre">Record</span></code> keyword can be activated with the
<code class="docutils literal notranslate"><span class="pre">Nonrecursive</span> <span class="pre">Elimination</span> <span class="pre">Schemes</span></code> option (see <a class="reference internal" href="../user-extensions/proof-schemes.html#proofschemes-induction-principles"><span class="std std-ref">Generation of induction principles with Scheme</span></a>).</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code class="docutils literal notranslate"><span class="pre">Structure</span></code> is a synonym of the keyword <code class="docutils literal notranslate"><span class="pre">Record</span></code>.</p>
</div>
<dl class="coq warn">
<dt id="coq:warn.ident-cannot-be-defined">
<em class="property"><span class="sigannot">Warning</span></em> <code class="sig-name descname"><span class="notation"><span class="hole">ident</span> <span>cannot</span> <span>be</span> <span>defined.</span></span></code><a class="headerlink" href="#coq:warn.ident-cannot-be-defined" title="Permalink to this definition">¶</a></dt>
<dd><p>It can happen that the definition of a projection is impossible.
This message is followed by an explanation of this impossibility.
There may be three reasons:</p>
<ol class="arabic simple">
<li><p>The name <code class="xref std std-token docutils literal notranslate"><span class="pre">ident</span></code> already exists in the environment (see <a class="reference internal" href="gallina-specification-language.html#coq:cmdv.axiom" title="Axiom"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Axiom</span></code></a>).</p></li>
<li><p>The body of <code class="xref std std-token docutils literal notranslate"><span class="pre">ident</span></code> uses an incorrect elimination for
<code class="xref std std-token docutils literal notranslate"><span class="pre">ident</span></code> (see <a class="reference internal" href="gallina-specification-language.html#coq:cmd.fixpoint" title="Fixpoint"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Fixpoint</span></code></a> and <a class="reference internal" href="cic.html#destructors"><span class="std std-ref">Destructors</span></a>).</p></li>
<li><p>The type of the projections <code class="xref std std-token docutils literal notranslate"><span class="pre">ident</span></code> depends on previous
projections which themselves could not be defined.</p></li>
</ol>
</dd></dl>

<dl class="coq exn">
<dt id="coq:exn.records-declared-with-the-keyword-record-or-structure-cannot-be-recursive">
<em class="property"><span class="sigannot">Error</span></em> <code class="sig-name descname"><span class="notation"><span>Records</span> <span>declared</span> <span>with</span> <span>the</span> <span>keyword</span> <span>Record</span> <span>or</span> <span>Structure</span> <span>cannot</span> <span>be</span> <span>recursive.</span></span></code><a class="headerlink" href="#coq:exn.records-declared-with-the-keyword-record-or-structure-cannot-be-recursive" title="Permalink to this definition">¶</a></dt>
<dd><p>The record name <code class="xref std std-token docutils literal notranslate"><span class="pre">ident</span></code> appears in the type of its fields, but uses
the keyword <code class="docutils literal notranslate"><span class="pre">Record</span></code>. Use  the keyword <code class="docutils literal notranslate"><span class="pre">Inductive</span></code> or <code class="docutils literal notranslate"><span class="pre">CoInductive</span></code> instead.</p>
</dd></dl>

<dl class="coq exn">
<dt id="coq:exn.cannot-handle-mutually-co-inductive-records">
<em class="property"><span class="sigannot">Error</span></em> <code class="sig-name descname"><span class="notation"><span>Cannot</span> <span>handle</span> <span>mutually</span> <span>(co)inductive</span> <span>records.</span></span></code><a class="headerlink" href="#coq:exn.cannot-handle-mutually-co-inductive-records" title="Permalink to this definition">¶</a></dt>
<dd><p>Records cannot be defined as part of mutually inductive (or
co-inductive) definitions, whether with records only or mixed with
standard definitions.</p>
</dd></dl>

<p>During the definition of the one-constructor inductive definition, all
the errors of inductive definitions, as described in Section
<a class="reference internal" href="gallina-specification-language.html#gallina-inductive-definitions"><span class="std std-ref">Inductive definitions</span></a>, may also occur.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>Coercions and records in section <a class="reference internal" href="../addendum/implicit-coercions.html#coercions-classes-as-records"><span class="std std-ref">Classes as Records</span></a> of the chapter devoted to coercions.</p>
</div>
<div class="section" id="primitive-projections">
<span id="id2"></span><h3>Primitive Projections<a class="headerlink" href="#primitive-projections" title="Permalink to this headline">¶</a></h3>
<dl class="coq flag">
<dt id="coq:flag.primitive-projections">
<em class="property"><span class="sigannot">Flag</span></em> <code class="sig-name descname"><span class="notation"><span>Primitive</span> <span>Projections</span></span></code><a class="headerlink" href="#coq:flag.primitive-projections" title="Permalink to this definition">¶</a></dt>
<dd><p>Turns on the use of primitive
projections when defining subsequent records (even through the <code class="docutils literal notranslate"><span class="pre">Inductive</span></code>
and <code class="docutils literal notranslate"><span class="pre">CoInductive</span></code> commands). Primitive projections
extended the Calculus of Inductive Constructions with a new binary
term constructor <code class="docutils literal notranslate"><span class="pre">r.(p)</span></code> representing a primitive projection <code class="docutils literal notranslate"><span class="pre">p</span></code> applied
to a record object <code class="docutils literal notranslate"><span class="pre">r</span></code> (i.e., primitive projections are always applied).
Even if the record type has parameters, these do not appear
in the internal representation of
applications of the projection, considerably reducing the sizes of
terms when manipulating parameterized records and type checking time.
On the user level, primitive projections can be used as a replacement
for the usual defined ones, although there are a few notable differences.</p>
</dd></dl>

<dl class="coq flag">
<dt id="coq:flag.printing-primitive-projection-parameters">
<em class="property"><span class="sigannot">Flag</span></em> <code class="sig-name descname"><span class="notation"><span>Printing</span> <span>Primitive</span> <span>Projection</span> <span>Parameters</span></span></code><a class="headerlink" href="#coq:flag.printing-primitive-projection-parameters" title="Permalink to this definition">¶</a></dt>
<dd><p>This compatibility option reconstructs internally omitted parameters at
printing time (even though they are absent in the actual AST manipulated
by the kernel).</p>
</dd></dl>

<div class="section" id="primitive-record-types">
<h4>Primitive Record Types<a class="headerlink" href="#primitive-record-types" title="Permalink to this headline">¶</a></h4>
<p>When the <a class="reference internal" href="#coq:flag.primitive-projections" title="Primitive Projections"><code class="xref coq coq-flag docutils literal notranslate"><span class="pre">Primitive</span> <span class="pre">Projections</span></code></a> option is on, definitions of
record types change meaning. When a type is declared with primitive
projections, its <code class="code highlight coq docutils literal notranslate"><span class="keyword reserved"><span class="pre">match</span></span></code> construct is disabled (see <a class="reference internal" href="#primitive-projections"><span class="std std-ref">Primitive Projections</span></a> though).
To eliminate the (co-)inductive type, one must use its defined primitive projections.</p>
<p>For compatibility, the parameters still appear to the user when
printing terms even though they are absent in the actual AST
manipulated by the kernel. This can be changed by unsetting the
<a class="reference internal" href="#coq:flag.printing-primitive-projection-parameters" title="Printing Primitive Projection Parameters"><code class="xref coq coq-flag docutils literal notranslate"><span class="pre">Printing</span> <span class="pre">Primitive</span> <span class="pre">Projection</span> <span class="pre">Parameters</span></code></a> flag.</p>
<p>There are currently two ways to introduce primitive records types:</p>
<ol class="arabic simple">
<li><p>Through the <code class="docutils literal notranslate"><span class="pre">Record</span></code> command, in which case the type has to be
non-recursive. The defined type enjoys eta-conversion definitionally,
that is the generalized form of surjective pairing for records:
<code class="docutils literal notranslate"><span class="pre">r</span></code> <code class="docutils literal notranslate"><span class="pre">=</span> <span class="pre">Build_</span></code><code class="docutils literal notranslate"><span class="pre">R</span></code> <code class="docutils literal notranslate"><span class="pre">(</span></code><code class="docutils literal notranslate"><span class="pre">r</span></code><code class="docutils literal notranslate"><span class="pre">.(</span></code><code class="docutils literal notranslate"><span class="pre">p</span></code><span class="math notranslate nohighlight">\(_{1}\)</span><code class="docutils literal notranslate"><span class="pre">)</span> <span class="pre">…</span></code> <code class="docutils literal notranslate"><span class="pre">r</span></code><code class="docutils literal notranslate"><span class="pre">.(</span></code><code class="docutils literal notranslate"><span class="pre">p</span></code><span class="math notranslate nohighlight">\(_{n}\)</span><code class="docutils literal notranslate"><span class="pre">))</span></code>.
Eta-conversion allows to define dependent elimination for these types as well.</p></li>
<li><p>Through the <code class="docutils literal notranslate"><span class="pre">Inductive</span></code> and <code class="docutils literal notranslate"><span class="pre">CoInductive</span></code> commands, when
the body of the definition is a record declaration of the form
<code class="docutils literal notranslate"><span class="pre">Build_</span></code><code class="docutils literal notranslate"><span class="pre">R</span></code> <code class="docutils literal notranslate"><span class="pre">{</span></code> <code class="docutils literal notranslate"><span class="pre">p</span></code><span class="math notranslate nohighlight">\(_{1}\)</span> <code class="docutils literal notranslate"><span class="pre">:</span></code> <code class="docutils literal notranslate"><span class="pre">t</span></code><span class="math notranslate nohighlight">\(_{1}\)</span><code class="docutils literal notranslate"><span class="pre">;</span> <span class="pre">…</span> <span class="pre">;</span></code> <code class="docutils literal notranslate"><span class="pre">p</span></code><span class="math notranslate nohighlight">\(_{n}\)</span> <code class="docutils literal notranslate"><span class="pre">:</span></code> <code class="docutils literal notranslate"><span class="pre">t</span></code><span class="math notranslate nohighlight">\(_{n}\)</span> <code class="docutils literal notranslate"><span class="pre">}</span></code>.
In this case the types can be recursive and eta-conversion is disallowed. These kind of record types
differ from their traditional versions in the sense that dependent
elimination is not available for them and only non-dependent case analysis
can be defined.</p></li>
</ol>
</div>
<div class="section" id="reduction">
<h4>Reduction<a class="headerlink" href="#reduction" title="Permalink to this headline">¶</a></h4>
<p>The basic reduction rule of a primitive projection is
<code class="docutils literal notranslate"><span class="pre">p</span></code><span class="math notranslate nohighlight">\(_{i}\)</span> <code class="docutils literal notranslate"><span class="pre">(Build_</span></code><code class="docutils literal notranslate"><span class="pre">R</span></code> <code class="docutils literal notranslate"><span class="pre">t</span></code><span class="math notranslate nohighlight">\(_{1}\)</span> … <code class="docutils literal notranslate"><span class="pre">t</span></code><span class="math notranslate nohighlight">\(_{n}\)</span><code class="docutils literal notranslate"><span class="pre">)</span></code> <span class="math notranslate nohighlight">\({\rightarrow_{\iota}}\)</span> <code class="docutils literal notranslate"><span class="pre">t</span></code><span class="math notranslate nohighlight">\(_{i}\)</span>.
However, to take the <span class="math notranslate nohighlight">\({\delta}\)</span> flag into
account, projections can be in two states: folded or unfolded. An
unfolded primitive projection application obeys the rule above, while
the folded version delta-reduces to the unfolded version. This allows to
precisely mimic the usual unfolding rules of constants. Projections
obey the usual <code class="docutils literal notranslate"><span class="pre">simpl</span></code> flags of the <code class="docutils literal notranslate"><span class="pre">Arguments</span></code> command in particular.
There is currently no way to input unfolded primitive projections at the
user-level, and there is no way to display unfolded projections differently
from folded ones.</p>
</div>
<div class="section" id="compatibility-projections-and-match">
<h4>Compatibility Projections and <code class="code highlight coq docutils literal notranslate"><span class="keyword reserved"><span class="pre">match</span></span></code><a class="headerlink" href="#compatibility-projections-and-match" title="Permalink to this headline">¶</a></h4>
<p>To ease compatibility with ordinary record types, each primitive
projection is also defined as a ordinary constant taking parameters and
an object of the record type as arguments, and whose body is an
application of the unfolded primitive projection of the same name. These
constants are used when elaborating partial applications of the
projection. One can distinguish them from applications of the primitive
projection if the <a class="reference internal" href="#coq:flag.printing-primitive-projection-parameters" title="Printing Primitive Projection Parameters"><code class="xref coq coq-flag docutils literal notranslate"><span class="pre">Printing</span> <span class="pre">Primitive</span> <span class="pre">Projection</span> <span class="pre">Parameters</span></code></a> option
is off: For a primitive projection application, parameters are printed
as underscores while for the compatibility projections they are printed
as usual.</p>
<p>Additionally, user-written <code class="code highlight coq docutils literal notranslate"><span class="keyword reserved"><span class="pre">match</span></span></code> constructs on primitive records
are desugared into substitution of the projections, they cannot be
printed back as <code class="code highlight coq docutils literal notranslate"><span class="keyword reserved"><span class="pre">match</span></span></code> constructs.</p>
</div>
</div>
</div>
<div class="section" id="variants-and-extensions-of-match">
<h2>Variants and extensions of <code class="code highlight coq docutils literal notranslate"><span class="keyword reserved"><span class="pre">match</span></span></code><a class="headerlink" href="#variants-and-extensions-of-match" title="Permalink to this headline">¶</a></h2>
<div class="section" id="multiple-and-nested-pattern-matching">
<span id="mult-match"></span><h3>Multiple and nested pattern matching<a class="headerlink" href="#multiple-and-nested-pattern-matching" title="Permalink to this headline">¶</a></h3>
<p>The basic version of <code class="code highlight coq docutils literal notranslate"><span class="keyword reserved"><span class="pre">match</span></span></code> allows pattern matching on simple
patterns. As an extension, multiple nested patterns or disjunction of
patterns are allowed, as in ML-like languages.</p>
<p>The extension just acts as a macro that is expanded during parsing
into a sequence of match on simple patterns. Especially, a
construction defined using the extended match is generally printed
under its expanded form (see <a class="reference internal" href="#coq:flag.printing-matching" title="Printing Matching"><code class="xref coq coq-flag docutils literal notranslate"><span class="pre">Printing</span> <span class="pre">Matching</span></code></a>).</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../addendum/extended-pattern-matching.html#extendedpatternmatching"><span class="std std-ref">Extended pattern matching</span></a>.</p>
</div>
</div>
<div class="section" id="pattern-matching-on-boolean-values-the-if-expression">
<span id="if-then-else"></span><h3>Pattern-matching on boolean values: the if expression<a class="headerlink" href="#pattern-matching-on-boolean-values-the-if-expression" title="Permalink to this headline">¶</a></h3>
<p>For inductive types with exactly two constructors and for pattern matching
expressions that do not depend on the arguments of the constructors, it is possible
to use a <code class="docutils literal notranslate"><span class="pre">if</span> <span class="pre">…</span> <span class="pre">then</span> <span class="pre">…</span> <span class="pre">else</span></code> notation. For instance, the definition</p>
<div class="coqtop literal-block"><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">not</span> (<span class="nv">b</span>:bool) :=
<span class="kr">match</span> b <span class="kr">with</span>
| true =&gt; false
| false =&gt; true
<span class="kr">end</span>.</span></span></span></pre></div><p>can be alternatively written</p>
<div class="coqtop literal-block"><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">not</span> (<span class="nv">b</span>:bool) := <span class="kr">if</span> b <span class="kr">then</span> false <span class="kr">else</span> true.</span></span></span></pre></div><p>More generally, for an inductive type with constructors <code class="docutils literal notranslate"><span class="pre">C</span></code><span class="math notranslate nohighlight">\(_{1}\)</span> and <code class="docutils literal notranslate"><span class="pre">C</span></code><span class="math notranslate nohighlight">\(_{2}\)</span>,
we have the following equivalence</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>if term [dep_ret_type] then term₁ else term₂ ≡
match term [dep_ret_type] with
| C₁ _ … _ =&gt; term₁
| C₂ _ … _ =&gt; term₂
end
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Example</p>
<div class="coqtop literal-block"><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><input checked="checked" class="coq-toggle" id="gallina-extensions-rst-chk8" style="display: none" type="checkbox"><label class="coq-input" for="gallina-extensions-rst-chk8"><span class="highlight"><span class="kn">Check</span> (<span class="kr">fun</span> <span class="nv">x</span> (<span class="nv">H</span>:{x=<span class="mi">0</span>}+{x&lt;&gt;<span class="mi">0</span>}) =&gt;
<span class="kr">match</span> H <span class="kr">with</span>
| <span class="nb">left</span> _ =&gt; true
| <span class="nb">right</span> _ =&gt; false
<span class="kr">end</span>).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-responses"><blockquote class="coq-response"><span class="highlight"><span class="kr">fun</span> (<span class="nv">x</span> : nat) (<span class="nv">H</span> : {x = <span class="mi">0</span>} + {x &lt;&gt; <span class="mi">0</span>}) =&gt;
<span class="kr">if</span> H <span class="kr">then</span> true <span class="kr">else</span> false
     : <span class="kr">forall</span> <span class="nv">x</span> : nat, {x = <span class="mi">0</span>} + {x &lt;&gt; <span class="mi">0</span>} -&gt; bool</span></blockquote></div></div></small></span></pre></div></div>
<p>Notice that the printing uses the <code class="code highlight coq docutils literal notranslate"><span class="keyword reserved"><span class="pre">if</span></span></code> syntax because <code class="code highlight coq docutils literal notranslate"><span class="name"><span class="pre">sumbool</span></span></code> is
declared as such (see <a class="reference internal" href="#controlling-match-pp"><span class="std std-ref">Controlling pretty-printing of match expressions</span></a>).</p>
</div>
<div class="section" id="irrefutable-patterns-the-destructuring-let-variants">
<span id="irrefutable-patterns"></span><h3>Irrefutable patterns: the destructuring let variants<a class="headerlink" href="#irrefutable-patterns-the-destructuring-let-variants" title="Permalink to this headline">¶</a></h3>
<p>Pattern-matching on terms inhabiting inductive type having only one
constructor can be alternatively written using <code class="code highlight coq docutils literal notranslate"><span class="keyword reserved"><span class="pre">let</span></span> <span class="operator"><span class="pre">…</span></span> <span class="keyword reserved"><span class="pre">in</span></span> <span class="operator"><span class="pre">…</span></span></code>
constructions. There are two variants of them.</p>
<div class="section" id="first-destructuring-let-syntax">
<h4>First destructuring let syntax<a class="headerlink" href="#first-destructuring-let-syntax" title="Permalink to this headline">¶</a></h4>
<p>The expression <code class="code highlight coq docutils literal notranslate"><span class="keyword reserved"><span class="pre">let</span></span> <span class="operator"><span class="pre">(</span></span></code><code class="docutils literal notranslate"><span class="pre">ident</span></code><span class="math notranslate nohighlight">\(_{1}\)</span><code class="code highlight coq docutils literal notranslate"><span class="operator"><span class="pre">,</span></span> <span class="operator"><span class="pre">…</span></span> <span class="operator"><span class="pre">,</span></span></code> <code class="docutils literal notranslate"><span class="pre">ident</span></code><span class="math notranslate nohighlight">\(_{n}\)</span><code class="code highlight coq docutils literal notranslate"><span class="operator"><span class="pre">)</span></span> <span class="operator"><span class="pre">:=</span></span></code> <code class="docutils literal notranslate"><span class="pre">term</span></code><span class="math notranslate nohighlight">\(_{0}\)</span><code class="code highlight coq docutils literal notranslate"><span class="keyword reserved"><span class="pre">in</span></span></code> <code class="docutils literal notranslate"><span class="pre">term</span></code><span class="math notranslate nohighlight">\(_{1}\)</span> performs
case analysis on <code class="docutils literal notranslate"><span class="pre">term</span></code><span class="math notranslate nohighlight">\(_{0}\)</span> which must be in an inductive type with one
constructor having itself <span class="math notranslate nohighlight">\(n\)</span> arguments. Variables <code class="docutils literal notranslate"><span class="pre">ident</span></code><span class="math notranslate nohighlight">\(_{1}\)</span> … <code class="docutils literal notranslate"><span class="pre">ident</span></code><span class="math notranslate nohighlight">\(_{n}\)</span> are
bound to the <span class="math notranslate nohighlight">\(n\)</span> arguments of the constructor in expression <code class="docutils literal notranslate"><span class="pre">term</span></code><span class="math notranslate nohighlight">\(_{1}\)</span>. For
instance, the definition</p>
<div class="coqtop literal-block"><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">fst</span> (<span class="nv">A</span> <span class="nv">B</span>:<span class="kt">Set</span>) (<span class="nv">H</span>:A * B) := <span class="kr">match</span> H <span class="kr">with</span>
| pair x y =&gt; x
<span class="kr">end</span>.</span></span></span></pre></div><p>can be alternatively written</p>
<div class="coqtop literal-block"><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">fst</span> (<span class="nv">A</span> <span class="nv">B</span>:<span class="kt">Set</span>) (<span class="nv">p</span>:A * B) := <span class="kr">let</span> (<span class="nv">x</span>, _) := p <span class="kr">in</span> x.</span></span></span></pre></div><p>Notice that reduction is different from regular <code class="code highlight coq docutils literal notranslate"><span class="keyword reserved"><span class="pre">let</span></span> <span class="operator"><span class="pre">…</span></span> <span class="keyword reserved"><span class="pre">in</span></span> <span class="operator"><span class="pre">…</span></span></code>
construction since it happens only if <code class="docutils literal notranslate"><span class="pre">term</span></code><span class="math notranslate nohighlight">\(_{0}\)</span> is in constructor form.
Otherwise, the reduction is blocked.</p>
<p>The pretty-printing of a definition by matching on a irrefutable
pattern can either be done using <code class="code highlight coq docutils literal notranslate"><span class="keyword reserved"><span class="pre">match</span></span></code> or the <code class="code highlight coq docutils literal notranslate"><span class="keyword reserved"><span class="pre">let</span></span></code> construction
(see Section <a class="reference internal" href="#controlling-match-pp"><span class="std std-ref">Controlling pretty-printing of match expressions</span></a>).</p>
<p>If term inhabits an inductive type with one constructor <code class="docutils literal notranslate"><span class="pre">C</span></code>, we have an
equivalence between</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>let (ident₁, …, identₙ) [dep_ret_type] := term in term&#39;
</pre></div>
</div>
<p>and</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>match term [dep_ret_type] with
C ident₁ … identₙ =&gt; term&#39;
end
</pre></div>
</div>
</div>
<div class="section" id="second-destructuring-let-syntax">
<h4>Second destructuring let syntax<a class="headerlink" href="#second-destructuring-let-syntax" title="Permalink to this headline">¶</a></h4>
<p>Another destructuring let syntax is available for inductive types with
one constructor by giving an arbitrary pattern instead of just a tuple
for all the arguments. For example, the preceding example can be
written:</p>
<div class="coqtop literal-block"><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">fst</span> (<span class="nv">A</span> <span class="nv">B</span>:<span class="kt">Set</span>) (<span class="nv">p</span>:A*B) := <span class="kr">let</span> <span class="nv">&#39;pair</span> <span class="nv">x</span> <span class="nv">_</span> := p <span class="kr">in</span> x.</span></span></span></pre></div><p>This is useful to match deeper inside tuples and also to use notations
for the pattern, as the syntax <code class="code highlight coq docutils literal notranslate"><span class="keyword reserved"><span class="pre">let</span></span> <span class="operator"><span class="pre">’</span></span><span class="name"><span class="pre">p</span></span> <span class="operator"><span class="pre">:=</span></span> <span class="name"><span class="pre">t</span></span> <span class="keyword reserved"><span class="pre">in</span></span> <span class="name"><span class="pre">b</span></span></code> allows arbitrary
patterns to do the deconstruction. For example:</p>
<div class="coqtop literal-block"><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">deep_tuple</span> (<span class="nv">A</span>:<span class="kt">Set</span>) (<span class="nv">x</span>:(A*A)*(A*A)) : A*A*A*A :=
<span class="kr">let</span> &#39;((a,b), (c, d)) := x <span class="kr">in</span> (a,b,c,d).</span></span><span class="coq-wsp">
</span></span><span class="coq-nc"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Notation</span> <span class="s2">&quot; x &#39;With&#39; p &quot;</span> := (exist _ x p) (<span class="kn">at level</span> <span class="mi">20</span>).</span></span><span class="coq-wsp">
</span></span><span class="coq-nc"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">proj1_sig&#39;</span> (<span class="nv">A</span>:<span class="kt">Set</span>) (<span class="nv">P</span>:A-&gt;<span class="kt">Prop</span>) (<span class="nv">t</span>:{ x:A | P x }) : A :=
<span class="kr">let</span> <span class="nv">&#39;x</span> <span class="nv">With</span> <span class="nv">p</span> := t <span class="kr">in</span> x.</span></span></span></pre></div><p>When printing definitions which are written using this construct it
takes precedence over let printing directives for the datatype under
consideration (see Section <a class="reference internal" href="#controlling-match-pp"><span class="std std-ref">Controlling pretty-printing of match expressions</span></a>).</p>
</div>
</div>
<div class="section" id="controlling-pretty-printing-of-match-expressions">
<span id="controlling-match-pp"></span><h3>Controlling pretty-printing of match expressions<a class="headerlink" href="#controlling-pretty-printing-of-match-expressions" title="Permalink to this headline">¶</a></h3>
<p>The following commands give some control over the pretty-printing
of <code class="code highlight coq docutils literal notranslate"><span class="keyword reserved"><span class="pre">match</span></span></code> expressions.</p>
<div class="section" id="printing-nested-patterns">
<h4>Printing nested patterns<a class="headerlink" href="#printing-nested-patterns" title="Permalink to this headline">¶</a></h4>
<dl class="coq flag">
<dt id="coq:flag.printing-matching">
<em class="property"><span class="sigannot">Flag</span></em> <code class="sig-name descname"><span class="notation"><span>Printing</span> <span>Matching</span></span></code><a class="headerlink" href="#coq:flag.printing-matching" title="Permalink to this definition">¶</a></dt>
<dd><p>The Calculus of Inductive Constructions knows pattern matching only
over simple patterns. It is however convenient to re-factorize nested
pattern matching into a single pattern matching over a nested
pattern.</p>
<p>When this option is on (default), <span class="smallcaps">Coq</span>’s printer tries to do such
limited re-factorization.
Turning it off tells <span class="smallcaps">Coq</span> to print only simple pattern matching problems
in the same way as the <span class="smallcaps">Coq</span> kernel handles them.</p>
</dd></dl>

</div>
<div class="section" id="factorization-of-clauses-with-same-right-hand-side">
<h4>Factorization of clauses with same right-hand side<a class="headerlink" href="#factorization-of-clauses-with-same-right-hand-side" title="Permalink to this headline">¶</a></h4>
<dl class="coq flag">
<dt id="coq:flag.printing-factorizable-match-patterns">
<em class="property"><span class="sigannot">Flag</span></em> <code class="sig-name descname"><span class="notation"><span>Printing</span> <span>Factorizable</span> <span>Match</span> <span>Patterns</span></span></code><a class="headerlink" href="#coq:flag.printing-factorizable-match-patterns" title="Permalink to this definition">¶</a></dt>
<dd><p>When several patterns share the same right-hand side, it is additionally
possible to share the clauses using disjunctive patterns. Assuming that the
printing matching mode is on, this option (on by default) tells <span class="smallcaps">Coq</span>'s
printer to try to do this kind of factorization.</p>
</dd></dl>

</div>
<div class="section" id="use-of-a-default-clause">
<h4>Use of a default clause<a class="headerlink" href="#use-of-a-default-clause" title="Permalink to this headline">¶</a></h4>
<dl class="coq flag">
<dt id="coq:flag.printing-allow-match-default-clause">
<em class="property"><span class="sigannot">Flag</span></em> <code class="sig-name descname"><span class="notation"><span>Printing</span> <span>Allow</span> <span>Match</span> <span>Default</span> <span>Clause</span></span></code><a class="headerlink" href="#coq:flag.printing-allow-match-default-clause" title="Permalink to this definition">¶</a></dt>
<dd><p>When several patterns share the same right-hand side which do not depend on the
arguments of the patterns, yet an extra factorization is possible: the
disjunction of patterns can be replaced with a <code class="docutils literal notranslate"><span class="pre">_</span></code> default clause. Assuming that
the printing matching mode and the factorization mode are on, this option (on by
default) tells <span class="smallcaps">Coq</span>'s printer to use a default clause when relevant.</p>
</dd></dl>

</div>
<div class="section" id="printing-of-wildcard-patterns">
<h4>Printing of wildcard patterns<a class="headerlink" href="#printing-of-wildcard-patterns" title="Permalink to this headline">¶</a></h4>
<dl class="coq flag">
<dt id="coq:flag.printing-wildcard">
<em class="property"><span class="sigannot">Flag</span></em> <code class="sig-name descname"><span class="notation"><span>Printing</span> <span>Wildcard</span></span></code><a class="headerlink" href="#coq:flag.printing-wildcard" title="Permalink to this definition">¶</a></dt>
<dd><p>Some variables in a pattern may not occur in the right-hand side of
the pattern matching clause. When this option is on (default), the
variables having no occurrences in the right-hand side of the
pattern matching clause are just printed using the wildcard symbol
“_”.</p>
</dd></dl>

</div>
<div class="section" id="printing-of-the-elimination-predicate">
<h4>Printing of the elimination predicate<a class="headerlink" href="#printing-of-the-elimination-predicate" title="Permalink to this headline">¶</a></h4>
<dl class="coq flag">
<dt id="coq:flag.printing-synth">
<em class="property"><span class="sigannot">Flag</span></em> <code class="sig-name descname"><span class="notation"><span>Printing</span> <span>Synth</span></span></code><a class="headerlink" href="#coq:flag.printing-synth" title="Permalink to this definition">¶</a></dt>
<dd><p>In most of the cases, the type of the result of a matched term is
mechanically synthesizable. Especially, if the result type does not
depend of the matched term. When this option is on (default),
the result type is not printed when <span class="smallcaps">Coq</span> knows that it can re-
synthesize it.</p>
</dd></dl>

</div>
<div class="section" id="printing-matching-on-irrefutable-patterns">
<h4>Printing matching on irrefutable patterns<a class="headerlink" href="#printing-matching-on-irrefutable-patterns" title="Permalink to this headline">¶</a></h4>
<p>If an inductive type has just one constructor, pattern matching can be
written using the first destructuring let syntax.</p>
<dl class="coq table">
<dt id="coq:table.printing-let">
<em class="property"><span class="sigannot">Table</span></em> <code class="sig-name descname"><span class="notation"><span>Printing</span> <span>Let</span> <span class="hole">qualid</span></span></code><a class="headerlink" href="#coq:table.printing-let" title="Permalink to this definition">¶</a></dt>
<dd><p>Specifies a set of qualids for which pattern matching is displayed using a let expression.
Note that this only applies to pattern matching instances entered with <code class="code highlight coq docutils literal notranslate"><span class="keyword reserved"><span class="pre">match</span></span></code>.
It doesn't affect pattern matching explicitly entered with a destructuring
<code class="code highlight coq docutils literal notranslate"><span class="keyword reserved"><span class="pre">let</span></span></code>.
Use the <a class="reference internal" href="../proof-engine/vernacular-commands.html#coq:cmd.add-table" title="Add &#64;table"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Add</span> <span class="pre">&#64;table</span></code></a> and <a class="reference internal" href="../proof-engine/vernacular-commands.html#coq:cmd.remove-table" title="Remove &#64;table"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Remove</span> <span class="pre">&#64;table</span></code></a> commands to update this set.</p>
</dd></dl>

</div>
<div class="section" id="printing-matching-on-booleans">
<h4>Printing matching on booleans<a class="headerlink" href="#printing-matching-on-booleans" title="Permalink to this headline">¶</a></h4>
<p>If an inductive type is isomorphic to the boolean type, pattern matching
can be written using <code class="docutils literal notranslate"><span class="pre">if</span></code> … <code class="docutils literal notranslate"><span class="pre">then</span></code> … <code class="docutils literal notranslate"><span class="pre">else</span></code> ….  This table controls
which types are written this way:</p>
<dl class="coq table">
<dt id="coq:table.printing-if">
<em class="property"><span class="sigannot">Table</span></em> <code class="sig-name descname"><span class="notation"><span>Printing</span> <span>If</span> <span class="hole">qualid</span></span></code><a class="headerlink" href="#coq:table.printing-if" title="Permalink to this definition">¶</a></dt>
<dd><p>Specifies a set of qualids for which pattern matching is displayed using
<code class="docutils literal notranslate"><span class="pre">if</span></code> … <code class="docutils literal notranslate"><span class="pre">then</span></code> … <code class="docutils literal notranslate"><span class="pre">else</span></code> ….  Use the <a class="reference internal" href="../proof-engine/vernacular-commands.html#coq:cmd.add-table" title="Add &#64;table"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Add</span> <span class="pre">&#64;table</span></code></a> and <a class="reference internal" href="../proof-engine/vernacular-commands.html#coq:cmd.remove-table" title="Remove &#64;table"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Remove</span> <span class="pre">&#64;table</span></code></a>
commands to update this set.</p>
</dd></dl>

<p>This example emphasizes what the printing options offer.</p>
<div class="admonition note">
<p class="admonition-title">Example</p>
<div class="coqtop literal-block"><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">snd</span> (<span class="nv">A</span> <span class="nv">B</span>:<span class="kt">Set</span>) (<span class="nv">H</span>:A * B) := <span class="kr">match</span> H <span class="kr">with</span>
| pair x y =&gt; y
<span class="kr">end</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-nc"><span class="highlight">
</span></span><span class="coq-sentence"><input checked="checked" class="coq-toggle" id="gallina-extensions-rst-chk9" style="display: none" type="checkbox"><label class="coq-input" for="gallina-extensions-rst-chk9"><span class="highlight"><span class="kn">Test Printing Let</span> <span class="kr">for</span> prod.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-responses"><blockquote class="coq-response"><span class="highlight">Cases on elements of prod are printed <span class="nb">using</span> a `<span class="kr">let</span><span class="nv">&#39; form</span></span></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-nc"><span class="highlight">
</span></span><span class="coq-sentence"><input checked="checked" class="coq-toggle" id="gallina-extensions-rst-chka" style="display: none" type="checkbox"><label class="coq-input" for="gallina-extensions-rst-chka"><span class="highlight"><span class="kn">Print</span> snd.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-responses"><blockquote class="coq-response"><span class="highlight">snd = 
<span class="kr">fun</span> (<span class="nv">A</span> <span class="nv">B</span> : <span class="kt">Set</span>) (<span class="nv">H</span> : A * B) =&gt; <span class="kr">let</span> (<span class="nv">_</span>, y) := H <span class="kr">in</span> y
     : <span class="kr">forall</span> <span class="nv">A</span> <span class="nv">B</span> : <span class="kt">Set</span>, A * B -&gt; B

Argument scopes are [type_scope type_scope _]</span></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-nc"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Remove Printing Let</span> prod.</span></span><span class="coq-wsp">
</span></span><span class="coq-nc"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Unset Printing Synth</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-nc"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Unset Printing Wildcard</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-nc"><span class="highlight">
</span></span><span class="coq-sentence"><input checked="checked" class="coq-toggle" id="gallina-extensions-rst-chkb" style="display: none" type="checkbox"><label class="coq-input" for="gallina-extensions-rst-chkb"><span class="highlight"><span class="kn">Print</span> snd.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-responses"><blockquote class="coq-response"><span class="highlight">snd = 
<span class="kr">fun</span> (<span class="nv">A</span> <span class="nv">B</span> : <span class="kt">Set</span>) (<span class="nv">H</span> : A * B) =&gt;
<span class="kr">match</span> H <span class="kr">return</span> B <span class="kr">with</span>
| (x, y) =&gt; y
<span class="kr">end</span>
     : <span class="kr">forall</span> <span class="nv">A</span> <span class="nv">B</span> : <span class="kt">Set</span>, A * B -&gt; B

Argument scopes are [type_scope type_scope _]</span></blockquote></div></div></small></span></pre></div></div>
</div>
</div>
</div>
<div class="section" id="advanced-recursive-functions">
<span id="id3"></span><h2>Advanced recursive functions<a class="headerlink" href="#advanced-recursive-functions" title="Permalink to this headline">¶</a></h2>
<p>The following experimental command is available when the <code class="docutils literal notranslate"><span class="pre">FunInd</span></code> library has been loaded via <code class="docutils literal notranslate"><span class="pre">Require</span> <span class="pre">Import</span> <span class="pre">FunInd</span></code>:</p>
<dl class="coq cmd">
<dt id="coq:cmd.function">
<em class="property"><span class="sigannot">Command</span></em> <code class="sig-name descname"><span class="notation"><span>Function</span> <span class="hole">ident</span> <span class="repeat-wrapper"><span class="repeat"><span class="hole">binder</span></span><span class="notation-sup">*</span></span> <span class="curlies">{ <span class="hole">decrease_annot</span> }</span> <span>:</span> <a class="reference internal" href="gallina-specification-language.html#grammar-token-type"><span class="hole">type</span></a> <span>:=</span> <span class="hole">term</span></span></code><a class="headerlink" href="#coq:cmd.function" title="Permalink to this definition">¶</a></dt>
<dd><p>This command can be seen as a generalization of <code class="docutils literal notranslate"><span class="pre">Fixpoint</span></code>. It is actually a wrapper
for several ways of defining a function <em>and other useful related
objects</em>, namely: an induction principle that reflects the recursive
structure of the function (see <a class="reference internal" href="../proof-engine/tactics.html#coq:tacn.function-induction" title="function induction"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">function</span> <span class="pre">induction</span></code></a>) and its fixpoint equality.
The meaning of this declaration is to define a function ident,
similarly to <code class="docutils literal notranslate"><span class="pre">Fixpoint</span></code>. Like in <code class="docutils literal notranslate"><span class="pre">Fixpoint</span></code>, the decreasing argument must
be given (unless the function is not recursive), but it might not
necessarily be <em>structurally</em> decreasing. The point of the <code class="docutils literal notranslate"><span class="notation"><span class="curlies"><span class="pre">{</span> <span class="hole"><span class="pre">decrease_annot</span></span> <span class="pre">}</span></span></span></code> annotation
is to name the decreasing argument <em>and</em> to describe which kind of
decreasing criteria must be used to ensure termination of recursive
calls.</p>
<pre>
<strong id="grammar-token-decrease_annot"><span id="grammar-token-decrease-annot"></span>decrease_annot</strong> ::=  struct <code class="xref docutils literal notranslate"><span class="pre">ident</span></code>
                    measure <code class="xref docutils literal notranslate"><span class="pre">term</span></code> <code class="xref docutils literal notranslate"><span class="pre">ident</span></code>
                    wf <code class="xref docutils literal notranslate"><span class="pre">term</span></code> <code class="xref docutils literal notranslate"><span class="pre">ident</span></code>
</pre>
</dd></dl>

<p>The <code class="docutils literal notranslate"><span class="pre">Function</span></code> construction also enjoys the <code class="docutils literal notranslate"><span class="pre">with</span></code> extension to define
mutually recursive definitions. However, this feature does not work
for non structurally recursive functions.</p>
<p>See the documentation of functional induction (<a class="reference internal" href="../proof-engine/tactics.html#coq:tacn.function-induction" title="function induction"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">function</span> <span class="pre">induction</span></code></a>)
and <code class="docutils literal notranslate"><span class="pre">Functional</span> <span class="pre">Scheme</span></code> (<a class="reference internal" href="../user-extensions/proof-schemes.html#functional-scheme"><span class="std std-ref">Generation of induction principles with Functional Scheme</span></a>) for how to use
the induction principle to easily reason about the function.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To obtain the right principle, it is better to put rigid
parameters of the function as first arguments. For example it is
better to define plus like this:</p>
<div class="coqtop literal-block"><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Function</span> <span class="nf">plus</span> (m n : nat) {<span class="kr">struct</span> n} : nat :=
<span class="kr">match</span> n <span class="kr">with</span>
| <span class="mi">0</span> =&gt; m
| S p =&gt; S (plus m p)
<span class="kr">end</span>.</span></span></span></pre></div><p>than like this:</p>
<div class="coqtop literal-block"><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Function</span> <span class="nf">plus</span> (n m : nat) {<span class="kr">struct</span> n} : nat :=
<span class="kr">match</span> n <span class="kr">with</span>
| <span class="mi">0</span> =&gt; m
| S p =&gt; S (plus p m)
<span class="kr">end</span>.</span></span></span></pre></div></div>
<p><em>Limitations</em></p>
<p><code class="xref std std-token docutils literal notranslate"><span class="pre">term</span></code> must be built as a <em>pure pattern matching tree</em> (<code class="code highlight coq docutils literal notranslate"><span class="keyword reserved"><span class="pre">match</span></span> <span class="operator"><span class="pre">…</span></span> <span class="keyword reserved"><span class="pre">with</span></span></code>)
with applications only <em>at the end</em> of each branch.</p>
<p>Function does not support partial application of the function being
defined. Thus, the following example cannot be accepted due to the
presence of partial application of <code class="code highlight coq docutils literal notranslate"><span class="name"><span class="pre">wrong</span></span></code> in the body of <code class="code highlight coq docutils literal notranslate"><span class="name"><span class="pre">wrong</span></span></code>:</p>
<div class="coqtop literal-block"><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><input checked="checked" class="coq-toggle" id="gallina-extensions-rst-chkc" style="display: none" type="checkbox"><label class="coq-input alectryon-failed" for="gallina-extensions-rst-chkc"><span class="highlight"><span class="kn">Function</span> <span class="nf">wrong</span> (C:nat) : nat :=
  List.hd <span class="mi">0</span> (List.map wrong (C::nil)).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-responses"><blockquote class="coq-response"><span class="highlight">Recursive definition of wrong <span class="kr">is</span> ill-formed.
In environment
wrong : nat -&gt; nat
C : nat
Recursive call to wrong has principal argument equal
to <span class="s2">&quot;C&quot;</span> instead of
a subterm of <span class="s2">&quot;C&quot;</span>.
Recursive definition <span class="kr">is</span>:
<span class="s2">&quot;fun C : nat =&gt; List.hd 0 (List.map wrong [C])&quot;</span>.</span></blockquote></div></div></small></span></pre></div><p>For now, dependent cases are not treated for non structurally
terminating functions.</p>
<dl class="coq exn">
<dt id="coq:exn.the-recursive-argument-must-be-specified">
<em class="property"><span class="sigannot">Error</span></em> <code class="sig-name descname"><span class="notation"><span>The</span> <span>recursive</span> <span>argument</span> <span>must</span> <span>be</span> <span>specified.</span></span></code><a class="headerlink" href="#coq:exn.the-recursive-argument-must-be-specified" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="coq exn">
<dt id="coq:exn.no-argument-name-ident">
<em class="property"><span class="sigannot">Error</span></em> <code class="sig-name descname"><span class="notation"><span>No</span> <span>argument</span> <span>name</span> <span class="hole">ident</span><span>.</span></span></code><a class="headerlink" href="#coq:exn.no-argument-name-ident" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="coq exn">
<dt id="coq:exn.cannot-use-mutual-definition-with-well-founded-recursion-or-measure">
<em class="property"><span class="sigannot">Error</span></em> <code class="sig-name descname"><span class="notation"><span>Cannot</span> <span>use</span> <span>mutual</span> <span>definition</span> <span>with</span> <span>well-founded</span> <span>recursion</span> <span>or</span> <span>measure.</span></span></code><a class="headerlink" href="#coq:exn.cannot-use-mutual-definition-with-well-founded-recursion-or-measure" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="coq warn">
<dt id="coq:warn.cannot-define-graph-for-ident">
<em class="property"><span class="sigannot">Warning</span></em> <code class="sig-name descname"><span class="notation"><span>Cannot</span> <span>define</span> <span>graph</span> <span>for</span> <span class="hole">ident</span><span>.</span></span></code><a class="headerlink" href="#coq:warn.cannot-define-graph-for-ident" title="Permalink to this definition">¶</a></dt>
<dd><p>The generation of the graph relation (<code class="docutils literal notranslate"><span class="notation"><span><span class="pre">R</span></span><span><span class="pre">_</span></span><span class="hole"><span class="pre">ident</span></span></span></code>) used to compute the induction scheme of ident
raised a typing error. Only <code class="xref std std-token docutils literal notranslate"><span class="pre">ident</span></code> is defined; the induction scheme
will not be generated. This error happens generally when:</p>
<ul class="simple">
<li><p>the definition uses pattern matching on dependent types,
which <code class="docutils literal notranslate"><span class="pre">Function</span></code> cannot deal with yet.</p></li>
<li><p>the definition is not a <em>pattern matching tree</em> as explained above.</p></li>
</ul>
</dd></dl>

<dl class="coq warn">
<dt id="coq:warn.cannot-define-principle-s-for-ident">
<em class="property"><span class="sigannot">Warning</span></em> <code class="sig-name descname"><span class="notation"><span>Cannot</span> <span>define</span> <span>principle(s)</span> <span>for</span> <span class="hole">ident</span><span>.</span></span></code><a class="headerlink" href="#coq:warn.cannot-define-principle-s-for-ident" title="Permalink to this definition">¶</a></dt>
<dd><p>The generation of the graph relation (<code class="docutils literal notranslate"><span class="notation"><span><span class="pre">R</span></span><span><span class="pre">_</span></span><span class="hole"><span class="pre">ident</span></span></span></code>) succeeded but the induction principle
could not be built. Only <code class="xref std std-token docutils literal notranslate"><span class="pre">ident</span></code> is defined. Please report.</p>
</dd></dl>

<dl class="coq warn">
<dt id="coq:warn.cannot-build-functional-inversion-principle">
<em class="property"><span class="sigannot">Warning</span></em> <code class="sig-name descname"><span class="notation"><span>Cannot</span> <span>build</span> <span>functional</span> <span>inversion</span> <span>principle.</span></span></code><a class="headerlink" href="#coq:warn.cannot-build-functional-inversion-principle" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference internal" href="../proof-engine/tactics.html#coq:tacn.functional-inversion" title="functional inversion"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">functional</span> <span class="pre">inversion</span></code></a> will not be available for the function.</p>
</dd></dl>

<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../user-extensions/proof-schemes.html#functional-scheme"><span class="std std-ref">Generation of induction principles with Functional Scheme</span></a> and <a class="reference internal" href="../proof-engine/tactics.html#coq:tacn.function-induction" title="function induction"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">function</span> <span class="pre">induction</span></code></a></p>
</div>
<p>Depending on the <code class="docutils literal notranslate"><span class="pre">{…}</span></code> annotation, different definition mechanisms are
used by <code class="docutils literal notranslate"><span class="pre">Function</span></code>. A more precise description is given below.</p>
<dl class="coq cmdv">
<dt>
<em class="property"><span class="sigannot">Variant</span></em> <code class="sig-name descname"><span class="notation"><span>Function</span> <span class="hole">ident</span> <span class="repeat-wrapper"><span class="repeat"><span class="hole">binder</span></span><span class="notation-sup">*</span></span> <span>:</span> <a class="reference internal" href="gallina-specification-language.html#grammar-token-type"><span class="hole">type</span></a> <span>:=</span> <span class="hole">term</span></span></code></dt>
<dd><p>Defines the not recursive function <code class="xref std std-token docutils literal notranslate"><span class="pre">ident</span></code> as if declared with
<a class="reference internal" href="gallina-specification-language.html#coq:cmd.definition" title="Definition"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Definition</span></code></a>. Moreover the following are defined:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="xref std std-token docutils literal notranslate"><span class="pre">ident</span></code><code class="docutils literal notranslate"><span class="pre">_rect</span></code>, <code class="xref std std-token docutils literal notranslate"><span class="pre">ident</span></code><code class="docutils literal notranslate"><span class="pre">_rec</span></code> and <code class="xref std std-token docutils literal notranslate"><span class="pre">ident</span></code><code class="docutils literal notranslate"><span class="pre">_ind</span></code>,
which reflect the pattern matching structure of <code class="xref std std-token docutils literal notranslate"><span class="pre">term</span></code> (see <a class="reference internal" href="gallina-specification-language.html#coq:cmd.inductive" title="Inductive"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Inductive</span></code></a>);</p></li>
<li><p>The inductive <code class="docutils literal notranslate"><span class="notation"><span><span class="pre">R</span></span><span><span class="pre">_</span></span><span class="hole"><span class="pre">ident</span></span></span></code> corresponding to the graph of <code class="xref std std-token docutils literal notranslate"><span class="pre">ident</span></code> (silently);</p></li>
<li><p><code class="xref std std-token docutils literal notranslate"><span class="pre">ident</span></code><code class="docutils literal notranslate"><span class="pre">_complete</span></code> and <code class="xref std std-token docutils literal notranslate"><span class="pre">ident</span></code><code class="docutils literal notranslate"><span class="pre">_correct</span></code> which
are inversion information linking the function and its graph.</p></li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="coq cmdv">
<dt>
<em class="property"><span class="sigannot">Variant</span></em> <code class="sig-name descname"><span class="notation"><span>Function</span> <span class="hole">ident</span> <span class="repeat-wrapper"><span class="repeat"><span class="hole">binder</span></span><span class="notation-sup">*</span></span> <span class="curlies">{ <span>struct</span> <span class="hole">ident</span> }</span> <span>:</span> <a class="reference internal" href="gallina-specification-language.html#grammar-token-type"><span class="hole">type</span></a> <span>:=</span> <span class="hole">term</span></span></code></dt>
<dd><p>Defines the structural recursive function <code class="xref std std-token docutils literal notranslate"><span class="pre">ident</span></code> as if declared
with <a class="reference internal" href="gallina-specification-language.html#coq:cmd.fixpoint" title="Fixpoint"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Fixpoint</span></code></a>. Moreover the following are defined:</p>
<blockquote>
<div><ul class="simple">
<li><p>The same objects as above;</p></li>
<li><p>The fixpoint equation of <code class="xref std std-token docutils literal notranslate"><span class="pre">ident</span></code>: <code class="xref std std-token docutils literal notranslate"><span class="pre">ident</span></code><code class="docutils literal notranslate"><span class="pre">_equation</span></code>.</p></li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="coq cmdv">
<dt>
<em class="property"><span class="sigannot">Variant</span></em> <code class="sig-name descname"><span class="notation"><span>Function</span> <span class="hole">ident</span> <span class="repeat-wrapper"><span class="repeat"><span class="hole">binder</span></span><span class="notation-sup">*</span></span> <span class="curlies">{ <span>measure</span> <span class="hole">term</span> <span class="hole">ident</span> }</span> <span>:</span> <a class="reference internal" href="gallina-specification-language.html#grammar-token-type"><span class="hole">type</span></a> <span>:=</span> <span class="hole">term</span></span></code></dt>
<dt>
<em class="property"><span class="sigannot">Variant</span></em> <code class="sig-name descname"><span class="notation"><span>Function</span> <span class="hole">ident</span> <span class="repeat-wrapper"><span class="repeat"><span class="hole">binder</span></span><span class="notation-sup">*</span></span> <span class="curlies">{ <span>wf</span> <span class="hole">term</span> <span class="hole">ident</span> }</span> <span>:</span> <a class="reference internal" href="gallina-specification-language.html#grammar-token-type"><span class="hole">type</span></a> <span>:=</span> <span class="hole">term</span></span></code></dt>
<dd><p>Defines a recursive function by well-founded recursion. The module <code class="docutils literal notranslate"><span class="pre">Recdef</span></code>
of the standard library must be loaded for this feature. The <code class="docutils literal notranslate"><span class="pre">{}</span></code>
annotation is mandatory and must be one of the following:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="notation"><span class="curlies"><span class="pre">{</span><span><span class="pre">measure</span></span> <span class="hole"><span class="pre">term</span></span> <span class="hole"><span class="pre">ident</span></span> <span class="pre">}</span></span></span></code> with <code class="xref std std-token docutils literal notranslate"><span class="pre">ident</span></code> being the decreasing argument
and <code class="xref std std-token docutils literal notranslate"><span class="pre">term</span></code> being a function from type of <code class="xref std std-token docutils literal notranslate"><span class="pre">ident</span></code> to <code class="code highlight coq docutils literal notranslate"><span class="name"><span class="pre">nat</span></span></code> for which
value on the decreasing argument decreases (for the <code class="code highlight coq docutils literal notranslate"><span class="name"><span class="pre">lt</span></span></code> order on <code class="code highlight coq docutils literal notranslate"><span class="name"><span class="pre">nat</span></span></code>)
at each recursive call of <code class="xref std std-token docutils literal notranslate"><span class="pre">term</span></code>. Parameters of the function are
bound in <code class="xref std std-token docutils literal notranslate"><span class="pre">term</span></code>;</p></li>
<li><p><code class="docutils literal notranslate"><span class="notation"><span class="curlies"><span class="pre">{</span><span><span class="pre">wf</span></span> <span class="hole"><span class="pre">term</span></span> <span class="hole"><span class="pre">ident</span></span> <span class="pre">}</span></span></span></code> with <code class="xref std std-token docutils literal notranslate"><span class="pre">ident</span></code> being the decreasing argument and
<code class="xref std std-token docutils literal notranslate"><span class="pre">term</span></code> an ordering relation on the type of <code class="xref std std-token docutils literal notranslate"><span class="pre">ident</span></code> (i.e. of type
<code class="docutils literal notranslate"><span class="pre">T</span></code><span class="math notranslate nohighlight">\(_{\sf ident}\)</span> → <code class="docutils literal notranslate"><span class="pre">T</span></code><span class="math notranslate nohighlight">\(_{\sf ident}\)</span> → <code class="docutils literal notranslate"><span class="pre">Prop</span></code>) for which the decreasing argument
decreases at each recursive call of <code class="xref std std-token docutils literal notranslate"><span class="pre">term</span></code>. The order must be well-founded.
Parameters of the function are bound in <code class="xref std std-token docutils literal notranslate"><span class="pre">term</span></code>.</p></li>
</ul>
</div></blockquote>
<p>Depending on the annotation, the user is left with some proof
obligations that will be used to define the function. These proofs
are: proofs that each recursive call is actually decreasing with
respect to the given criteria, and (if the criteria is <code class="docutils literal notranslate"><span class="pre">wf</span></code>) a proof
that the ordering relation is well-founded. Once proof obligations are
discharged, the following objects are defined:</p>
<blockquote>
<div><ul class="simple">
<li><p>The same objects as with the struct;</p></li>
<li><p>The lemma <code class="docutils literal notranslate"><span class="pre">ident</span></code><span class="math notranslate nohighlight">\(_{\sf tcc}\)</span> which collects all proof obligations in one
property;</p></li>
<li><p>The lemmas <code class="docutils literal notranslate"><span class="pre">ident</span></code><span class="math notranslate nohighlight">\(_{\sf terminate}\)</span> and <code class="docutils literal notranslate"><span class="pre">ident</span></code><span class="math notranslate nohighlight">\(_{\sf F}\)</span> which is needed to be inlined
during extraction of ident.</p></li>
</ul>
</div></blockquote>
<p>The way this recursive function is defined is the subject of several
papers by Yves Bertot and Antonia Balaa on the one hand, and Gilles
Barthe, Julien Forest, David Pichardie, and Vlad Rusu on the other
hand. Remark: Proof obligations are presented as several subgoals
belonging to a Lemma <code class="docutils literal notranslate"><span class="pre">ident</span></code><span class="math notranslate nohighlight">\(_{\sf tcc}\)</span>.</p>
</dd></dl>

</div>
<div class="section" id="section-mechanism">
<span id="id4"></span><h2>Section mechanism<a class="headerlink" href="#section-mechanism" title="Permalink to this headline">¶</a></h2>
<p>Sections create local contexts which can be shared across multiple definitions.</p>
<div class="admonition note">
<p class="admonition-title">Example</p>
<p>Sections are opened by the <a class="reference internal" href="#coq:cmd.section" title="Section"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Section</span></code></a> command, and closed by <a class="reference internal" href="#coq:cmd.end" title="End"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">End</span></code></a>.</p>
<div class="coqtop literal-block"><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Section</span> <span class="nf">s1</span>.</span></span></span></pre></div><p>Inside a section, local parameters can be introduced using <a class="reference internal" href="#coq:cmd.variable" title="Variable"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Variable</span></code></a>,
<a class="reference internal" href="#coq:cmdv.hypothesis" title="Hypothesis"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Hypothesis</span></code></a>, or <a class="reference internal" href="#coq:cmd.context" title="Context"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Context</span></code></a> (there are also plural variants for
the first two).</p>
<div class="coqtop literal-block"><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Variables</span> <span class="nv">x</span> <span class="nv">y</span> : nat.</span></span></span></pre></div><p>The command <a class="reference internal" href="#coq:cmd.let" title="Let"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Let</span></code></a> introduces section-wide <a class="reference internal" href="gallina-specification-language.html#let-in"><span class="std std-ref">Let-in definitions</span></a>. These definitions
won't persist when the section is closed, and all persistent definitions which
depend on <code class="docutils literal notranslate"><span class="pre">y'</span></code> will be prefixed with <code class="docutils literal notranslate"><span class="pre">let</span> <span class="pre">y'</span> <span class="pre">:=</span> <span class="pre">y</span> <span class="pre">in</span></code>.</p>
<div class="coqtop literal-block"><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Let</span> <span class="nf">y&#39;</span> := y.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">x&#39;</span> := S x.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">x&#39;&#39;</span> := x&#39; + y&#39;.</span></span></span></pre></div><div class="coqtop literal-block"><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><input checked="checked" class="coq-toggle" id="gallina-extensions-rst-chkd" style="display: none" type="checkbox"><label class="coq-input" for="gallina-extensions-rst-chkd"><span class="highlight"><span class="kn">Print</span> x&#39;.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-responses"><blockquote class="coq-response"><span class="highlight">x&#39; = S x
     : nat</span></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input checked="checked" class="coq-toggle" id="gallina-extensions-rst-chke" style="display: none" type="checkbox"><label class="coq-input" for="gallina-extensions-rst-chke"><span class="highlight"><span class="kn">Print</span> x&#39;&#39;.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-responses"><blockquote class="coq-response"><span class="highlight">x&#39;&#39; = x&#39; + y&#39;
     : nat</span></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-nc"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">End</span> <span class="nf">s1</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-nc"><span class="highlight">
</span></span><span class="coq-sentence"><input checked="checked" class="coq-toggle" id="gallina-extensions-rst-chkf" style="display: none" type="checkbox"><label class="coq-input" for="gallina-extensions-rst-chkf"><span class="highlight"><span class="kn">Print</span> x&#39;.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-responses"><blockquote class="coq-response"><span class="highlight">x&#39; = <span class="kr">fun</span> <span class="nv">x</span> : nat =&gt; S x
     : nat -&gt; nat

Argument scope <span class="kr">is</span> [nat_scope]</span></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input checked="checked" class="coq-toggle" id="gallina-extensions-rst-chk10" style="display: none" type="checkbox"><label class="coq-input" for="gallina-extensions-rst-chk10"><span class="highlight"><span class="kn">Print</span> x&#39;&#39;.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-responses"><blockquote class="coq-response"><span class="highlight">x&#39;&#39; = 
<span class="kr">fun</span> <span class="nv">x</span> <span class="nv">y</span> : nat =&gt; <span class="kr">let</span> <span class="nv">y&#39;</span> := y <span class="kr">in</span> x&#39; x + y&#39;
     : nat -&gt; nat -&gt; nat

Argument scopes are [nat_scope nat_scope]</span></blockquote></div></div></small></span></pre></div><p>Notice the difference between the value of <code class="code highlight coq docutils literal notranslate"><span class="name"><span class="pre">x'</span></span></code> and <code class="code highlight coq docutils literal notranslate"><span class="name"><span class="pre">x''</span></span></code> inside section
<code class="code highlight coq docutils literal notranslate"><span class="name"><span class="pre">s1</span></span></code> and outside.</p>
</div>
<dl class="coq cmd">
<dt id="coq:cmd.section">
<em class="property"><span class="sigannot">Command</span></em> <code class="sig-name descname"><span class="notation"><span>Section</span> <span class="hole">ident</span></span></code><a class="headerlink" href="#coq:cmd.section" title="Permalink to this definition">¶</a></dt>
<dd><p>This command is used to open a section named <code class="xref std std-token docutils literal notranslate"><span class="pre">ident</span></code>.
Section names do not need to be unique.</p>
</dd></dl>

<dl class="coq cmd">
<dt id="coq:cmd.end">
<em class="property"><span class="sigannot">Command</span></em> <code class="sig-name descname"><span class="notation"><span>End</span> <span class="hole">ident</span></span></code><a class="headerlink" href="#coq:cmd.end" title="Permalink to this definition">¶</a></dt>
<dd><p>This command closes the section named <code class="xref std std-token docutils literal notranslate"><span class="pre">ident</span></code>. After closing of the
section, the local declarations (variables and local definitions, see <a class="reference internal" href="#coq:cmd.variable" title="Variable"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Variable</span></code></a>) get
<em>discharged</em>, meaning that they stop being visible and that all global
objects defined in the section are generalized with respect to the
variables and local definitions they each depended on in the section.</p>
<dl class="coq exn">
<dt id="coq:exn.this-is-not-the-last-opened-section">
<em class="property"><span class="sigannot">Error</span></em> <code class="sig-name descname"><span class="notation"><span>This</span> <span>is</span> <span>not</span> <span>the</span> <span>last</span> <span>opened</span> <span>section.</span></span></code><a class="headerlink" href="#coq:exn.this-is-not-the-last-opened-section" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Most commands, like <a class="reference internal" href="../proof-engine/tactics.html#coq:cmd.hint" title="Hint"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Hint</span></code></a>, <a class="reference internal" href="../user-extensions/syntax-extensions.html#coq:cmd.notation" title="Notation"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Notation</span></code></a>, option management, … which
appear inside a section are canceled when the section is closed.</p>
</div>
<dl class="coq cmd">
<dt id="coq:cmd.variable">
<em class="property"><span class="sigannot">Command</span></em> <code class="sig-name descname"><span class="notation"><span>Variable</span> <span class="hole">ident</span> <span>:</span> <a class="reference internal" href="gallina-specification-language.html#grammar-token-type"><span class="hole">type</span></a></span></code><a class="headerlink" href="#coq:cmd.variable" title="Permalink to this definition">¶</a></dt>
<dd><p>This command links <a class="reference internal" href="gallina-specification-language.html#grammar-token-type"><code class="xref std std-token docutils literal notranslate"><span class="pre">type</span></code></a> to the name <code class="xref std std-token docutils literal notranslate"><span class="pre">ident</span></code> in the context of
the current section. When the current section is closed, name <code class="xref std std-token docutils literal notranslate"><span class="pre">ident</span></code>
will be unknown and every object using this variable will be explicitly
parameterized (the variable is <em>discharged</em>).</p>
<dl class="coq exn">
<dt id="coq:exn.ident-already-exists-variable">
<em class="property"><span class="sigannot">Error</span></em> <code class="sig-name descname"><span class="notation"><span class="hole">ident</span> <span>already</span> <span>exists.</span></span></code><a class="headerlink" href="#coq:exn.ident-already-exists-variable" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="coq cmdv">
<dt>
<em class="property"><span class="sigannot">Variant</span></em> <code class="sig-name descname"><span class="notation"><span>Variable</span> <span class="repeat-wrapper"><span class="repeat"><span class="hole">ident</span></span><span class="notation-sup">+</span></span> <span>:</span> <a class="reference internal" href="gallina-specification-language.html#grammar-token-type"><span class="hole">type</span></a></span></code></dt>
<dd><p>Links <a class="reference internal" href="gallina-specification-language.html#grammar-token-type"><code class="xref std std-token docutils literal notranslate"><span class="pre">type</span></code></a> to each <code class="xref std std-token docutils literal notranslate"><span class="pre">ident</span></code>.</p>
</dd></dl>

<dl class="coq cmdv">
<dt>
<em class="property"><span class="sigannot">Variant</span></em> <code class="sig-name descname"><span class="notation"><span>Variable</span> <span class="repeat-wrapper"><span class="repeat"><span>(</span> <span class="repeat-wrapper"><span class="repeat"><span class="hole">ident</span></span><span class="notation-sup">+</span></span> <span>:</span> <a class="reference internal" href="gallina-specification-language.html#grammar-token-type"><span class="hole">type</span></a> <span>)</span></span><span class="notation-sup">+</span></span></span></code></dt>
<dd><p>Declare one or more variables with various types.</p>
</dd></dl>

<dl class="coq cmdv">
<dt id="coq:cmdv.variables">
<em class="property"><span class="sigannot">Variant</span></em> <code class="sig-name descname"><span class="notation"><span>Variables</span> <span class="repeat-wrapper"><span class="repeat"><span>(</span> <span class="repeat-wrapper"><span class="repeat"><span class="hole">ident</span></span><span class="notation-sup">+</span></span> <span>:</span> <a class="reference internal" href="gallina-specification-language.html#grammar-token-type"><span class="hole">type</span></a><span>)</span></span><span class="notation-sup">+</span></span></span></code><a class="headerlink" href="#coq:cmdv.variables" title="Permalink to this definition">¶</a></dt>
<dt id="coq:cmdv.hypothesis">
<em class="property"><span class="sigannot">Variant</span></em> <code class="sig-name descname"><span class="notation"><span>Hypothesis</span> <span class="repeat-wrapper"><span class="repeat"><span>(</span> <span class="repeat-wrapper"><span class="repeat"><span class="hole">ident</span></span><span class="notation-sup">+</span></span> <span>:</span> <a class="reference internal" href="gallina-specification-language.html#grammar-token-type"><span class="hole">type</span></a><span>)</span></span><span class="notation-sup">+</span></span></span></code><a class="headerlink" href="#coq:cmdv.hypothesis" title="Permalink to this definition">¶</a></dt>
<dt id="coq:cmdv.hypotheses">
<em class="property"><span class="sigannot">Variant</span></em> <code class="sig-name descname"><span class="notation"><span>Hypotheses</span> <span class="repeat-wrapper"><span class="repeat"><span>(</span> <span class="repeat-wrapper"><span class="repeat"><span class="hole">ident</span></span><span class="notation-sup">+</span></span> <span>:</span> <a class="reference internal" href="gallina-specification-language.html#grammar-token-type"><span class="hole">type</span></a><span>)</span></span><span class="notation-sup">+</span></span></span></code><a class="headerlink" href="#coq:cmdv.hypotheses" title="Permalink to this definition">¶</a></dt>
<dd><p>These variants are synonyms of <code class="docutils literal notranslate"><span class="notation"><span><span class="pre">Variable</span></span> <span class="repeat-wrapper"><span class="repeat"><span><span class="pre">(</span></span> <span class="repeat-wrapper"><span class="repeat"><span class="hole"><span class="pre">ident</span></span></span><span class="notation-sup"><span class="pre">+</span></span></span> <span><span class="pre">:</span></span> <a class="reference internal" href="gallina-specification-language.html#grammar-token-type"><span class="hole"><span class="pre">type</span></span></a><span><span class="pre">)</span></span></span><span class="notation-sup"><span class="pre">+</span></span></span></span></code>.</p>
</dd></dl>

</dd></dl>

<dl class="coq cmd">
<dt id="coq:cmd.let">
<em class="property"><span class="sigannot">Command</span></em> <code class="sig-name descname"><span class="notation"><span>Let</span> <span class="hole">ident</span> <span>:=</span> <span class="hole">term</span></span></code><a class="headerlink" href="#coq:cmd.let" title="Permalink to this definition">¶</a></dt>
<dd><p>This command binds the value <code class="xref std std-token docutils literal notranslate"><span class="pre">term</span></code> to the name <code class="xref std std-token docutils literal notranslate"><span class="pre">ident</span></code> in the
environment of the current section. The name <code class="xref std std-token docutils literal notranslate"><span class="pre">ident</span></code> is accessible
only within the current section. When the section is closed, all persistent
definitions and theorems within it and depending on <code class="xref std std-token docutils literal notranslate"><span class="pre">ident</span></code>
will be prefixed by the let-in definition <code class="docutils literal notranslate"><span class="notation"><span><span class="pre">let</span></span> <span class="hole"><span class="pre">ident</span></span><span><span class="pre"> := </span></span><span class="hole"><span class="pre">term</span></span> <span><span class="pre">in</span></span></span></code>.</p>
<dl class="coq exn">
<dt id="coq:exn.ident-already-exists-let">
<em class="property"><span class="sigannot">Error</span></em> <code class="sig-name descname"><span class="notation"><span class="hole">ident</span> <span>already</span> <span>exists.</span></span></code><a class="headerlink" href="#coq:exn.ident-already-exists-let" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="coq cmdv">
<dt>
<em class="property"><span class="sigannot">Variant</span></em> <code class="sig-name descname"><span class="notation"><span>Let</span> <span class="hole">ident</span> <span class="repeat-wrapper"><span class="repeat"><span class="hole">binders</span></span><span class="notation-sup">?</span></span> <span class="repeat-wrapper"><span class="repeat"><span>:</span> <a class="reference internal" href="gallina-specification-language.html#grammar-token-type"><span class="hole">type</span></a></span><span class="notation-sup">?</span></span> <span>:=</span> <span class="hole">term</span></span></code></dt>
<dd></dd></dl>

<dl class="coq cmdv">
<dt id="coq:cmdv.let-fixpoint">
<em class="property"><span class="sigannot">Variant</span></em> <code class="sig-name descname"><span class="notation"><span>Let</span> <span>Fixpoint</span> <span class="hole">ident</span> <span class="hole">fix_body</span> <span class="repeat-wrapper"><span class="repeat"><span>with</span> <span class="hole">fix_body</span></span><span class="notation-sup">*</span></span></span></code><a class="headerlink" href="#coq:cmdv.let-fixpoint" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="coq cmdv">
<dt id="coq:cmdv.let-cofixpoint">
<em class="property"><span class="sigannot">Variant</span></em> <code class="sig-name descname"><span class="notation"><span>Let</span> <span>CoFixpoint</span> <span class="hole">ident</span> <span class="hole">cofix_body</span> <span class="repeat-wrapper"><span class="repeat"><span>with</span> <span class="hole">cofix_body</span></span><span class="notation-sup">*</span></span></span></code><a class="headerlink" href="#coq:cmdv.let-cofixpoint" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="coq cmd">
<dt id="coq:cmd.context">
<em class="property"><span class="sigannot">Command</span></em> <code class="sig-name descname"><span class="notation"><span>Context</span> <span class="hole">binders</span></span></code><a class="headerlink" href="#coq:cmd.context" title="Permalink to this definition">¶</a></dt>
<dd><p>Declare variables in the context of the current section, like <a class="reference internal" href="#coq:cmd.variable" title="Variable"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Variable</span></code></a>,
but also allowing implicit variables, <a class="reference internal" href="#implicit-generalization"><span class="std std-ref">Implicit generalization</span></a>, and
let-binders.</p>
<div class="highlight-coq notranslate"><div class="highlight"><pre><span></span><span class="kn">Context</span> <span class="o">{</span><span class="nv">A</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">}</span> <span class="o">(</span><span class="nv">a</span> <span class="nv">b</span> <span class="o">:</span> <span class="n">A</span><span class="o">).</span>
<span class="kn">Context</span> <span class="o">`{</span><span class="n">EqDec</span> <span class="n">A</span><span class="o">}.</span>
<span class="kn">Context</span> <span class="o">(</span><span class="nv">b&#39;</span> <span class="o">:=</span> <span class="n">b</span><span class="o">).</span>
</pre></div>
</div>
</dd></dl>

<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>Section <a class="reference internal" href="gallina-specification-language.html#binders"><span class="std std-ref">Binders</span></a>. Section <a class="reference internal" href="../addendum/type-classes.html#contexts"><span class="std std-ref">Sections and contexts</span></a> in chapter <a class="reference internal" href="../addendum/type-classes.html#typeclasses"><span class="std std-ref">Typeclasses</span></a>.</p>
</div>
</div>
<div class="section" id="module-system">
<h2>Module system<a class="headerlink" href="#module-system" title="Permalink to this headline">¶</a></h2>
<p>The module system provides a way of packaging related elements
together, as well as a means of massive abstraction.</p>
<blockquote>
<div><pre>
<strong id="grammar-token-modules-module_type"><span id="grammar-token-module-type"></span>module_type      </strong> ::=  <code class="xref docutils literal notranslate"><span class="pre">qualid</span></code>
                       <code class="xref docutils literal notranslate"><span class="pre">module_type</span></code> with Definition <code class="xref docutils literal notranslate"><span class="pre">qualid</span></code> := <code class="xref docutils literal notranslate"><span class="pre">term</span></code>
                       <code class="xref docutils literal notranslate"><span class="pre">module_type</span></code> with Module <code class="xref docutils literal notranslate"><span class="pre">qualid</span></code> := <code class="xref docutils literal notranslate"><span class="pre">qualid</span></code>
                       <code class="xref docutils literal notranslate"><span class="pre">qualid</span></code> <code class="xref docutils literal notranslate"><span class="pre">qualid</span></code> … <code class="xref docutils literal notranslate"><span class="pre">qualid</span></code>
                       !<code class="xref docutils literal notranslate"><span class="pre">qualid</span></code> <code class="xref docutils literal notranslate"><span class="pre">qualid</span></code> … <code class="xref docutils literal notranslate"><span class="pre">qualid</span></code>
<strong id="grammar-token-modules-module_binding"><span id="grammar-token-module-binding"></span>module_binding   </strong> ::=  ( [Import|Export] <code class="xref docutils literal notranslate"><span class="pre">ident</span></code> … <code class="xref docutils literal notranslate"><span class="pre">ident</span></code> : <code class="xref docutils literal notranslate"><span class="pre">module_type</span></code> )
<strong id="grammar-token-modules-module_bindings"><span id="grammar-token-module-bindings"></span>module_bindings  </strong> ::=  <code class="xref docutils literal notranslate"><span class="pre">module_binding</span></code> … <code class="xref docutils literal notranslate"><span class="pre">module_binding</span></code>
<strong id="grammar-token-modules-module_expression"><span id="grammar-token-module-expression"></span>module_expression</strong> ::=  <code class="xref docutils literal notranslate"><span class="pre">qualid</span></code> … <code class="xref docutils literal notranslate"><span class="pre">qualid</span></code>
                       !<code class="xref docutils literal notranslate"><span class="pre">qualid</span></code> … <code class="xref docutils literal notranslate"><span class="pre">qualid</span></code>
</pre>
<p>Syntax of modules</p>
</div></blockquote>
<p>In the syntax of module application, the ! prefix indicates that any
<code class="docutils literal notranslate"><span class="pre">Inline</span></code> directive in the type of the functor arguments will be ignored
(see the <a class="reference internal" href="#coq:cmd.module-type" title="Module Type"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Module</span> <span class="pre">Type</span></code></a> command below).</p>
<dl class="coq cmd">
<dt id="coq:cmd.module">
<em class="property"><span class="sigannot">Command</span></em> <code class="sig-name descname"><span class="notation"><span>Module</span> <span class="hole">ident</span></span></code><a class="headerlink" href="#coq:cmd.module" title="Permalink to this definition">¶</a></dt>
<dd><p>This command is used to start an interactive module named <code class="xref std std-token docutils literal notranslate"><span class="pre">ident</span></code>.</p>
</dd></dl>

<dl class="coq cmdv">
<dt>
<em class="property"><span class="sigannot">Variant</span></em> <code class="sig-name descname"><span class="notation"><span>Module</span> <span class="hole">ident</span> <span class="repeat-wrapper"><span class="repeat"><span class="hole">module_binding</span></span><span class="notation-sup">*</span></span></span></code></dt>
<dd><p>Starts an interactive functor with
parameters given by module_bindings.</p>
</dd></dl>

<dl class="coq cmdv">
<dt>
<em class="property"><span class="sigannot">Variant</span></em> <code class="sig-name descname"><span class="notation"><span>Module</span> <span class="hole">ident</span> <span>:</span> <span class="hole">module_type</span></span></code></dt>
<dd><p>Starts an interactive module specifying its module type.</p>
</dd></dl>

<dl class="coq cmdv">
<dt>
<em class="property"><span class="sigannot">Variant</span></em> <code class="sig-name descname"><span class="notation"><span>Module</span> <span class="hole">ident</span> <span class="repeat-wrapper"><span class="repeat"><span class="hole">module_binding</span></span><span class="notation-sup">*</span></span> <span>:</span> <span class="hole">module_type</span></span></code></dt>
<dd><p>Starts an interactive functor with parameters given by the list of
<code class="xref std std-token docutils literal notranslate"><span class="pre">module_bindings</span></code>, and output module type <code class="xref std std-token docutils literal notranslate"><span class="pre">module_type</span></code>.</p>
</dd></dl>

<dl class="coq cmdv">
<dt>
<em class="property"><span class="sigannot">Variant</span></em> <code class="sig-name descname"><span class="notation"><span>Module</span> <span class="hole">ident</span> <span>&lt;:</span> <span class="repeat-wrapper"><span class="repeat"><span class="hole">module_type</span></span><span class="notation-sup">+</span><span class="notation-sub">&lt;:</span></span></span></code></dt>
<dd><blockquote>
<div><p>Starts an interactive module satisfying each <code class="xref std std-token docutils literal notranslate"><span class="pre">module_type</span></code>.</p>
</div></blockquote>
<dl class="coq cmdv">
<dt>
<em class="property"><span class="sigannot">Variant</span></em> <code class="sig-name descname"><span class="notation"><span>Module</span> <span class="hole">ident</span> <span class="repeat-wrapper"><span class="repeat"><span class="hole">module_binding</span></span><span class="notation-sup">*</span></span> <span>&lt;:</span> <span class="repeat-wrapper"><span class="repeat"><span class="hole">module_type</span></span><span class="notation-sup">+</span><span class="notation-sub">&lt;:</span></span><span>.</span></span></code></dt>
<dd><p>Starts an interactive functor with parameters given by the list of
<code class="xref std std-token docutils literal notranslate"><span class="pre">module_binding</span></code>. The output module type
is verified against each <code class="xref std std-token docutils literal notranslate"><span class="pre">module_type</span></code>.</p>
</dd></dl>

</dd></dl>

<dl class="coq cmdv">
<dt>
<em class="property"><span class="sigannot">Variant</span></em> <code class="sig-name descname"><span class="notation"><span>Module</span> <span class="alternative"><span class="alternative-block"><span>Import</span></span><span class="alternative-separator">​</span><span class="alternative-block"><span>Export</span></span></span></span></code></dt>
<dd><p>Behaves like <a class="reference internal" href="#coq:cmd.module" title="Module"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Module</span></code></a>, but automatically imports or exports the module.</p>
</dd></dl>

<div class="section" id="reserved-commands-inside-an-interactive-module">
<h3>Reserved commands inside an interactive module<a class="headerlink" href="#reserved-commands-inside-an-interactive-module" title="Permalink to this headline">¶</a></h3>
<dl class="coq cmd">
<dt id="coq:cmd.include">
<em class="property"><span class="sigannot">Command</span></em> <code class="sig-name descname"><span class="notation"><span>Include</span> <span class="hole">module</span></span></code><a class="headerlink" href="#coq:cmd.include" title="Permalink to this definition">¶</a></dt>
<dd><p>Includes the content of module in the current
interactive module. Here module can be a module expression or a module
type expression. If module is a high-order module or module type
expression then the system tries to instantiate module by the current
interactive module.</p>
</dd></dl>

<dl class="coq cmd">
<dt>
<em class="property"><span class="sigannot">Command</span></em> <code class="sig-name descname"><span class="notation"><span>Include</span> <span class="repeat-wrapper"><span class="repeat"><span class="hole">module</span></span><span class="notation-sup">+</span><span class="notation-sub">&lt;+</span></span></span></code></dt>
<dd><p>is a shortcut for the commands <code class="docutils literal notranslate"><span class="notation"><span><span class="pre">Include</span></span> <span class="hole"><span class="pre">module</span></span></span></code> for each <code class="xref std std-token docutils literal notranslate"><span class="pre">module</span></code>.</p>
</dd></dl>

<dl class="coq cmd">
<dt>
<em class="property"><span class="sigannot">Command</span></em> <code class="sig-name descname"><span class="notation"><span>End</span> <span class="hole">ident</span></span></code></dt>
<dd><p>This command closes the interactive module <code class="xref std std-token docutils literal notranslate"><span class="pre">ident</span></code>. If the module type
was given the content of the module is matched against it and an error
is signaled if the matching fails. If the module is basic (is not a
functor) its components (constants, inductive types, submodules etc.)
are now available through the dot notation.</p>
<blockquote>
<div><dl class="coq exn">
<dt id="coq:exn.no-such-label-ident">
<em class="property"><span class="sigannot">Error</span></em> <code class="sig-name descname"><span class="notation"><span>No</span> <span>such</span> <span>label</span> <span class="hole">ident</span><span>.</span></span></code><a class="headerlink" href="#coq:exn.no-such-label-ident" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="coq exn">
<dt id="coq:exn.signature-components-for-label-ident-do-not-match">
<em class="property"><span class="sigannot">Error</span></em> <code class="sig-name descname"><span class="notation"><span>Signature</span> <span>components</span> <span>for</span> <span>label</span> <span class="hole">ident</span> <span>do</span> <span>not</span> <span>match.</span></span></code><a class="headerlink" href="#coq:exn.signature-components-for-label-ident-do-not-match" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="coq exn">
<dt id="coq:exn.this-is-not-the-last-opened-module">
<em class="property"><span class="sigannot">Error</span></em> <code class="sig-name descname"><span class="notation"><span>This</span> <span>is</span> <span>not</span> <span>the</span> <span>last</span> <span>opened</span> <span>module.</span></span></code><a class="headerlink" href="#coq:exn.this-is-not-the-last-opened-module" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div></blockquote>
</dd></dl>

<dl class="coq cmd">
<dt>
<em class="property"><span class="sigannot">Command</span></em> <code class="sig-name descname"><span class="notation"><span>Module</span> <span class="hole">ident</span> <span>:=</span> <span class="hole">module_expression</span></span></code></dt>
<dd><p>This command defines the module identifier <code class="xref std std-token docutils literal notranslate"><span class="pre">ident</span></code> to be equal
to <code class="xref std std-token docutils literal notranslate"><span class="pre">module_expression</span></code>.</p>
<dl class="coq cmdv">
<dt>
<em class="property"><span class="sigannot">Variant</span></em> <code class="sig-name descname"><span class="notation"><span>Module</span> <span class="hole">ident</span> <span class="repeat-wrapper"><span class="repeat"><span class="hole">module_binding</span></span><span class="notation-sup">*</span></span> <span>:=</span> <span class="hole">module_expression</span></span></code></dt>
<dd><p>Defines a functor with parameters given by the list of <code class="xref std std-token docutils literal notranslate"><span class="pre">module_binding</span></code> and body <code class="xref std std-token docutils literal notranslate"><span class="pre">module_expression</span></code>.</p>
</dd></dl>

<dl class="coq cmdv">
<dt>
<em class="property"><span class="sigannot">Variant</span></em> <code class="sig-name descname"><span class="notation"><span>Module</span> <span class="hole">ident</span> <span class="repeat-wrapper"><span class="repeat"><span class="hole">module_binding</span></span><span class="notation-sup">*</span></span> <span>:</span> <span class="hole">module_type</span> <span>:=</span> <span class="hole">module_expression</span></span></code></dt>
<dd><p>Defines a functor with parameters given by the list of <code class="xref std std-token docutils literal notranslate"><span class="pre">module_binding</span></code> (possibly none), and output module type <code class="xref std std-token docutils literal notranslate"><span class="pre">module_type</span></code>,
with body <code class="xref std std-token docutils literal notranslate"><span class="pre">module_expression</span></code>.</p>
</dd></dl>

<dl class="coq cmdv">
<dt>
<em class="property"><span class="sigannot">Variant</span></em> <code class="sig-name descname"><span class="notation"><span>Module</span> <span class="hole">ident</span> <span class="repeat-wrapper"><span class="repeat"><span class="hole">module_binding</span></span><span class="notation-sup">*</span></span> <span>&lt;:</span> <span class="repeat-wrapper"><span class="repeat"><span class="hole">module_type</span></span><span class="notation-sup">+</span><span class="notation-sub">&lt;:</span></span> <span>:=</span> <span class="hole">module_expression</span></span></code></dt>
<dd><p>Defines a functor with parameters given by module_bindings (possibly none) with body <code class="xref std std-token docutils literal notranslate"><span class="pre">module_expression</span></code>.
The body is checked against each <code class="docutils literal notranslate"><span class="notation"><span class="hole"><span class="pre">module_type</span><sub><span class="pre">i</span></sub></span></span></code>.</p>
</dd></dl>

<dl class="coq cmdv">
<dt>
<em class="property"><span class="sigannot">Variant</span></em> <code class="sig-name descname"><span class="notation"><span>Module</span> <span class="hole">ident</span> <span class="repeat-wrapper"><span class="repeat"><span class="hole">module_binding</span></span><span class="notation-sup">*</span></span> <span>:=</span> <span class="repeat-wrapper"><span class="repeat"><span class="hole">module_expression</span></span><span class="notation-sup">+</span><span class="notation-sub">&lt;+</span></span></span></code></dt>
<dd><p>is equivalent to an interactive module where each <code class="xref std std-token docutils literal notranslate"><span class="pre">module_expression</span></code> is included.</p>
</dd></dl>

</dd></dl>

<dl class="coq cmd">
<dt id="coq:cmd.module-type">
<em class="property"><span class="sigannot">Command</span></em> <code class="sig-name descname"><span class="notation"><span>Module</span> <span>Type</span> <span class="hole">ident</span></span></code><a class="headerlink" href="#coq:cmd.module-type" title="Permalink to this definition">¶</a></dt>
<dd><p>This command is used to start an interactive module type <code class="xref std std-token docutils literal notranslate"><span class="pre">ident</span></code>.</p>
<dl class="coq cmdv">
<dt>
<em class="property"><span class="sigannot">Variant</span></em> <code class="sig-name descname"><span class="notation"><span>Module</span> <span>Type</span> <span class="hole">ident</span> <span class="repeat-wrapper"><span class="repeat"><span class="hole">module_binding</span></span><span class="notation-sup">*</span></span></span></code></dt>
<dd><p>Starts an interactive functor type with parameters given by <code class="xref std std-token docutils literal notranslate"><span class="pre">module_bindings</span></code>.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="reserved-commands-inside-an-interactive-module-type">
<h3>Reserved commands inside an interactive module type:<a class="headerlink" href="#reserved-commands-inside-an-interactive-module-type" title="Permalink to this headline">¶</a></h3>
<dl class="coq cmd">
<dt>
<em class="property"><span class="sigannot">Command</span></em> <code class="sig-name descname"><span class="notation"><span>Include</span> <span class="hole">module</span></span></code></dt>
<dd><p>Same as <code class="docutils literal notranslate"><span class="pre">Include</span></code> inside a module.</p>
</dd></dl>

<dl class="coq cmd">
<dt>
<em class="property"><span class="sigannot">Command</span></em> <code class="sig-name descname"><span class="notation"><span>Include</span> <span class="repeat-wrapper"><span class="repeat"><span class="hole">module</span></span><span class="notation-sup">+</span><span class="notation-sub">&lt;+</span></span></span></code></dt>
<dd><p>This is a shortcut for the command <code class="docutils literal notranslate"><span class="notation"><span><span class="pre">Include</span></span> <span class="hole"><span class="pre">module</span></span></span></code> for each <code class="xref std std-token docutils literal notranslate"><span class="pre">module</span></code>.</p>
</dd></dl>

<dl class="coq cmd">
<dt id="coq:cmd.inline">
<em class="property"><span class="sigannot">Command</span></em> <code class="sig-name descname"><span class="notation"><span class="hole">assumption_keyword</span> <span>Inline</span> <span class="hole">assums</span></span></code><a class="headerlink" href="#coq:cmd.inline" title="Permalink to this definition">¶</a></dt>
<dd><p>The instance of this assumption will be automatically expanded at functor application, except when
this functor application is prefixed by a <code class="docutils literal notranslate"><span class="pre">!</span></code> annotation.</p>
</dd></dl>

<dl class="coq cmd">
<dt>
<em class="property"><span class="sigannot">Command</span></em> <code class="sig-name descname"><span class="notation"><span>End</span> <span class="hole">ident</span></span></code></dt>
<dd><p>This command closes the interactive module type <code class="xref std std-token docutils literal notranslate"><span class="pre">ident</span></code>.</p>
<dl class="coq exn">
<dt id="coq:exn.this-is-not-the-last-opened-module-type">
<em class="property"><span class="sigannot">Error</span></em> <code class="sig-name descname"><span class="notation"><span>This</span> <span>is</span> <span>not</span> <span>the</span> <span>last</span> <span>opened</span> <span>module</span> <span>type.</span></span></code><a class="headerlink" href="#coq:exn.this-is-not-the-last-opened-module-type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="coq cmd">
<dt>
<em class="property"><span class="sigannot">Command</span></em> <code class="sig-name descname"><span class="notation"><span>Module</span> <span>Type</span> <span class="hole">ident</span> <span>:=</span> <span class="hole">module_type</span></span></code></dt>
<dd><p>Defines a module type <code class="xref std std-token docutils literal notranslate"><span class="pre">ident</span></code> equal to <code class="xref std std-token docutils literal notranslate"><span class="pre">module_type</span></code>.</p>
<blockquote>
<div><dl class="coq cmdv">
<dt>
<em class="property"><span class="sigannot">Variant</span></em> <code class="sig-name descname"><span class="notation"><span>Module</span> <span>Type</span> <span class="hole">ident</span> <span class="repeat-wrapper"><span class="repeat"><span class="hole">module_binding</span></span><span class="notation-sup">*</span></span> <span>:=</span> <span class="hole">module_type</span></span></code></dt>
<dd><p>Defines a functor type <code class="xref std std-token docutils literal notranslate"><span class="pre">ident</span></code> specifying functors taking arguments <code class="xref std std-token docutils literal notranslate"><span class="pre">module_bindings</span></code> and
returning <code class="xref std std-token docutils literal notranslate"><span class="pre">module_type</span></code>.</p>
</dd></dl>

<dl class="coq cmdv">
<dt>
<em class="property"><span class="sigannot">Variant</span></em> <code class="sig-name descname"><span class="notation"><span>Module</span> <span>Type</span> <span class="hole">ident</span> <span class="repeat-wrapper"><span class="repeat"><span class="hole">module_binding</span></span><span class="notation-sup">*</span></span> <span>:=</span> <span class="repeat-wrapper"><span class="repeat"><span class="hole">module_type</span></span><span class="notation-sup">+</span><span class="notation-sub">&lt;+</span></span></span></code></dt>
<dd><p>is equivalent to an interactive module type were each <code class="xref std std-token docutils literal notranslate"><span class="pre">module_type</span></code> is included.</p>
</dd></dl>

</div></blockquote>
</dd></dl>

<dl class="coq cmd">
<dt id="coq:cmd.declare-module">
<em class="property"><span class="sigannot">Command</span></em> <code class="sig-name descname"><span class="notation"><span>Declare</span> <span>Module</span> <span class="hole">ident</span> <span>:</span> <span class="hole">module_type</span></span></code><a class="headerlink" href="#coq:cmd.declare-module" title="Permalink to this definition">¶</a></dt>
<dd><p>Declares a module <code class="xref std std-token docutils literal notranslate"><span class="pre">ident</span></code> of type <code class="xref std std-token docutils literal notranslate"><span class="pre">module_type</span></code>.</p>
<blockquote>
<div><dl class="coq cmdv">
<dt>
<em class="property"><span class="sigannot">Variant</span></em> <code class="sig-name descname"><span class="notation"><span>Declare</span> <span>Module</span> <span class="hole">ident</span> <span class="repeat-wrapper"><span class="repeat"><span class="hole">module_binding</span></span><span class="notation-sup">*</span></span> <span>:</span> <span class="hole">module_type</span></span></code></dt>
<dd><p>Declares a functor with parameters given by the list of <code class="xref std std-token docutils literal notranslate"><span class="pre">module_binding</span></code> and output module type
<code class="xref std std-token docutils literal notranslate"><span class="pre">module_type</span></code>.</p>
</dd></dl>

</div></blockquote>
</dd></dl>

<div class="admonition note">
<p class="admonition-title">Example</p>
<p>Let us define a simple module.</p>
<div class="coqtop literal-block"><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Module</span> <span class="nf">M</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-nc"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">T</span> := nat.</span></span><span class="coq-wsp">
</span></span><span class="coq-nc"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">x</span> := <span class="mi">0</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-nc"><span class="highlight">
</span></span><span class="coq-sentence"><input checked="checked" class="coq-toggle" id="gallina-extensions-rst-chk11" style="display: none" type="checkbox"><label class="coq-input" for="gallina-extensions-rst-chk11"><span class="highlight"><span class="kn">Definition</span> <span class="nf">y</span> : bool.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"></div><label class="goal-separator"><hr></label><div class="goal-conclusion"><span class="highlight">bool</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-nc"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="bp">exact</span> true.</span></span><span class="coq-wsp">
</span></span><span class="coq-nc"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Defined</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-nc"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">End</span> <span class="nf">M</span>.</span></span></span></pre></div></div>
<p>Inside a module one can define constants, prove theorems and do any
other things that can be done in the toplevel. Components of a closed
module can be accessed using the dot notation:</p>
<div class="coqtop literal-block"><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><input checked="checked" class="coq-toggle" id="gallina-extensions-rst-chk12" style="display: none" type="checkbox"><label class="coq-input" for="gallina-extensions-rst-chk12"><span class="highlight"><span class="kn">Print</span> M.x.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-responses"><blockquote class="coq-response"><span class="highlight">M.x = <span class="mi">0</span>
     : nat</span></blockquote></div></div></small></span></pre></div><p>A simple module type:</p>
<div class="coqtop literal-block"><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Module Type</span> <span class="nf">SIG</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-nc"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Parameter</span> <span class="nv">T</span> : <span class="kt">Set</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-nc"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Parameter</span> <span class="nv">x</span> : T.</span></span><span class="coq-wsp">
</span></span><span class="coq-nc"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">End</span> <span class="nf">SIG</span>.</span></span></span></pre></div><p>Now we can create a new module from M, giving it a less precise
specification: the y component is dropped as well as the body of x.</p>
<div class="coqtop literal-block"><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Module</span> <span class="nf">N</span> : SIG <span class="kr">with</span> <span class="kn">Definition</span> <span class="nf">T</span> := nat := M.</span></span><span class="coq-wsp">
</span></span><span class="coq-nc"><span class="highlight">
</span></span><span class="coq-sentence"><input checked="checked" class="coq-toggle" id="gallina-extensions-rst-chk13" style="display: none" type="checkbox"><label class="coq-input" for="gallina-extensions-rst-chk13"><span class="highlight"><span class="kn">Print</span> N.T.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-responses"><blockquote class="coq-response"><span class="highlight">N.T = nat
     : <span class="kt">Set</span></span></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-nc"><span class="highlight">
</span></span><span class="coq-sentence"><input checked="checked" class="coq-toggle" id="gallina-extensions-rst-chk14" style="display: none" type="checkbox"><label class="coq-input" for="gallina-extensions-rst-chk14"><span class="highlight"><span class="kn">Print</span> N.x.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-responses"><blockquote class="coq-response"><span class="highlight">*** [ N.x : N.T ]</span></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-nc"><span class="highlight">
</span></span><span class="coq-sentence"><input checked="checked" class="coq-toggle" id="gallina-extensions-rst-chk15" style="display: none" type="checkbox"><label class="coq-input" for="gallina-extensions-rst-chk15"><span class="highlight"><span class="kn">Fail</span> <span class="kn">Print</span> N.y.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-responses"><blockquote class="coq-response"><span class="highlight">The command has indeed failed <span class="kr">with</span> message:
N.y not a defined object.</span></blockquote></div></div></small></span></pre></div><p>The definition of <code class="code highlight coq docutils literal notranslate"><span class="name"><span class="pre">N</span></span></code> using the module type expression <code class="code highlight coq docutils literal notranslate"><span class="name"><span class="pre">SIG</span></span></code> with
<code class="code highlight coq docutils literal notranslate"><span class="keyword namespace"><span class="pre">Definition</span></span> <span class="name function"><span class="pre">T</span></span> <span class="operator"><span class="pre">:=</span></span> <span class="name"><span class="pre">nat</span></span></code> is equivalent to the following one:</p>
<div class="coqtop literal-block"><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Module Type</span> <span class="nf">SIG&#39;</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-nc"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">T</span> : <span class="kt">Set</span> := nat.</span></span><span class="coq-wsp">
</span></span><span class="coq-nc"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Parameter</span> <span class="nv">x</span> : T.</span></span><span class="coq-wsp">
</span></span><span class="coq-nc"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">End</span> <span class="nf">SIG&#39;</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-nc"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Module</span> <span class="nf">N</span> : SIG&#39; := M.</span></span></span></pre></div><p>If we just want to be sure that our implementation satisfies a
given module type without restricting the interface, we can use a
transparent constraint</p>
<div class="coqtop literal-block"><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Module</span> <span class="nf">P</span> &lt;: SIG := M.</span></span><span class="coq-wsp">
</span></span><span class="coq-nc"><span class="highlight">
</span></span><span class="coq-sentence"><input checked="checked" class="coq-toggle" id="gallina-extensions-rst-chk16" style="display: none" type="checkbox"><label class="coq-input" for="gallina-extensions-rst-chk16"><span class="highlight"><span class="kn">Print</span> P.y.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-responses"><blockquote class="coq-response"><span class="highlight">P.y = true
     : bool</span></blockquote></div></div></small></span></pre></div><p>Now let us create a functor, i.e. a parametric module</p>
<div class="coqtop literal-block"><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Module</span> <span class="nf">Two</span> (X Y: SIG).</span></span><span class="coq-wsp">
</span></span><span class="coq-nc"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">T</span> := (X.T * Y.T)%type.</span></span><span class="coq-wsp">
</span></span><span class="coq-nc"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">x</span> := (X.x, Y.x).</span></span><span class="coq-wsp">
</span></span><span class="coq-nc"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">End</span> <span class="nf">Two</span>.</span></span></span></pre></div><p>and apply it to our modules and do some computations:</p>
<div class="coqtop literal-block"><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Module</span> <span class="nf">Q</span> := Two M N.</span></span><span class="coq-wsp">
</span></span><span class="coq-nc"><span class="highlight">
</span></span><span class="coq-sentence"><input checked="checked" class="coq-toggle" id="gallina-extensions-rst-chk17" style="display: none" type="checkbox"><label class="coq-input" for="gallina-extensions-rst-chk17"><span class="highlight"><span class="kn">Eval</span> <span class="nb">compute</span> <span class="kr">in</span> (fst Q.x + snd Q.x).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-responses"><blockquote class="coq-response"><span class="highlight">= N.x
: nat</span></blockquote></div></div></small></span></pre></div><p>In the end, let us define a module type with two sub-modules, sharing
some of the fields and give one of its possible implementations:</p>
<div class="coqtop literal-block"><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Module Type</span> <span class="nf">SIG2</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-nc"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Declare Module</span> <span class="nf">M1</span> : SIG.</span></span><span class="coq-wsp">
</span></span><span class="coq-nc"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Module</span> <span class="nf">M2</span> &lt;: SIG.</span></span><span class="coq-wsp">
</span></span><span class="coq-nc"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">T</span> := M1.T.</span></span><span class="coq-wsp">
</span></span><span class="coq-nc"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Parameter</span> <span class="nv">x</span> : T.</span></span><span class="coq-wsp">
</span></span><span class="coq-nc"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">End</span> <span class="nf">M2</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-nc"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">End</span> <span class="nf">SIG2</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-nc"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Module</span> <span class="nf">Mod</span> &lt;: SIG2.</span></span><span class="coq-wsp">
</span></span><span class="coq-nc"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Module</span> <span class="nf">M1</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-nc"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">T</span> := nat.</span></span><span class="coq-wsp">
</span></span><span class="coq-nc"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">x</span> := <span class="mi">1</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-nc"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">End</span> <span class="nf">M1</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-nc"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Module</span> <span class="nf">M2</span> := M.</span></span><span class="coq-wsp">
</span></span><span class="coq-nc"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">End</span> <span class="nf">Mod</span>.</span></span></span></pre></div><p>Notice that <code class="docutils literal notranslate"><span class="pre">M</span></code> is a correct body for the component <code class="docutils literal notranslate"><span class="pre">M2</span></code> since its <code class="docutils literal notranslate"><span class="pre">T</span></code>
component is equal <code class="docutils literal notranslate"><span class="pre">nat</span></code> and hence <code class="docutils literal notranslate"><span class="pre">M1.T</span></code> as specified.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ol class="arabic simple">
<li><p>Modules and module types can be nested components of each other.</p></li>
<li><p>One can have sections inside a module or a module type, but not a
module or a module type inside a section.</p></li>
<li><p>Commands like <a class="reference internal" href="../proof-engine/tactics.html#coq:cmd.hint" title="Hint"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Hint</span></code></a> or <a class="reference internal" href="../user-extensions/syntax-extensions.html#coq:cmd.notation" title="Notation"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Notation</span></code></a> can also appear inside modules and
module types. Note that in case of a module definition like:</p></li>
</ol>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>Module N : SIG := M.
</pre></div>
</div>
<p>or:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>Module N : SIG. … End N.
</pre></div>
</div>
<p>hints and the like valid for <code class="docutils literal notranslate"><span class="pre">N</span></code> are not those defined in <code class="docutils literal notranslate"><span class="pre">M</span></code>
(or the module body) but the ones defined in <code class="docutils literal notranslate"><span class="pre">SIG</span></code>.</p>
</div>
<span class="target" id="import-qualid"></span><dl class="coq cmd">
<dt id="coq:cmd.import">
<em class="property"><span class="sigannot">Command</span></em> <code class="sig-name descname"><span class="notation"><span>Import</span> <span class="hole">qualid</span></span></code><a class="headerlink" href="#coq:cmd.import" title="Permalink to this definition">¶</a></dt>
<dd><p>If <code class="xref std std-token docutils literal notranslate"><span class="pre">qualid</span></code> denotes a valid basic module (i.e. its module type is a
signature), makes its components available by their short names.</p>
<div class="admonition note">
<p class="admonition-title">Example</p>
<div class="coqtop literal-block"><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Module</span> <span class="nf">Mod</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-nc"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">T</span>:=nat.</span></span><span class="coq-wsp">
</span></span><span class="coq-nc"><span class="highlight">
</span></span><span class="coq-sentence"><input checked="checked" class="coq-toggle" id="gallina-extensions-rst-chk18" style="display: none" type="checkbox"><label class="coq-input" for="gallina-extensions-rst-chk18"><span class="highlight"><span class="kn">Check</span> T.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-responses"><blockquote class="coq-response"><span class="highlight">T
     : <span class="kt">Set</span></span></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-nc"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">End</span> <span class="nf">Mod</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-nc"><span class="highlight">
</span></span><span class="coq-sentence"><input checked="checked" class="coq-toggle" id="gallina-extensions-rst-chk19" style="display: none" type="checkbox"><label class="coq-input" for="gallina-extensions-rst-chk19"><span class="highlight"><span class="kn">Check</span> Mod.T.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-responses"><blockquote class="coq-response"><span class="highlight">Mod.T
     : <span class="kt">Set</span></span></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-nc"><span class="highlight">
</span></span><span class="coq-sentence"><input checked="checked" class="coq-toggle" id="gallina-extensions-rst-chk1a" style="display: none" type="checkbox"><label class="coq-input" for="gallina-extensions-rst-chk1a"><span class="highlight"><span class="kn">Fail</span> <span class="kn">Check</span> T.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-responses"><blockquote class="coq-response"><span class="highlight">The command has indeed failed <span class="kr">with</span> message:
The reference T was not found <span class="kr">in</span> the current
environment.</span></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-nc"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Import</span> Mod.</span></span><span class="coq-wsp">
</span></span><span class="coq-nc"><span class="highlight">
</span></span><span class="coq-sentence"><input checked="checked" class="coq-toggle" id="gallina-extensions-rst-chk1b" style="display: none" type="checkbox"><label class="coq-input" for="gallina-extensions-rst-chk1b"><span class="highlight"><span class="kn">Check</span> T.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-responses"><blockquote class="coq-response"><span class="highlight">T
     : <span class="kt">Set</span></span></blockquote></div></div></small></span></pre></div></div>
<p>Some features defined in modules are activated only when a module is
imported. This is for instance the case of notations (see <a class="reference internal" href="../user-extensions/syntax-extensions.html#notations"><span class="std std-ref">Notations</span></a>).</p>
<p>Declarations made with the <code class="docutils literal notranslate"><span class="pre">Local</span></code> flag are never imported by the <a class="reference internal" href="#coq:cmd.import" title="Import"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Import</span></code></a>
command. Such declarations are only accessible through their fully
qualified name.</p>
<div class="admonition note">
<p class="admonition-title">Example</p>
<div class="coqtop literal-block"><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Module</span> <span class="nf">A</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-nc"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Module</span> <span class="nf">B</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-nc"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">T</span> := nat.</span></span><span class="coq-wsp">
</span></span><span class="coq-nc"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">End</span> <span class="nf">B</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-nc"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">End</span> <span class="nf">A</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-nc"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Import</span> A.</span></span><span class="coq-wsp">
</span></span><span class="coq-nc"><span class="highlight">
</span></span><span class="coq-sentence"><input checked="checked" class="coq-toggle" id="gallina-extensions-rst-chk1c" style="display: none" type="checkbox"><label class="coq-input" for="gallina-extensions-rst-chk1c"><span class="highlight"><span class="kn">Fail</span> <span class="kn">Check</span> B.T.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-responses"><blockquote class="coq-response"><span class="highlight">The command has indeed failed <span class="kr">with</span> message:
The reference B.T was not found <span class="kr">in</span> the current
environment.</span></blockquote></div></div></small></span></pre></div></div>
<dl class="coq cmdv">
<dt id="coq:cmdv.export">
<em class="property"><span class="sigannot">Variant</span></em> <code class="sig-name descname"><span class="notation"><span>Export</span> <span class="hole">qualid</span></span></code><a class="headerlink" href="#coq:cmdv.export" title="Permalink to this definition">¶</a></dt>
<dd><p>When the module containing the command <code class="docutils literal notranslate"><span class="pre">Export</span></code> qualid
is imported, qualid is imported as well.</p>
<dl class="coq exn">
<dt id="coq:exn.qualid-is-not-a-module">
<em class="property"><span class="sigannot">Error</span></em> <code class="sig-name descname"><span class="notation"><span class="hole">qualid</span> <span>is</span> <span>not</span> <span>a</span> <span>module.</span></span></code><a class="headerlink" href="#coq:exn.qualid-is-not-a-module" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="coq warn">
<dt id="coq:warn.trying-to-mask-the-absolute-name-qualid">
<em class="property"><span class="sigannot">Warning</span></em> <code class="sig-name descname"><span class="notation"><span>Trying</span> <span>to</span> <span>mask</span> <span>the</span> <span>absolute</span> <span>name</span> <span class="hole">qualid</span><span>!</span></span></code><a class="headerlink" href="#coq:warn.trying-to-mask-the-absolute-name-qualid" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</dd></dl>

<dl class="coq cmd">
<dt id="coq:cmd.print-module">
<em class="property"><span class="sigannot">Command</span></em> <code class="sig-name descname"><span class="notation"><span>Print</span> <span>Module</span> <span class="hole">ident</span></span></code><a class="headerlink" href="#coq:cmd.print-module" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints the module type and (optionally) the body of the module <code class="xref std std-token docutils literal notranslate"><span class="pre">ident</span></code>.</p>
</dd></dl>

<dl class="coq cmd">
<dt id="coq:cmd.print-module-type">
<em class="property"><span class="sigannot">Command</span></em> <code class="sig-name descname"><span class="notation"><span>Print</span> <span>Module</span> <span>Type</span> <span class="hole">ident</span></span></code><a class="headerlink" href="#coq:cmd.print-module-type" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints the module type corresponding to <code class="xref std std-token docutils literal notranslate"><span class="pre">ident</span></code>.</p>
</dd></dl>

<dl class="coq flag">
<dt id="coq:flag.short-module-printing">
<em class="property"><span class="sigannot">Flag</span></em> <code class="sig-name descname"><span class="notation"><span>Short</span> <span>Module</span> <span>Printing</span></span></code><a class="headerlink" href="#coq:flag.short-module-printing" title="Permalink to this definition">¶</a></dt>
<dd><p>This option (off by default) disables the printing of the types of fields,
leaving only their names, for the commands <a class="reference internal" href="#coq:cmd.print-module" title="Print Module"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Print</span> <span class="pre">Module</span></code></a> and
<a class="reference internal" href="#coq:cmd.print-module-type" title="Print Module Type"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Print</span> <span class="pre">Module</span> <span class="pre">Type</span></code></a>.</p>
</dd></dl>

</div>
</div>
<div class="section" id="libraries-and-qualified-names">
<h2>Libraries and qualified names<a class="headerlink" href="#libraries-and-qualified-names" title="Permalink to this headline">¶</a></h2>
<div class="section" id="names-of-libraries">
<span id="id5"></span><h3>Names of libraries<a class="headerlink" href="#names-of-libraries" title="Permalink to this headline">¶</a></h3>
<p>The theories developed in <span class="smallcaps">Coq</span> are stored in <em>library files</em> which are
hierarchically classified into <em>libraries</em> and <em>sublibraries</em>. To
express this hierarchy, library names are represented by qualified
identifiers qualid, i.e. as list of identifiers separated by dots (see
<a class="reference internal" href="gallina-specification-language.html#gallina-identifiers"><span class="std std-ref">Qualified identifiers and simple identifiers</span></a>). For instance, the library file <code class="docutils literal notranslate"><span class="pre">Mult</span></code> of the standard
<span class="smallcaps">Coq</span> library <code class="docutils literal notranslate"><span class="pre">Arith</span></code> is named <code class="docutils literal notranslate"><span class="pre">Coq.Arith.Mult</span></code>. The identifier that starts
the name of a library is called a <em>library root</em>. All library files of
the standard library of <span class="smallcaps">Coq</span> have the reserved root <span class="smallcaps">Coq</span> but library
filenames based on other roots can be obtained by using <span class="smallcaps">Coq</span> commands
(coqc, coqtop, coqdep, …) options <code class="docutils literal notranslate"><span class="pre">-Q</span></code> or <code class="docutils literal notranslate"><span class="pre">-R</span></code> (see <a class="reference internal" href="../practical-tools/coq-commands.html#command-line-options"><span class="std std-ref">By command line options</span></a>).
Also, when an interactive <span class="smallcaps">Coq</span> session starts, a library of root <code class="docutils literal notranslate"><span class="pre">Top</span></code> is
started, unless option <code class="docutils literal notranslate"><span class="pre">-top</span></code> or <code class="docutils literal notranslate"><span class="pre">-notop</span></code> is set (see <a class="reference internal" href="../practical-tools/coq-commands.html#command-line-options"><span class="std std-ref">By command line options</span></a>).</p>
</div>
<div class="section" id="qualified-names">
<span id="id6"></span><h3>Qualified names<a class="headerlink" href="#qualified-names" title="Permalink to this headline">¶</a></h3>
<p>Library files are modules which possibly contain submodules which
eventually contain constructions (axioms, parameters, definitions,
lemmas, theorems, remarks or facts). The <em>absolute name</em>, or <em>full
name</em>, of a construction in some library file is a qualified
identifier starting with the logical name of the library file,
followed by the sequence of submodules names encapsulating the
construction and ended by the proper name of the construction.
Typically, the absolute name <code class="docutils literal notranslate"><span class="pre">Coq.Init.Logic.eq</span></code> denotes Leibniz’
equality defined in the module Logic in the sublibrary <code class="docutils literal notranslate"><span class="pre">Init</span></code> of the
standard library of <span class="smallcaps">Coq</span>.</p>
<p>The proper name that ends the name of a construction is the short name
(or sometimes base name) of the construction (for instance, the short
name of <code class="docutils literal notranslate"><span class="pre">Coq.Init.Logic.eq</span></code> is <code class="docutils literal notranslate"><span class="pre">eq</span></code>). Any partial suffix of the absolute
name is a <em>partially qualified name</em> (e.g. <code class="docutils literal notranslate"><span class="pre">Logic.eq</span></code> is a partially
qualified name for <code class="docutils literal notranslate"><span class="pre">Coq.Init.Logic.eq</span></code>). Especially, the short name of a
construction is its shortest partially qualified name.</p>
<p><span class="smallcaps">Coq</span> does not accept two constructions (definition, theorem, …) with
the same absolute name but different constructions can have the same
short name (or even same partially qualified names as soon as the full
names are different).</p>
<p>Notice that the notion of absolute, partially qualified and short
names also applies to library filenames.</p>
<p><strong>Visibility</strong></p>
<p><span class="smallcaps">Coq</span> maintains a table called the name table which maps partially qualified
names of constructions to absolute names. This table is updated by the
commands <a class="reference internal" href="../proof-engine/vernacular-commands.html#coq:cmd.require" title="Require"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Require</span></code></a>, <a class="reference internal" href="#coq:cmd.import" title="Import"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Import</span></code></a> and <a class="reference internal" href="#coq:cmdv.export" title="Export"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Export</span></code></a> and
also each time a new declaration is added to the context. An absolute
name is called visible from a given short or partially qualified name
when this latter name is enough to denote it. This means that the
short or partially qualified name is mapped to the absolute name in
<span class="smallcaps">Coq</span> name table. Definitions flagged as Local are only accessible with
their fully qualified name (see <a class="reference internal" href="gallina-specification-language.html#gallina-definitions"><span class="std std-ref">Definitions</span></a>).</p>
<p>It may happen that a visible name is hidden by the short name or a
qualified name of another construction. In this case, the name that
has been hidden must be referred to using one more level of
qualification. To ensure that a construction always remains
accessible, absolute names can never be hidden.</p>
<div class="admonition note">
<p class="admonition-title">Example</p>
<div class="coqtop literal-block"><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><input checked="checked" class="coq-toggle" id="gallina-extensions-rst-chk1d" style="display: none" type="checkbox"><label class="coq-input" for="gallina-extensions-rst-chk1d"><span class="highlight"><span class="kn">Check</span> <span class="mi">0</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-responses"><blockquote class="coq-response"><span class="highlight"><span class="mi">0</span>
     : nat</span></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-nc"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">nat</span> := bool.</span></span><span class="coq-wsp">
</span></span><span class="coq-nc"><span class="highlight">
</span></span><span class="coq-sentence"><input checked="checked" class="coq-toggle" id="gallina-extensions-rst-chk1e" style="display: none" type="checkbox"><label class="coq-input" for="gallina-extensions-rst-chk1e"><span class="highlight"><span class="kn">Check</span> <span class="mi">0</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-responses"><blockquote class="coq-response"><span class="highlight"><span class="mi">0</span>
     : Datatypes.nat</span></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-nc"><span class="highlight">
</span></span><span class="coq-sentence"><input checked="checked" class="coq-toggle" id="gallina-extensions-rst-chk1f" style="display: none" type="checkbox"><label class="coq-input" for="gallina-extensions-rst-chk1f"><span class="highlight"><span class="kn">Check</span> Datatypes.nat.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-responses"><blockquote class="coq-response"><span class="highlight">Datatypes.nat
     : <span class="kt">Set</span></span></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-nc"><span class="highlight">
</span></span><span class="coq-sentence"><input checked="checked" class="coq-toggle" id="gallina-extensions-rst-chk20" style="display: none" type="checkbox"><label class="coq-input" for="gallina-extensions-rst-chk20"><span class="highlight"><span class="kn">Locate</span> nat.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-responses"><blockquote class="coq-response"><span class="highlight">Constant SerTop.nat
<span class="kn">Inductive</span> <span class="nf">Coq</span>.Init.Datatypes.nat
  (shorter name to refer to it <span class="kr">in</span> current <span class="kp">context</span> <span class="kr">is</span> Datatypes.nat)</span></blockquote></div></div></small></span></pre></div></div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>Commands <a class="reference internal" href="../proof-engine/vernacular-commands.html#coq:cmd.locate" title="Locate"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Locate</span></code></a> and <a class="reference internal" href="../proof-engine/vernacular-commands.html#coq:cmd.locate-library" title="Locate Library"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Locate</span> <span class="pre">Library</span></code></a>.</p>
</div>
</div>
<div class="section" id="libraries-and-filesystem">
<span id="id7"></span><h3>Libraries and filesystem<a class="headerlink" href="#libraries-and-filesystem" title="Permalink to this headline">¶</a></h3>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The questions described here have been subject to redesign in <span class="smallcaps">Coq</span> 8.5.
Former versions of <span class="smallcaps">Coq</span> use the same terminology to describe slightly different things.</p>
</div>
<p>Compiled files (<code class="docutils literal notranslate"><span class="pre">.vo</span></code> and <code class="docutils literal notranslate"><span class="pre">.vio</span></code>) store sub-libraries. In order to refer
to them inside <span class="smallcaps">Coq</span>, a translation from file-system names to <span class="smallcaps">Coq</span> names
is needed. In this translation, names in the file system are called
<em>physical</em> paths while <span class="smallcaps">Coq</span> names are contrastingly called <em>logical</em>
names.</p>
<p>A logical prefix Lib can be associated with a physical path using
the command line option <code class="docutils literal notranslate"><span class="pre">-Q</span></code> <code class="docutils literal notranslate"><span class="pre">path</span></code> <code class="docutils literal notranslate"><span class="pre">Lib</span></code>. All subfolders of path are
recursively associated to the logical path <code class="docutils literal notranslate"><span class="pre">Lib</span></code> extended with the
corresponding suffix coming from the physical path. For instance, the
folder <code class="docutils literal notranslate"><span class="pre">path/fOO/Bar</span></code> maps to <code class="docutils literal notranslate"><span class="pre">Lib.fOO.Bar</span></code>. Subdirectories corresponding
to invalid <span class="smallcaps">Coq</span> identifiers are skipped, and, by convention,
subdirectories named <code class="docutils literal notranslate"><span class="pre">CVS</span></code> or <code class="docutils literal notranslate"><span class="pre">_darcs</span></code> are skipped too.</p>
<p>Thanks to this mechanism, <code class="docutils literal notranslate"><span class="pre">.vo</span></code> files are made available through the
logical name of the folder they are in, extended with their own
basename. For example, the name associated to the file
<code class="docutils literal notranslate"><span class="pre">path/fOO/Bar/File.vo</span></code> is <code class="docutils literal notranslate"><span class="pre">Lib.fOO.Bar.File</span></code>. The same caveat applies for
invalid identifiers. When compiling a source file, the <code class="docutils literal notranslate"><span class="pre">.vo</span></code> file stores
its logical name, so that an error is issued if it is loaded with the
wrong loadpath afterwards.</p>
<p>Some folders have a special status and are automatically put in the
path. <span class="smallcaps">Coq</span> commands associate automatically a logical path to files in
the repository trees rooted at the directory from where the command is
launched, <code class="docutils literal notranslate"><span class="pre">coqlib/user-contrib/</span></code>, the directories listed in the
<code class="docutils literal notranslate"><span class="pre">$COQPATH</span></code>, <code class="docutils literal notranslate"><span class="pre">${XDG_DATA_HOME}/coq/</span></code> and <code class="docutils literal notranslate"><span class="pre">${XDG_DATA_DIRS}/coq/</span></code>
environment variables (see <a class="reference external" href="http://standards.freedesktop.org/basedir-spec/basedir-spec-latest.html">XDG base directory specification</a>)
with the same physical-to-logical translation and with an empty logical prefix.</p>
<p>The command line option <code class="docutils literal notranslate"><span class="pre">-R</span></code> is a variant of <code class="docutils literal notranslate"><span class="pre">-Q</span></code> which has the strictly
same behavior regarding loadpaths, but which also makes the
corresponding <code class="docutils literal notranslate"><span class="pre">.vo</span></code> files available through their short names in a way
not unlike the <code class="docutils literal notranslate"><span class="pre">Import</span></code> command (see <a class="reference internal" href="#import-qualid"><span class="std std-ref">here</span></a>). For instance, <code class="docutils literal notranslate"><span class="pre">-R</span> <span class="pre">path</span> <span class="pre">Lib</span></code>
associates to the file <code class="docutils literal notranslate"><span class="pre">/path/fOO/Bar/File.vo</span></code> the logical name
<code class="docutils literal notranslate"><span class="pre">Lib.fOO.Bar.File</span></code>, but allows this file to be accessed through the
short names <code class="docutils literal notranslate"><span class="pre">fOO.Bar.File,Bar.File</span></code> and <code class="docutils literal notranslate"><span class="pre">File</span></code>. If several files with
identical base name are present in different subdirectories of a
recursive loadpath, which of these files is found first may be system-
dependent and explicit qualification is recommended. The <code class="docutils literal notranslate"><span class="pre">From</span></code> argument
of the <code class="docutils literal notranslate"><span class="pre">Require</span></code> command can be used to bypass the implicit shortening
by providing an absolute root to the required file (see <a class="reference internal" href="../proof-engine/vernacular-commands.html#compiled-files"><span class="std std-ref">Compiled files</span></a>).</p>
<p>There also exists another independent loadpath mechanism attached to
OCaml object files (<code class="docutils literal notranslate"><span class="pre">.cmo</span></code> or <code class="docutils literal notranslate"><span class="pre">.cmxs</span></code>) rather than <span class="smallcaps">Coq</span> object
files as described above. The OCaml loadpath is managed using
the option <code class="docutils literal notranslate"><span class="pre">-I</span></code> <code class="docutils literal notranslate"><span class="pre">path</span></code> (in the OCaml world, there is neither a
notion of logical name prefix nor a way to access files in
subdirectories of path). See the command <a class="reference internal" href="../proof-engine/vernacular-commands.html#coq:cmd.declare-ml-module" title="Declare ML Module"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Declare</span> <span class="pre">ML</span> <span class="pre">Module</span></code></a> in
<a class="reference internal" href="../proof-engine/vernacular-commands.html#compiled-files"><span class="std std-ref">Compiled files</span></a> to understand the need of the OCaml loadpath.</p>
<p>See <a class="reference internal" href="../practical-tools/coq-commands.html#command-line-options"><span class="std std-ref">By command line options</span></a> for a more general view over the <span class="smallcaps">Coq</span> command
line options.</p>
</div>
</div>
<div class="section" id="implicit-arguments">
<span id="implicitarguments"></span><h2>Implicit arguments<a class="headerlink" href="#implicit-arguments" title="Permalink to this headline">¶</a></h2>
<p>An implicit argument of a function is an argument which can be
inferred from contextual knowledge. There are different kinds of
implicit arguments that can be considered implicit in different ways.
There are also various commands to control the setting or the
inference of implicit arguments.</p>
<div class="section" id="the-different-kinds-of-implicit-arguments">
<h3>The different kinds of implicit arguments<a class="headerlink" href="#the-different-kinds-of-implicit-arguments" title="Permalink to this headline">¶</a></h3>
<div class="section" id="implicit-arguments-inferable-from-the-knowledge-of-other-arguments-of-a-function">
<h4>Implicit arguments inferable from the knowledge of other arguments of a function<a class="headerlink" href="#implicit-arguments-inferable-from-the-knowledge-of-other-arguments-of-a-function" title="Permalink to this headline">¶</a></h4>
<p>The first kind of implicit arguments covers the arguments that are
inferable from the knowledge of the type of other arguments of the
function, or of the type of the surrounding context of the
application. Especially, such implicit arguments correspond to
parameters dependent in the type of the function. Typical implicit
arguments are the type arguments in polymorphic functions. There are
several kinds of such implicit arguments.</p>
<p><strong>Strict Implicit Arguments</strong></p>
<p>An implicit argument can be either strict or non strict. An implicit
argument is said to be <em>strict</em> if, whatever the other arguments of the
function are, it is still inferable from the type of some other
argument. Technically, an implicit argument is strict if it
corresponds to a parameter which is not applied to a variable which
itself is another parameter of the function (since this parameter may
erase its arguments), not in the body of a match, and not itself
applied or matched against patterns (since the original form of the
argument can be lost by reduction).</p>
<p>For instance, the first argument of</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>cons: forall A:Set, A -&gt; list A -&gt; list A
</pre></div>
</div>
<p>in module <code class="docutils literal notranslate"><span class="pre">List.v</span></code> is strict because <code class="code highlight coq docutils literal notranslate"><span class="name"><span class="pre">list</span></span></code> is an inductive type and <code class="code highlight coq docutils literal notranslate"><span class="name"><span class="pre">A</span></span></code>
will always be inferable from the type <code class="code highlight coq docutils literal notranslate"><span class="name"><span class="pre">list</span></span> <span class="name"><span class="pre">A</span></span></code> of the third argument of
<code class="code highlight coq docutils literal notranslate"><span class="name"><span class="pre">cons</span></span></code>. Also, the first argument of <code class="code highlight coq docutils literal notranslate"><span class="name"><span class="pre">cons</span></span></code> is strict with respect to the second one,
since the first argument is exactly the type of the second argument.
On the contrary, the second argument of a term of type</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>forall P:nat-&gt;Prop, forall n:nat, P n -&gt; ex nat P
</pre></div>
</div>
<p>is implicit but not strict, since it can only be inferred from the
type <code class="code highlight coq docutils literal notranslate"><span class="name"><span class="pre">P</span></span> <span class="name"><span class="pre">n</span></span></code> of the third argument and if <code class="code highlight coq docutils literal notranslate"><span class="name"><span class="pre">P</span></span></code> is, e.g., <code class="code highlight coq docutils literal notranslate"><span class="keyword reserved"><span class="pre">fun</span></span> <span class="name variable"><span class="pre">_</span></span> <span class="operator"><span class="pre">=&gt;</span></span> <span class="keyword type"><span class="pre">True</span></span></code>, it
reduces to an expression where <code class="docutils literal notranslate"><span class="pre">n</span></code> does not occur any longer. The first
argument <code class="code highlight coq docutils literal notranslate"><span class="name"><span class="pre">P</span></span></code> is implicit but not strict either because it can only be
inferred from <code class="code highlight coq docutils literal notranslate"><span class="name"><span class="pre">P</span></span> <span class="name"><span class="pre">n</span></span></code> and <code class="code highlight coq docutils literal notranslate"><span class="name"><span class="pre">P</span></span></code> is not canonically inferable from an arbitrary
<code class="code highlight coq docutils literal notranslate"><span class="name"><span class="pre">n</span></span></code> and the normal form of <code class="code highlight coq docutils literal notranslate"><span class="name"><span class="pre">P</span></span> <span class="name"><span class="pre">n</span></span></code>. Consider, e.g., that <code class="code highlight coq docutils literal notranslate"><span class="name"><span class="pre">n</span></span></code> is <span class="math notranslate nohighlight">\(0\)</span> and the third
argument has type <code class="code highlight coq docutils literal notranslate"><span class="keyword type"><span class="pre">True</span></span></code>, then any <code class="code highlight coq docutils literal notranslate"><span class="name"><span class="pre">P</span></span></code> of the form</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>fun n =&gt; match n with 0 =&gt; True | _ =&gt; anything end
</pre></div>
</div>
<p>would be a solution of the inference problem.</p>
<p><strong>Contextual Implicit Arguments</strong></p>
<p>An implicit argument can be <em>contextual</em> or not. An implicit argument
is said <em>contextual</em> if it can be inferred only from the knowledge of
the type of the context of the current expression. For instance, the
only argument of:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>nil : forall A:Set, list A`
</pre></div>
</div>
<p>is contextual. Similarly, both arguments of a term of type:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>forall P:nat-&gt;Prop, forall n:nat, P n \/ n = 0
</pre></div>
</div>
<p>are contextual (moreover, <code class="code highlight coq docutils literal notranslate"><span class="name"><span class="pre">n</span></span></code> is strict and <code class="code highlight coq docutils literal notranslate"><span class="name"><span class="pre">P</span></span></code> is not).</p>
<p><strong>Reversible-Pattern Implicit Arguments</strong></p>
<p>There is another class of implicit arguments that can be reinferred
unambiguously if all the types of the remaining arguments are known.
This is the class of implicit arguments occurring in the type of
another argument in position of reversible pattern, which means it is
at the head of an application but applied only to uninstantiated
distinct variables. Such an implicit argument is called <em>reversible-
pattern implicit argument</em>. A typical example is the argument <code class="code highlight coq docutils literal notranslate"><span class="name"><span class="pre">P</span></span></code> of
nat_rec in</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>nat_rec : forall P : nat -&gt; Set, P 0 -&gt;
  (forall n : nat, P n -&gt; P (S n)) -&gt; forall x : nat, P x
</pre></div>
</div>
<p>(<code class="code highlight coq docutils literal notranslate"><span class="name"><span class="pre">P</span></span></code> is reinferable by abstracting over <code class="code highlight coq docutils literal notranslate"><span class="name"><span class="pre">n</span></span></code> in the type <code class="code highlight coq docutils literal notranslate"><span class="name"><span class="pre">P</span></span> <span class="name"><span class="pre">n</span></span></code>).</p>
<p>See <a class="reference internal" href="#controlling-rev-pattern-implicit-args"><span class="std std-ref">Controlling reversible-pattern implicit arguments</span></a> for the automatic declaration of reversible-pattern
implicit arguments.</p>
</div>
<div class="section" id="implicit-arguments-inferable-by-resolution">
<h4>Implicit arguments inferable by resolution<a class="headerlink" href="#implicit-arguments-inferable-by-resolution" title="Permalink to this headline">¶</a></h4>
<p>This corresponds to a class of non-dependent implicit arguments that
are solved based on the structure of their type only.</p>
</div>
</div>
<div class="section" id="maximal-or-non-maximal-insertion-of-implicit-arguments">
<h3>Maximal or non maximal insertion of implicit arguments<a class="headerlink" href="#maximal-or-non-maximal-insertion-of-implicit-arguments" title="Permalink to this headline">¶</a></h3>
<p>In case a function is partially applied, and the next argument to be
applied is an implicit argument, two disciplines are applicable. In
the first case, the function is considered to have no arguments
furtherly: one says that the implicit argument is not maximally
inserted. In the second case, the function is considered to be
implicitly applied to the implicit arguments it is waiting for: one
says that the implicit argument is maximally inserted.</p>
<p>Each implicit argument can be declared to have to be inserted maximally or non
maximally. This can be governed argument per argument by the command
<a class="reference internal" href="#coq:cmd.arguments-implicits" title="Arguments (implicits)"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Arguments</span> <span class="pre">(implicits)</span></code></a> or globally by the <a class="reference internal" href="#coq:flag.maximal-implicit-insertion" title="Maximal Implicit Insertion"><code class="xref coq coq-flag docutils literal notranslate"><span class="pre">Maximal</span> <span class="pre">Implicit</span> <span class="pre">Insertion</span></code></a> option.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#displaying-implicit-args"><span class="std std-ref">Displaying what the implicit arguments are</span></a>.</p>
</div>
</div>
<div class="section" id="casual-use-of-implicit-arguments">
<h3>Casual use of implicit arguments<a class="headerlink" href="#casual-use-of-implicit-arguments" title="Permalink to this headline">¶</a></h3>
<p>In a given expression, if it is clear that some argument of a function
can be inferred from the type of the other arguments, the user can
force the given argument to be guessed by replacing it by “_”. If
possible, the correct argument will be automatically generated.</p>
<dl class="coq exn">
<dt id="coq:exn.cannot-infer-a-term-for-this-placeholder-casual-use-of-implicit-arguments">
<em class="property"><span class="sigannot">Error</span></em> <code class="sig-name descname"><span class="notation"><span>Cannot</span> <span>infer</span> <span>a</span> <span>term</span> <span>for</span> <span>this</span> <span>placeholder.</span></span></code><a class="headerlink" href="#coq:exn.cannot-infer-a-term-for-this-placeholder-casual-use-of-implicit-arguments" title="Permalink to this definition">¶</a></dt>
<dd><p><span class="smallcaps">Coq</span> was not able to deduce an instantiation of a “_”.</p>
</dd></dl>

</div>
<div class="section" id="declaration-of-implicit-arguments">
<span id="declare-implicit-args"></span><h3>Declaration of implicit arguments<a class="headerlink" href="#declaration-of-implicit-arguments" title="Permalink to this headline">¶</a></h3>
<p>In case one wants that some arguments of a given object (constant,
inductive types, constructors, assumptions, local or not) are always
inferred by <span class="smallcaps">Coq</span>, one may declare once and for all which are the
expected implicit arguments of this object. There are two ways to do
this, <em>a priori</em> and <em>a posteriori</em>.</p>
<div class="section" id="implicit-argument-binders">
<h4>Implicit Argument Binders<a class="headerlink" href="#implicit-argument-binders" title="Permalink to this headline">¶</a></h4>
<p>In the first setting, one wants to explicitly give the implicit
arguments of a declared object as part of its definition. To do this,
one has to surround the bindings of implicit arguments by curly
braces:</p>
<div class="coqtop literal-block"><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">id</span> {<span class="nv">A</span> : <span class="kt">Type</span>} (<span class="nv">x</span> : A) : A := x.</span></span></span></pre></div><p>This automatically declares the argument A of id as a maximally
inserted implicit argument. One can then do as-if the argument was
absent in every situation but still be able to specify it if needed:</p>
<div class="coqtop literal-block"><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">compose</span> {<span class="nv">A</span> <span class="nv">B</span> <span class="nv">C</span>} (<span class="nv">g</span> : B -&gt; C) (<span class="nv">f</span> : A -&gt; B) := <span class="kr">fun</span> <span class="nv">x</span> =&gt; g (f x).</span></span><span class="coq-wsp">
</span></span><span class="coq-nc"><span class="highlight">
</span></span><span class="coq-sentence"><input checked="checked" class="coq-toggle" id="gallina-extensions-rst-chk21" style="display: none" type="checkbox"><label class="coq-input" for="gallina-extensions-rst-chk21"><span class="highlight"><span class="kn">Goal</span> <span class="kr">forall</span> <span class="nv">A</span>, compose id id = id (A:=A).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"></div><label class="goal-separator"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">A</span> : <span class="kt">Type</span>, compose id id = id</span></div></blockquote></div></div></small></span></pre></div><p>The syntax is supported in all top-level definitions:
<a class="reference internal" href="gallina-specification-language.html#coq:cmd.definition" title="Definition"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Definition</span></code></a>, <a class="reference internal" href="gallina-specification-language.html#coq:cmd.fixpoint" title="Fixpoint"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Fixpoint</span></code></a>, <a class="reference internal" href="gallina-specification-language.html#coq:cmdv.lemma" title="Lemma"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Lemma</span></code></a> and so on. For (co-)inductive datatype
declarations, the semantics are the following: an inductive parameter
declared as an implicit argument need not be repeated in the inductive
definition but will become implicit for the constructors of the
inductive only, not the inductive type itself. For example:</p>
<div class="coqtop literal-block"><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><input checked="checked" class="coq-toggle" id="gallina-extensions-rst-chk22" style="display: none" type="checkbox"><label class="coq-input" for="gallina-extensions-rst-chk22"><span class="highlight"><span class="kn">Inductive</span> <span class="nf">list</span> {<span class="nv">A</span> : <span class="kt">Type</span>} : <span class="kt">Type</span> :=
| nil : list
| cons : A -&gt; list -&gt; list.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"></div><label class="goal-separator"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">A</span> : <span class="kt">Type</span>, compose id id = id</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-nc"><span class="highlight">
</span></span><span class="coq-sentence"><input checked="checked" class="coq-toggle" id="gallina-extensions-rst-chk23" style="display: none" type="checkbox"><label class="coq-input" for="gallina-extensions-rst-chk23"><span class="highlight"><span class="kn">Print</span> list.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-responses"><blockquote class="coq-response"><span class="highlight"><span class="kn">Inductive</span> <span class="nf">list</span> (<span class="nv">A</span> : <span class="kt">Type</span>) : <span class="kt">Type</span> :=
    nil : list | cons : A -&gt; list -&gt; list

For list: Argument A <span class="kr">is</span> implicit <span class="kn">and</span> maximally
          inserted
For nil: Argument A <span class="kr">is</span> implicit <span class="kn">and</span> maximally inserted
For cons: Argument A <span class="kr">is</span> implicit <span class="kn">and</span> maximally
          inserted
For list: Argument scope <span class="kr">is</span> [type_scope]
For nil: Argument scope <span class="kr">is</span> [type_scope]
For cons: Argument scopes are [type_scope _ _]</span></blockquote></div><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"></div><label class="goal-separator"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">A</span> : <span class="kt">Type</span>, compose id id = id</span></div></blockquote></div></div></small></span></pre></div><p>One can always specify the parameter if it is not uniform using the
usual implicit arguments disambiguation syntax.</p>
</div>
<div class="section" id="declaring-implicit-arguments">
<h4>Declaring Implicit Arguments<a class="headerlink" href="#declaring-implicit-arguments" title="Permalink to this headline">¶</a></h4>
<dl class="coq cmd">
<dt id="coq:cmd.arguments-implicits">
<em class="property"><span class="sigannot">Command</span></em> <code class="sig-name descname"><span class="notation"><span>Arguments</span> <span class="hole">qualid</span> <span class="repeat-wrapper"><span class="repeat"><span class="repeated-alternative"><span class="alternative-block"><span>[</span> <span class="hole">ident</span> <span>]</span></span><span class="alternative-separator">​</span><span class="alternative-block"><span class="curlies">{ <span class="hole">ident</span> }</span></span><span class="alternative-separator">​</span><span class="alternative-block"><span class="hole">ident</span></span></span></span><span class="notation-sup">*</span></span></span></code><a class="headerlink" href="#coq:cmd.arguments-implicits" title="Permalink to this definition">¶</a></dt>
<dd><p>This command is used to set implicit arguments <em>a posteriori</em>,
where the list of possibly bracketed <code class="xref std std-token docutils literal notranslate"><span class="pre">ident</span></code> is a prefix of the list of
arguments of <code class="xref std std-token docutils literal notranslate"><span class="pre">qualid</span></code> where the ones to be declared implicit are
surrounded by square brackets and the ones to be declared as maximally
inserted implicits are surrounded by curly braces.</p>
<p>After the above declaration is issued, implicit arguments can just
(and have to) be skipped in any expression involving an application
of <code class="xref std std-token docutils literal notranslate"><span class="pre">qualid</span></code>.</p>
</dd></dl>

<dl class="coq cmd">
<dt id="coq:cmd.arguments-clear-implicits">
<em class="property"><span class="sigannot">Command</span></em> <code class="sig-name descname"><span class="notation"><span>Arguments</span> <span class="hole">qualid</span> <span>:</span> <span>clear</span> <span>implicits</span></span></code><a class="headerlink" href="#coq:cmd.arguments-clear-implicits" title="Permalink to this definition">¶</a></dt>
<dd><p>This command clears implicit arguments.</p>
</dd></dl>

<dl class="coq cmdv">
<dt>
<em class="property"><span class="sigannot">Variant</span></em> <code class="sig-name descname"><span class="notation"><span>Global</span> <span>Arguments</span> <span class="hole">qualid</span> <span class="repeat-wrapper"><span class="repeat"><span class="repeated-alternative"><span class="alternative-block"><span>[</span> <span class="hole">ident</span> <span>]</span></span><span class="alternative-separator">​</span><span class="alternative-block"><span class="curlies">{ <span class="hole">ident</span> }</span></span><span class="alternative-separator">​</span><span class="alternative-block"><span class="hole">ident</span></span></span></span><span class="notation-sup">*</span></span></span></code></dt>
<dd><p>This command is used to recompute the implicit arguments of
<code class="xref std std-token docutils literal notranslate"><span class="pre">qualid</span></code> after ending of the current section if any, enforcing the
implicit arguments known from inside the section to be the ones
declared by the command.</p>
</dd></dl>

<dl class="coq cmdv">
<dt>
<em class="property"><span class="sigannot">Variant</span></em> <code class="sig-name descname"><span class="notation"><span>Local</span> <span>Arguments</span> <span class="hole">qualid</span> <span class="repeat-wrapper"><span class="repeat"><span class="repeated-alternative"><span class="alternative-block"><span>[</span> <span class="hole">ident</span> <span>]</span></span><span class="alternative-separator">​</span><span class="alternative-block"><span class="curlies">{ <span class="hole">ident</span> }</span></span><span class="alternative-separator">​</span><span class="alternative-block"><span class="hole">ident</span></span></span></span><span class="notation-sup">*</span></span></span></code></dt>
<dd><p>When in a module, tell not to activate the
implicit arguments of <code class="xref std std-token docutils literal notranslate"><span class="pre">qualid</span></code> declared by this command to contexts that
require the module.</p>
</dd></dl>

<dl class="coq cmdv">
<dt>
<em class="property"><span class="sigannot">Variant</span></em> <code class="sig-name descname"><span class="notation"><span class="repeat-wrapper"><span class="repeat"><span class="repeated-alternative"><span class="alternative-block"><span>Global</span></span><span class="alternative-separator">​</span><span class="alternative-block"><span>Local</span></span></span></span><span class="notation-sup">?</span></span> <span>Arguments</span> <span class="hole">qualid</span> <span class="repeat-wrapper"><span class="repeat"><span class="repeat-wrapper"><span class="repeat"><span class="repeated-alternative"><span class="alternative-block"><span>[</span> <span class="hole">ident</span> <span>]</span></span><span class="alternative-separator">​</span><span class="alternative-block"><span class="curlies">{ <span class="hole">ident</span> }</span></span><span class="alternative-separator">​</span><span class="alternative-block"><span class="hole">ident</span></span></span></span><span class="notation-sup">+</span></span></span><span class="notation-sup">*</span><span class="notation-sub">,</span></span></span></code></dt>
<dd><p>For names of constants, inductive types,
constructors, lemmas which can only be applied to a fixed number of
arguments (this excludes for instance constants whose type is
polymorphic), multiple implicit arguments declarations can be given.
Depending on the number of arguments qualid is applied to in practice,
the longest applicable list of implicit arguments is used to select
which implicit arguments are inserted. For printing, the omitted
arguments are the ones of the longest list of implicit arguments of
the sequence.</p>
</dd></dl>

<div class="admonition note">
<p class="admonition-title">Example</p>
<div class="coqtop literal-block"><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Inductive</span> <span class="nf">list</span> (<span class="nv">A</span> : <span class="kt">Type</span>) : <span class="kt">Type</span> :=
| nil : list A
| cons : A -&gt; list A -&gt; list A.</span></span><span class="coq-wsp">
</span></span><span class="coq-nc"><span class="highlight">
</span></span><span class="coq-sentence"><input checked="checked" class="coq-toggle" id="gallina-extensions-rst-chk24" style="display: none" type="checkbox"><label class="coq-input" for="gallina-extensions-rst-chk24"><span class="highlight"><span class="kn">Check</span> (cons nat <span class="mi">3</span> (nil nat)).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-responses"><blockquote class="coq-response"><span class="highlight">cons nat <span class="mi">3</span> (nil nat)
     : list nat</span></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-nc"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Arguments</span> cons [A] _ _.</span></span><span class="coq-wsp">
</span></span><span class="coq-nc"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Arguments</span> nil {A}.</span></span><span class="coq-wsp">
</span></span><span class="coq-nc"><span class="highlight">
</span></span><span class="coq-sentence"><input checked="checked" class="coq-toggle" id="gallina-extensions-rst-chk25" style="display: none" type="checkbox"><label class="coq-input" for="gallina-extensions-rst-chk25"><span class="highlight"><span class="kn">Check</span> (cons <span class="mi">3</span> nil).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-responses"><blockquote class="coq-response"><span class="highlight">cons <span class="mi">3</span> nil
     : list nat</span></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-nc"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Fixpoint</span> <span class="nf">map</span> (<span class="nv">A</span> <span class="nv">B</span> : <span class="kt">Type</span>) (<span class="nv">f</span> : A -&gt; B) (<span class="nv">l</span> : list A) : list B :=
  <span class="kr">match</span> l <span class="kr">with</span> nil =&gt; nil | cons a t =&gt; cons (f a) (map A B f t) <span class="kr">end</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-nc"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Fixpoint</span> <span class="nf">length</span> (<span class="nv">A</span> : <span class="kt">Type</span>) (<span class="nv">l</span> : list A) : nat :=
  <span class="kr">match</span> l <span class="kr">with</span> nil =&gt; <span class="mi">0</span> | cons _ m =&gt; S (length A m) <span class="kr">end</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-nc"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Arguments</span> map [A B] f l.</span></span><span class="coq-wsp">
</span></span><span class="coq-nc"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Arguments</span> length {A} l. <span class="c">(* A has to be maximally inserted *)</span></span></span><span class="coq-wsp">
</span></span><span class="coq-nc"><span class="highlight">
</span></span><span class="coq-sentence"><input checked="checked" class="coq-toggle" id="gallina-extensions-rst-chk26" style="display: none" type="checkbox"><label class="coq-input" for="gallina-extensions-rst-chk26"><span class="highlight"><span class="kn">Check</span> (<span class="kr">fun</span> <span class="nv">l</span>:list (list nat) =&gt; map length l).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-responses"><blockquote class="coq-response"><span class="highlight"><span class="kr">fun</span> <span class="nv">l</span> : list (list nat) =&gt; map length l
     : list (list nat) -&gt; list nat</span></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-nc"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Arguments</span> map [A B] f l, [A] B f l, A B f l.</span></span><span class="coq-wsp">
</span></span><span class="coq-nc"><span class="highlight">
</span></span><span class="coq-sentence"><input checked="checked" class="coq-toggle" id="gallina-extensions-rst-chk27" style="display: none" type="checkbox"><label class="coq-input" for="gallina-extensions-rst-chk27"><span class="highlight"><span class="kn">Check</span> (<span class="kr">fun</span> <span class="nv">l</span> =&gt; map length l = map (list nat) nat length l).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-responses"><blockquote class="coq-response"><span class="highlight"><span class="kr">fun</span> <span class="nv">l</span> : list (list nat) =&gt; map length l = map length l
     : list (list nat) -&gt; <span class="kt">Prop</span></span></blockquote></div></div></small></span></pre></div></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To know which are the implicit arguments of an object, use the
command <a class="reference internal" href="#coq:cmd.print-implicit" title="Print Implicit"><code class="xref coq coq-cmd docutils literal notranslate"><span class="pre">Print</span> <span class="pre">Implicit</span></code></a> (see <a class="reference internal" href="#displaying-implicit-args"><span class="std std-ref">Displaying what the implicit arguments are</span></a>).</p>
</div>
<dl class="coq warn">
<dt id="coq:warn.argument-number-num-is-a-trailing-implicit-so-must-be-maximal">
<em class="property"><span class="sigannot">Warning</span></em> <code class="sig-name descname"><span class="notation"><span>Argument</span> <span>number</span> <span class="hole">num</span> <span>is</span> <span>a</span> <span>trailing</span> <span>implicit</span> <span>so</span> <span>must</span> <span>be</span> <span>maximal.</span></span></code><a class="headerlink" href="#coq:warn.argument-number-num-is-a-trailing-implicit-so-must-be-maximal" title="Permalink to this definition">¶</a></dt>
<dd><p>For instance in</p>
<div class="coqtop literal-block"><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><input checked="checked" class="coq-toggle" id="gallina-extensions-rst-chk28" style="display: none" type="checkbox"><label class="coq-input" for="gallina-extensions-rst-chk28"><span class="highlight"><span class="kn">Arguments</span> prod _ [_].</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-responses"><blockquote class="coq-response"><span class="highlight">Argument number <span class="mi">1</span> <span class="kr">is</span> a trailing implicit so must be
maximal [<span class="nb">set</span>-maximal-deprecated,deprecated]</span></blockquote></div></div></small></span></pre></div></dd></dl>

</div>
</div>
<div class="section" id="automatic-declaration-of-implicit-arguments">
<h3>Automatic declaration of implicit arguments<a class="headerlink" href="#automatic-declaration-of-implicit-arguments" title="Permalink to this headline">¶</a></h3>
<dl class="coq cmd">
<dt id="coq:cmd.arguments-default-implicits">
<em class="property"><span class="sigannot">Command</span></em> <code class="sig-name descname"><span class="notation"><span>Arguments</span> <span class="hole">qualid</span> <span>:</span> <span>default</span> <span>implicits</span></span></code><a class="headerlink" href="#coq:cmd.arguments-default-implicits" title="Permalink to this definition">¶</a></dt>
<dd><p>This command tells <span class="smallcaps">Coq</span> to automatically detect what are the implicit arguments of a
defined object.</p>
<p>The auto-detection is governed by options telling if strict,
contextual, or reversible-pattern implicit arguments must be
considered or not (see <a class="reference internal" href="#controlling-strict-implicit-args"><span class="std std-ref">Controlling strict implicit arguments</span></a>, <a class="reference internal" href="#controlling-strict-implicit-args"><span class="std std-ref">Controlling strict implicit arguments</span></a>,
<a class="reference internal" href="#controlling-rev-pattern-implicit-args"><span class="std std-ref">Controlling reversible-pattern implicit arguments</span></a>, and also <a class="reference internal" href="#controlling-insertion-implicit-args"><span class="std std-ref">Controlling the insertion of implicit arguments not followed by explicit arguments</span></a>).</p>
<dl class="coq cmdv">
<dt>
<em class="property"><span class="sigannot">Variant</span></em> <code class="sig-name descname"><span class="notation"><span>Global</span> <span>Arguments</span> <span class="hole">qualid</span> <span>:</span> <span>default</span> <span>implicits</span></span></code></dt>
<dd><p>Tell to recompute the
implicit arguments of qualid after ending of the current section if
any.</p>
</dd></dl>

<dl class="coq cmdv">
<dt>
<em class="property"><span class="sigannot">Variant</span></em> <code class="sig-name descname"><span class="notation"><span>Local</span> <span>Arguments</span> <span class="hole">qualid</span> <span>:</span> <span>default</span> <span>implicits</span></span></code></dt>
<dd><p>When in a module, tell not to activate the implicit arguments of <code class="xref std std-token docutils literal notranslate"><span class="pre">qualid</span></code> computed by this
declaration to contexts that requires the module.</p>
</dd></dl>

</dd></dl>

<div class="admonition note">
<p class="admonition-title">Example</p>
<div class="coqtop literal-block"><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Inductive</span> <span class="nf">list</span> (<span class="nv">A</span>:<span class="kt">Set</span>) : <span class="kt">Set</span> :=
| nil : list A
| cons : A -&gt; list A -&gt; list A.</span></span><span class="coq-wsp">
</span></span><span class="coq-nc"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Arguments</span> cons : <span class="kn">default implicits</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-nc"><span class="highlight">
</span></span><span class="coq-sentence"><input checked="checked" class="coq-toggle" id="gallina-extensions-rst-chk29" style="display: none" type="checkbox"><label class="coq-input" for="gallina-extensions-rst-chk29"><span class="highlight"><span class="kn">Print Implicit</span> cons.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-responses"><blockquote class="coq-response"><span class="highlight">cons : <span class="kr">forall</span> <span class="nv">A</span> : <span class="kt">Set</span>, A -&gt; list A -&gt; list A

Argument A <span class="kr">is</span> implicit</span></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-nc"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Arguments</span> nil : <span class="kn">default implicits</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-nc"><span class="highlight">
</span></span><span class="coq-sentence"><input checked="checked" class="coq-toggle" id="gallina-extensions-rst-chk2a" style="display: none" type="checkbox"><label class="coq-input" for="gallina-extensions-rst-chk2a"><span class="highlight"><span class="kn">Print Implicit</span> nil.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-responses"><blockquote class="coq-response"><span class="highlight">nil : <span class="kr">forall</span> <span class="nv">A</span> : <span class="kt">Set</span>, list A
</span></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-nc"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Set Contextual Implicit</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-nc"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Arguments</span> nil : <span class="kn">default implicits</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-nc"><span class="highlight">
</span></span><span class="coq-sentence"><input checked="checked" class="coq-toggle" id="gallina-extensions-rst-chk2b" style="display: none" type="checkbox"><label class="coq-input" for="gallina-extensions-rst-chk2b"><span class="highlight"><span class="kn">Print Implicit</span> nil.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-responses"><blockquote class="coq-response"><span class="highlight">nil : <span class="kr">forall</span> <span class="nv">A</span> : <span class="kt">Set</span>, list A

Argument A <span class="kr">is</span> implicit <span class="kn">and</span> maximally inserted</span></blockquote></div></div></small></span></pre></div></div>
<p>The computation of implicit arguments takes account of the unfolding
of constants. For instance, the variable <code class="docutils literal notranslate"><span class="pre">p</span></code> below has type
<code class="docutils literal notranslate"><span class="pre">(Transitivity</span> <span class="pre">R)</span></code> which is reducible to
<code class="docutils literal notranslate"><span class="pre">forall</span> <span class="pre">x,y:U,</span> <span class="pre">R</span> <span class="pre">x</span> <span class="pre">y</span> <span class="pre">-&gt;</span> <span class="pre">forall</span> <span class="pre">z:U,</span> <span class="pre">R</span> <span class="pre">y</span> <span class="pre">z</span> <span class="pre">-&gt;</span> <span class="pre">R</span> <span class="pre">x</span> <span class="pre">z</span></code>. As the variables <code class="docutils literal notranslate"><span class="pre">x</span></code>, <code class="docutils literal notranslate"><span class="pre">y</span></code> and <code class="docutils literal notranslate"><span class="pre">z</span></code>
appear strictly in the body of the type, they are implicit.</p>
<div class="coqtop literal-block"><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Parameter</span> <span class="nv">X</span> : <span class="kt">Type</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-nc"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">Relation</span> := X -&gt; X -&gt; <span class="kt">Prop</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-nc"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">Transitivity</span> (<span class="nv">R</span>:Relation) := <span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span>:X, R x y -&gt; <span class="kr">forall</span> <span class="nv">z</span>:X, R y z -&gt; R x z.</span></span><span class="coq-wsp">
</span></span><span class="coq-nc"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Parameters</span> (<span class="nv">R</span> : Relation) (<span class="nv">p</span> : Transitivity R).</span></span><span class="coq-wsp">
</span></span><span class="coq-nc"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Arguments</span> p : <span class="kn">default implicits</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-nc"><span class="highlight">
</span></span><span class="coq-sentence"><input checked="checked" class="coq-toggle" id="gallina-extensions-rst-chk2c" style="display: none" type="checkbox"><label class="coq-input" for="gallina-extensions-rst-chk2c"><span class="highlight"><span class="kn">Print</span> p.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-responses"><blockquote class="coq-response"><span class="highlight">*** [ p : Transitivity R ]

Expanded type <span class="kr">for</span> implicit arguments
p :
<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : X, R x y -&gt; <span class="kr">forall</span> <span class="nv">z</span> : X, R y z -&gt; R x z

<span class="kn">Arguments</span> x, y, z are implicit</span></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-nc"><span class="highlight">
</span></span><span class="coq-sentence"><input checked="checked" class="coq-toggle" id="gallina-extensions-rst-chk2d" style="display: none" type="checkbox"><label class="coq-input" for="gallina-extensions-rst-chk2d"><span class="highlight"><span class="kn">Print Implicit</span> p.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-responses"><blockquote class="coq-response"><span class="highlight">p :
<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : X, R x y -&gt; <span class="kr">forall</span> <span class="nv">z</span> : X, R y z -&gt; R x z

<span class="kn">Arguments</span> x, y, z are implicit</span></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-nc"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Parameters</span> (<span class="nv">a</span> <span class="nv">b</span> <span class="nv">c</span> : X) (<span class="nv">r1</span> : R a b) (<span class="nv">r2</span> : R b c).</span></span><span class="coq-wsp">
</span></span><span class="coq-nc"><span class="highlight">
</span></span><span class="coq-sentence"><input checked="checked" class="coq-toggle" id="gallina-extensions-rst-chk2e" style="display: none" type="checkbox"><label class="coq-input" for="gallina-extensions-rst-chk2e"><span class="highlight"><span class="kn">Check</span> (p r1 r2).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-responses"><blockquote class="coq-response"><span class="highlight">p r1 r2
     : R a c</span></blockquote></div></div></small></span></pre></div></div>
<div class="section" id="mode-for-automatic-declaration-of-implicit-arguments">
<h3>Mode for automatic declaration of implicit arguments<a class="headerlink" href="#mode-for-automatic-declaration-of-implicit-arguments" title="Permalink to this headline">¶</a></h3>
<dl class="coq flag">
<dt id="coq:flag.implicit-arguments">
<em class="property"><span class="sigannot">Flag</span></em> <code class="sig-name descname"><span class="notation"><span>Implicit</span> <span>Arguments</span></span></code><a class="headerlink" href="#coq:flag.implicit-arguments" title="Permalink to this definition">¶</a></dt>
<dd><p>This option (off by default) allows to systematically declare implicit
the arguments detectable as such. Auto-detection of implicit arguments is
governed by options controlling whether strict and contextual implicit
arguments have to be considered or not.</p>
</dd></dl>

</div>
<div class="section" id="controlling-strict-implicit-arguments">
<span id="controlling-strict-implicit-args"></span><h3>Controlling strict implicit arguments<a class="headerlink" href="#controlling-strict-implicit-arguments" title="Permalink to this headline">¶</a></h3>
<dl class="coq flag">
<dt id="coq:flag.strict-implicit">
<em class="property"><span class="sigannot">Flag</span></em> <code class="sig-name descname"><span class="notation"><span>Strict</span> <span>Implicit</span></span></code><a class="headerlink" href="#coq:flag.strict-implicit" title="Permalink to this definition">¶</a></dt>
<dd><p>When the mode for automatic declaration of implicit arguments is on,
the default is to automatically set implicit only the strict implicit
arguments plus, for historical reasons, a small subset of the non-strict
implicit arguments. To relax this constraint and to set
implicit all non strict implicit arguments by default, you can turn this
option off.</p>
</dd></dl>

<dl class="coq flag">
<dt id="coq:flag.strongly-strict-implicit">
<em class="property"><span class="sigannot">Flag</span></em> <code class="sig-name descname"><span class="notation"><span>Strongly</span> <span>Strict</span> <span>Implicit</span></span></code><a class="headerlink" href="#coq:flag.strongly-strict-implicit" title="Permalink to this definition">¶</a></dt>
<dd><p>Use this option (off by default) to capture exactly the strict implicit
arguments and no more than the strict implicit arguments.</p>
</dd></dl>

</div>
<div class="section" id="controlling-contextual-implicit-arguments">
<span id="controlling-contextual-implicit-args"></span><h3>Controlling contextual implicit arguments<a class="headerlink" href="#controlling-contextual-implicit-arguments" title="Permalink to this headline">¶</a></h3>
<dl class="coq flag">
<dt id="coq:flag.contextual-implicit">
<em class="property"><span class="sigannot">Flag</span></em> <code class="sig-name descname"><span class="notation"><span>Contextual</span> <span>Implicit</span></span></code><a class="headerlink" href="#coq:flag.contextual-implicit" title="Permalink to this definition">¶</a></dt>
<dd><p>By default, <span class="smallcaps">Coq</span> does not automatically set implicit the contextual
implicit arguments. You can turn this option on to tell <span class="smallcaps">Coq</span> to also
infer contextual implicit argument.</p>
</dd></dl>

</div>
<div class="section" id="controlling-reversible-pattern-implicit-arguments">
<span id="controlling-rev-pattern-implicit-args"></span><h3>Controlling reversible-pattern implicit arguments<a class="headerlink" href="#controlling-reversible-pattern-implicit-arguments" title="Permalink to this headline">¶</a></h3>
<dl class="coq flag">
<dt id="coq:flag.reversible-pattern-implicit">
<em class="property"><span class="sigannot">Flag</span></em> <code class="sig-name descname"><span class="notation"><span>Reversible</span> <span>Pattern</span> <span>Implicit</span></span></code><a class="headerlink" href="#coq:flag.reversible-pattern-implicit" title="Permalink to this definition">¶</a></dt>
<dd><p>By default, <span class="smallcaps">Coq</span> does not automatically set implicit the reversible-pattern
implicit arguments. You can turn this option on to tell <span class="smallcaps">Coq</span> to also infer
reversible-pattern implicit argument.</p>
</dd></dl>

</div>
<div class="section" id="controlling-the-insertion-of-implicit-arguments-not-followed-by-explicit-arguments">
<span id="controlling-insertion-implicit-args"></span><h3>Controlling the insertion of implicit arguments not followed by explicit arguments<a class="headerlink" href="#controlling-the-insertion-of-implicit-arguments-not-followed-by-explicit-arguments" title="Permalink to this headline">¶</a></h3>
<dl class="coq flag">
<dt id="coq:flag.maximal-implicit-insertion">
<em class="property"><span class="sigannot">Flag</span></em> <code class="sig-name descname"><span class="notation"><span>Maximal</span> <span>Implicit</span> <span>Insertion</span></span></code><a class="headerlink" href="#coq:flag.maximal-implicit-insertion" title="Permalink to this definition">¶</a></dt>
<dd><p>Assuming the implicit argument mode is on, this option (off by default)
declares implicit arguments to be automatically inserted when a
function is partially applied and the next argument of the function is
an implicit one.</p>
</dd></dl>

</div>
<div class="section" id="explicit-applications">
<span id="id8"></span><h3>Explicit applications<a class="headerlink" href="#explicit-applications" title="Permalink to this headline">¶</a></h3>
<p>In presence of non-strict or contextual argument, or in presence of
partial applications, the synthesis of implicit arguments may fail, so
one may have to give explicitly certain implicit arguments of an
application. The syntax for this is <code class="docutils literal notranslate"><span class="notation"><span><span class="pre">(</span></span><span class="hole"><span class="pre">ident</span></span> <span><span class="pre">:=</span></span> <span class="hole"><span class="pre">term</span></span><span><span class="pre">)</span></span></span></code> where <code class="xref std std-token docutils literal notranslate"><span class="pre">ident</span></code> is the
name of the implicit argument and term is its corresponding explicit
term. Alternatively, one can locally deactivate the hiding of implicit
arguments of a function by using the notation <code class="docutils literal notranslate"><span class="notation"><span class="hole"><span class="pre">qualid</span></span> <span class="repeat-wrapper"><span class="repeat"><span class="hole"><span class="pre">term</span></span></span><span class="notation-sup"><span class="pre">+</span></span></span></span></code>.
This syntax extension is given in the following grammar:</p>
<blockquote id="explicit-app-grammar">
<div><pre>
<strong id="grammar-token-explicit_apps-term"><span id="grammar-token-term"></span>term    </strong> ::=  &#64; <code class="xref docutils literal notranslate"><span class="pre">qualid</span></code> <code class="xref docutils literal notranslate"><span class="pre">term</span></code> … <code class="xref docutils literal notranslate"><span class="pre">term</span></code>
              &#64; <code class="xref docutils literal notranslate"><span class="pre">qualid</span></code>
              <code class="xref docutils literal notranslate"><span class="pre">qualid</span></code> <code class="xref docutils literal notranslate"><span class="pre">argument</span></code> … <code class="xref docutils literal notranslate"><span class="pre">argument</span></code>
<strong id="grammar-token-explicit_apps-argument"><span id="grammar-token-argument"></span>argument</strong> ::=  <code class="xref docutils literal notranslate"><span class="pre">term</span></code>
              (<code class="xref docutils literal notranslate"><span class="pre">ident</span></code> := <code class="xref docutils literal notranslate"><span class="pre">term</span></code>)
</pre>
<p>Syntax for explicitly giving implicit arguments</p>
</div></blockquote>
<div class="admonition note">
<p class="admonition-title">Example: (continued)</p>
<div class="coqtop literal-block"><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><input checked="checked" class="coq-toggle" id="gallina-extensions-rst-chk2f" style="display: none" type="checkbox"><label class="coq-input" for="gallina-extensions-rst-chk2f"><span class="highlight"><span class="kn">Check</span> (p r1 (z:=c)).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-responses"><blockquote class="coq-response"><span class="highlight">p r1 (z:=c)
     : R b c -&gt; R a c</span></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-nc"><span class="highlight">
</span></span><span class="coq-sentence"><input checked="checked" class="coq-toggle" id="gallina-extensions-rst-chk30" style="display: none" type="checkbox"><label class="coq-input" for="gallina-extensions-rst-chk30"><span class="highlight"><span class="kn">Check</span> (p (x:=a) (y:=b) r1 (z:=c) r2).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-responses"><blockquote class="coq-response"><span class="highlight">p r1 r2
     : R a c</span></blockquote></div></div></small></span></pre></div></div>
</div>
<div class="section" id="renaming-implicit-arguments">
<h3>Renaming implicit arguments<a class="headerlink" href="#renaming-implicit-arguments" title="Permalink to this headline">¶</a></h3>
<dl class="coq cmd">
<dt id="coq:cmd.arguments-rename">
<em class="property"><span class="sigannot">Command</span></em> <code class="sig-name descname"><span class="notation"><span>Arguments</span> <span class="hole">qualid</span> <span class="repeat-wrapper"><span class="repeat"><span class="hole">name</span></span><span class="notation-sup">*</span></span> <span>:</span> <span>rename</span></span></code><a class="headerlink" href="#coq:cmd.arguments-rename" title="Permalink to this definition">¶</a></dt>
<dd><p>This command is used to redefine the names of implicit arguments.</p>
</dd></dl>

<p>With the assert flag, <code class="docutils literal notranslate"><span class="pre">Arguments</span></code> can be used to assert that a given
object has the expected number of arguments and that these arguments
are named as expected.</p>
<div class="admonition note">
<p class="admonition-title">Example: (continued)</p>
<div class="coqtop literal-block"><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Arguments</span> p [s t] _ [u] _: <span class="nb">rename</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-nc"><span class="highlight">
</span></span><span class="coq-sentence"><input checked="checked" class="coq-toggle" id="gallina-extensions-rst-chk31" style="display: none" type="checkbox"><label class="coq-input" for="gallina-extensions-rst-chk31"><span class="highlight"><span class="kn">Check</span> (p r1 (u:=c)).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-responses"><blockquote class="coq-response"><span class="highlight">p r1 (u:=c)
     : R b c -&gt; R a c</span></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-nc"><span class="highlight">
</span></span><span class="coq-sentence"><input checked="checked" class="coq-toggle" id="gallina-extensions-rst-chk32" style="display: none" type="checkbox"><label class="coq-input" for="gallina-extensions-rst-chk32"><span class="highlight"><span class="kn">Check</span> (p (s:=a) (t:=b) r1 (u:=c) r2).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-responses"><blockquote class="coq-response"><span class="highlight">p r1 r2
     : R a c</span></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-nc"><span class="highlight">
</span></span><span class="coq-sentence"><input checked="checked" class="coq-toggle" id="gallina-extensions-rst-chk33" style="display: none" type="checkbox"><label class="coq-input" for="gallina-extensions-rst-chk33"><span class="highlight"><span class="kn">Fail</span> <span class="kn">Arguments</span> p [s t] _ [w] _ : <span class="nb">assert</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-responses"><blockquote class="coq-response"><span class="highlight">The command has indeed failed <span class="kr">with</span> message:
Flag <span class="s2">&quot;rename&quot;</span> expected to <span class="nb">rename</span> u <span class="nb">into</span> w.</span></blockquote></div></div></small></span></pre></div></div>
</div>
<div class="section" id="displaying-what-the-implicit-arguments-are">
<span id="displaying-implicit-args"></span><h3>Displaying what the implicit arguments are<a class="headerlink" href="#displaying-what-the-implicit-arguments-are" title="Permalink to this headline">¶</a></h3>
<dl class="coq cmd">
<dt id="coq:cmd.print-implicit">
<em class="property"><span class="sigannot">Command</span></em> <code class="sig-name descname"><span class="notation"><span>Print</span> <span>Implicit</span> <span class="hole">qualid</span></span></code><a class="headerlink" href="#coq:cmd.print-implicit" title="Permalink to this definition">¶</a></dt>
<dd><p>Use this command to display the implicit arguments associated to an object,
and to know if each of them is to be used maximally or not.</p>
</dd></dl>

</div>
<div class="section" id="explicit-displaying-of-implicit-arguments-for-pretty-printing">
<h3>Explicit displaying of implicit arguments for pretty-printing<a class="headerlink" href="#explicit-displaying-of-implicit-arguments-for-pretty-printing" title="Permalink to this headline">¶</a></h3>
<dl class="coq flag">
<dt id="coq:flag.printing-implicit">
<em class="property"><span class="sigannot">Flag</span></em> <code class="sig-name descname"><span class="notation"><span>Printing</span> <span>Implicit</span></span></code><a class="headerlink" href="#coq:flag.printing-implicit" title="Permalink to this definition">¶</a></dt>
<dd><p>By default, the basic pretty-printing rules hide the inferable implicit
arguments of an application. Turn this option on to force printing all
implicit arguments.</p>
</dd></dl>

<dl class="coq flag">
<dt id="coq:flag.printing-implicit-defensive">
<em class="property"><span class="sigannot">Flag</span></em> <code class="sig-name descname"><span class="notation"><span>Printing</span> <span>Implicit</span> <span>Defensive</span></span></code><a class="headerlink" href="#coq:flag.printing-implicit-defensive" title="Permalink to this definition">¶</a></dt>
<dd><p>By default, the basic pretty-printing rules display the implicit
arguments that are not detected as strict implicit arguments. This
“defensive” mode can quickly make the display cumbersome so this can
be deactivated by turning this option off.</p>
</dd></dl>

<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#coq:flag.printing-all" title="Printing All"><code class="xref coq coq-flag docutils literal notranslate"><span class="pre">Printing</span> <span class="pre">All</span></code></a>.</p>
</div>
</div>
<div class="section" id="interaction-with-subtyping">
<h3>Interaction with subtyping<a class="headerlink" href="#interaction-with-subtyping" title="Permalink to this headline">¶</a></h3>
<p>When an implicit argument can be inferred from the type of more than
one of the other arguments, then only the type of the first of these
arguments is taken into account, and not an upper type of all of them.
As a consequence, the inference of the implicit argument of “=” fails
in</p>
<div class="coqtop literal-block"><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><input checked="checked" class="coq-toggle" id="gallina-extensions-rst-chk34" style="display: none" type="checkbox"><label class="coq-input" for="gallina-extensions-rst-chk34"><span class="highlight"><span class="kn">Fail</span> <span class="kn">Check</span> nat = <span class="kt">Prop</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-responses"><blockquote class="coq-response"><span class="highlight">The command has indeed failed <span class="kr">with</span> message:
The term <span class="s2">&quot;Prop&quot;</span> has type <span class="s2">&quot;Type&quot;</span>
while it <span class="kr">is</span> expected to <span class="nb">have</span> type <span class="s2">&quot;Set&quot;</span>
(universe inconsistency).</span></blockquote></div></div></small></span></pre></div><p>but succeeds in</p>
<div class="coqtop literal-block"><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><input checked="checked" class="coq-toggle" id="gallina-extensions-rst-chk35" style="display: none" type="checkbox"><label class="coq-input" for="gallina-extensions-rst-chk35"><span class="highlight"><span class="kn">Check</span> <span class="kt">Prop</span> = nat.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-responses"><blockquote class="coq-response"><span class="highlight"><span class="kt">Prop</span> = nat
     : <span class="kt">Prop</span></span></blockquote></div></div></small></span></pre></div></div>
<div class="section" id="deactivation-of-implicit-arguments-for-parsing">
<h3>Deactivation of implicit arguments for parsing<a class="headerlink" href="#deactivation-of-implicit-arguments-for-parsing" title="Permalink to this headline">¶</a></h3>
<dl class="coq flag">
<dt id="coq:flag.parsing-explicit">
<em class="property"><span class="sigannot">Flag</span></em> <code class="sig-name descname"><span class="notation"><span>Parsing</span> <span>Explicit</span></span></code><a class="headerlink" href="#coq:flag.parsing-explicit" title="Permalink to this definition">¶</a></dt>
<dd><p>Turning this option on (it is off by default) deactivates the use of implicit arguments.</p>
<p>In this case, all arguments of constants, inductive types,
constructors, etc, including the arguments declared as implicit, have
to be given as if no arguments were implicit. By symmetry, this also
affects printing.</p>
</dd></dl>

</div>
<div class="section" id="canonical-structures">
<h3>Canonical structures<a class="headerlink" href="#canonical-structures" title="Permalink to this headline">¶</a></h3>
<p>A canonical structure is an instance of a record/structure type that
can be used to solve unification problems involving a projection
applied to an unknown structure instance (an implicit argument) and a
value. The complete documentation of canonical structures can be found
in <a class="reference internal" href="../addendum/canonical-structures.html#canonicalstructures"><span class="std std-ref">Canonical Structures</span></a>; here only a simple example is given.</p>
<dl class="coq cmd">
<dt id="coq:cmd.canonical">
<em class="property"><span class="sigannot">Command</span></em> <code class="sig-name descname"><span class="notation"><span>Canonical</span> <span class="repeat-wrapper"><span class="repeat"><span>Structure</span></span><span class="notation-sup">?</span></span> <span class="hole">qualid</span></span></code><a class="headerlink" href="#coq:cmd.canonical" title="Permalink to this definition">¶</a></dt>
<dd><p>This command declares <code class="xref std std-token docutils literal notranslate"><span class="pre">qualid</span></code> as a canonical instance of a
structure (a record).</p>
<p>Assume that <code class="xref std std-token docutils literal notranslate"><span class="pre">qualid</span></code> denotes an object <code class="docutils literal notranslate"><span class="pre">(Build_struct</span></code> <code class="docutils literal notranslate"><span class="pre">c</span></code><span class="math notranslate nohighlight">\(_{1}\)</span> … <code class="docutils literal notranslate"><span class="pre">c</span></code><span class="math notranslate nohighlight">\(_{n}\)</span> <code class="docutils literal notranslate"><span class="pre">)</span></code> in the
structure <code class="code highlight coq docutils literal notranslate"><span class="keyword reserved"><span class="pre">struct</span></span></code> of which the fields are <code class="docutils literal notranslate"><span class="pre">x</span></code><span class="math notranslate nohighlight">\(_{1}\)</span>, …, <code class="docutils literal notranslate"><span class="pre">x</span></code><span class="math notranslate nohighlight">\(_{n}\)</span>.
Then, each time an equation of the form <code class="docutils literal notranslate"><span class="pre">(</span></code><code class="docutils literal notranslate"><span class="pre">x</span></code><span class="math notranslate nohighlight">\(_{i}\)</span> <code class="docutils literal notranslate"><span class="pre">_)</span></code> <code class="docutils literal notranslate"><span class="pre">=</span></code><span class="math notranslate nohighlight">\(_{\beta\delta\iota\zeta}\)</span> <code class="docutils literal notranslate"><span class="pre">c</span></code><span class="math notranslate nohighlight">\(_{i}\)</span> has to be
solved during the type checking process, <code class="xref std std-token docutils literal notranslate"><span class="pre">qualid</span></code> is used as a solution.
Otherwise said, <code class="xref std std-token docutils literal notranslate"><span class="pre">qualid</span></code> is canonically used to extend the field <code class="docutils literal notranslate"><span class="pre">c</span></code><span class="math notranslate nohighlight">\(_{i}\)</span>
into a complete structure built on <code class="docutils literal notranslate"><span class="pre">c</span></code><span class="math notranslate nohighlight">\(_{i}\)</span>.</p>
<p>Canonical structures are particularly useful when mixed with coercions
and strict implicit arguments.</p>
<div class="admonition note">
<p class="admonition-title">Example</p>
<p>Here is an example.</p>
<div class="coqtop literal-block"><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Require Import</span> Relations.</span></span><span class="coq-wsp">
</span></span><span class="coq-nc"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Require Import</span> EqNat.</span></span><span class="coq-wsp">
</span></span><span class="coq-nc"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Set Implicit Arguments</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-nc"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Unset Strict Implicit</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-nc"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Structure</span> <span class="nf">Setoid</span> : <span class="kt">Type</span> := {Carrier :&gt; <span class="kt">Set</span>; Equal : relation Carrier;
                            Prf_equiv : equivalence Carrier Equal}.</span></span><span class="coq-wsp">
</span></span><span class="coq-nc"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">is_law</span> (<span class="nv">A</span> <span class="nv">B</span>:Setoid) (<span class="nv">f</span>:A -&gt; B) := <span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span>:A, Equal x y -&gt; Equal (f x) (f y).</span></span><span class="coq-wsp">
</span></span><span class="coq-nc"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Axiom</span> <span class="nv">eq_nat_equiv</span> : equivalence nat eq_nat.</span></span><span class="coq-wsp">
</span></span><span class="coq-nc"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">nat_setoid</span> : Setoid := Build_Setoid eq_nat_equiv.</span></span><span class="coq-wsp">
</span></span><span class="coq-nc"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Canonical</span> <span class="nf">nat_setoid</span>.</span></span></span></pre></div><p>Thanks to <code class="code highlight coq docutils literal notranslate"><span class="name"><span class="pre">nat_setoid</span></span></code> declared as canonical, the implicit arguments <code class="code highlight coq docutils literal notranslate"><span class="name"><span class="pre">A</span></span></code>
and <code class="code highlight coq docutils literal notranslate"><span class="name"><span class="pre">B</span></span></code> can be synthesized in the next statement.</p>
<div class="coqtop literal-block"><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><input checked="checked" class="coq-toggle" id="gallina-extensions-rst-chk36" style="display: none" type="checkbox"><label class="coq-input" for="gallina-extensions-rst-chk36"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">is_law_S</span> : is_law S.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"></div><label class="goal-separator"><hr></label><div class="goal-conclusion"><span class="highlight">is_law (A:=nat_setoid) (B:=nat_setoid) S</span></div></blockquote></div></div></small></span></pre></div></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If a same field occurs in several canonical structures, then
only the structure declared first as canonical is considered.</p>
</div>
<dl class="coq cmdv">
<dt>
<em class="property"><span class="sigannot">Variant</span></em> <code class="sig-name descname"><span class="notation"><span>Canonical</span> <span class="repeat-wrapper"><span class="repeat"><span>Structure</span></span><span class="notation-sup">?</span></span> <span class="hole">ident</span> <span class="repeat-wrapper"><span class="repeat"><span>:</span> <a class="reference internal" href="gallina-specification-language.html#grammar-token-type"><span class="hole">type</span></a></span><span class="notation-sup">?</span></span> <span>:=</span> <span class="hole">term</span></span></code></dt>
<dd><p>This is equivalent to a regular definition of <code class="xref std std-token docutils literal notranslate"><span class="pre">ident</span></code> followed by the
declaration <code class="docutils literal notranslate"><span class="notation"><span><span class="pre">Canonical</span></span> <span class="hole"><span class="pre">ident</span></span></span></code>.</p>
</dd></dl>

</dd></dl>

<dl class="coq cmd">
<dt id="coq:cmd.print-canonical-projections">
<em class="property"><span class="sigannot">Command</span></em> <code class="sig-name descname"><span class="notation"><span>Print</span> <span>Canonical</span> <span>Projections</span></span></code><a class="headerlink" href="#coq:cmd.print-canonical-projections" title="Permalink to this definition">¶</a></dt>
<dd><p>This displays the list of global names that are components of some
canonical structure. For each of them, the canonical structure of
which it is a projection is indicated.</p>
<div class="admonition note">
<p class="admonition-title">Example</p>
<p>For instance, the above example gives the following output:</p>
<div class="coqtop literal-block"><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><input checked="checked" class="coq-toggle" id="gallina-extensions-rst-chk37" style="display: none" type="checkbox"><label class="coq-input" for="gallina-extensions-rst-chk37"><span class="highlight"><span class="kn">Print Canonical Projections</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-responses"><blockquote class="coq-response"><span class="highlight">nat &lt;- Carrier ( nat_setoid )
eq_nat &lt;- Equal ( nat_setoid )
eq_nat_equiv &lt;- Prf_equiv ( nat_setoid )</span></blockquote></div></div></small></span></pre></div></div>
</dd></dl>

</div>
<div class="section" id="implicit-types-of-variables">
<h3>Implicit types of variables<a class="headerlink" href="#implicit-types-of-variables" title="Permalink to this headline">¶</a></h3>
<p>It is possible to bind variable names to a given type (e.g. in a
development using arithmetic, it may be convenient to bind the names <code class="code highlight coq docutils literal notranslate"><span class="name"><span class="pre">n</span></span></code>
or <code class="code highlight coq docutils literal notranslate"><span class="name"><span class="pre">m</span></span></code> to the type <code class="code highlight coq docutils literal notranslate"><span class="name"><span class="pre">nat</span></span></code> of natural numbers).</p>
<dl class="coq cmd">
<dt id="coq:cmd.implicit-types">
<em class="property"><span class="sigannot">Command</span></em> <code class="sig-name descname"><span class="notation"><span>Implicit</span> <span>Types</span> <span class="repeat-wrapper"><span class="repeat"><span class="hole">ident</span></span><span class="notation-sup">+</span></span> <span>:</span> <a class="reference internal" href="gallina-specification-language.html#grammar-token-type"><span class="hole">type</span></a></span></code><a class="headerlink" href="#coq:cmd.implicit-types" title="Permalink to this definition">¶</a></dt>
<dd><p>The effect of the command is to automatically set the type of bound
variables starting with <code class="xref std std-token docutils literal notranslate"><span class="pre">ident</span></code> (either <code class="xref std std-token docutils literal notranslate"><span class="pre">ident</span></code> itself or
<code class="xref std std-token docutils literal notranslate"><span class="pre">ident</span></code> followed by one or more single quotes, underscore or
digits) to be <a class="reference internal" href="gallina-specification-language.html#grammar-token-type"><code class="xref std std-token docutils literal notranslate"><span class="pre">type</span></code></a> (unless the bound variable is already declared
with an explicit type in which case, this latter type is considered).</p>
</dd></dl>

<div class="admonition note">
<p class="admonition-title">Example</p>
<div class="coqtop literal-block"><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Require Import</span> List.</span></span><span class="coq-wsp">
</span></span><span class="coq-nc"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Implicit Types</span> <span class="nv">m</span> <span class="nv">n</span> : nat.</span></span><span class="coq-wsp">
</span></span><span class="coq-nc"><span class="highlight">
</span></span><span class="coq-sentence"><input checked="checked" class="coq-toggle" id="gallina-extensions-rst-chk38" style="display: none" type="checkbox"><label class="coq-input" for="gallina-extensions-rst-chk38"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">cons_inj_nat</span> : <span class="kr">forall</span> <span class="nv">m</span> <span class="nv">n</span> <span class="nv">l</span>, n :: l = m :: l -&gt; n = m.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"></div><label class="goal-separator"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">m</span> <span class="nv">n</span> : nat) (<span class="nv">l</span> : Datatypes.list nat),
n :: l = m :: l -&gt; n = m</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input checked="checked" class="coq-toggle" id="gallina-extensions-rst-chk39" style="display: none" type="checkbox"><label class="coq-input" for="gallina-extensions-rst-chk39"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"></div><label class="goal-separator"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">m</span> <span class="nv">n</span> : nat) (<span class="nv">l</span> : Datatypes.list nat),
n :: l = m :: l -&gt; n = m</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><input checked="checked" class="coq-toggle" id="gallina-extensions-rst-chk3a" style="display: none" type="checkbox"><label class="coq-input" for="gallina-extensions-rst-chk3a"><span class="highlight"><span class="nb">intros</span> m n.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">m, n</span><span><span class="hyp-type"><span class="hyp-punct">:</span><span class="highlight">nat</span></span></span></div></div><label class="goal-separator"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">l</span> : Datatypes.list nat,
n :: l = m :: l -&gt; n = m</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Abort</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-nc"><span class="highlight">
</span></span><span class="coq-sentence"><input checked="checked" class="coq-toggle" id="gallina-extensions-rst-chk3b" style="display: none" type="checkbox"><label class="coq-input" for="gallina-extensions-rst-chk3b"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">cons_inj_bool</span> : <span class="kr">forall</span> (<span class="nv">m</span> <span class="nv">n</span>:bool) <span class="nv">l</span>, n :: l = m :: l -&gt; n = m.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"></div><label class="goal-separator"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">m</span> <span class="nv">n</span> : bool) (<span class="nv">l</span> : Datatypes.list bool),
n :: l = m :: l -&gt; n = m</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Abort</span>.</span></span></span></pre></div></div>
<dl class="coq cmdv">
<dt>
<em class="property"><span class="sigannot">Variant</span></em> <code class="sig-name descname"><span class="notation"><span>Implicit</span> <span>Type</span> <span class="hole">ident</span> <span>:</span> <a class="reference internal" href="gallina-specification-language.html#grammar-token-type"><span class="hole">type</span></a></span></code></dt>
<dd><p>This is useful for declaring the implicit type of a single variable.</p>
</dd></dl>

<dl class="coq cmdv">
<dt>
<em class="property"><span class="sigannot">Variant</span></em> <code class="sig-name descname"><span class="notation"><span>Implicit</span> <span>Types</span> <span class="repeat-wrapper"><span class="repeat"><span>(</span> <span class="repeat-wrapper"><span class="repeat"><span class="hole">ident</span></span><span class="notation-sup">+</span></span> <span>:</span> <a class="reference internal" href="gallina-specification-language.html#grammar-token-type"><span class="hole">type</span></a> <span>)</span></span><span class="notation-sup">+</span></span></span></code></dt>
<dd><p>Adds blocks of implicit types with different specifications.</p>
</dd></dl>

</div>
<div class="section" id="implicit-generalization">
<span id="id9"></span><h3>Implicit generalization<a class="headerlink" href="#implicit-generalization" title="Permalink to this headline">¶</a></h3>
<span class="target" id="index-0"></span><span class="target" id="index-1"></span><span class="target" id="index-2"></span><p id="index-3">Implicit generalization is an automatic elaboration of a statement
with free variables into a closed statement where these variables are
quantified explicitly.</p>
<p>It is activated for a binder by prefixing a `, and for terms by
surrounding it with `{ } or `( ).</p>
<p>Terms surrounded by `{ } introduce their free variables as maximally
inserted implicit arguments, and terms surrounded by `( ) introduce
them as explicit arguments.</p>
<p>Generalizing binders always introduce their free variables as
maximally inserted implicit arguments. The binder itself introduces
its argument as usual.</p>
<p>In the following statement, <code class="docutils literal notranslate"><span class="pre">A</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span></code> are automatically
generalized, <code class="docutils literal notranslate"><span class="pre">A</span></code> is implicit and <code class="docutils literal notranslate"><span class="pre">x</span></code>, <code class="docutils literal notranslate"><span class="pre">y</span></code> and the anonymous
equality argument are explicit.</p>
<div class="coqtop literal-block"><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Generalizable All Variables</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-nc"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">sym</span> `(x:A) : `(x = y -&gt; y = x) := <span class="kr">fun</span> <span class="nv">_</span> <span class="nv">p</span> =&gt; eq_sym p.</span></span><span class="coq-wsp">
</span></span><span class="coq-nc"><span class="highlight">
</span></span><span class="coq-sentence"><input checked="checked" class="coq-toggle" id="gallina-extensions-rst-chk3c" style="display: none" type="checkbox"><label class="coq-input" for="gallina-extensions-rst-chk3c"><span class="highlight"><span class="kn">Print</span> sym.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-responses"><blockquote class="coq-response"><span class="highlight">sym = 
<span class="kr">fun</span> (<span class="nv">A</span> : <span class="kt">Type</span>) (<span class="nv">x</span> <span class="nv">y</span> : A) (<span class="nv">p</span> : x = y) =&gt; eq_sym p
     : <span class="kr">forall</span> (<span class="nv">A</span> : <span class="kt">Type</span>) (<span class="nv">x</span> <span class="nv">y</span> : A), x = y -&gt; y = x

Argument A <span class="kr">is</span> implicit <span class="kn">and</span> maximally inserted
Argument scopes are [type_scope _ _ _]</span></blockquote></div></div></small></span></pre></div><p>Dually to normal binders, the name is optional but the type is required:</p>
<div class="coqtop literal-block"><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><input checked="checked" class="coq-toggle" id="gallina-extensions-rst-chk3d" style="display: none" type="checkbox"><label class="coq-input" for="gallina-extensions-rst-chk3d"><span class="highlight"><span class="kn">Check</span> (<span class="kr">forall</span> `{x = y :&gt; A}, y = x).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-responses"><blockquote class="coq-response"><span class="highlight"><span class="kr">forall</span> (<span class="nv">A</span> : <span class="kt">Type</span>) (<span class="nv">x</span> <span class="nv">y</span> : A), x = y -&gt; y = x
     : <span class="kt">Prop</span></span></blockquote></div></div></small></span></pre></div><p>When generalizing a binder whose type is a typeclass, its own class
arguments are omitted from the syntax and are generalized using
automatic names, without instance search. Other arguments are also
generalized unless provided. This produces a fully general statement.
this behaviour may be disabled by prefixing the type with a <code class="docutils literal notranslate"><span class="pre">!</span></code> or
by forcing the typeclass name to be an explicit application using
<code class="docutils literal notranslate"><span class="pre">&#64;</span></code> (however the later ignores implicit argument information).</p>
<div class="coqtop literal-block"><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Class</span> <span class="nf">Op</span> (<span class="nv">A</span>:<span class="kt">Type</span>) := op : A -&gt; A -&gt; A.</span></span><span class="coq-wsp">
</span></span><span class="coq-nc"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Class</span> <span class="nf">Commutative</span> (<span class="nv">A</span>:<span class="kt">Type</span>) `(Op A) := commutative : <span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span>, op x y = op y x.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Instance</span> <span class="nf">nat_op</span> : Op nat := plus.</span></span><span class="coq-wsp">
</span></span><span class="coq-nc"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Set Printing Implicit</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><input checked="checked" class="coq-toggle" id="gallina-extensions-rst-chk3e" style="display: none" type="checkbox"><label class="coq-input" for="gallina-extensions-rst-chk3e"><span class="highlight"><span class="kn">Check</span> (<span class="kr">forall</span> `{Commutative }, <span class="kt">True</span>).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-responses"><blockquote class="coq-response"><span class="highlight"><span class="kr">forall</span> (<span class="nv">A</span> : <span class="kt">Type</span>) (<span class="nv">H</span> : Op A), Commutative A H -&gt; <span class="kt">True</span>
     : <span class="kt">Prop</span></span></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input checked="checked" class="coq-toggle" id="gallina-extensions-rst-chk3f" style="display: none" type="checkbox"><label class="coq-input" for="gallina-extensions-rst-chk3f"><span class="highlight"><span class="kn">Check</span> (<span class="kr">forall</span> `{Commutative nat}, <span class="kt">True</span>).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-responses"><blockquote class="coq-response"><span class="highlight"><span class="kr">forall</span> <span class="nv">H</span> : Op nat, Commutative nat H -&gt; <span class="kt">True</span>
     : <span class="kt">Prop</span></span></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input checked="checked" class="coq-toggle" id="gallina-extensions-rst-chk40" style="display: none" type="checkbox"><label class="coq-input" for="gallina-extensions-rst-chk40"><span class="highlight"><span class="kn">Fail</span> <span class="kn">Check</span> (<span class="kr">forall</span> `{Commutative nat _}, <span class="kt">True</span>).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-responses"><blockquote class="coq-response"><span class="highlight">The command has indeed failed <span class="kr">with</span> message:
Typeclass does not expect more arguments</span></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input checked="checked" class="coq-toggle" id="gallina-extensions-rst-chk41" style="display: none" type="checkbox"><label class="coq-input" for="gallina-extensions-rst-chk41"><span class="highlight"><span class="kn">Fail</span> <span class="kn">Check</span> (<span class="kr">forall</span> `{!Commutative nat}, <span class="kt">True</span>).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-responses"><blockquote class="coq-response"><span class="highlight">The command has indeed failed <span class="kr">with</span> message:
The term <span class="s2">&quot;Commutative nat&quot;</span> has type <span class="s2">&quot;Op nat -&gt; Prop&quot;</span>
which should be <span class="kt">Set</span>, <span class="kt">Prop</span> or <span class="kt">Type</span>.</span></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Arguments</span> Commutative _ {_}.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><input checked="checked" class="coq-toggle" id="gallina-extensions-rst-chk42" style="display: none" type="checkbox"><label class="coq-input" for="gallina-extensions-rst-chk42"><span class="highlight"><span class="kn">Check</span> (<span class="kr">forall</span> `{!Commutative nat}, <span class="kt">True</span>).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-responses"><blockquote class="coq-response"><span class="highlight">@Commutative nat nat_op -&gt; <span class="kt">True</span>
     : <span class="kt">Prop</span></span></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input checked="checked" class="coq-toggle" id="gallina-extensions-rst-chk43" style="display: none" type="checkbox"><label class="coq-input" for="gallina-extensions-rst-chk43"><span class="highlight"><span class="kn">Check</span> (<span class="kr">forall</span> `{@Commutative nat plus}, <span class="kt">True</span>).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-responses"><blockquote class="coq-response"><span class="highlight">@Commutative nat Nat.add -&gt; <span class="kt">True</span>
     : <span class="kt">Prop</span></span></blockquote></div></div></small></span></pre></div><p>Multiple binders can be merged using <code class="docutils literal notranslate"><span class="pre">,</span></code> as a separator:</p>
<div class="coqtop literal-block"><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><input checked="checked" class="coq-toggle" id="gallina-extensions-rst-chk44" style="display: none" type="checkbox"><label class="coq-input" for="gallina-extensions-rst-chk44"><span class="highlight"><span class="kn">Check</span> (<span class="kr">forall</span> `{Commutative A, Hnat : !Commutative nat}, <span class="kt">True</span>).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-responses"><blockquote class="coq-response"><span class="highlight"><span class="kr">forall</span> (<span class="nv">A</span> : <span class="kt">Type</span>) (<span class="nv">H</span> : Op A),
@Commutative A H -&gt; @Commutative nat nat_op -&gt; <span class="kt">True</span>
     : <span class="kt">Prop</span></span></blockquote></div></div></small></span></pre></div><p>One can control the set of generalizable identifiers with
the <code class="docutils literal notranslate"><span class="pre">Generalizable</span></code> vernacular command to avoid unexpected
generalizations when mistyping identifiers. There are several commands
that specify which variables should be generalizable.</p>
<dl class="coq cmd">
<dt id="coq:cmd.generalizable-all-variables">
<em class="property"><span class="sigannot">Command</span></em> <code class="sig-name descname"><span class="notation"><span>Generalizable</span> <span>All</span> <span>Variables</span></span></code><a class="headerlink" href="#coq:cmd.generalizable-all-variables" title="Permalink to this definition">¶</a></dt>
<dd><p>All variables are candidate for
generalization if they appear free in the context under a
generalization delimiter. This may result in confusing errors in case
of typos. In such cases, the context will probably contain some
unexpected generalized variable.</p>
</dd></dl>

<dl class="coq cmd">
<dt id="coq:cmd.generalizable-no-variables">
<em class="property"><span class="sigannot">Command</span></em> <code class="sig-name descname"><span class="notation"><span>Generalizable</span> <span>No</span> <span>Variables</span></span></code><a class="headerlink" href="#coq:cmd.generalizable-no-variables" title="Permalink to this definition">¶</a></dt>
<dd><p>Disable implicit generalization  entirely. This is the default behavior.</p>
</dd></dl>

<dl class="coq cmd">
<dt id="coq:cmd.generalizable">
<em class="property"><span class="sigannot">Command</span></em> <code class="sig-name descname"><span class="notation"><span>Generalizable</span> <span class="alternative"><span class="alternative-block"><span>Variable</span></span><span class="alternative-separator">​</span><span class="alternative-block"><span>Variables</span></span></span> <span class="repeat-wrapper"><span class="repeat"><span class="hole">ident</span></span><span class="notation-sup">+</span></span></span></code><a class="headerlink" href="#coq:cmd.generalizable" title="Permalink to this definition">¶</a></dt>
<dd><p>Allow generalization of the given identifiers only. Calling this command multiple times
adds to the allowed identifiers.</p>
</dd></dl>

<dl class="coq cmd">
<dt id="coq:cmd.global-generalizable">
<em class="property"><span class="sigannot">Command</span></em> <code class="sig-name descname"><span class="notation"><span>Global</span> <span>Generalizable</span></span></code><a class="headerlink" href="#coq:cmd.global-generalizable" title="Permalink to this definition">¶</a></dt>
<dd><p>Allows exporting the choice of generalizable variables.</p>
</dd></dl>

</div>
</div>
<div class="section" id="coercions">
<span id="id10"></span><h2>Coercions<a class="headerlink" href="#coercions" title="Permalink to this headline">¶</a></h2>
<p>Coercions can be used to implicitly inject terms from one <em>class</em> in
which they reside into another one. A <em>class</em> is either a sort
(denoted by the keyword <code class="docutils literal notranslate"><span class="pre">Sortclass</span></code>), a product type (denoted by the
keyword <code class="docutils literal notranslate"><span class="pre">Funclass</span></code>), or a type constructor (denoted by its name), e.g.
an inductive type or any constant with a type of the form
<code class="docutils literal notranslate"><span class="pre">forall</span> <span class="pre">(</span></code> <code class="docutils literal notranslate"><span class="pre">x</span></code><span class="math notranslate nohighlight">\(_{1}\)</span> : <code class="docutils literal notranslate"><span class="pre">A</span></code><span class="math notranslate nohighlight">\(_{1}\)</span> ) … <code class="docutils literal notranslate"><span class="pre">(</span></code><code class="docutils literal notranslate"><span class="pre">x</span></code><span class="math notranslate nohighlight">\(_{n}\)</span> : <code class="docutils literal notranslate"><span class="pre">A</span></code><span class="math notranslate nohighlight">\(_{n}\)</span><code class="docutils literal notranslate"><span class="pre">)</span></code>, <code class="docutils literal notranslate"><span class="pre">s</span></code> where <code class="docutils literal notranslate"><span class="pre">s</span></code> is a sort.</p>
<p>Then the user is able to apply an object that is not a function, but
can be coerced to a function, and more generally to consider that a
term of type <code class="docutils literal notranslate"><span class="pre">A</span></code> is of type <code class="docutils literal notranslate"><span class="pre">B</span></code> provided that there is a declared coercion
between <code class="docutils literal notranslate"><span class="pre">A</span></code> and <code class="docutils literal notranslate"><span class="pre">B</span></code>.</p>
<p>More details and examples, and a description of the commands related
to coercions are provided in <a class="reference internal" href="../addendum/implicit-coercions.html#implicitcoercions"><span class="std std-ref">Implicit Coercions</span></a>.</p>
</div>
<div class="section" id="printing-constructions-in-full">
<span id="printing-constructions-full"></span><h2>Printing constructions in full<a class="headerlink" href="#printing-constructions-in-full" title="Permalink to this headline">¶</a></h2>
<dl class="coq flag">
<dt id="coq:flag.printing-all">
<em class="property"><span class="sigannot">Flag</span></em> <code class="sig-name descname"><span class="notation"><span>Printing</span> <span>All</span></span></code><a class="headerlink" href="#coq:flag.printing-all" title="Permalink to this definition">¶</a></dt>
<dd><p>Coercions, implicit arguments, the type of pattern matching, but also
notations (see <a class="reference internal" href="../user-extensions/syntax-extensions.html#syntaxextensionsandinterpretationscopes"><span class="std std-ref">Syntax extensions and interpretation scopes</span></a>) can obfuscate the behavior of some
tactics (typically the tactics applying to occurrences of subterms are
sensitive to the implicit arguments). Turning this option on
deactivates all high-level printing features such as coercions,
implicit arguments, returned type of pattern matching, notations and
various syntactic sugar for pattern matching or record projections.
Otherwise said, <a class="reference internal" href="#coq:flag.printing-all" title="Printing All"><code class="xref coq coq-flag docutils literal notranslate"><span class="pre">Printing</span> <span class="pre">All</span></code></a> includes the effects of the options
<a class="reference internal" href="#coq:flag.printing-implicit" title="Printing Implicit"><code class="xref coq coq-flag docutils literal notranslate"><span class="pre">Printing</span> <span class="pre">Implicit</span></code></a>, <a class="reference internal" href="../addendum/implicit-coercions.html#coq:flag.printing-coercions" title="Printing Coercions"><code class="xref coq coq-flag docutils literal notranslate"><span class="pre">Printing</span> <span class="pre">Coercions</span></code></a>, <a class="reference internal" href="#coq:flag.printing-synth" title="Printing Synth"><code class="xref coq coq-flag docutils literal notranslate"><span class="pre">Printing</span> <span class="pre">Synth</span></code></a>,
<a class="reference internal" href="#coq:flag.printing-projections" title="Printing Projections"><code class="xref coq coq-flag docutils literal notranslate"><span class="pre">Printing</span> <span class="pre">Projections</span></code></a>, and <a class="reference internal" href="../user-extensions/syntax-extensions.html#coq:flag.printing-notations" title="Printing Notations"><code class="xref coq coq-flag docutils literal notranslate"><span class="pre">Printing</span> <span class="pre">Notations</span></code></a>. To reactivate
the high-level printing features, use the command <code class="docutils literal notranslate"><span class="pre">Unset</span> <span class="pre">Printing</span> <span class="pre">All</span></code>.</p>
</dd></dl>

</div>
<div class="section" id="printing-universes">
<span id="id11"></span><h2>Printing universes<a class="headerlink" href="#printing-universes" title="Permalink to this headline">¶</a></h2>
<dl class="coq flag">
<dt id="coq:flag.printing-universes">
<em class="property"><span class="sigannot">Flag</span></em> <code class="sig-name descname"><span class="notation"><span>Printing</span> <span>Universes</span></span></code><a class="headerlink" href="#coq:flag.printing-universes" title="Permalink to this definition">¶</a></dt>
<dd><p>Turn this option on to activate the display of the actual level of each
occurrence of <code class="code highlight coq docutils literal notranslate"><span class="keyword type"><span class="pre">Type</span></span></code>. See <a class="reference internal" href="cic.html#sorts"><span class="std std-ref">Sorts</span></a> for details. This wizard option, in
combination with <a class="reference internal" href="#coq:flag.printing-all" title="Printing All"><code class="xref coq coq-flag docutils literal notranslate"><span class="pre">Printing</span> <span class="pre">All</span></code></a> can help to diagnose failures to unify
terms apparently identical but internally different in the Calculus of Inductive
Constructions.</p>
</dd></dl>

<dl class="coq cmd">
<dt id="coq:cmd.print-universes">
<em class="property"><span class="sigannot">Command</span></em> <code class="sig-name descname"><span class="notation"><span>Print</span> <span class="repeat-wrapper"><span class="repeat"><span>Sorted</span></span><span class="notation-sup">?</span></span> <span>Universes</span></span></code><a class="headerlink" href="#coq:cmd.print-universes" title="Permalink to this definition">¶</a></dt>
<dd><p>This command can be used to print the constraints on the internal level
of the occurrences of <span class="math notranslate nohighlight">\(\Type\)</span> (see <a class="reference internal" href="cic.html#sorts"><span class="std std-ref">Sorts</span></a>).</p>
<p>If the optional <code class="docutils literal notranslate"><span class="pre">Sorted</span></code> option is given, each universe will be made
equivalent to a numbered label reflecting its level (with a linear
ordering) in the universe hierarchy.</p>
<dl class="coq cmdv">
<dt>
<em class="property"><span class="sigannot">Variant</span></em> <code class="sig-name descname"><span class="notation"><span>Print</span> <span class="repeat-wrapper"><span class="repeat"><span>Sorted</span></span><span class="notation-sup">?</span></span> <span>Universes</span> <a class="reference internal" href="gallina-specification-language.html#grammar-token-string"><span class="hole">string</span></a></span></code></dt>
<dd><p>This variant accepts an optional output filename.</p>
<p>If <a class="reference internal" href="gallina-specification-language.html#grammar-token-string"><code class="xref std std-token docutils literal notranslate"><span class="pre">string</span></code></a> ends in <code class="docutils literal notranslate"><span class="pre">.dot</span></code> or <code class="docutils literal notranslate"><span class="pre">.gv</span></code>, the constraints are printed in the DOT
language, and can be processed by Graphviz tools. The format is
unspecified if <code class="docutils literal notranslate"><span class="pre">string</span></code> doesn’t end in <code class="docutils literal notranslate"><span class="pre">.dot</span></code> or <code class="docutils literal notranslate"><span class="pre">.gv</span></code>.</p>
</dd></dl>

</dd></dl>

<dl class="coq cmdv">
<dt id="coq:cmdv.print-universes-subgraph">
<em class="property"><span class="sigannot">Variant</span></em> <code class="sig-name descname"><span class="notation"><span>Print</span> <span>Universes</span> <span>Subgraph(</span><span class="repeat-wrapper"><span class="repeat"><span class="hole">qualid</span></span><span class="notation-sup">+</span></span><span>)</span></span></code><a class="headerlink" href="#coq:cmdv.print-universes-subgraph" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints the graph restricted to the requested names (adjusting
constraints to preserve the implied transitive constraints between
kept universes).</p>
</dd></dl>

</div>
<div class="section" id="existential-variables">
<span id="id12"></span><h2>Existential variables<a class="headerlink" href="#existential-variables" title="Permalink to this headline">¶</a></h2>
<p><span class="smallcaps">Coq</span> terms can include existential variables which represents unknown
subterms to eventually be replaced by actual subterms.</p>
<p>Existential variables are generated in place of unsolvable implicit
arguments or “_” placeholders when using commands such as <code class="docutils literal notranslate"><span class="pre">Check</span></code> (see
Section <a class="reference internal" href="../proof-engine/vernacular-commands.html#requests-to-the-environment"><span class="std std-ref">Requests to the environment</span></a>) or when using tactics such as
<a class="reference internal" href="../proof-engine/tactics.html#coq:tacn.refine" title="refine"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">refine</span></code></a>, as well as in place of unsolvable instances when using
tactics such that <a class="reference internal" href="../proof-engine/tactics.html#coq:tacv.eapply" title="eapply"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">eapply</span></code></a>. An existential
variable is defined in a context, which is the context of variables of
the placeholder which generated the existential variable, and a type,
which is the expected type of the placeholder.</p>
<p>As a consequence of typing constraints, existential variables can be
duplicated in such a way that they possibly appear in different
contexts than their defining context. Thus, any occurrence of a given
existential variable comes with an instance of its original context.
In the simple case, when an existential variable denotes the
placeholder which generated it, or is used in the same context as the
one in which it was generated, the context is not displayed and the
existential variable is represented by “?” followed by an identifier.</p>
<div class="coqtop literal-block"><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Parameter</span> <span class="nv">identity</span> : <span class="kr">forall</span> (<span class="nv">X</span>:<span class="kt">Set</span>), X -&gt; X.</span></span><span class="coq-wsp">
</span></span><span class="coq-nc"><span class="highlight">
</span></span><span class="coq-sentence"><input checked="checked" class="coq-toggle" id="gallina-extensions-rst-chk45" style="display: none" type="checkbox"><label class="coq-input" for="gallina-extensions-rst-chk45"><span class="highlight"><span class="kn">Check</span> identity _ _.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-responses"><blockquote class="coq-response"><span class="highlight">identity ?X ?y
     : ?X
<span class="kn">where</span>
?X : [ |- <span class="kt">Set</span>]
?y : [ |- ?X]</span></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-nc"><span class="highlight">
</span></span><span class="coq-sentence"><input checked="checked" class="coq-toggle" id="gallina-extensions-rst-chk46" style="display: none" type="checkbox"><label class="coq-input" for="gallina-extensions-rst-chk46"><span class="highlight"><span class="kn">Check</span> identity _ (<span class="kr">fun</span> <span class="nv">x</span> =&gt; _).</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-responses"><blockquote class="coq-response"><span class="highlight">identity (<span class="kr">forall</span> <span class="nv">x</span> : ?S, ?S0) (<span class="kr">fun</span> <span class="nv">x</span> : ?S =&gt; ?y)
     : <span class="kr">forall</span> <span class="nv">x</span> : ?S, ?S0
<span class="kn">where</span>
?S : [ |- <span class="kt">Set</span>]
?S0 : [x : ?S |- <span class="kt">Set</span>]
?y : [x : ?S |- ?S0]</span></blockquote></div></div></small></span></pre></div><p>In the general case, when an existential variable <code class="docutils literal notranslate"><span class="notation"><span><span class="pre">?</span></span><span class="hole"><span class="pre">ident</span></span></span></code> appears
outside of its context of definition, its instance, written under the
form <code class="docutils literal notranslate"><span class="notation"><span class="curlies"><span class="pre">{</span> <span class="repeat-wrapper"><span class="repeat"><span class="hole"><span class="pre">ident</span></span> <span><span class="pre">:=</span></span> <span class="hole"><span class="pre">term</span></span></span><span class="notation-sup"><span class="pre">*</span></span><span class="notation-sub"><span class="pre">;</span></span></span> <span class="pre">}</span></span></span></code> is appending to its name, indicating
how the variables of its defining context are instantiated.
The variables of the context of the existential variables which are
instantiated by themselves are not written, unless the flag <a class="reference internal" href="#coq:flag.printing-existential-instances" title="Printing Existential Instances"><code class="xref coq coq-flag docutils literal notranslate"><span class="pre">Printing</span> <span class="pre">Existential</span> <span class="pre">Instances</span></code></a>
is on (see Section <a class="reference internal" href="#explicit-display-existentials"><span class="std std-ref">Explicit displaying of existential instances for pretty-printing</span></a>), and this is why an
existential variable used in the same context as its context of definition is written with no instance.</p>
<div class="coqtop literal-block"><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><input checked="checked" class="coq-toggle" id="gallina-extensions-rst-chk47" style="display: none" type="checkbox"><label class="coq-input" for="gallina-extensions-rst-chk47"><span class="highlight"><span class="kn">Check</span> (<span class="kr">fun</span> <span class="nv">x</span> <span class="nv">y</span> =&gt; _) <span class="mi">0</span> <span class="mi">1</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-responses"><blockquote class="coq-response"><span class="highlight">(<span class="kr">fun</span> <span class="nv">x</span> <span class="nv">y</span> : nat =&gt; ?y) <span class="mi">0</span> <span class="mi">1</span>
     : ?T@{x:=<span class="mi">0</span>; y:=<span class="mi">1</span>}
<span class="kn">where</span>
?T : [x : nat  y : nat |- <span class="kt">Type</span>]
?y : [x : nat  y : nat |- ?T]</span></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-nc"><span class="highlight">
</span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Set Printing Existential Instances</span>.</span></span><span class="coq-wsp">
</span></span><span class="coq-nc"><span class="highlight">
</span></span><span class="coq-sentence"><input checked="checked" class="coq-toggle" id="gallina-extensions-rst-chk48" style="display: none" type="checkbox"><label class="coq-input" for="gallina-extensions-rst-chk48"><span class="highlight"><span class="kn">Check</span> (<span class="kr">fun</span> <span class="nv">x</span> <span class="nv">y</span> =&gt; _) <span class="mi">0</span> <span class="mi">1</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-responses"><blockquote class="coq-response"><span class="highlight">(<span class="kr">fun</span> <span class="nv">x</span> <span class="nv">y</span> : nat =&gt; ?y@{x:=x; y:=y}) <span class="mi">0</span> <span class="mi">1</span>
     : ?T@{x:=<span class="mi">0</span>; y:=<span class="mi">1</span>}
<span class="kn">where</span>
?T : [x : nat  y : nat |- <span class="kt">Type</span>]
?y : [x : nat  y : nat |- ?T@{x:=x; y:=y}]</span></blockquote></div></div></small></span></pre></div><p>Existential variables can be named by the user upon creation using
the syntax <code class="docutils literal notranslate"><span class="notation"><span><span class="pre">?[</span></span><span class="hole"><span class="pre">ident</span></span><span><span class="pre">]</span></span></span></code>. This is useful when the existential
variable needs to be explicitly handled later in the script (e.g.
with a named-goal selector, see <a class="reference internal" href="../proof-engine/ltac.html#goal-selectors"><span class="std std-ref">Goal selectors</span></a>).</p>
<div class="section" id="explicit-displaying-of-existential-instances-for-pretty-printing">
<span id="explicit-display-existentials"></span><h3>Explicit displaying of existential instances for pretty-printing<a class="headerlink" href="#explicit-displaying-of-existential-instances-for-pretty-printing" title="Permalink to this headline">¶</a></h3>
<dl class="coq flag">
<dt id="coq:flag.printing-existential-instances">
<em class="property"><span class="sigannot">Flag</span></em> <code class="sig-name descname"><span class="notation"><span>Printing</span> <span>Existential</span> <span>Instances</span></span></code><a class="headerlink" href="#coq:flag.printing-existential-instances" title="Permalink to this definition">¶</a></dt>
<dd><p>This option (off by default) activates the full display of how the
context of an existential variable is instantiated at each of the
occurrences of the existential variable.</p>
</dd></dl>

</div>
<div class="section" id="solving-existential-variables-using-tactics">
<span id="tactics-in-terms"></span><h3>Solving existential variables using tactics<a class="headerlink" href="#solving-existential-variables-using-tactics" title="Permalink to this headline">¶</a></h3>
<p>Instead of letting the unification engine try to solve an existential
variable by itself, one can also provide an explicit hole together
with a tactic to solve it. Using the syntax <code class="docutils literal notranslate"><span class="pre">ltac:(</span></code><code class="docutils literal notranslate"><span class="pre">tacexpr</span></code><code class="docutils literal notranslate"><span class="pre">)</span></code>, the user
can put a tactic anywhere a term is expected. The order of resolution
is not specified and is implementation-dependent. The inner tactic may
use any variable defined in its scope, including repeated alternations
between variables introduced by term binding as well as those
introduced by tactic binding. The expression <code class="docutils literal notranslate"><span class="pre">tacexpr</span></code> can be any tactic
expression as described in <a class="reference internal" href="../proof-engine/ltac.html#ltac"><span class="std std-ref">The tactic language</span></a>.</p>
<div class="coqtop literal-block"><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">foo</span> (<span class="nv">x</span> : nat) : nat := <span class="kp">ltac</span>:(<span class="bp">exact</span> x).</span></span></span></pre></div><p>This construction is useful when one wants to define complicated terms
using highly automated tactics without resorting to writing the proof-term
by means of the interactive proof engine.</p>
</div>
</div>
<div class="section" id="primitive-integers">
<span id="id13"></span><h2>Primitive Integers<a class="headerlink" href="#primitive-integers" title="Permalink to this headline">¶</a></h2>
<p>The language of terms features 63-bit machine integers as values. The type of
such a value is <em>axiomatized</em>; it is declared through the following sentence
(excerpt from the <code class="code highlight coq docutils literal notranslate"><span class="name"><span class="pre">Int63</span></span></code> module):</p>
<div class="highlight-coq notranslate"><div class="highlight"><pre><span></span><span class="kn">Primitive</span> <span class="nf">int</span> <span class="o">:=</span> <span class="o">#</span><span class="n">int63_type</span><span class="o">.</span>
</pre></div>
</div>
<p>This type is equipped with a few operators, that must be similarly declared.
For instance, equality of two primitive integers can be decided using the <code class="code highlight coq docutils literal notranslate"><span class="name"><span class="pre">Int63</span></span><span class="operator"><span class="pre">.</span></span><span class="name"><span class="pre">eqb</span></span></code> function,
declared and specified as follows:</p>
<div class="highlight-coq notranslate"><div class="highlight"><pre><span></span><span class="kn">Primitive</span> <span class="nf">eqb</span> <span class="o">:=</span> <span class="o">#</span><span class="n">int63_eq</span><span class="o">.</span>
<span class="kn">Notation</span> <span class="s2">&quot;m &#39;==&#39; n&quot;</span> <span class="o">:=</span> <span class="o">(</span><span class="n">eqb</span> <span class="n">m</span> <span class="n">n</span><span class="o">)</span> <span class="o">(</span><span class="kn">at level</span> <span class="mi">70</span><span class="o">,</span> <span class="kn">no associativity</span><span class="o">)</span> <span class="o">:</span> <span class="n">int63_scope</span><span class="o">.</span>

<span class="kn">Axiom</span> <span class="nv">eqb_correct</span> <span class="o">:</span> <span class="kr">forall</span> <span class="nv">i</span> <span class="nv">j</span><span class="o">,</span> <span class="o">(</span><span class="n">i</span> <span class="o">==</span> <span class="n">j</span><span class="o">)%</span><span class="n">int63</span> <span class="o">=</span> <span class="n">true</span> <span class="o">-&gt;</span> <span class="n">i</span> <span class="o">=</span> <span class="n">j</span><span class="o">.</span>
</pre></div>
</div>
<p>The complete set of such operators can be obtained looking at the <code class="code highlight coq docutils literal notranslate"><span class="name"><span class="pre">Int63</span></span></code> module.</p>
<p>These primitive declarations are regular axioms. As such, they must be trusted and are listed by the
<code class="code highlight coq docutils literal notranslate"><span class="keyword namespace"><span class="pre">Print</span> <span class="pre">Assumptions</span></span></code> command, as in the following example.</p>
<div class="coqtop literal-block"><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">From</span> Coq <span class="kn">Require Import</span> Int63.</span></span><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="gallina-extensions-rst-chk49" style="display: none" type="checkbox"><label class="coq-input" for="gallina-extensions-rst-chk49"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">one_minus_one_is_zero</span> : (<span class="mi">1</span> - <span class="mi">1</span> = <span class="mi">0</span>)%int63.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"></div><label class="goal-separator"><hr></label><div class="goal-conclusion"><span class="highlight">(<span class="mi">1</span> - <span class="mi">1</span>)%int63 = <span class="mi">0</span>%int63</span></div></blockquote></div></div></small><span class="coq-wsp">
</span></span><span class="coq-sentence"><input class="coq-toggle" id="gallina-extensions-rst-chk4a" style="display: none" type="checkbox"><label class="coq-input" for="gallina-extensions-rst-chk4a"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-goals"><blockquote class="coq-goal"><div class="goal-hyps"></div><label class="goal-separator"><hr></label><div class="goal-conclusion"><span class="highlight">(<span class="mi">1</span> - <span class="mi">1</span>)%int63 = <span class="mi">0</span>%int63</span></div></blockquote></div></div></small><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="nb">apply</span> eqb_correct; <span class="nb">vm_compute</span>; <span class="bp">reflexivity</span>.</span></span><span class="coq-wsp"> </span></span><span class="coq-sentence"><span class="coq-input"><span class="highlight"><span class="kn">Qed</span>.</span></span></span></pre></div><div class="coqtop literal-block"><pre class="alectryon-io"><!-- Generator: Alectryon v0.2 --><span class="coq-sentence"><input checked="checked" class="coq-toggle" id="gallina-extensions-rst-chk4b" style="display: none" type="checkbox"><label class="coq-input" for="gallina-extensions-rst-chk4b"><span class="highlight"><span class="kn">Print Assumptions</span> one_minus_one_is_zero.</span></label><small class="coq-output"><div class="coq-output-sticky-wrapper"><div class="coq-responses"><blockquote class="coq-response"><span class="highlight"><span class="kn">Axioms</span>:
sub : int -&gt; int -&gt; int
eqb_correct : <span class="kr">forall</span> <span class="nv">i</span> <span class="nv">j</span> : int,
              (i == j)%int63 = true -&gt; i = j
eqb : int -&gt; int -&gt; bool</span></blockquote></div></div></small></span></pre></div><p>The reduction machines (<a class="reference internal" href="../proof-engine/tactics.html#coq:tacv.vm-compute" title="vm_compute"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">vm_compute</span></code></a>, <a class="reference internal" href="../proof-engine/tactics.html#coq:tacv.native-compute" title="native_compute"><code class="xref coq coq-tacn docutils literal notranslate"><span class="pre">native_compute</span></code></a>) implement
dedicated, efficient, rules to reduce the applications of these primitive
operations.</p>
<p>The extraction of these primitives can be customized similarly to the extraction
of regular axioms (see <a class="reference internal" href="../addendum/extraction.html#extraction"><span class="std std-ref">Extraction of programs in OCaml and Haskell</span></a>). Nonetheless, the <code class="code highlight coq docutils literal notranslate"><span class="name"><span class="pre">ExtrOCamlInt63</span></span></code>
module can be used when extracting to OCaml: it maps the Coq primitives to types
and functions of a <code class="code highlight coq docutils literal notranslate"><span class="name"><span class="pre">Uint63</span></span></code> module. Said OCaml module is not produced by
extraction. Instead, it has to be provided by the user (if they want to compile
or execute the extracted code). For instance, an implementation of this module
can be taken from the kernel of Coq.</p>
<p>Literal values (at type <code class="code highlight coq docutils literal notranslate"><span class="name"><span class="pre">Int63</span></span><span class="operator"><span class="pre">.</span></span><span class="name"><span class="pre">int</span></span></code>) are extracted to literal OCaml values
wrapped into the <code class="code highlight coq docutils literal notranslate"><span class="name"><span class="pre">Uint63</span></span><span class="operator"><span class="pre">.</span></span><span class="name"><span class="pre">of_int</span></span></code> (resp. <code class="code highlight coq docutils literal notranslate"><span class="name"><span class="pre">Uint63</span></span><span class="operator"><span class="pre">.</span></span><span class="name"><span class="pre">of_int64</span></span></code>) constructor on
64-bit (resp. 32-bit) platforms. Currently, this cannot be customized (see the
function <code class="code highlight coq docutils literal notranslate"><span class="name"><span class="pre">Uint63</span></span><span class="operator"><span class="pre">.</span></span><span class="name"><span class="pre">compile</span></span></code> from the kernel).</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="coq-library.html" class="btn btn-neutral float-right" title="The Coq library" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="gallina-specification-language.html" class="btn btn-neutral float-left" title="The Gallina specification language" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 1999-2018, Inria

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>